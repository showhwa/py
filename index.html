<!DOCTYPE html><!--[if IE]>  <html class="ie"> <![endif]-->
<html>
	<head>
		<meta charset="utf-8" />
		<title>
		</title>
		<link rel="stylesheet" type="text/css" href="060615404149_files/style.css" />
	</head>
	<body>
		<div class="stl_02">
			<div class="stl_03">
				<object data="060615404149_files/img_02.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.5em; height:56.75em;">
					<embed src="060615404149_files/img_02.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_04.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_04.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:9.9243em; left:18.25em;"><span class="stl_08 stl_09 stl_10">හਁᇇ๦्ก &nbsp;</span></div>
					<div class="stl_01" style="top:16.7107em; left:18em;"><span class="stl_11 stl_12 stl_10">图灵社区的电子书没有采用专有客 &nbsp;</span></div>
					<div class="stl_01" style="top:18.8773em; left:18em;"><span class="stl_11 stl_12 stl_10">户端，您可以在任意设备上，用自 &nbsp;</span></div>
					<div class="stl_01" style="top:20.96em; left:18em;"><span class="stl_11 stl_12 stl_10">己喜欢的浏览器和PDF阅读器进行 &nbsp;</span></div>
					<div class="stl_01" style="top:23.1267em; left:18em;"><span class="stl_11 stl_12 stl_10">阅读。 &nbsp;</span></div>
					<div class="stl_01" style="top:25.8773em; left:18em;"><span class="stl_11 stl_12 stl_13">但您购买的电子书仅供您个人使用， &nbsp;</span></div>
					<div class="stl_01" style="top:28.044em; left:18em;"><span class="stl_11 stl_12 stl_10">未经授权，不得进行传播。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.8773em; left:18em;"><span class="stl_11 stl_12 stl_10">我们愿意相信读者具有这样的良知 &nbsp;</span></div>
					<div class="stl_01" style="top:32.96em; left:18em;"><span class="stl_11 stl_12 stl_14">和觉悟，与我们共同保护知识产权。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.8773em; left:18em;"><span class="stl_11 stl_12 stl_10">如果购买者有侵权行为，我们可能 &nbsp;</span></div>
					<div class="stl_01" style="top:40.044em; left:18em;"><span class="stl_11 stl_12 stl_10">对该用户实施包括但不限于关闭该 &nbsp;</span></div>
					<div class="stl_01" style="top:42.2107em; left:18em;"><span class="stl_11 stl_12 stl_10">帐号等维权措施，并可能追究法律 &nbsp;</span></div>
					<div class="stl_01" style="top:44.2933em; left:18em;"><span class="stl_11 stl_12 stl_10">责任。 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_06.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_06.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_08.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_08.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:5.2409em; left:11.2008em;"><span class="stl_15 stl_16 stl_10" style="word-spacing:0.12em;">图 灵 程 序 设 计 丛 书 &nbsp;</span></div>
					<div class="stl_01" style="top:11.1985em; left:13.4932em;"><sub><span class="stl_17 stl_18 stl_10">P</span></sub><sub><span class="stl_17 stl_18 stl_10">y</span></sub><sub><span class="stl_17 stl_18 stl_10">t</span></sub><sub><span class="stl_17 stl_18 stl_10">h</span></sub><sub><span class="stl_17 stl_18 stl_10">o</span></sub><sub><span class="stl_17 stl_18 stl_10">n</span></sub><span class="stl_19 stl_20 stl_10">网络数据采集 &nbsp;</span></div>
					<div class="stl_01" style="top:15.0789em; left:18.6907em;"><span class="stl_21 stl_22 stl_23" style="word-spacing:0.0179em;">Web Scraping with Python &nbsp;</span></div>
					<div class="stl_01" style="top:17.3705em; left:19.5207em;"><span class="stl_24 stl_22 stl_25" style="word-spacing:0.0158em;">Collecting Data from the Modern Web &nbsp;</span></div>
					<div class="stl_01 stl_26" style="top:21.8558em; left:28.7269em;"><span class="stl_27 stl_20 stl_10">[</span></div>
					<div class="stl_01 stl_28" style="top:21.6536em; left:28.9688em;"><span class="stl_27 stl_20 stl_29" style="word-spacing:0.0054em;">美］</span><span class="stl_30 stl_22 stl_31" style="word-spacing:0.0051em;">Ryan Mitchell &nbsp;</span></div>
					<div class="stl_01 stl_32" style="top:23.3866em; left:30.2346em;"><span class="stl_33 stl_20 stl_34">陶俊杰ꢀ陈小莉 &nbsp;</span></div>
					<div class="stl_01 stl_26" style="top:21.8558em; left:36.8578em;"><span class="stl_27 stl_20 stl_10">著</span></div>
					<div class="stl_01 stl_32" style="top:23.3558em; left:36.8578em;"><span class="stl_27 stl_20 stl_10">译</span></div>
					<div class="stl_01" style="top:42.5851em; left:16.7547em;"><span class="stl_35 stl_36 stl_31" style="word-spacing:0.005em;">Beijing • Cambridge • Farnham • Köln • Sebastopol • Tokyo &nbsp;</span></div>
					<div class="stl_01" style="top:44.0026em; left:20.8803em;"><span class="stl_37 stl_36 stl_10" style="word-spacing:0em;">O’Reilly Media, Inc.</span><span class="stl_38 stl_39 stl_10" style="word-spacing:0em;">授权人民邮电出版社出版 &nbsp;</span></div>
					<div class="stl_01" style="top:48.276em; left:16.8964em;"><span class="stl_40 stl_41 stl_10" style="word-spacing:0.1em;">人 民 邮 电 出 版 社 &nbsp;</span></div>
					<div class="stl_01 stl_42" style="top:49.8615em; left:20.0547em;"><span class="stl_43 stl_44 stl_10">北</span><span class="stl_45 stl_44 stl_10">ꢀꢀ</span><span class="stl_43 stl_44 stl_10">京 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_09.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_09.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:20.6187em; left:18.7818em;"><span class="stl_46 stl_47 stl_10" style="word-spacing:0.2767em;">内 容 提 要 &nbsp;</span></div>
					<div class="stl_01" style="top:22.2686em; left:7.2047em;"><span class="stl_48 stl_49 stl_50" style="word-spacing:0.0294em;">本书采用简洁强大的 </span><span class="stl_51 stl_52 stl_50" style="word-spacing:0.0294em;">Python</span><span class="stl_48 stl_49 stl_50" style="word-spacing:0.0104em;"> 语言，介绍了网络数据采集，并为采集新式网络中的各种数据类 &nbsp;</span></div>
					<div class="stl_01" style="top:23.3936em; left:5.6693em;"><span class="stl_48 stl_49 stl_53" style="word-spacing:-0.0238em;">型提供了全面的指导。第一部分重点介绍网络数据采集的基本原理 ：如何用</span><span class="stl_51 stl_52 stl_53" style="word-spacing:0.0222em;"> Python</span><span class="stl_48 stl_49 stl_53" style="word-spacing:0.0552em;"> 从网络服务器 &nbsp;</span></div>
					<div class="stl_01" style="top:24.5922em; left:5.6693em;"><span class="stl_48 stl_49 stl_54">请求信息，如何对服务器的响应进行基本处理，以及如何以自动化手段与网站进行交互。第二部 &nbsp;</span></div>
					<div class="stl_01" style="top:25.7172em; left:5.6693em;"><span class="stl_48 stl_49 stl_55">分介绍如何用网络爬虫测试网站，自动化处理，以及如何通过更多的方式接入网络。 &nbsp;</span></div>
					<div class="stl_01" style="top:26.7686em; left:7.2047em;"><span class="stl_48 stl_49 stl_56" style="word-spacing:0.0454em;">本书适合需要采集 </span><span class="stl_51 stl_52 stl_56" style="word-spacing:0.0454em;">Web</span><span class="stl_48 stl_49 stl_56" style="word-spacing:0.0734em;"> 数据的相关软件开发人员和研究人员阅读。 &nbsp;</span></div>
					<div class="stl_01 stl_57" style="top:31.8464em; left:11.4203em;"><span class="stl_58 stl_44 stl_10">◆</span></div>
					<div class="stl_01" style="top:31.5908em; left:12.4278em;"><span class="stl_48 stl_49 stl_10" style="word-spacing:0.2499em;">著ꢀꢀꢀꢀ</span><span class="stl_51 stl_52 stl_10" style="word-spacing:0.2499em;">[</span><span class="stl_48 stl_49 stl_10" style="word-spacing:0.2499em;">美</span><span class="stl_51 stl_52 stl_10" style="word-spacing:0.2499em;">] Ryan</span><span class="stl_51 stl_52 stl_10" style="word-spacing:-0.0001em;"> Mitchell &nbsp;</span></div>
					<div class="stl_01" style="top:32.7054em; left:12.4278em;"><span class="stl_48 stl_49 stl_10">译ꢀꢀꢀꢀ陶俊杰ꢀ陈小莉 &nbsp;</span></div>
					<div class="stl_01" style="top:33.7471em; left:12.4278em;"><span class="stl_48 stl_49 stl_10">责任编辑ꢀ岳新欣 &nbsp;</span></div>
					<div class="stl_01" style="top:34.7889em; left:12.4278em;"><span class="stl_48 stl_49 stl_10">执行编辑ꢀ李ꢀ敏 &nbsp;</span></div>
					<div class="stl_01" style="top:35.8306em; left:12.4278em;"><span class="stl_48 stl_49 stl_10">责任印制ꢀ杨林杰 &nbsp;</span></div>
					<div class="stl_01 stl_57" style="top:37.1437em; left:11.4203em;"><span class="stl_58 stl_44 stl_10">◆</span></div>
					<div class="stl_01 stl_59" style="top:41.6597em; left:11.4203em;"><span class="stl_58 stl_44 stl_10">◆</span></div>
					<div class="stl_01" style="top:36.9901em; left:12.4278em;"><span class="stl_48 stl_49 stl_10">人民邮电出版社出版发行ꢀꢀ</span><span class="stl_60 stl_49 stl_10">北京市丰台区成寿寺路</span><span class="stl_61 stl_52 stl_10">11</span><span class="stl_60 stl_49 stl_10">号 &nbsp;</span></div>
					<div class="stl_01" style="top:38.1163em; left:12.4282em;"><span class="stl_60 stl_49 stl_10">邮编ꢀ</span><span class="stl_61 stl_52 stl_10">100164</span><span class="stl_60 stl_49 stl_10">ꢀꢀ电子邮件ꢀ</span><span class="stl_61 stl_52 stl_10">315@ptpress.com.cn &nbsp;</span></div>
					<div class="stl_01" style="top:39.1579em; left:12.4282em;"><span class="stl_60 stl_49 stl_10">网址ꢀ</span><span class="stl_61 stl_52 stl_10">http://www.ptpress.com.cn &nbsp;</span></div>
					<div class="stl_01" style="top:40.1987em; left:12.4282em;"><span class="stl_48 stl_49 stl_10">北京ꢀꢀꢀꢀꢀꢀ</span><span class="stl_62 stl_49 stl_10">印刷 &nbsp;</span></div>
					<div class="stl_01" style="top:41.4778em; left:12.4282em;"><span class="stl_60 stl_49 stl_10">开本：</span><span class="stl_61 stl_52 stl_10">800</span><span class="stl_60 stl_49 stl_10">×</span><span class="stl_61 stl_52 stl_10">1000</span><span class="stl_60 stl_49 stl_10">ꢀ</span><span class="stl_61 stl_52 stl_10">1/16 &nbsp;</span></div>
					<div class="stl_01" style="top:42.5192em; left:12.4282em;"><span class="stl_60 stl_49 stl_10">印张：</span><span class="stl_61 stl_52 stl_10">13.5 &nbsp;</span></div>
					<div class="stl_01" style="top:43.5612em; left:12.4282em;"><span class="stl_60 stl_49 stl_10">字数：</span><span class="stl_61 stl_52 stl_10">280</span><span class="stl_60 stl_49 stl_10">千字 &nbsp;</span></div>
					<div class="stl_01" style="top:44.6025em; left:12.4282em;"><span class="stl_60 stl_49 stl_10" style="word-spacing:0.75em;">印数：</span><span class="stl_61 stl_52 stl_10" style="word-spacing:0.75em;">1 4</span><span class="stl_61 stl_52 stl_10" style="word-spacing:0.75em;"> 000</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0.75em;">册 &nbsp;</span></div>
					<div class="stl_01" style="top:43.5612em; left:22.5115em;"><span class="stl_61 stl_52 stl_10" style="word-spacing:-0.045em;">2016</span><span class="stl_60 stl_49 stl_10" style="word-spacing:-0.045em;">年 </span><span class="stl_61 stl_52 stl_10" style="word-spacing:-0.045em;">3 </span><span class="stl_60 stl_49 stl_10" style="word-spacing:-0.045em;">月第 </span><span class="stl_61 stl_52 stl_10" style="word-spacing:-0.045em;">1 </span><span class="stl_60 stl_49 stl_10" style="word-spacing:-0.045em;">版 &nbsp;</span></div>
					<div class="stl_01 stl_63" style="top:44.8685em; left:14.9282em;"><span class="stl_64 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:44.6028em; left:22.5115em;"><span class="stl_61 stl_52 stl_10" style="word-spacing:-0.03em;">2016</span><span class="stl_60 stl_49 stl_10" style="word-spacing:-0.03em;">年 </span><span class="stl_61 stl_52 stl_10" style="word-spacing:-0.03em;">3 </span><span class="stl_60 stl_49 stl_10" style="word-spacing:-0.03em;">月北京第 </span><span class="stl_61 stl_52 stl_10" style="word-spacing:-0.03em;">1</span><span class="stl_60 stl_49 stl_10" style="word-spacing:-0.03em;">次印刷 &nbsp;</span></div>
					<div class="stl_01" style="top:45.5697em; left:15.0559em;"><span class="stl_48 stl_49 stl_10" style="word-spacing:0.75em;">著作权合同登记号 图字：</span><span class="stl_51 stl_52 stl_10" style="word-spacing:0.75em;">01-2015-8108</span><span class="stl_48 stl_49 stl_10" style="word-spacing:0.75em;">号 &nbsp;</span></div>
					<div class="stl_01" style="top:47.058em; left:18.9161em;"><span class="stl_48 stl_49 stl_10">定价：</span><span class="stl_51 stl_52 stl_10">59.00</span><span class="stl_48 stl_49 stl_10">元 &nbsp;</span></div>
					<div class="stl_01" style="top:48.0994em; left:10.5678em;"><span class="stl_65 stl_47 stl_66">读者服务热线：</span><span class="stl_67 stl_36 stl_66">(010)51095186</span><span class="stl_65 stl_47 stl_66">转</span><span class="stl_67 stl_36 stl_66">600</span><span class="stl_65 stl_47 stl_66">ꢀ印装质量热线：</span><span class="stl_67 stl_36 stl_66">(010)81055316 &nbsp;</span></div>
					<div class="stl_01" style="top:49.1412em; left:16.6301em;"><span class="stl_65 stl_47 stl_68">反盗版热线：</span><span class="stl_67 stl_36 stl_68">(010)81055315 &nbsp;</span></div>
					<div class="stl_01" style="top:50.1829em; left:14.2436em;"><span class="stl_65 stl_47 stl_68" style="word-spacing:-0.0137em;">广告经营许可证：京崇工商广字第 </span><span class="stl_67 stl_36 stl_68" style="word-spacing:-0.0137em;">0021 </span><span class="stl_65 stl_47 stl_68" style="word-spacing:-0.0137em;">号 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_10.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_10.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01 stl_69" style="top:8.0619em; left:29.6453em;"><span class="stl_70 stl_20 stl_71">版权声明 &nbsp;</span></div>
					<div class="stl_01" style="top:21.8504em; left:6.6142em;"><span class="stl_72 stl_52 stl_10">©</span></div>
					<div class="stl_01" style="top:21.8504em; left:7.4558em;"><span class="stl_72 stl_52 stl_73" style="word-spacing:-0.0001em;">2015 by Ryan Mitchell. &nbsp;</span></div>
					<div class="stl_01" style="top:23.8043em; left:6.6142em;"><span class="stl_72 stl_52 stl_73" style="word-spacing:0.0556em;">Simpli</span><span class="stl_74 stl_52 stl_73" style="word-spacing:0.0556em;">ﬁ</span><span class="stl_72 stl_52 stl_73" style="word-spacing:0.0556em;">ed Chinese Edition, jointly published by O’Reilly Media, Inc. and Posts &amp; Telecom &nbsp;</span></div>
					<div class="stl_01" style="top:25.1043em; left:6.6142em;"><span class="stl_72 stl_52 stl_75" style="word-spacing:0.1259em;">Press, 2016. Authorized translation of the English edition, 2015 O’Reilly Media, Inc., the &nbsp;</span></div>
					<div class="stl_01" style="top:26.4118em; left:6.6142em;"><span class="stl_72 stl_52 stl_73" style="word-spacing:-0.0001em;">owner of all rights to publish and sell the same. &nbsp;</span></div>
					<div class="stl_01" style="top:28.3735em; left:6.6142em;"><span class="stl_72 stl_52 stl_73" style="word-spacing:-0.0001em;">All rights reserved including the rights of reproduction in whole or in part in any form. &nbsp;</span></div>
					<div class="stl_01" style="top:30.2927em; left:6.6142em;"><span class="stl_76 stl_49 stl_10" style="word-spacing:-0.0003em;">英文原版由 </span><span class="stl_72 stl_52 stl_10" style="word-spacing:-0.0003em;">O’Reilly Media, Inc. </span><span class="stl_76 stl_49 stl_10" style="word-spacing:-0.0003em;">出版，</span><span class="stl_72 stl_52 stl_10" style="word-spacing:-0.0003em;">2015</span><span class="stl_76 stl_49 stl_10" style="word-spacing:-0.0003em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.2543em; left:6.6142em;"><span class="stl_76 stl_49 stl_77" style="word-spacing:0.0967em;">简体中文版由人民邮电出版社出版，</span><span class="stl_72 stl_52 stl_77" style="word-spacing:0.0967em;">2016</span><span class="stl_76 stl_49 stl_77" style="word-spacing:0.0967em;">。英文原版的翻译得到 </span><span class="stl_72 stl_52 stl_77" style="word-spacing:0.0967em;">O’Reilly Media, Inc.</span><span class="stl_76 stl_49 stl_77" style="word-spacing:0.0967em;"> 的 &nbsp;</span></div>
					<div class="stl_01" style="top:33.5547em; left:6.6143em;"><span class="stl_76 stl_49 stl_78" style="word-spacing:0.1114em;">授权。此简体中文版的出版和销售得到出版权和销售权的所有者——</span><span class="stl_72 stl_52 stl_78" style="word-spacing:0.1114em;">O’Reilly Media, Inc. &nbsp;</span></div>
					<div class="stl_01" style="top:34.9365em; left:6.6143em;"><span class="stl_76 stl_49 stl_10">的许可。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.8981em; left:6.6143em;"><span class="stl_76 stl_49 stl_10">版权所有，未得书面许可，本书的任何部分和全部不得以任何形式重制。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.0689em; left:37.2084em;"><span class="stl_79 stl_22 stl_10">iii &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_11.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_11.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01 stl_80" style="top:7.8649em; left:14.5742em;"><span class="stl_81 stl_82 stl_75" style="word-spacing:-0.0028em;">O’Reilly Media, Inc.</span><sup><span class="stl_70 stl_20 stl_75" style="word-spacing:-0.0028em;">介</span></sup><sup><span class="stl_70 stl_20 stl_75" style="word-spacing:-0.0028em;">绍 &nbsp;</span></sup></div>
					<div class="stl_01" style="top:12.0115em; left:5.6706em;"><span class="stl_72 stl_52 stl_83" style="word-spacing:0.0627em;">O’Reilly Media</span><span class="stl_76 stl_49 stl_83" style="word-spacing:-0.0491em;"> 通过图书、杂志、在线服务、调查研究和会议等方式传播创新知识。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.3115em; left:5.6708em;"><span class="stl_76 stl_49 stl_84" style="word-spacing:-0.0063em;">自 </span><span class="stl_72 stl_52 stl_84" style="word-spacing:-0.0063em;">1978 </span><span class="stl_76 stl_49 stl_84" style="word-spacing:-0.0063em;">年开始，</span><span class="stl_72 stl_52 stl_84" style="word-spacing:-0.0063em;">O’Reilly </span><span class="stl_76 stl_49 stl_84" style="word-spacing:-0.0063em;">一直都是前沿发展的见证者和推动者。超级极客们正在开创 &nbsp;</span></div>
					<div class="stl_01" style="top:14.6933em; left:5.6705em;"><span class="stl_76 stl_49 stl_85">着未来，而我们关注真正重要的技术趋势——通过放大那些“细微的信号”来刺激社 &nbsp;</span></div>
					<div class="stl_01" style="top:15.9115em; left:5.6705em;"><span class="stl_76 stl_49 stl_86" style="word-spacing:-0.0291em;">会对新科技的应用。作为技术社区中活跃的参与者，</span><span class="stl_72 stl_52 stl_86" style="word-spacing:-0.0291em;">O’Reilly </span><span class="stl_76 stl_49 stl_86" style="word-spacing:-0.0291em;">的发展充满了对创新的 &nbsp;</span></div>
					<div class="stl_01" style="top:17.2933em; left:5.6706em;"><span class="stl_76 stl_49 stl_10">倡导、创造和发扬光大。 &nbsp;</span></div>
					<div class="stl_01" style="top:19.1729em; left:5.6706em;"><span class="stl_72 stl_52 stl_87" style="word-spacing:0.0233em;">O’Reilly </span><span class="stl_76 stl_49 stl_87" style="word-spacing:0.0233em;">为软件开发人员带来革命性的“动物书”；创建第一个商业网站（</span><span class="stl_72 stl_52 stl_87" style="word-spacing:0.0233em;">GNN</span><span class="stl_76 stl_49 stl_87" style="word-spacing:0.0233em;">）；组 &nbsp;</span></div>
					<div class="stl_01" style="top:20.4729em; left:5.6708em;"><span class="stl_76 stl_49 stl_88" style="word-spacing:-0.0072em;">织了影响深远的开放源代码峰会，以至于开源软件运动以此命名；创立了 </span><span class="stl_72 stl_52 stl_88" style="word-spacing:-0.0072em;">Make </span><span class="stl_76 stl_49 stl_88" style="word-spacing:-0.0072em;">杂志， &nbsp;</span></div>
					<div class="stl_01" style="top:21.7729em; left:5.6706em;"><span class="stl_76 stl_49 stl_89" style="word-spacing:-0.0305em;">从而成为 </span><span class="stl_72 stl_52 stl_89" style="word-spacing:-0.0305em;">DIY </span><span class="stl_76 stl_49 stl_89" style="word-spacing:-0.0305em;">革命的主要先锋；公司一如既往地通过多种形式缔结信息与人的纽带。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.0729em; left:5.6706em;"><span class="stl_72 stl_52 stl_90" style="word-spacing:-0.0284em;">O’Reilly </span><span class="stl_76 stl_49 stl_90" style="word-spacing:-0.0284em;">的会议和峰会集聚了众多超级极客和高瞻远瞩的商业领袖，共同描绘出开创 &nbsp;</span></div>
					<div class="stl_01" style="top:24.3729em; left:5.6708em;"><span class="stl_76 stl_49 stl_86" style="word-spacing:-0.0291em;">新产业的革命性思想。作为技术人士获取信息的选择，</span><span class="stl_72 stl_52 stl_86" style="word-spacing:-0.0291em;">O’Reilly </span><span class="stl_76 stl_49 stl_86" style="word-spacing:-0.0291em;">现在还将先锋专家的 &nbsp;</span></div>
					<div class="stl_01" style="top:25.7547em; left:5.6706em;"><span class="stl_76 stl_49 stl_85">知识传递给普通的计算机用户。无论是通过书籍出版、在线服务或者面授课程，每一 &nbsp;</span></div>
					<div class="stl_01" style="top:26.9729em; left:5.6706em;"><span class="stl_76 stl_49 stl_10" style="word-spacing:-0.0005em;">项 </span><span class="stl_72 stl_52 stl_10" style="word-spacing:-0.0005em;">O’Reilly </span><span class="stl_76 stl_49 stl_10" style="word-spacing:-0.0005em;">的产品都反映了公司不可动摇的理念——信息是激发创新的力量。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.6098em; left:5.6706em;"><span class="stl_91 stl_20 stl_71">业界评论 &nbsp;</span></div>
					<div class="stl_01" style="top:31.4799em; left:5.254em;"><span class="stl_92 stl_39 stl_10">“</span></div>
					<div class="stl_01" style="top:31.4277em; left:6.0873em;"><span class="stl_93 stl_36 stl_94" style="word-spacing:0.0549em;">O</span><span class="stl_72 stl_52 stl_94" style="word-spacing:0.0549em;">’</span><span class="stl_93 stl_36 stl_94" style="word-spacing:0.0549em;">Reilly Radar </span><span class="stl_92 stl_39 stl_94" style="word-spacing:0.0549em;">博客有口皆碑。” &nbsp;</span></div>
					<div class="stl_01" style="top:32.7799em; left:11.3398em;"><span class="stl_92 stl_39 stl_10">—</span></div>
					<div class="stl_01" style="top:32.7362em; left:12.1316em;"><span class="stl_92 stl_39 stl_10">—</span><span class="stl_95 stl_96 stl_10">Wired &nbsp;</span></div>
					<div class="stl_01" style="top:34.7416em; left:5.2541em;"><span class="stl_92 stl_39 stl_10">“</span></div>
					<div class="stl_01" style="top:38.0033em; left:5.2541em;"><span class="stl_92 stl_39 stl_10">“</span></div>
					<div class="stl_01" style="top:41.2644em; left:5.2541em;"><span class="stl_92 stl_39 stl_10">“</span></div>
					<div class="stl_01" style="top:44.5261em; left:5.2541em;"><span class="stl_92 stl_39 stl_10">“</span></div>
					<div class="stl_01" style="top:34.6894em; left:6.0875em;"><span class="stl_93 stl_36 stl_97" style="word-spacing:0.024em;">O</span><span class="stl_72 stl_52 stl_97" style="word-spacing:0.024em;">’</span><span class="stl_93 stl_36 stl_97" style="word-spacing:0.024em;">Reilly </span><span class="stl_92 stl_39 stl_97" style="word-spacing:0.024em;">凭借一系列（真希望当初我也想到了）非凡想法建立了数百万美元的业务。” &nbsp;</span></div>
					<div class="stl_01" style="top:35.9978em; left:12.1316em;"><span class="stl_92 stl_39 stl_10" style="word-spacing:-0.0002em;">—</span><span class="stl_95 stl_96 stl_10" style="word-spacing:-0.0002em;">Business 2.0 &nbsp;</span></div>
					<div class="stl_01" style="top:36.0416em; left:11.34em;"><span class="stl_92 stl_39 stl_10">—</span></div>
					<div class="stl_01" style="top:37.9508em; left:6.0875em;"><span class="stl_93 stl_36 stl_98" style="word-spacing:0.0318em;">O</span><span class="stl_72 stl_52 stl_98" style="word-spacing:0.0318em;">’</span><span class="stl_93 stl_36 stl_98" style="word-spacing:0.0318em;">Reilly Conference </span><span class="stl_92 stl_39 stl_98" style="word-spacing:0.0318em;">是聚集关键思想领袖的绝对典范。” &nbsp;</span></div>
					<div class="stl_01" style="top:39.303em; left:11.34em;"><span class="stl_92 stl_39 stl_10">—</span></div>
					<div class="stl_01" style="top:39.259em; left:12.1316em;"><span class="stl_92 stl_39 stl_73">—</span><span class="stl_95 stl_96 stl_73">CRN &nbsp;</span></div>
					<div class="stl_01" style="top:41.2122em; left:6.0875em;"><span class="stl_92 stl_39 stl_99" style="word-spacing:0.0328em;">一本 </span><span class="stl_93 stl_36 stl_99" style="word-spacing:0.0328em;">O</span><span class="stl_72 stl_52 stl_99" style="word-spacing:0.0328em;">’</span><span class="stl_93 stl_36 stl_99" style="word-spacing:0.0328em;">Reilly </span><span class="stl_92 stl_39 stl_99" style="word-spacing:0.0328em;">的书就代表一个有用、有前途、需要学习的主题。” &nbsp;</span></div>
					<div class="stl_01" style="top:42.5644em; left:11.34em;"><span class="stl_92 stl_39 stl_10">—</span></div>
					<div class="stl_01" style="top:42.5207em; left:12.1316em;"><span class="stl_92 stl_39 stl_10" style="word-spacing:0em;">—</span><span class="stl_95 stl_96 stl_10" style="word-spacing:0em;">Irish Times &nbsp;</span></div>
					<div class="stl_01" style="top:44.5027em; left:6.0875em;"><span class="stl_93 stl_36 stl_100" style="word-spacing:-0.0481em;">Tim </span><span class="stl_92 stl_39 stl_100" style="word-spacing:-0.0481em;">是位特立独行的商人，他不光放眼于最长远、最广阔的视野，并且切实地按照 &nbsp;</span></div>
					<div class="stl_01" style="top:45.8024em; left:5.6708em;"><span class="stl_93 stl_36 stl_101" style="word-spacing:0.1714em;">Yogi Berra</span><span class="stl_92 stl_39 stl_101" style="word-spacing:0.0524em;"> 的建议去做了：‘如果你在路上遇到岔路口，走小路（岔路）。’回顾过去， &nbsp;</span></div>
					<div class="stl_01" style="top:47.1024em; left:5.6706em;"><span class="stl_93 stl_36 stl_102" style="word-spacing:0.0291em;">Tim </span><span class="stl_92 stl_39 stl_102" style="word-spacing:0.0291em;">似乎每一次都选择了小路，而且有几次都是一闪即逝的机会，尽管大路也不错。” &nbsp;</span></div>
					<div class="stl_01" style="top:48.4256em; left:11.3398em;"><span class="stl_92 stl_39 stl_10">—</span></div>
					<div class="stl_01" style="top:48.3818em; left:12.1315em;"><span class="stl_92 stl_39 stl_10" style="word-spacing:0.0002em;">—</span><span class="stl_95 stl_96 stl_10" style="word-spacing:0.0002em;">Linux Journal &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_12.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_12.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01 stl_69" style="top:8.0619em; left:33.7439em;"><span class="stl_70 stl_20 stl_71">目录 &nbsp;</span></div>
					<div class="stl_01" style="top:21.9178em; left:6.6142em;"><span class="stl_103 stl_20 stl_104" style="word-spacing:-0.1003em;">译者序 </span><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">.</span></sup><span class="stl_51 stl_52 stl_104" style="word-spacing:-0.1114em;">ix &nbsp;</span></div>
					<div class="stl_01" style="top:23.9945em; left:6.6142em;"><span class="stl_103 stl_20 stl_105">前言</span><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><sup><span class="stl_51 stl_52 stl_106">.</span></sup><span class="stl_51 stl_52 stl_106">xi &nbsp;</span></div>
					<div class="stl_01" style="top:26.9839em; left:17.7047em;"><span class="stl_107 stl_41 stl_10">第一部分ꢀ创建爬虫 &nbsp;</span></div>
					<div class="stl_01" style="top:29.5948em; left:6.6142em;"><span class="stl_103 stl_20 stl_108" style="word-spacing:-0.0151em;">第 </span><span class="stl_109 stl_18 stl_108" style="word-spacing:-0.0151em;">1 </span><span class="stl_103 stl_20 stl_108" style="word-spacing:-0.0151em;">章ꢀ初见网络爬虫</span><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0168em;">. &nbsp;</span></sup></div>
					<div class="stl_01" style="top:29.6645em; left:37.4201em;"><span class="stl_51 stl_52 stl_10">2</span></div>
					<div class="stl_01" style="top:31.2688em; left:7.6773em;"><span class="stl_51 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:31.2313em; left:8.0523em;"><span class="stl_51 stl_52 stl_110">.1</span><span class="stl_48 stl_49 stl_110">ꢀ网络连接</span><span class="stl_51 stl_52 stl_110">.....................................................................................................................................2 &nbsp;</span></div>
					<div class="stl_01" style="top:32.3982em; left:8.0522em;"><span class="stl_51 stl_52 stl_111" style="word-spacing:-0.003em;">.2</span><span class="stl_48 stl_49 stl_111" style="word-spacing:-0.003em;">ꢀ</span><span class="stl_51 stl_52 stl_111" style="word-spacing:-0.003em;">BeautifulSoup </span><span class="stl_48 stl_49 stl_111" style="word-spacing:-0.003em;">简介</span><span class="stl_51 stl_52 stl_111" style="word-spacing:-0.003em;">.....................................................................................................................4 &nbsp;</span></div>
					<div class="stl_01" style="top:32.4357em; left:7.6772em;"><span class="stl_51 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:33.622em; left:9.4487em;"><span class="stl_112 stl_36 stl_108" style="word-spacing:-0.0302em;">1.2.1</span><span class="stl_113 stl_39 stl_108" style="word-spacing:-0.0302em;">ꢀ安装 </span><span class="stl_112 stl_36 stl_108" style="word-spacing:-0.0302em;">BeautifulSoup ........................................................................................................5 &nbsp;</span></div>
					<div class="stl_01" style="top:34.789em; left:9.4487em;"><span class="stl_112 stl_36 stl_108" style="word-spacing:-0.0302em;">1.2.2</span><span class="stl_113 stl_39 stl_108" style="word-spacing:-0.0302em;">ꢀ运行 </span><span class="stl_112 stl_36 stl_108" style="word-spacing:-0.0302em;">BeautifulSoup ........................................................................................................7 &nbsp;</span></div>
					<div class="stl_01" style="top:35.9555em; left:9.4487em;"><span class="stl_112 stl_36 stl_108" style="word-spacing:-0.0307em;">1.2.3</span><span class="stl_113 stl_39 stl_108" style="word-spacing:-0.0307em;">ꢀ可靠的网络连接 </span><span class="stl_112 stl_36 stl_108" style="word-spacing:-0.0307em;">............................................................................................................8 &nbsp;</span></div>
					<div class="stl_01" style="top:37.5049em; left:6.6142em;"><span class="stl_103 stl_20 stl_108" style="word-spacing:-0.0228em;">第 </span><span class="stl_109 stl_18 stl_108" style="word-spacing:-0.0228em;">2 </span><span class="stl_103 stl_20 stl_108" style="word-spacing:-0.0228em;">章ꢀ复杂 </span><span class="stl_109 stl_18 stl_108" style="word-spacing:-0.0228em;">HTML </span><span class="stl_103 stl_20 stl_108" style="word-spacing:-0.0228em;">解析 </span><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">.</span></sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0254em;">11 &nbsp;</span></div>
					<div class="stl_01" style="top:39.1789em; left:7.6773em;"><span class="stl_51 stl_52 stl_10">2</span></div>
					<div class="stl_01" style="top:39.1414em; left:8.0523em;"><span class="stl_51 stl_52 stl_114">.1</span><span class="stl_48 stl_49 stl_114">ꢀ不是一直都要用锤子</span><span class="stl_51 stl_52 stl_114">...............................................................................................................11 &nbsp;</span></div>
					<div class="stl_01" style="top:40.3084em; left:8.0523em;"><span class="stl_51 stl_52 stl_111" style="word-spacing:-0.002em;">.2</span><span class="stl_48 stl_49 stl_111" style="word-spacing:-0.002em;">ꢀ再端一碗 </span><span class="stl_51 stl_52 stl_111" style="word-spacing:-0.002em;">BeautifulSoup...........................................................................................................12 &nbsp;</span></div>
					<div class="stl_01" style="top:40.3459em; left:7.6773em;"><span class="stl_51 stl_52 stl_10">2</span></div>
					<div class="stl_01" style="top:41.5322em; left:9.4488em;"><span class="stl_112 stl_36 stl_10">2</span></div>
					<div class="stl_01" style="top:41.5177em; left:9.8238em;"><span class="stl_112 stl_36 stl_115" style="word-spacing:-0.0136em;">.2.1</span><span class="stl_113 stl_39 stl_115" style="word-spacing:-0.0136em;">ꢀ</span><span class="stl_112 stl_36 stl_115" style="word-spacing:-0.0136em;">BeautifulSoup </span><span class="stl_113 stl_39 stl_115" style="word-spacing:-0.0136em;">的 </span><span class="stl_116 stl_44 stl_117" style="word-spacing:-0.0144em;">find()</span><span class="stl_113 stl_39 stl_115" style="word-spacing:-0.0136em;">和 </span><span class="stl_116 stl_44 stl_117" style="word-spacing:-0.0144em;">findAll()</span><span class="stl_112 stl_36 stl_115" style="word-spacing:-0.0136em;">......................................................................13 &nbsp;</span></div>
					<div class="stl_01" style="top:42.6986em; left:9.4492em;"><span class="stl_112 stl_36 stl_118" style="word-spacing:-0.0208em;">2.2.2</span><span class="stl_113 stl_39 stl_118" style="word-spacing:-0.0208em;">ꢀ其他 </span><span class="stl_112 stl_36 stl_118" style="word-spacing:-0.0208em;">BeautifulSoup </span><span class="stl_113 stl_39 stl_118" style="word-spacing:-0.0208em;">对象 </span><span class="stl_112 stl_36 stl_118" style="word-spacing:-0.0208em;">.............................................................................................15 &nbsp;</span></div>
					<div class="stl_01" style="top:43.8656em; left:9.4488em;"><span class="stl_112 stl_36 stl_108" style="word-spacing:-0.0308em;">2.2.3</span><span class="stl_113 stl_39 stl_108" style="word-spacing:-0.0308em;">ꢀ导航树 </span><span class="stl_112 stl_36 stl_108" style="word-spacing:-0.0308em;">..........................................................................................................................16 &nbsp;</span></div>
					<div class="stl_01" style="top:45.0125em; left:7.6776em;"><span class="stl_51 stl_52 stl_10">2</span></div>
					<div class="stl_01" style="top:44.975em; left:8.0526em;"><span class="stl_51 stl_52 stl_110">.3</span><span class="stl_48 stl_49 stl_110">ꢀ正则表达式</span><span class="stl_51 stl_52 stl_110">...............................................................................................................................19 &nbsp;</span></div>
					<div class="stl_01" style="top:46.1788em; left:7.6768em;"><span class="stl_51 stl_52 stl_10">2</span></div>
					<div class="stl_01" style="top:46.1413em; left:8.0518em;"><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.4</span><span class="stl_48 stl_49 stl_110" style="word-spacing:-0.0021em;">ꢀ正则表达式和 </span><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">BeautifulSoup...................................................................................................23 &nbsp;</span></div>
					<div class="stl_01" style="top:47.3458em; left:7.6768em;"><span class="stl_51 stl_52 stl_10">2</span></div>
					<div class="stl_01" style="top:47.3083em; left:8.0518em;"><span class="stl_51 stl_52 stl_110">.5</span><span class="stl_48 stl_49 stl_110">ꢀ获取属性</span><span class="stl_51 stl_52 stl_110">...................................................................................................................................24 &nbsp;</span></div>
					<div class="stl_01" style="top:48.5124em; left:7.6772em;"><span class="stl_51 stl_52 stl_10">2</span></div>
					<div class="stl_01" style="top:48.4749em; left:8.0522em;"><span class="stl_51 stl_52 stl_111" style="word-spacing:-0.0028em;">.6</span><span class="stl_48 stl_49 stl_111" style="word-spacing:-0.0028em;">ꢀ</span><span class="stl_51 stl_52 stl_111" style="word-spacing:-0.0028em;">Lambda </span><span class="stl_48 stl_49 stl_111" style="word-spacing:-0.0028em;">表达式</span><span class="stl_51 stl_52 stl_111" style="word-spacing:-0.0028em;">.........................................................................................................................24 &nbsp;</span></div>
					<div class="stl_01" style="top:49.6794em; left:7.6772em;"><span class="stl_51 stl_52 stl_10">2</span></div>
					<div class="stl_01" style="top:49.6419em; left:8.0522em;"><span class="stl_51 stl_52 stl_111" style="word-spacing:-0.0019em;">.7</span><span class="stl_48 stl_49 stl_111" style="word-spacing:-0.0019em;">ꢀ超越 </span><span class="stl_51 stl_52 stl_111" style="word-spacing:-0.0019em;">BeautifulSoup...................................................................................................................25 &nbsp;</span></div>
					<div class="stl_01" style="top:52.3099em; left:37.4145em;"><span class="stl_119 stl_22 stl_10">v</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_13.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_13.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8074em; left:5.6693em;"><span class="stl_103 stl_20 stl_120" style="word-spacing:-0.0157em;">第 </span><span class="stl_109 stl_18 stl_120" style="word-spacing:-0.0157em;">3 </span><span class="stl_103 stl_20 stl_120" style="word-spacing:-0.0157em;">章ꢀ开始采集</span><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">26 &nbsp;</span></div>
					<div class="stl_01" style="top:6.4813em; left:6.733em;"><span class="stl_51 stl_52 stl_10">3</span></div>
					<div class="stl_01" style="top:6.4438em; left:7.108em;"><span class="stl_51 stl_52 stl_122">.1</span><span class="stl_48 stl_49 stl_122">ꢀ遍历单个域名</span><span class="stl_51 stl_52 stl_122">...........................................................................................................................26 &nbsp;</span></div>
					<div class="stl_01" style="top:7.6483em; left:6.7322em;"><span class="stl_51 stl_52 stl_10">3</span></div>
					<div class="stl_01" style="top:7.6108em; left:7.1072em;"><span class="stl_51 stl_52 stl_122">.2</span><span class="stl_48 stl_49 stl_122">ꢀ采集整个网站</span><span class="stl_51 stl_52 stl_122">...........................................................................................................................30 &nbsp;</span></div>
					<div class="stl_01" style="top:8.8153em; left:6.7322em;"><span class="stl_51 stl_52 stl_10">3</span></div>
					<div class="stl_01" style="top:8.7778em; left:7.1072em;"><span class="stl_51 stl_52 stl_122">.3</span><span class="stl_48 stl_49 stl_122">ꢀ通过互联网采集</span><span class="stl_51 stl_52 stl_122">.......................................................................................................................34 &nbsp;</span></div>
					<div class="stl_01" style="top:9.9824em; left:6.7322em;"><span class="stl_51 stl_52 stl_10">3</span></div>
					<div class="stl_01" style="top:9.9449em; left:7.1072em;"><span class="stl_51 stl_52 stl_111" style="word-spacing:-0.002em;">.4</span><span class="stl_48 stl_49 stl_111" style="word-spacing:-0.002em;">ꢀ用 </span><span class="stl_51 stl_52 stl_111" style="word-spacing:-0.002em;">Scrapy </span><span class="stl_48 stl_49 stl_111" style="word-spacing:-0.002em;">采集</span><span class="stl_51 stl_52 stl_111" style="word-spacing:-0.002em;">..........................................................................................................................38 &nbsp;</span></div>
					<div class="stl_01" style="top:11.5508em; left:5.6693em;"><span class="stl_103 stl_20 stl_106" style="word-spacing:-0.032em;">第 </span><span class="stl_109 stl_18 stl_106" style="word-spacing:-0.032em;">4 </span><span class="stl_103 stl_20 stl_106" style="word-spacing:-0.032em;">章ꢀ使用 </span><span class="stl_109 stl_18 stl_106" style="word-spacing:-0.032em;">API </span><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">.</span></sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0355em;">42 &nbsp;</span></div>
					<div class="stl_01" style="top:13.2248em; left:6.7326em;"><span class="stl_51 stl_52 stl_10">4</span></div>
					<div class="stl_01" style="top:13.1873em; left:7.1076em;"><span class="stl_51 stl_52 stl_106" style="word-spacing:-0.0156em;">.1</span><span class="stl_48 stl_49 stl_106" style="word-spacing:-0.0156em;">ꢀ</span><span class="stl_51 stl_52 stl_106" style="word-spacing:-0.0156em;">API </span><span class="stl_48 stl_49 stl_106" style="word-spacing:-0.0156em;">概述 </span><span class="stl_51 stl_52 stl_106" style="word-spacing:-0.0156em;">...................................................................................................................................43 &nbsp;</span></div>
					<div class="stl_01" style="top:14.3542em; left:7.1073em;"><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0156em;">.2</span><span class="stl_48 stl_49 stl_108" style="word-spacing:-0.0156em;">ꢀ</span><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0156em;">API </span><span class="stl_48 stl_49 stl_108" style="word-spacing:-0.0156em;">通用规则 </span><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0156em;">...........................................................................................................................43 &nbsp;</span></div>
					<div class="stl_01" style="top:14.3917em; left:6.7323em;"><span class="stl_51 stl_52 stl_10">4</span></div>
					<div class="stl_01" style="top:15.5781em; left:8.5038em;"><span class="stl_112 stl_36 stl_10">4</span></div>
					<div class="stl_01" style="top:15.5778em; left:8.8788em;"><span class="stl_112 stl_36 stl_108" style="word-spacing:-0.0308em;">.2.1</span><span class="stl_113 stl_39 stl_108" style="word-spacing:-0.0308em;">ꢀ方法 </span><span class="stl_112 stl_36 stl_108" style="word-spacing:-0.0308em;">..............................................................................................................................44 &nbsp;</span></div>
					<div class="stl_01" style="top:16.7448em; left:8.879em;"><span class="stl_112 stl_36 stl_108" style="word-spacing:-0.0313em;">.2.2</span><span class="stl_113 stl_39 stl_108" style="word-spacing:-0.0313em;">ꢀ验证 </span><span class="stl_112 stl_36 stl_108" style="word-spacing:-0.0313em;">..............................................................................................................................44 &nbsp;</span></div>
					<div class="stl_01" style="top:16.7448em; left:8.504em;"><span class="stl_112 stl_36 stl_10">4</span></div>
					<div class="stl_01" style="top:17.8918em; left:6.7324em;"><span class="stl_51 stl_52 stl_10">4</span></div>
					<div class="stl_01" style="top:17.8543em; left:7.1074em;"><span class="stl_51 stl_52 stl_122">.3</span><span class="stl_48 stl_49 stl_122">ꢀ服务器响应</span><span class="stl_51 stl_52 stl_122">...............................................................................................................................45 &nbsp;</span></div>
					<div class="stl_01" style="top:19.058em; left:6.7324em;"><span class="stl_51 stl_52 stl_10">4</span></div>
					<div class="stl_01" style="top:19.0205em; left:7.1074em;"><span class="stl_51 stl_52 stl_106" style="word-spacing:-0.0286em;">.4</span><span class="stl_48 stl_49 stl_106" style="word-spacing:-0.0286em;">ꢀ</span><span class="stl_51 stl_52 stl_106" style="word-spacing:-0.0286em;">Echo Nest ..................................................................................................................................46 &nbsp;</span></div>
					<div class="stl_01" style="top:20.2254em; left:6.733em;"><span class="stl_51 stl_52 stl_10">4</span></div>
					<div class="stl_01" style="top:20.1879em; left:7.108em;"><span class="stl_51 stl_52 stl_118" style="word-spacing:-0.0015em;">.5</span><span class="stl_48 stl_49 stl_118" style="word-spacing:-0.0015em;">ꢀ</span><span class="stl_51 stl_52 stl_118" style="word-spacing:-0.0015em;">Twitter API................................................................................................................................48 &nbsp;</span></div>
					<div class="stl_01" style="top:21.4118em; left:8.5045em;"><span class="stl_112 stl_36 stl_10">4</span></div>
					<div class="stl_01" style="top:21.411em; left:8.8795em;"><span class="stl_112 stl_36 stl_108" style="word-spacing:-0.0314em;">.5.1</span><span class="stl_113 stl_39 stl_108" style="word-spacing:-0.0314em;">ꢀ开始 </span><span class="stl_112 stl_36 stl_108" style="word-spacing:-0.0314em;">..............................................................................................................................48 &nbsp;</span></div>
					<div class="stl_01" style="top:22.5781em; left:8.8793em;"><span class="stl_112 stl_36 stl_108" style="word-spacing:-0.0317em;">.5.2</span><span class="stl_113 stl_39 stl_108" style="word-spacing:-0.0317em;">ꢀ几个示例 </span><span class="stl_112 stl_36 stl_108" style="word-spacing:-0.0317em;">......................................................................................................................50 &nbsp;</span></div>
					<div class="stl_01" style="top:22.5781em; left:8.5043em;"><span class="stl_112 stl_36 stl_10">4</span></div>
					<div class="stl_01" style="top:23.7251em; left:6.7324em;"><span class="stl_51 stl_52 stl_10">4</span></div>
					<div class="stl_01" style="top:23.6876em; left:7.1074em;"><span class="stl_51 stl_52 stl_118" style="word-spacing:-0.0013em;">.6</span><span class="stl_48 stl_49 stl_118" style="word-spacing:-0.0013em;">ꢀ</span><span class="stl_51 stl_52 stl_118" style="word-spacing:-0.0013em;">Google API................................................................................................................................52 &nbsp;</span></div>
					<div class="stl_01" style="top:24.9115em; left:8.5039em;"><span class="stl_112 stl_36 stl_10">4</span></div>
					<div class="stl_01" style="top:24.9107em; left:8.8789em;"><span class="stl_112 stl_36 stl_108" style="word-spacing:-0.0312em;">.6.1</span><span class="stl_113 stl_39 stl_108" style="word-spacing:-0.0312em;">ꢀ开始 </span><span class="stl_112 stl_36 stl_108" style="word-spacing:-0.0312em;">..............................................................................................................................52 &nbsp;</span></div>
					<div class="stl_01" style="top:26.0781em; left:8.8789em;"><span class="stl_112 stl_36 stl_108" style="word-spacing:-0.0312em;">.6.2</span><span class="stl_113 stl_39 stl_108" style="word-spacing:-0.0312em;">ꢀ几个示例 </span><span class="stl_112 stl_36 stl_108" style="word-spacing:-0.0312em;">......................................................................................................................53 &nbsp;</span></div>
					<div class="stl_01" style="top:26.0781em; left:8.5039em;"><span class="stl_112 stl_36 stl_10">4</span></div>
					<div class="stl_01" style="top:27.2251em; left:6.7324em;"><span class="stl_51 stl_52 stl_10">4</span></div>
					<div class="stl_01" style="top:27.1876em; left:7.1074em;"><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0199em;">.7</span><span class="stl_48 stl_49 stl_108" style="word-spacing:-0.0199em;">ꢀ解析 </span><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0199em;">JSON </span><span class="stl_48 stl_49 stl_108" style="word-spacing:-0.0199em;">数据 </span><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0199em;">.......................................................................................................................55 &nbsp;</span></div>
					<div class="stl_01" style="top:28.3914em; left:6.7332em;"><span class="stl_51 stl_52 stl_10">4</span></div>
					<div class="stl_01" style="top:28.3539em; left:7.1082em;"><span class="stl_51 stl_52 stl_110">.8</span><span class="stl_48 stl_49 stl_110">ꢀ回到主题</span><span class="stl_51 stl_52 stl_110">...................................................................................................................................56 &nbsp;</span></div>
					<div class="stl_01" style="top:29.5584em; left:6.7323em;"><span class="stl_51 stl_52 stl_10">4</span></div>
					<div class="stl_01" style="top:29.5209em; left:7.1073em;"><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0156em;">.9</span><span class="stl_48 stl_49 stl_108" style="word-spacing:-0.0156em;">ꢀ再说一点 </span><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0156em;">API ...........................................................................................................................60 &nbsp;</span></div>
					<div class="stl_01" style="top:31.1276em; left:5.6693em;"><span class="stl_103 stl_20 stl_120" style="word-spacing:-0.0157em;">第 </span><span class="stl_109 stl_18 stl_120" style="word-spacing:-0.0157em;">5 </span><span class="stl_103 stl_20 stl_120" style="word-spacing:-0.0157em;">章ꢀ存储数据</span><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">61 &nbsp;</span></div>
					<div class="stl_01" style="top:32.8016em; left:6.733em;"><span class="stl_51 stl_52 stl_10">5</span></div>
					<div class="stl_01" style="top:32.7641em; left:7.108em;"><span class="stl_51 stl_52 stl_110">.1</span><span class="stl_48 stl_49 stl_110">ꢀ媒体文件</span><span class="stl_51 stl_52 stl_110">...................................................................................................................................61 &nbsp;</span></div>
					<div class="stl_01" style="top:33.9685em; left:6.7323em;"><span class="stl_51 stl_52 stl_10">5</span></div>
					<div class="stl_01" style="top:33.931em; left:7.1073em;"><span class="stl_51 stl_52 stl_123" style="word-spacing:-0.0034em;">.2</span><span class="stl_48 stl_49 stl_123" style="word-spacing:-0.0034em;">ꢀ把数据存储到 </span><span class="stl_51 stl_52 stl_123" style="word-spacing:-0.0034em;">CSV..................................................................................................................64 &nbsp;</span></div>
					<div class="stl_01" style="top:35.1351em; left:6.7323em;"><span class="stl_51 stl_52 stl_10">5</span></div>
					<div class="stl_01" style="top:35.0976em; left:7.1073em;"><span class="stl_51 stl_52 stl_121">.3</span><span class="stl_48 stl_49 stl_121">ꢀ</span><span class="stl_51 stl_52 stl_121">MySQL......................................................................................................................................65 &nbsp;</span></div>
					<div class="stl_01" style="top:36.3215em; left:8.5038em;"><span class="stl_112 stl_36 stl_108" style="word-spacing:-0.0301em;">5.3.1</span><span class="stl_113 stl_39 stl_108" style="word-spacing:-0.0301em;">ꢀ安装 </span><span class="stl_112 stl_36 stl_108" style="word-spacing:-0.0301em;">MySQL ................................................................................................................66 &nbsp;</span></div>
					<div class="stl_01" style="top:37.4883em; left:8.5038em;"><span class="stl_112 stl_36 stl_108" style="word-spacing:-0.0308em;">5.3.2</span><span class="stl_113 stl_39 stl_108" style="word-spacing:-0.0308em;">ꢀ基本命令 </span><span class="stl_112 stl_36 stl_108" style="word-spacing:-0.0308em;">......................................................................................................................68 &nbsp;</span></div>
					<div class="stl_01" style="top:38.6547em; left:8.5041em;"><span class="stl_112 stl_36 stl_123" style="word-spacing:-0.0034em;">5.3.3</span><span class="stl_113 stl_39 stl_123" style="word-spacing:-0.0034em;">ꢀ与 </span><span class="stl_112 stl_36 stl_123" style="word-spacing:-0.0034em;">Python </span><span class="stl_113 stl_39 stl_123" style="word-spacing:-0.0034em;">整合</span><span class="stl_112 stl_36 stl_123" style="word-spacing:-0.0034em;">.............................................................................................................71 &nbsp;</span></div>
					<div class="stl_01" style="top:39.8217em; left:8.5039em;"><span class="stl_112 stl_36 stl_118" style="word-spacing:-0.0314em;">5.3.4</span><span class="stl_113 stl_39 stl_118" style="word-spacing:-0.0314em;">ꢀ数据库技术与最佳实践 </span><span class="stl_112 stl_36 stl_118" style="word-spacing:-0.0314em;">..............................................................................................74 &nbsp;</span></div>
					<div class="stl_01" style="top:40.9883em; left:8.5039em;"><span class="stl_112 stl_36 stl_124" style="word-spacing:0.0047em;">5.3.5</span><span class="stl_113 stl_39 stl_124" style="word-spacing:0.0047em;">ꢀ</span><span class="stl_112 stl_36 stl_124" style="word-spacing:0.0047em;">MySQL </span><span class="stl_113 stl_39 stl_124" style="word-spacing:0.0047em;">里的“六度空间游戏”</span><span class="stl_112 stl_36 stl_124" style="word-spacing:0.0047em;">..................................................................................75 &nbsp;</span></div>
					<div class="stl_01" style="top:42.1352em; left:6.7324em;"><span class="stl_51 stl_52 stl_10">5</span></div>
					<div class="stl_01" style="top:42.0977em; left:7.1074em;"><span class="stl_51 stl_52 stl_106" style="word-spacing:-0.0569em;">.4</span><span class="stl_48 stl_49 stl_106" style="word-spacing:-0.0569em;">ꢀ</span><span class="stl_51 stl_52 stl_106" style="word-spacing:-0.0569em;">Email .........................................................................................................................................77 &nbsp;</span></div>
					<div class="stl_01" style="top:43.7044em; left:5.6693em;"><span class="stl_103 stl_20 stl_120" style="word-spacing:-0.0157em;">第 </span><span class="stl_109 stl_18 stl_120" style="word-spacing:-0.0157em;">6 </span><span class="stl_103 stl_20 stl_120" style="word-spacing:-0.0157em;">章ꢀ读取文档</span><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">80 &nbsp;</span></div>
					<div class="stl_01" style="top:45.3783em; left:6.733em;"><span class="stl_51 stl_52 stl_10">6</span></div>
					<div class="stl_01" style="top:45.3408em; left:7.108em;"><span class="stl_51 stl_52 stl_110">.1</span><span class="stl_48 stl_49 stl_110">ꢀ文档编码</span><span class="stl_51 stl_52 stl_110">...................................................................................................................................80 &nbsp;</span></div>
					<div class="stl_01" style="top:46.5453em; left:6.7323em;"><span class="stl_51 stl_52 stl_10">6</span></div>
					<div class="stl_01" style="top:46.5078em; left:7.1073em;"><span class="stl_51 stl_52 stl_110">.2</span><span class="stl_48 stl_49 stl_110">ꢀ纯文本</span><span class="stl_51 stl_52 stl_110">.......................................................................................................................................81 &nbsp;</span></div>
					<div class="stl_01" style="top:47.7119em; left:6.7323em;"><span class="stl_51 stl_52 stl_10">6</span></div>
					<div class="stl_01" style="top:47.6744em; left:7.1073em;"><span class="stl_51 stl_52 stl_125">.3</span><span class="stl_48 stl_49 stl_125">ꢀ</span><span class="stl_51 stl_52 stl_125">CSV...........................................................................................................................................85 &nbsp;</span></div>
					<div class="stl_01" style="top:48.8789em; left:6.7323em;"><span class="stl_51 stl_52 stl_10">6</span></div>
					<div class="stl_01" style="top:48.8414em; left:7.1073em;"><span class="stl_51 stl_52 stl_106">.4</span><span class="stl_48 stl_49 stl_106">ꢀ</span><span class="stl_51 stl_52 stl_106">PDF............................................................................................................................................87 &nbsp;</span></div>
					<div class="stl_01" style="top:50.0452em; left:6.733em;"><span class="stl_51 stl_52 stl_10">6</span></div>
					<div class="stl_01" style="top:50.0077em; left:7.108em;"><span class="stl_51 stl_52 stl_75" style="word-spacing:-0.0029em;">.5</span><span class="stl_48 stl_49 stl_75" style="word-spacing:-0.0029em;">ꢀ微软 </span><span class="stl_51 stl_52 stl_75" style="word-spacing:-0.0029em;">Word </span><span class="stl_48 stl_49 stl_75" style="word-spacing:-0.0029em;">和 </span><span class="stl_51 stl_52 stl_75" style="word-spacing:-0.0029em;">.docx..................................................................................................................88 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:5.6457em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.424em;">vi </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.424em;">｜</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.598em;"> 目录 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_14.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_14.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8776em; left:16.7047em;"><span class="stl_107 stl_41 stl_10">第二部分ꢀ高级数据采集 &nbsp;</span></div>
					<div class="stl_01" style="top:7.4885em; left:6.6142em;"><span class="stl_103 stl_20 stl_120" style="word-spacing:-0.0157em;">第 </span><span class="stl_109 stl_18 stl_120" style="word-spacing:-0.0157em;">7 </span><span class="stl_103 stl_20 stl_120" style="word-spacing:-0.0157em;">章ꢀ数据清洗</span><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">.</span></sup><span class="stl_51 stl_52 stl_121" style="word-spacing:-0.0174em;">94 &nbsp;</span></div>
					<div class="stl_01" style="top:9.1625em; left:7.6779em;"><span class="stl_51 stl_52 stl_10">7</span></div>
					<div class="stl_01" style="top:9.125em; left:8.0529em;"><span class="stl_51 stl_52 stl_122">.1</span><span class="stl_48 stl_49 stl_122">ꢀ编写代码清洗数据</span><span class="stl_51 stl_52 stl_122">...................................................................................................................94 &nbsp;</span></div>
					<div class="stl_01" style="top:10.292em; left:8.0521em;"><span class="stl_51 stl_52 stl_122">.2</span><span class="stl_48 stl_49 stl_122">ꢀ数据存储后再清洗</span><span class="stl_51 stl_52 stl_122">...................................................................................................................98 &nbsp;</span></div>
					<div class="stl_01" style="top:10.3295em; left:7.6771em;"><span class="stl_51 stl_52 stl_10">7</span></div>
					<div class="stl_01" style="top:11.8986em; left:6.6142em;"><span class="stl_103 stl_20 stl_110" style="word-spacing:-0.0162em;">第 </span><span class="stl_109 stl_18 stl_110" style="word-spacing:-0.0162em;">8 </span><span class="stl_103 stl_20 stl_110" style="word-spacing:-0.0162em;">章ꢀ自然语言处理</span><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">.</span></sup><span class="stl_51 stl_52 stl_122" style="word-spacing:-0.018em;">103 &nbsp;</span></div>
					<div class="stl_01" style="top:13.5726em; left:7.6773em;"><span class="stl_51 stl_52 stl_10">8</span></div>
					<div class="stl_01" style="top:13.5351em; left:8.0523em;"><span class="stl_51 stl_52 stl_110">.1</span><span class="stl_48 stl_49 stl_110">ꢀ概括数据</span><span class="stl_51 stl_52 stl_110">.................................................................................................................................104 &nbsp;</span></div>
					<div class="stl_01" style="top:14.7395em; left:7.6772em;"><span class="stl_51 stl_52 stl_10">8</span></div>
					<div class="stl_01" style="top:14.702em; left:8.0522em;"><span class="stl_51 stl_52 stl_122">.2</span><span class="stl_48 stl_49 stl_122">ꢀ马尔可夫模型</span><span class="stl_51 stl_52 stl_122">.........................................................................................................................106 &nbsp;</span></div>
					<div class="stl_01" style="top:15.9065em; left:7.6772em;"><span class="stl_51 stl_52 stl_10">8</span></div>
					<div class="stl_01" style="top:15.869em; left:8.0522em;"><span class="stl_51 stl_52 stl_122">.3</span><span class="stl_48 stl_49 stl_122">ꢀ自然语言工具包</span><span class="stl_51 stl_52 stl_122">.....................................................................................................................112 &nbsp;</span></div>
					<div class="stl_01" style="top:17.0922em; left:9.4487em;"><span class="stl_112 stl_36 stl_108" style="word-spacing:-0.0312em;">8.3.1</span><span class="stl_113 stl_39 stl_108" style="word-spacing:-0.0312em;">ꢀ安装与设置 </span><span class="stl_112 stl_36 stl_108" style="word-spacing:-0.0312em;">................................................................................................................112 &nbsp;</span></div>
					<div class="stl_01" style="top:18.259em; left:9.4487em;"><span class="stl_112 stl_36 stl_122" style="word-spacing:-0.0024em;">8.3.2</span><span class="stl_113 stl_39 stl_122" style="word-spacing:-0.0024em;">ꢀ用 </span><span class="stl_112 stl_36 stl_122" style="word-spacing:-0.0024em;">NLTK </span><span class="stl_113 stl_39 stl_122" style="word-spacing:-0.0024em;">做统计分析</span><span class="stl_112 stl_36 stl_122" style="word-spacing:-0.0024em;">................................................................................................113 &nbsp;</span></div>
					<div class="stl_01" style="top:19.4257em; left:9.4488em;"><span class="stl_112 stl_36 stl_122" style="word-spacing:-0.0024em;">8.3.3</span><span class="stl_113 stl_39 stl_122" style="word-spacing:-0.0024em;">ꢀ用 </span><span class="stl_112 stl_36 stl_122" style="word-spacing:-0.0024em;">NLTK </span><span class="stl_113 stl_39 stl_122" style="word-spacing:-0.0024em;">做词性分析</span><span class="stl_112 stl_36 stl_122" style="word-spacing:-0.0024em;">................................................................................................115 &nbsp;</span></div>
					<div class="stl_01" style="top:20.5726em; left:7.6766em;"><span class="stl_51 stl_52 stl_10">8</span></div>
					<div class="stl_01" style="top:20.5351em; left:8.0516em;"><span class="stl_51 stl_52 stl_110">.4</span><span class="stl_48 stl_49 stl_110">ꢀ其他资源</span><span class="stl_51 stl_52 stl_110">.................................................................................................................................119 &nbsp;</span></div>
					<div class="stl_01" style="top:22.142em; left:6.6142em;"><span class="stl_103 stl_20 stl_125" style="word-spacing:-0.0169em;">第 </span><span class="stl_109 stl_18 stl_125" style="word-spacing:-0.0169em;">9 </span><span class="stl_103 stl_20 stl_125" style="word-spacing:-0.0169em;">章ꢀ穿越网页表单与登录窗口进行采集</span><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">.</span></sup><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0188em;">120 &nbsp;</span></div>
					<div class="stl_01" style="top:23.816em; left:7.6773em;"><span class="stl_51 stl_52 stl_10">9</span></div>
					<div class="stl_01" style="top:23.7785em; left:8.0523em;"><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0033em;">.1</span><span class="stl_48 stl_49 stl_127" style="word-spacing:-0.0033em;">ꢀ</span><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0033em;">Python Requests </span><span class="stl_48 stl_49 stl_127" style="word-spacing:-0.0033em;">库</span><span class="stl_51 stl_52 stl_127" style="word-spacing:-0.0033em;">.................................................................................................................120 &nbsp;</span></div>
					<div class="stl_01" style="top:24.983em; left:7.678em;"><span class="stl_51 stl_52 stl_10">9</span></div>
					<div class="stl_01" style="top:24.9455em; left:8.053em;"><span class="stl_51 stl_52 stl_122">.2</span><span class="stl_48 stl_49 stl_122">ꢀ提交一个基本表单</span><span class="stl_51 stl_52 stl_122">.................................................................................................................121 &nbsp;</span></div>
					<div class="stl_01" style="top:26.15em; left:7.6773em;"><span class="stl_51 stl_52 stl_10">9</span></div>
					<div class="stl_01" style="top:26.1125em; left:8.0523em;"><span class="stl_51 stl_52 stl_125">.3</span><span class="stl_48 stl_49 stl_125">ꢀ单选按钮、复选框和其他输入</span><span class="stl_51 stl_52 stl_125">.............................................................................................123 &nbsp;</span></div>
					<div class="stl_01" style="top:27.317em; left:7.6773em;"><span class="stl_51 stl_52 stl_10">9</span></div>
					<div class="stl_01" style="top:27.2795em; left:8.0523em;"><span class="stl_51 stl_52 stl_122">.4</span><span class="stl_48 stl_49 stl_122">ꢀ提交文件和图像</span><span class="stl_51 stl_52 stl_122">.....................................................................................................................124 &nbsp;</span></div>
					<div class="stl_01" style="top:28.484em; left:7.6773em;"><span class="stl_51 stl_52 stl_10">9</span></div>
					<div class="stl_01" style="top:28.4465em; left:8.0523em;"><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0427em;">.5</span><span class="stl_48 stl_49 stl_108" style="word-spacing:-0.0427em;">ꢀ处理登录和 </span><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0427em;">cookie .................................................................................................................125 &nbsp;</span></div>
					<div class="stl_01" style="top:29.6496em; left:7.6787em;"><span class="stl_51 stl_52 stl_10">9</span></div>
					<div class="stl_01" style="top:29.6121em; left:8.0537em;"><span class="stl_51 stl_52 stl_122">.6</span><span class="stl_48 stl_49 stl_122">ꢀ其他表单问题</span><span class="stl_51 stl_52 stl_122">.........................................................................................................................127 &nbsp;</span></div>
					<div class="stl_01" style="top:31.2188em; left:6.6142em;"><span class="stl_103 stl_20 stl_106" style="word-spacing:-0.035em;">第 </span><span class="stl_109 stl_18 stl_106" style="word-spacing:-0.035em;">10 </span><span class="stl_103 stl_20 stl_106" style="word-spacing:-0.035em;">章ꢀ采集 </span><span class="stl_109 stl_18 stl_106" style="word-spacing:-0.035em;">JavaScript </span><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">.</span></sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0389em;">128 &nbsp;</span></div>
					<div class="stl_01" style="top:32.8928em; left:7.6776em;"><span class="stl_51 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:32.8553em; left:8.0526em;"><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0426em;">0.1</span><span class="stl_48 stl_49 stl_108" style="word-spacing:-0.0426em;">ꢀ</span><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0426em;">JavaScript </span><span class="stl_48 stl_49 stl_108" style="word-spacing:-0.0426em;">简介 </span><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0426em;">.....................................................................................................................128 &nbsp;</span></div>
					<div class="stl_01" style="top:34.0597em; left:7.6787em;"><span class="stl_51 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:34.0222em; left:8.0537em;"><span class="stl_51 stl_52 stl_111" style="word-spacing:-0.0021em;">0.2</span><span class="stl_48 stl_49 stl_111" style="word-spacing:-0.0021em;">ꢀ</span><span class="stl_51 stl_52 stl_111" style="word-spacing:-0.0021em;">Ajax </span><span class="stl_48 stl_49 stl_111" style="word-spacing:-0.0021em;">和动态 </span><span class="stl_51 stl_52 stl_111" style="word-spacing:-0.0021em;">HTML..............................................................................................................131 &nbsp;</span></div>
					<div class="stl_01" style="top:35.2264em; left:7.6779em;"><span class="stl_51 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:35.1889em; left:8.0529em;"><span class="stl_51 stl_52 stl_122">0.3</span><span class="stl_48 stl_49 stl_122">ꢀ处理重定向</span><span class="stl_51 stl_52 stl_122">...........................................................................................................................137 &nbsp;</span></div>
					<div class="stl_01" style="top:36.7956em; left:6.6142em;"><span class="stl_103 stl_20 stl_127" style="word-spacing:-0.0172em;">第 </span><span class="stl_109 stl_18 stl_127" style="word-spacing:-0.0172em;">11 </span><span class="stl_103 stl_20 stl_127" style="word-spacing:-0.0172em;">章ꢀ图像识别与文字处理</span><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">.</span></sup><span class="stl_51 stl_52 stl_128" style="word-spacing:-0.0191em;">139 &nbsp;</span></div>
					<div class="stl_01" style="top:38.4695em; left:7.6775em;"><span class="stl_51 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:38.432em; left:8.0525em;"><span class="stl_51 stl_52 stl_120" style="word-spacing:-0.0015em;">1.1</span><span class="stl_48 stl_49 stl_120" style="word-spacing:-0.0015em;">ꢀ</span><span class="stl_51 stl_52 stl_120" style="word-spacing:-0.0015em;">OCR </span><span class="stl_48 stl_49 stl_120" style="word-spacing:-0.0015em;">库概述</span><span class="stl_51 stl_52 stl_120" style="word-spacing:-0.0015em;">..........................................................................................................................140 &nbsp;</span></div>
					<div class="stl_01" style="top:39.6558em; left:10.0805em;"><span class="stl_112 stl_36 stl_118">1.1.1</span><span class="stl_113 stl_39 stl_118">ꢀ</span><span class="stl_112 stl_36 stl_118">Pillow.......................................................................................................................140 &nbsp;</span></div>
					<div class="stl_01" style="top:40.8228em; left:10.0803em;"><span class="stl_112 stl_36 stl_10" style="word-spacing:-0.0769em;">1.1.2</span><span class="stl_113 stl_39 stl_10" style="word-spacing:-0.0769em;">ꢀ</span><span class="stl_112 stl_36 stl_10" style="word-spacing:-0.0769em;">Tesseract ..................................................................................................................140 &nbsp;</span></div>
					<div class="stl_01" style="top:41.9897em; left:10.0801em;"><span class="stl_112 stl_36 stl_110">1.1.3</span><span class="stl_113 stl_39 stl_110">ꢀ</span><span class="stl_112 stl_36 stl_110">NumPy.....................................................................................................................141 &nbsp;</span></div>
					<div class="stl_01" style="top:39.6559em; left:9.7325em;"><span class="stl_112 stl_36 stl_10">1</span></div>
					<div class="stl_01" style="top:40.8228em; left:9.733em;"><span class="stl_112 stl_36 stl_10">1</span></div>
					<div class="stl_01" style="top:41.99em; left:9.7321em;"><span class="stl_112 stl_36 stl_10">1</span></div>
					<div class="stl_01" style="top:43.1365em; left:7.6776em;"><span class="stl_51 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:43.099em; left:8.0526em;"><span class="stl_51 stl_52 stl_114">1.2</span><span class="stl_48 stl_49 stl_114">ꢀ处理格式规范的文字</span><span class="stl_51 stl_52 stl_114">...........................................................................................................142 &nbsp;</span></div>
					<div class="stl_01" style="top:44.3028em; left:7.6769em;"><span class="stl_51 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:44.2653em; left:8.0519em;"><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0022em;">1.3</span><span class="stl_48 stl_49 stl_110" style="word-spacing:-0.0022em;">ꢀ读取验证码与训练 </span><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0022em;">Tesseract...............................................................................................146 &nbsp;</span></div>
					<div class="stl_01" style="top:45.4698em; left:7.6769em;"><span class="stl_51 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:45.4323em; left:8.0519em;"><span class="stl_51 stl_52 stl_114">1.4</span><span class="stl_48 stl_49 stl_114">ꢀ获取验证码提交答案</span><span class="stl_51 stl_52 stl_114">...........................................................................................................151 &nbsp;</span></div>
					<div class="stl_01" style="top:47.039em; left:6.6142em;"><span class="stl_103 stl_20 stl_106" style="word-spacing:-0.031em;">第 </span><span class="stl_109 stl_18 stl_106" style="word-spacing:-0.031em;">12 </span><span class="stl_103 stl_20 stl_106" style="word-spacing:-0.031em;">章ꢀ避开采集陷阱 </span><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">.</span></sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0344em;">154 &nbsp;</span></div>
					<div class="stl_01" style="top:48.713em; left:7.6773em;"><span class="stl_51 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:48.6755em; left:8.0523em;"><span class="stl_51 stl_52 stl_110">2.1</span><span class="stl_48 stl_49 stl_110">ꢀ道德规范</span><span class="stl_51 stl_52 stl_110">...............................................................................................................................154 &nbsp;</span></div>
					<div class="stl_01" style="top:49.8425em; left:8.0523em;"><span class="stl_51 stl_52 stl_75">2.2</span><span class="stl_48 stl_49 stl_75">ꢀ让网络机器人看起来像人类用户</span><span class="stl_51 stl_52 stl_75">.......................................................................................155 &nbsp;</span></div>
					<div class="stl_01" style="top:49.88em; left:7.6773em;"><span class="stl_51 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:33.6621em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">目录 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">vii &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_15.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_15.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8968em; left:8.7888em;"><span class="stl_112 stl_36 stl_125">12.2.1</span><span class="stl_113 stl_39 stl_125">ꢀ修改请求头</span><span class="stl_112 stl_36 stl_125">.............................................................................................................155 &nbsp;</span></div>
					<div class="stl_01" style="top:6.0635em; left:8.7888em;"><span class="stl_112 stl_36 stl_108" style="word-spacing:-0.0376em;">12.2.2</span><span class="stl_113 stl_39 stl_108" style="word-spacing:-0.0376em;">ꢀ处理 </span><span class="stl_112 stl_36 stl_108" style="word-spacing:-0.0376em;">cookie .............................................................................................................157 &nbsp;</span></div>
					<div class="stl_01" style="top:7.2305em; left:8.7895em;"><span class="stl_112 stl_36 stl_125">12.2.3</span><span class="stl_113 stl_39 stl_125">ꢀ时间就是一切</span><span class="stl_112 stl_36 stl_125">.........................................................................................................159 &nbsp;</span></div>
					<div class="stl_01" style="top:8.3773em; left:6.7334em;"><span class="stl_51 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:8.3398em; left:7.1084em;"><span class="stl_51 stl_52 stl_114">2.3</span><span class="stl_48 stl_49 stl_114">ꢀ常见表单安全措施</span><span class="stl_51 stl_52 stl_114">...............................................................................................................159 &nbsp;</span></div>
					<div class="stl_01" style="top:9.563em; left:8.7884em;"><span class="stl_112 stl_36 stl_10">1</span></div>
					<div class="stl_01" style="top:9.563em; left:9.1634em;"><span class="stl_112 stl_36 stl_125">2.3.1</span><span class="stl_113 stl_39 stl_125">ꢀ隐含输入字段值</span><span class="stl_112 stl_36 stl_125">.....................................................................................................159 &nbsp;</span></div>
					<div class="stl_01" style="top:10.7303em; left:9.1636em;"><span class="stl_112 stl_36 stl_114">2.3.2</span><span class="stl_113 stl_39 stl_114">ꢀ避免蜜罐</span><span class="stl_112 stl_36 stl_114">.................................................................................................................160 &nbsp;</span></div>
					<div class="stl_01" style="top:10.7303em; left:8.7886em;"><span class="stl_112 stl_36 stl_10">1</span></div>
					<div class="stl_01" style="top:11.8773em; left:6.7337em;"><span class="stl_51 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:11.8398em; left:7.1087em;"><span class="stl_51 stl_52 stl_122">2.4</span><span class="stl_48 stl_49 stl_122">ꢀ问题检查表</span><span class="stl_51 stl_52 stl_122">...........................................................................................................................162 &nbsp;</span></div>
					<div class="stl_01" style="top:13.4465em; left:5.6706em;"><span class="stl_103 stl_20 stl_114" style="word-spacing:-0.0166em;">第 </span><span class="stl_109 stl_18 stl_114" style="word-spacing:-0.0166em;">13 </span><span class="stl_103 stl_20 stl_114" style="word-spacing:-0.0166em;">章ꢀ用爬虫测试网站</span><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">.</span></sup><span class="stl_51 stl_52 stl_125" style="word-spacing:-0.0184em;">164 &nbsp;</span></div>
					<div class="stl_01" style="top:15.1205em; left:6.7338em;"><span class="stl_51 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:15.083em; left:7.1088em;"><span class="stl_51 stl_52 stl_110">3.1</span><span class="stl_48 stl_49 stl_110">ꢀ测试简介</span><span class="stl_51 stl_52 stl_110">...............................................................................................................................164 &nbsp;</span></div>
					<div class="stl_01" style="top:16.2875em; left:6.7338em;"><span class="stl_51 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:16.25em; left:7.1088em;"><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0011em;">3.2</span><span class="stl_48 stl_49 stl_108" style="word-spacing:-0.0011em;">ꢀ</span><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0011em;">Python </span><span class="stl_48 stl_49 stl_108" style="word-spacing:-0.0011em;">单元测试</span><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0011em;">...................................................................................................................165 &nbsp;</span></div>
					<div class="stl_01" style="top:17.4545em; left:6.7345em;"><span class="stl_51 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:17.417em; left:7.1095em;"><span class="stl_51 stl_52 stl_111" style="word-spacing:-0.0029em;">3.3</span><span class="stl_48 stl_49 stl_111" style="word-spacing:-0.0029em;">ꢀ</span><span class="stl_51 stl_52 stl_111" style="word-spacing:-0.0029em;">Selenium </span><span class="stl_48 stl_49 stl_111" style="word-spacing:-0.0029em;">单元测试</span><span class="stl_51 stl_52 stl_111" style="word-spacing:-0.0029em;">...............................................................................................................168 &nbsp;</span></div>
					<div class="stl_01" style="top:18.6207em; left:6.7338em;"><span class="stl_51 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:18.5832em; left:7.1088em;"><span class="stl_51 stl_52 stl_120" style="word-spacing:-0.0091em;">3.4</span><span class="stl_48 stl_49 stl_120" style="word-spacing:-0.0091em;">ꢀ</span><span class="stl_51 stl_52 stl_120" style="word-spacing:-0.0091em;">Python </span><span class="stl_48 stl_49 stl_120" style="word-spacing:-0.0091em;">单元测试与 </span><span class="stl_51 stl_52 stl_120" style="word-spacing:-0.0091em;">Selenium </span><span class="stl_48 stl_49 stl_120" style="word-spacing:-0.0091em;">单元测试的选择 </span><span class="stl_51 stl_52 stl_120" style="word-spacing:-0.0091em;">.................................................................172 &nbsp;</span></div>
					<div class="stl_01" style="top:20.1899em; left:5.6706em;"><span class="stl_103 stl_20 stl_106" style="word-spacing:-0.0393em;">第 </span><span class="stl_109 stl_18 stl_106" style="word-spacing:-0.0393em;">14 </span><span class="stl_103 stl_20 stl_106" style="word-spacing:-0.0393em;">章ꢀ远程采集 </span><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">.</span></sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.0437em;">174 &nbsp;</span></div>
					<div class="stl_01" style="top:21.8639em; left:6.7343em;"><span class="stl_51 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:21.8264em; left:7.1093em;"><span class="stl_51 stl_52 stl_114">4.1</span><span class="stl_48 stl_49 stl_114">ꢀ为什么要用远程服务器</span><span class="stl_51 stl_52 stl_114">.......................................................................................................174 &nbsp;</span></div>
					<div class="stl_01" style="top:23.0503em; left:8.7886em;"><span class="stl_112 stl_36 stl_10">1</span></div>
					<div class="stl_01" style="top:23.0503em; left:9.1636em;"><span class="stl_112 stl_36 stl_118" style="word-spacing:-0.017em;">4.1.1</span><span class="stl_113 stl_39 stl_118" style="word-spacing:-0.017em;">ꢀ避免 </span><span class="stl_112 stl_36 stl_118" style="word-spacing:-0.017em;">IP </span><span class="stl_113 stl_39 stl_118" style="word-spacing:-0.017em;">地址被封杀 </span><span class="stl_112 stl_36 stl_118" style="word-spacing:-0.017em;">...............................................................................................174 &nbsp;</span></div>
					<div class="stl_01" style="top:24.2173em; left:9.1638em;"><span class="stl_112 stl_36 stl_125">4.1.2</span><span class="stl_113 stl_39 stl_125">ꢀ移植性与扩展性</span><span class="stl_112 stl_36 stl_125">.....................................................................................................175 &nbsp;</span></div>
					<div class="stl_01" style="top:24.2173em; left:8.7888em;"><span class="stl_112 stl_36 stl_10">1</span></div>
					<div class="stl_01" style="top:25.3642em; left:6.7339em;"><span class="stl_51 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:25.3267em; left:7.1089em;"><span class="stl_51 stl_52 stl_123" style="word-spacing:-0.0033em;">4.2</span><span class="stl_48 stl_49 stl_123" style="word-spacing:-0.0033em;">ꢀ</span><span class="stl_51 stl_52 stl_123" style="word-spacing:-0.0033em;">Tor </span><span class="stl_48 stl_49 stl_123" style="word-spacing:-0.0033em;">代理服务器</span><span class="stl_51 stl_52 stl_123" style="word-spacing:-0.0033em;">....................................................................................................................176 &nbsp;</span></div>
					<div class="stl_01" style="top:26.493em; left:7.1096em;"><span class="stl_51 stl_52 stl_110">4.3</span><span class="stl_48 stl_49 stl_110">ꢀ远程主机</span><span class="stl_51 stl_52 stl_110">...............................................................................................................................177 &nbsp;</span></div>
					<div class="stl_01" style="top:26.5305em; left:6.7346em;"><span class="stl_51 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:27.7168em; left:8.7889em;"><span class="stl_112 stl_36 stl_10">1</span></div>
					<div class="stl_01" style="top:27.7168em; left:9.1639em;"><span class="stl_112 stl_36 stl_125">4.3.1</span><span class="stl_113 stl_39 stl_125">ꢀ从网站主机运行</span><span class="stl_112 stl_36 stl_125">.....................................................................................................178 &nbsp;</span></div>
					<div class="stl_01" style="top:28.8838em; left:9.1636em;"><span class="stl_112 stl_36 stl_125">4.3.2</span><span class="stl_113 stl_39 stl_125">ꢀ从云主机运行</span><span class="stl_112 stl_36 stl_125">.........................................................................................................178 &nbsp;</span></div>
					<div class="stl_01" style="top:28.8838em; left:8.7886em;"><span class="stl_112 stl_36 stl_10">1</span></div>
					<div class="stl_01" style="top:30.0309em; left:6.7337em;"><span class="stl_51 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:29.9934em; left:7.1087em;"><span class="stl_51 stl_52 stl_110">4.4</span><span class="stl_48 stl_49 stl_110">ꢀ其他资源</span><span class="stl_51 stl_52 stl_110">...............................................................................................................................179 &nbsp;</span></div>
					<div class="stl_01" style="top:31.1596em; left:7.1087em;"><span class="stl_51 stl_52 stl_110">4.5</span><span class="stl_48 stl_49 stl_110">ꢀ勇往直前</span><span class="stl_51 stl_52 stl_110">...............................................................................................................................180 &nbsp;</span></div>
					<div class="stl_01" style="top:31.1971em; left:6.7337em;"><span class="stl_51 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:32.7667em; left:5.6706em;"><span class="stl_103 stl_20 stl_106" style="word-spacing:-0.0369em;">附录 </span><span class="stl_109 stl_18 stl_106" style="word-spacing:-0.0369em;">A</span><span class="stl_103 stl_20 stl_106" style="word-spacing:-0.0369em;">ꢀ</span><span class="stl_109 stl_18 stl_106" style="word-spacing:-0.0369em;">Python </span><span class="stl_103 stl_20 stl_106" style="word-spacing:-0.0369em;">简介 </span><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">.</span></sup><span class="stl_51 stl_52 stl_108" style="word-spacing:-0.041em;">181 &nbsp;</span></div>
					<div class="stl_01" style="top:34.8435em; left:5.6706em;"><span class="stl_103 stl_20 stl_122" style="word-spacing:-0.0023em;">附录 </span><span class="stl_109 stl_18 stl_122" style="word-spacing:-0.0023em;">B</span><span class="stl_103 stl_20 stl_122" style="word-spacing:-0.0023em;">ꢀ互联网简介</span><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">.</span></sup><span class="stl_51 stl_52 stl_114" style="word-spacing:-0.0026em;">184 &nbsp;</span></div>
					<div class="stl_01" style="top:36.9203em; left:5.6706em;"><span class="stl_103 stl_20 stl_111" style="word-spacing:-0.0019em;">附录 </span><span class="stl_109 stl_18 stl_111" style="word-spacing:-0.0019em;">C</span><span class="stl_103 stl_20 stl_111" style="word-spacing:-0.0019em;">ꢀ网络数据采集的法律与道德约束</span><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">.</span></sup><span class="stl_51 stl_52 stl_110" style="word-spacing:-0.0021em;">188 &nbsp;</span></div>
					<div class="stl_01" style="top:39.0995em; left:5.6706em;"><span class="stl_103 stl_20 stl_120">作者简介</span><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><span class="stl_51 stl_52 stl_121">200 &nbsp;</span></div>
					<div class="stl_01" style="top:41.1763em; left:5.6706em;"><span class="stl_103 stl_20 stl_120">封面介绍</span><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><sup><span class="stl_51 stl_52 stl_121">.</span></sup><span class="stl_51 stl_52 stl_121">200 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:5.6457em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.424em;">viii </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.424em;">｜</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.598em;"> 目录 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_16.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_16.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01 stl_69" style="top:8.0619em; left:31.6953em;"><span class="stl_70 stl_20 stl_71">译者序 &nbsp;</span></div>
					<div class="stl_01" style="top:19.765em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">每时每刻，搜索引擎和网站都在采集大量信息，非原创即采集。采集信息用的程序一般被 &nbsp;</span></div>
					<div class="stl_01" style="top:20.9373em; left:6.6142em;"><span class="stl_129 stl_49 stl_131" style="word-spacing:0.1263em;">称为网络爬虫（</span><span class="stl_132 stl_52 stl_131" style="word-spacing:0.1263em;">Web crawler</span><span class="stl_129 stl_49 stl_131" style="word-spacing:0.1263em;">）、网络铲（</span><span class="stl_132 stl_52 stl_131" style="word-spacing:0.1263em;">Web scraper</span><span class="stl_129 stl_49 stl_131" style="word-spacing:0.1263em;">，可类比考古用的洛阳铲）、网络蜘 &nbsp;</span></div>
					<div class="stl_01" style="top:22.1873em; left:6.6142em;"><span class="stl_129 stl_49 stl_88" style="word-spacing:0.1166em;">蛛（</span><span class="stl_132 stl_52 stl_88" style="word-spacing:0.1166em;">Web spider</span><span class="stl_129 stl_49 stl_88" style="word-spacing:0.1166em;">），其行为一般是先“爬”到对应的网页上，再把需要的信息“铲”下来。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.4373em; left:6.6142em;"><span class="stl_132 stl_52 stl_133" style="word-spacing:-0.0203em;">O</span><span class="stl_134 stl_36 stl_133" style="word-spacing:-0.0203em;">’</span><span class="stl_132 stl_52 stl_133" style="word-spacing:-0.0203em;">Reilly </span><span class="stl_129 stl_49 stl_133" style="word-spacing:-0.0203em;">这本书的封面图案是一只穿山甲，图灵公司把这本书的中文版定名为“</span><span class="stl_132 stl_52 stl_133" style="word-spacing:-0.0203em;">Python </span><span class="stl_129 stl_49 stl_133" style="word-spacing:-0.0203em;">网 &nbsp;</span></div>
					<div class="stl_01" style="top:24.765em; left:6.6143em;"><span class="stl_129 stl_49 stl_135">络数据采集”。当我们看完这本书的时候，觉得网络数据采集程序也像是一只辛勤采蜜的 &nbsp;</span></div>
					<div class="stl_01" style="top:26.015em; left:6.6142em;"><span class="stl_129 stl_49 stl_135">小蜜蜂，它飞到花（目标网页）上，采集花粉（需要的信息），经过处理（数据清洗、存 &nbsp;</span></div>
					<div class="stl_01" style="top:27.265em; left:6.6142em;"><span class="stl_129 stl_49 stl_136">储）变成蜂蜜（可用的数据）。网络数据采集可以为生活加点儿蜜，亦如本书作者所说， &nbsp;</span></div>
					<div class="stl_01" style="top:28.515em; left:6.2183em;"><span class="stl_129 stl_49 stl_10">“</span></div>
					<div class="stl_01" style="top:28.515em; left:7.01em;"><span class="stl_129 stl_49 stl_137">网络数据采集是为普通大众所喜闻乐见的计算机巫术”。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.4261em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">网络数据采集大有所为。在大数据深入人心的时代，网络数据采集作为网络、数据库与机 &nbsp;</span></div>
					<div class="stl_01" style="top:31.6764em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">器学习等领域的交汇点，已经成为满足个性化网络数据需求的最佳实践。搜索引擎可以满 &nbsp;</span></div>
					<div class="stl_01" style="top:32.9264em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">足人们对数据的共性需求，即“我来了，我看见”，而网络数据采集技术可以进一步精炼 &nbsp;</span></div>
					<div class="stl_01" style="top:34.1764em; left:6.6142em;"><span class="stl_129 stl_49 stl_139">数据，把网络中杂乱无章的数据聚合成合理规范的形式，方便分析与挖掘，真正实现“我 &nbsp;</span></div>
					<div class="stl_01" style="top:35.4264em; left:6.6142em;"><span class="stl_129 stl_49 stl_140">征服”。工作中，你可能经常为找数据而烦恼，或者眼睁睁看着眼前的几百页数据却只能 &nbsp;</span></div>
					<div class="stl_01" style="top:36.6764em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">长恨咫尺天涯，又或者数据杂乱无章的网站中满是带有陷阱的表单和坑爹的验证码，甚至 &nbsp;</span></div>
					<div class="stl_01" style="top:37.8487em; left:6.6142em;"><span class="stl_129 stl_49 stl_128" style="word-spacing:-0.0031em;">需要的数据都在网页版的 </span><span class="stl_132 stl_52 stl_128" style="word-spacing:-0.0031em;">PDF </span><span class="stl_129 stl_49 stl_128" style="word-spacing:-0.0031em;">和网络图片中。而作为一名网站管理员，你也需要了解常用 &nbsp;</span></div>
					<div class="stl_01" style="top:39.1764em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">的网络数据采集手段，以及常用的网络表单安全措施，以提高网站访问的安全性，所谓道 &nbsp;</span></div>
					<div class="stl_01" style="top:40.4264em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">高一尺，魔高一丈……一念清净，烈焰成池，一念觉醒，方登彼岸，本书试图成为解决这 &nbsp;</span></div>
					<div class="stl_01" style="top:41.6765em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">些问题的一念，让你茅塞顿开，船登彼岸。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.5098em; left:6.6142em;"><span class="stl_129 stl_49 stl_141" style="word-spacing:-0.0785em;">网络数据采集并不是一门语言的独门秘籍，</span><span class="stl_132 stl_52 stl_141" style="word-spacing:-0.0785em;">Python</span><span class="stl_129 stl_49 stl_141" style="word-spacing:-0.0785em;">、</span><span class="stl_132 stl_52 stl_141" style="word-spacing:-0.0785em;">Java</span><span class="stl_129 stl_49 stl_141" style="word-spacing:-0.0785em;">、</span><span class="stl_132 stl_52 stl_141" style="word-spacing:-0.0785em;">PHP</span><span class="stl_129 stl_49 stl_141" style="word-spacing:-0.0785em;">、</span><span class="stl_132 stl_52 stl_141" style="word-spacing:-0.0785em;">C#</span><span class="stl_129 stl_49 stl_141" style="word-spacing:-0.0785em;">、</span><span class="stl_132 stl_52 stl_141" style="word-spacing:-0.0785em;">Go </span><span class="stl_129 stl_49 stl_141" style="word-spacing:-0.0785em;">等语言都可 &nbsp;</span></div>
					<div class="stl_01" style="top:44.8378em; left:6.6142em;"><span class="stl_129 stl_49 stl_142">以讲出精彩的故事。有人说编程语言就是宗教，不同语言的设计哲学不同，行为方式各 &nbsp;</span></div>
					<div class="stl_01" style="top:46.0878em; left:6.6142em;"><span class="stl_129 stl_49 stl_143">异，“非我族类，其心必异”，但本着美好生活、快乐修行的初衷，我们对所有语言都时刻 &nbsp;</span></div>
					<div class="stl_01" style="top:47.2601em; left:6.6142em;"><span class="stl_129 stl_49 stl_144" style="word-spacing:-0.046em;">保持敬畏之心，尊重信仰自由，努力做好自己的功课。对爱好 </span><span class="stl_132 stl_52 stl_144" style="word-spacing:-0.046em;">Python </span><span class="stl_129 stl_49 stl_144" style="word-spacing:-0.046em;">的人来说，人生苦 &nbsp;</span></div>
					<div class="stl_01" style="top:48.5101em; left:6.6142em;"><span class="stl_129 stl_49 stl_145" style="word-spacing:-0.0541em;">短，</span><span class="stl_132 stl_52 stl_145" style="word-spacing:-0.0541em;">Python </span><span class="stl_129 stl_49 stl_145" style="word-spacing:-0.0541em;">当歌！简洁轻松的语法，开箱即用的模块，强大快乐的社区，总可以快速构 &nbsp;</span></div>
					<div class="stl_01" style="top:49.7601em; left:6.6142em;"><span class="stl_129 stl_49 stl_146" style="word-spacing:-0.03em;">建出简单高效的解决方案。使用 </span><span class="stl_132 stl_52 stl_146" style="word-spacing:-0.03em;">Python </span><span class="stl_129 stl_49 stl_146" style="word-spacing:-0.03em;">的日子总是充满快乐的，本书关于 </span><span class="stl_132 stl_52 stl_146" style="word-spacing:-0.03em;">Python </span><span class="stl_129 stl_49 stl_146" style="word-spacing:-0.03em;">网络数 &nbsp;</span></div>
					<div class="stl_01" style="top:52.3098em; left:37.2435em;"><span class="stl_119 stl_22 stl_10">ix &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_17.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_17.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9126em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">据采集的故事也不例外。网络数据采集涉及多个领域，内容包罗万象，因此本书覆盖的主 &nbsp;</span></div>
					<div class="stl_01" style="top:6.0849em; left:5.6693em;"><span class="stl_129 stl_49 stl_130" style="word-spacing:-0.0131em;">题较多，涉及的知识面相对广阔，书中介绍的 </span><span class="stl_132 stl_52 stl_130" style="word-spacing:-0.0131em;">Python </span><span class="stl_129 stl_49 stl_130" style="word-spacing:-0.0131em;">模块有 </span><span class="stl_132 stl_52 stl_130" style="word-spacing:-0.0131em;">urllib</span><span class="stl_129 stl_49 stl_130" style="word-spacing:-0.0131em;">、</span><span class="stl_132 stl_52 stl_130" style="word-spacing:-0.0131em;">BeautifulSoup</span><span class="stl_129 stl_49 stl_130" style="word-spacing:-0.0131em;">、</span><span class="stl_132 stl_52 stl_130" style="word-spacing:-0.0131em;">lxml</span><span class="stl_129 stl_49 stl_130" style="word-spacing:-0.0131em;">、 &nbsp;</span></div>
					<div class="stl_01" style="top:7.3349em; left:5.6693em;"><span class="stl_132 stl_52 stl_115" style="word-spacing:0.0144em;">Scrapy</span><span class="stl_129 stl_49 stl_115" style="word-spacing:0.0144em;">、</span><span class="stl_132 stl_52 stl_115" style="word-spacing:0.0144em;">PdfMiner</span><span class="stl_129 stl_49 stl_115" style="word-spacing:0.0144em;">、</span><span class="stl_132 stl_52 stl_115" style="word-spacing:0.0144em;">Requests</span><span class="stl_129 stl_49 stl_115" style="word-spacing:0.0144em;">、</span><span class="stl_132 stl_52 stl_115" style="word-spacing:0.0144em;">Selenium</span><span class="stl_129 stl_49 stl_115" style="word-spacing:0.0144em;">、</span><span class="stl_132 stl_52 stl_115" style="word-spacing:0.0144em;">NLTK</span><span class="stl_129 stl_49 stl_115" style="word-spacing:0.0144em;">、</span><span class="stl_132 stl_52 stl_115" style="word-spacing:0.0144em;">Pillow</span><span class="stl_129 stl_49 stl_115" style="word-spacing:0.0144em;">、</span><span class="stl_132 stl_52 stl_115" style="word-spacing:0.0144em;">unittest</span><span class="stl_129 stl_49 stl_115" style="word-spacing:0.0144em;">、</span><span class="stl_132 stl_52 stl_115" style="word-spacing:0.0144em;">PySocks </span><span class="stl_129 stl_49 stl_115" style="word-spacing:0.0144em;">等，还有一些 &nbsp;</span></div>
					<div class="stl_01" style="top:8.5849em; left:5.6693em;"><span class="stl_129 stl_49 stl_147" style="word-spacing:-0.019em;">知名网站的 </span><span class="stl_132 stl_52 stl_147" style="word-spacing:-0.019em;">API</span><span class="stl_129 stl_49 stl_147" style="word-spacing:-0.019em;">、</span><span class="stl_132 stl_52 stl_147" style="word-spacing:-0.019em;">MySQL </span><span class="stl_129 stl_49 stl_147" style="word-spacing:-0.019em;">数据库、</span><span class="stl_132 stl_52 stl_147" style="word-spacing:-0.019em;">OpenRe</span><span class="stl_148 stl_52 stl_147" style="word-spacing:-0.019em;">ﬁ</span><span class="stl_132 stl_52 stl_147" style="word-spacing:-0.019em;">ne </span><span class="stl_129 stl_49 stl_147" style="word-spacing:-0.019em;">数据分析工具、</span><span class="stl_132 stl_52 stl_147" style="word-spacing:-0.019em;">PhanthomJS </span><span class="stl_129 stl_49 stl_147" style="word-spacing:-0.019em;">无头浏览器以 &nbsp;</span></div>
					<div class="stl_01" style="top:9.835em; left:5.6693em;"><span class="stl_129 stl_49 stl_149" style="word-spacing:-0.0682em;">及 </span><span class="stl_132 stl_52 stl_149" style="word-spacing:-0.0682em;">Tor </span><span class="stl_129 stl_49 stl_149" style="word-spacing:-0.0682em;">代理服务器等内容。每行到一处，皆是风景独好，而且作者也为每一个主题提供 &nbsp;</span></div>
					<div class="stl_01" style="top:11.0849em; left:5.6693em;"><span class="stl_129 stl_49 stl_150">了深入研究的参考资料。不过，本书关于多进程（</span><span class="stl_132 stl_52 stl_150">multiprocessing</span><span class="stl_129 stl_49 stl_150">）、并发（</span><span class="stl_132 stl_52 stl_150">concurrency</span><span class="stl_129 stl_49 stl_150">）、 &nbsp;</span></div>
					<div class="stl_01" style="top:12.3349em; left:5.6693em;"><span class="stl_129 stl_49 stl_151">集群（</span><span class="stl_132 stl_52 stl_151">cluster</span><span class="stl_129 stl_49 stl_151">）等高性能采集主题着墨不多，更加关注性能的读者，可以参考其他关于 &nbsp;</span></div>
					<div class="stl_01" style="top:13.5849em; left:5.6693em;"><span class="stl_132 stl_52 stl_152" style="word-spacing:-0.0135em;">Python </span><span class="stl_129 stl_49 stl_152" style="word-spacing:-0.0135em;">高性能和多核编程的书籍。总之，本书通俗易懂，简单易行，有编程基础的同学都 &nbsp;</span></div>
					<div class="stl_01" style="top:14.835em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">可以阅读。不会 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">？抽一节课时间学一下吧。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.8237em; left:5.6693em;"><span class="stl_129 stl_49 stl_153">网络数据采集也应该有所不为。国内外关于网络数据保护的法律法规都在不断地制定与完 &nbsp;</span></div>
					<div class="stl_01" style="top:18.0741em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">善中，本书作者在书中介绍了美国与网络数据采集相关的法律与典型案例，呼吁网络爬虫 &nbsp;</span></div>
					<div class="stl_01" style="top:19.324em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">严格控制网络数据采集的速度，降低被采集网站服务器的负担。恶意消耗别人网站的服务 &nbsp;</span></div>
					<div class="stl_01" style="top:20.5741em; left:5.6693em;"><span class="stl_129 stl_49 stl_139">器资源，甚至拖垮别人网站是一件不道德的事情。众所周知，这已经不仅仅是一句“吸烟 &nbsp;</span></div>
					<div class="stl_01" style="top:21.8241em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">有害健康”之类的空洞口号，它可能导致更严重的法律后果，且行且珍惜！ &nbsp;</span></div>
					<div class="stl_01" style="top:23.7352em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">语言是思想的解释器，书籍是语言的载体。本书英文原著是作者用英文解释器为自己思想 &nbsp;</span></div>
					<div class="stl_01" style="top:24.9855em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">写的载体，而译本是译者根据英文原著以及与作者的交流，用简体中文解释器为作者思想 &nbsp;</span></div>
					<div class="stl_01" style="top:26.2355em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">写的载体。读者拿到的中译本，是作者思想经过两层解释器转换的结果，其目的是希望帮 &nbsp;</span></div>
					<div class="stl_01" style="top:27.4855em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">助中文读者消除语言障碍，理解作者的思想，与作者产生共鸣，一起面对作者曾经遇到的 &nbsp;</span></div>
					<div class="stl_01" style="top:28.6578em; left:5.6693em;"><span class="stl_129 stl_49 stl_138" style="word-spacing:-0.0178em;">问题，共同探索解决问题的方法，从而帮助读者提高解决问题的能力，增强直面 </span><span class="stl_132 stl_52 stl_138" style="word-spacing:-0.0178em;">bug </span><span class="stl_129 stl_49 stl_138" style="word-spacing:-0.0178em;">的信 &nbsp;</span></div>
					<div class="stl_01" style="top:29.9078em; left:5.6693em;"><span class="stl_129 stl_49 stl_154" style="word-spacing:-0.006em;">心。</span><span class="stl_132 stl_52 stl_154" style="word-spacing:-0.006em;">bug </span><span class="stl_129 stl_49 stl_154" style="word-spacing:-0.006em;">是产品生命中的挑战，好产品是不断面对 </span><span class="stl_132 stl_52 stl_154" style="word-spacing:-0.006em;">bug </span><span class="stl_129 stl_49 stl_154" style="word-spacing:-0.006em;">并战胜 </span><span class="stl_132 stl_52 stl_154" style="word-spacing:-0.006em;">bug </span><span class="stl_129 stl_49 stl_154" style="word-spacing:-0.006em;">的结果。译者水平有限， &nbsp;</span></div>
					<div class="stl_01" style="top:31.1578em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">译文 </span><span class="stl_132 stl_52 stl_10">bug </span><span class="stl_129 stl_49 stl_10">也在所难免，翻译有不到之处，还请各位读者批评指正！ &nbsp;</span></div>
					<div class="stl_01" style="top:33.1465em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">最后要感谢图灵公司朱巍老师的大力支持，让译作得以顺利出版。也要感谢神烦小宝的温 &nbsp;</span></div>
					<div class="stl_01" style="top:34.3192em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">馨陪伴，每天 </span><span class="stl_132 stl_52 stl_10">6 </span><span class="stl_129 stl_49 stl_10">点叫我们起床，让业余时间格外宽裕。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.308em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">译者联系方式—— &nbsp;</span></div>
					<div class="stl_01" style="top:37.4803em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">邮箱：</span><span class="stl_132 stl_52 stl_10">muxuezi@gmail.com</span><span class="stl_129 stl_49 stl_10">，微信号：</span><span class="stl_132 stl_52 stl_10">muxuezi &nbsp;</span></div>
					<div class="stl_01" style="top:38.7304em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">邮箱：</span><span class="stl_132 stl_52 stl_10">carrieforchen@gmail.com</span><span class="stl_129 stl_49 stl_10">，微信号：陈小莉 &nbsp;</span></div>
					<div class="stl_01" style="top:40.7243em; left:34.4757em;"><span class="stl_155 stl_39 stl_10">陶俊杰 &nbsp;</span></div>
					<div class="stl_01" style="top:41.9523em; left:32.2986em;"><span class="stl_134 stl_36 stl_10">2</span></div>
					<div class="stl_01" style="top:41.9523em; left:32.6944em;"><span class="stl_134 stl_36 stl_10">015 </span><span class="stl_155 stl_39 stl_10">年 </span><span class="stl_134 stl_36 stl_10">10 </span><span class="stl_155 stl_39 stl_10">月 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:5.6457em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">x </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 译者序 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_18.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_18.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01 stl_69" style="top:8.0619em; left:33.7453em;"><span class="stl_70 stl_20 stl_71">前言 &nbsp;</span></div>
					<div class="stl_01" style="top:19.6873em; left:6.6142em;"><span class="stl_129 stl_49 stl_135">对那些没有学过编程的人来说，计算机编程看着就像变魔术。如果编程是魔术（</span><span class="stl_132 stl_52 stl_135">magic</span><span class="stl_129 stl_49 stl_135">）， &nbsp;</span></div>
					<div class="stl_01" style="top:20.9373em; left:6.6142em;"><span class="stl_129 stl_49 stl_84" style="word-spacing:0.1171em;">那么</span><span class="stl_155 stl_39 stl_84" style="word-spacing:0.1171em;">网络数据采集</span><span class="stl_129 stl_49 stl_84" style="word-spacing:0.1171em;">（</span><span class="stl_132 stl_52 stl_84" style="word-spacing:0.1171em;">Web scraping</span><span class="stl_129 stl_49 stl_84" style="word-spacing:0.1171em;">）就是巫术（</span><span class="stl_132 stl_52 stl_84" style="word-spacing:0.1171em;">wizardry</span><span class="stl_129 stl_49 stl_84" style="word-spacing:0.1171em;">）；也就是运用“魔术”来实现精 &nbsp;</span></div>
					<div class="stl_01" style="top:22.265em; left:6.6139em;"><span class="stl_129 stl_49 stl_156">彩实用却又不费吹灰之力的“壮举”。 &nbsp;</span></div>
					<div class="stl_01" style="top:24.1761em; left:6.6139em;"><span class="stl_129 stl_49 stl_138">说句实话，在我的软件工程师职业生涯中，我几乎没有发现像网络数据采集这样的编程实 &nbsp;</span></div>
					<div class="stl_01" style="top:25.4262em; left:6.6139em;"><span class="stl_129 stl_49 stl_130">践，可以同时吸引程序员和门外汉的注意。虽然写一个简单的网络爬虫并不难，就是先收 &nbsp;</span></div>
					<div class="stl_01" style="top:26.6764em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">集数据，再显示到命令行或者存储到数据库里，但是无论你之前已经做过多少次了，这件 &nbsp;</span></div>
					<div class="stl_01" style="top:27.9265em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">事永远会让你感到兴奋，同时又有新的可能。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.8375em; left:6.6142em;"><span class="stl_129 stl_49 stl_157">不过遗憾的是，当和别的程序员提起网络数据采集时，我听到了很多关于这件事的误解 &nbsp;</span></div>
					<div class="stl_01" style="top:31.0879em; left:6.6142em;"><span class="stl_129 stl_49 stl_140">与困惑。有些人不确定它是不是合法的（其实合法），有人不明白怎么处理那些到处都是 &nbsp;</span></div>
					<div class="stl_01" style="top:32.2602em; left:6.6142em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">JavaScript</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">、多媒体和 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">cookie </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">的新式网站，还有人对 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">API </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">和网络爬虫的区别感到困惑。 &nbsp;</span></div>
					<div class="stl_01" style="top:34.2489em; left:6.6142em;"><span class="stl_129 stl_49 stl_153">这本书的初衷是要解决人们对网络数据采集的诸多问题与误解，并对常见的网络数据采集 &nbsp;</span></div>
					<div class="stl_01" style="top:35.4993em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">任务提供全面的指导。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.3327em; left:6.6142em;"><span class="stl_129 stl_49 stl_158" style="word-spacing:-0.0676em;">从第 </span><span class="stl_132 stl_52 stl_158" style="word-spacing:-0.0676em;">1 </span><span class="stl_129 stl_49 stl_158" style="word-spacing:-0.0676em;">章开始，我将不断地提供代码示例来演示书中内容。这些代码示例是开源的，无 &nbsp;</span></div>
					<div class="stl_01" style="top:38.6606em; left:6.6142em;"><span class="stl_129 stl_49 stl_159">论注明出处与否都可以免费使用（但若注明会让作者感激不尽）。所有的代码示例都在 &nbsp;</span></div>
					<div class="stl_01" style="top:39.833em; left:6.6142em;"><span class="stl_132 stl_52 stl_25" style="word-spacing:0.0159em;">GitHub </span><span class="stl_129 stl_49 stl_25" style="word-spacing:0.0159em;">网站上（</span><span class="stl_132 stl_52 stl_25" style="word-spacing:0.0159em;">https://github.com/REMitchell/python-scraping</span><span class="stl_129 stl_49 stl_25" style="word-spacing:0.0159em;">），可以查看和下载。 &nbsp;</span></div>
					<div class="stl_01" style="top:42.4142em; left:6.6142em;"><span class="stl_160 stl_20 stl_71">什么是网络数据采集 &nbsp;</span></div>
					<div class="stl_01" style="top:44.6888em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">在互联网上进行自动数据采集这件事和互联网存在的时间差不多一样长。虽然</span><span class="stl_155 stl_39 stl_130">网络数据采 &nbsp;</span></div>
					<div class="stl_01" style="top:45.9114em; left:6.6142em;"><span class="stl_155 stl_39 stl_127" style="word-spacing:0.1219em;">集</span><span class="stl_129 stl_49 stl_127" style="word-spacing:0.1219em;">并不是新术语，但是多年以来，这件事更常见的称谓是</span><span class="stl_155 stl_39 stl_127" style="word-spacing:0.1219em;">网页抓屏</span><span class="stl_129 stl_49 stl_127" style="word-spacing:0.1219em;">（</span><span class="stl_132 stl_52 stl_127" style="word-spacing:0.1219em;">screen scraping</span><span class="stl_129 stl_49 stl_127" style="word-spacing:0.1219em;">）、</span><span class="stl_155 stl_39 stl_127" style="word-spacing:0.1219em;">数 &nbsp;</span></div>
					<div class="stl_01" style="top:47.1614em; left:6.6143em;"><span class="stl_155 stl_39 stl_128" style="word-spacing:0.1214em;">据挖掘</span><span class="stl_129 stl_49 stl_128" style="word-spacing:0.1214em;">（</span><span class="stl_132 stl_52 stl_128" style="word-spacing:0.1214em;">data mining</span><span class="stl_129 stl_49 stl_128" style="word-spacing:0.1214em;">）、</span><span class="stl_155 stl_39 stl_128" style="word-spacing:0.1214em;">网络收割</span><span class="stl_129 stl_49 stl_128" style="word-spacing:0.1214em;">（</span><span class="stl_132 stl_52 stl_128" style="word-spacing:0.1214em;">Web harvesting</span><span class="stl_129 stl_49 stl_128" style="word-spacing:0.1214em;">）或其他类似的版本。今天大众好像更 &nbsp;</span></div>
					<div class="stl_01" style="top:48.4891em; left:6.6142em;"><span class="stl_129 stl_49 stl_140">倾向于用“网络数据采集”，因此我在本书中使用这个术语，不过有时会把网络数据采集 &nbsp;</span></div>
					<div class="stl_01" style="top:49.6615em; left:6.6142em;"><span class="stl_129 stl_49 stl_161">程序称为</span><span class="stl_155 stl_39 stl_161">网络机器人</span><span class="stl_129 stl_49 stl_161">（</span><span class="stl_132 stl_52 stl_161">bots</span><span class="stl_129 stl_49 stl_161">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.3099em; left:37.2435em;"><span class="stl_119 stl_22 stl_10">xi &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_19.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_19.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_129 stl_49 stl_162" style="word-spacing:-0.0123em;">理论上，网络数据采集是一种通过多种手段收集网络数据的方式，不光是通过与 </span><span class="stl_132 stl_52 stl_162" style="word-spacing:-0.0123em;">API </span><span class="stl_129 stl_49 stl_162" style="word-spacing:-0.0123em;">交互 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1627em; left:5.2735em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:6.1626em; left:6.0841em;"><span class="stl_129 stl_49 stl_163">或者直接与浏览器交互）的方式。最常用的方法是写一个自动化程序向网络服务器请求 &nbsp;</span></div>
					<div class="stl_01" style="top:7.335em; left:5.6693em;"><span class="stl_129 stl_49 stl_164" style="word-spacing:0.0271em;">数据（通常是用 </span><span class="stl_132 stl_52 stl_164" style="word-spacing:0.0271em;">HTML </span><span class="stl_129 stl_49 stl_164" style="word-spacing:0.0271em;">表单或其他网页文件），然后对数据进行解析，提取需要的信息。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.3237em; left:5.6693em;"><span class="stl_129 stl_49 stl_139">实践中，网络数据采集涉及非常广泛的编程技术和手段，比如数据分析、信息安全等。本 &nbsp;</span></div>
					<div class="stl_01" style="top:10.4961em; left:5.6693em;"><span class="stl_129 stl_49 stl_165">书将在第一部分介绍关于网络数据采集和网络爬行（</span><span class="stl_132 stl_52 stl_165">crawling</span><span class="stl_129 stl_49 stl_165">）的基础知识，一些高级主 &nbsp;</span></div>
					<div class="stl_01" style="top:11.8241em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">题放在第二部分介绍。 &nbsp;</span></div>
					<div class="stl_01" style="top:14.3276em; left:5.6693em;"><span class="stl_160 stl_20 stl_71">为什么要做网络数据采集 &nbsp;</span></div>
					<div class="stl_01" style="top:16.6524em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">如果你上网的唯一方式就是用浏览器，那么你其实失去了很多种可能。虽然浏览器可以更 &nbsp;</span></div>
					<div class="stl_01" style="top:17.8248em; left:5.6693em;"><span class="stl_129 stl_49 stl_166" style="word-spacing:-0.0377em;">方便地执行 </span><span class="stl_132 stl_52 stl_166" style="word-spacing:-0.0377em;">JavaScript</span><span class="stl_129 stl_49 stl_166" style="word-spacing:-0.0377em;">，显示图片，并且可以把数据展示成更适合人类阅读的形式，但是 &nbsp;</span></div>
					<div class="stl_01" style="top:19.1524em; left:5.6693em;"><span class="stl_129 stl_49 stl_153">网络爬虫收集和处理大量数据的能力更为卓越。不像狭窄的显示器窗口一次只能让你看一 &nbsp;</span></div>
					<div class="stl_01" style="top:20.4025em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">个网页，网络爬虫可以让你一次查看几千甚至几百万个网页。 &nbsp;</span></div>
					<div class="stl_01" style="top:22.2359em; left:5.6693em;"><span class="stl_129 stl_49 stl_167" style="word-spacing:-0.0409em;">另外，网络爬虫可以完成传统搜索引擎不能做的事情。用 </span><span class="stl_132 stl_52 stl_167" style="word-spacing:-0.0409em;">Google </span><span class="stl_129 stl_49 stl_167" style="word-spacing:-0.0409em;">搜索“飞往波士顿最便 &nbsp;</span></div>
					<div class="stl_01" style="top:23.4862em; left:5.6693em;"><span class="stl_129 stl_49 stl_168" style="word-spacing:-0.0034em;">宜的航班”，看到的是大量的广告和主流的航班搜索网站。</span><span class="stl_132 stl_52 stl_168" style="word-spacing:-0.0034em;">Google </span><span class="stl_129 stl_49 stl_168" style="word-spacing:-0.0034em;">只知道这些网站的网页 &nbsp;</span></div>
					<div class="stl_01" style="top:24.8139em; left:5.6693em;"><span class="stl_129 stl_49 stl_142">会显示什么内容，却不知道在航班搜索应用中输入的各种查询的准确结果。但是，设计 &nbsp;</span></div>
					<div class="stl_01" style="top:26.0639em; left:5.6693em;"><span class="stl_129 stl_49 stl_153">较好的网络爬虫可以通过采集大量的网站数据，做出飞往波士顿航班价格随时间变化的图 &nbsp;</span></div>
					<div class="stl_01" style="top:27.3139em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">表，告诉你买机票的最佳时间。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.1473em; left:5.6693em;"><span class="stl_129 stl_49 stl_169" style="word-spacing:0.0227em;">你可能会问：“数据不是可以通过 </span><span class="stl_132 stl_52 stl_169" style="word-spacing:0.0227em;">API </span><span class="stl_129 stl_49 stl_169" style="word-spacing:0.0227em;">获取吗？”（如果你不熟悉 </span><span class="stl_132 stl_52 stl_169" style="word-spacing:0.0227em;">API</span><span class="stl_129 stl_49 stl_169" style="word-spacing:0.0227em;">，请阅读第 </span><span class="stl_132 stl_52 stl_169" style="word-spacing:0.0227em;">4 </span><span class="stl_129 stl_49 stl_169" style="word-spacing:0.0227em;">章。） &nbsp;</span></div>
					<div class="stl_01" style="top:30.3976em; left:5.6693em;"><span class="stl_129 stl_49 stl_170" style="word-spacing:-0.0238em;">确实，如果你能找到一个可以解决你的问题的 </span><span class="stl_132 stl_52 stl_170" style="word-spacing:-0.0238em;">API</span><span class="stl_129 stl_49 stl_170" style="word-spacing:-0.0238em;">，那会非常给力。它们可以非常方便地 &nbsp;</span></div>
					<div class="stl_01" style="top:31.6476em; left:5.6693em;"><span class="stl_129 stl_49 stl_165" style="word-spacing:-0.0358em;">向用户提供服务器里格式完好的数据。当你使用像 </span><span class="stl_132 stl_52 stl_165" style="word-spacing:-0.0358em;">Twitter </span><span class="stl_129 stl_49 stl_165" style="word-spacing:-0.0358em;">或维基百科的 </span><span class="stl_132 stl_52 stl_165" style="word-spacing:-0.0358em;">API </span><span class="stl_129 stl_49 stl_165" style="word-spacing:-0.0358em;">时，会发现 &nbsp;</span></div>
					<div class="stl_01" style="top:32.8976em; left:5.6693em;"><span class="stl_129 stl_49 stl_171" style="word-spacing:-0.0128em;">一个 </span><span class="stl_132 stl_52 stl_171" style="word-spacing:-0.0128em;">API </span><span class="stl_129 stl_49 stl_171" style="word-spacing:-0.0128em;">同时提供了不同的数据类型。通常，如果有 </span><span class="stl_132 stl_52 stl_171" style="word-spacing:-0.0128em;">API </span><span class="stl_129 stl_49 stl_171" style="word-spacing:-0.0128em;">可用，</span><span class="stl_132 stl_52 stl_171" style="word-spacing:-0.0128em;">API </span><span class="stl_129 stl_49 stl_171" style="word-spacing:-0.0128em;">确实会比写一个网络 &nbsp;</span></div>
					<div class="stl_01" style="top:34.1476em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">爬虫程序来获取数据更加方便。但是，很多时候你需要的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">API </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">并不存在，这是因为： &nbsp;</span></div>
					<div class="stl_01" style="top:36.0983em; left:5.7873em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:37.3483em; left:5.788em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:38.5984em; left:5.788em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:36.0587em; left:6.8354em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">你要收集的数据来自不同的网站，没有一个综合多个网站数据的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">API</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">； &nbsp;</span></div>
					<div class="stl_01" style="top:37.3088em; left:6.8362em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">你想要的数据非常小众，网站不会为你单独做一个 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">API</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">； &nbsp;</span></div>
					<div class="stl_01" style="top:38.5588em; left:6.8362em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">一些网站没有基础设施或技术能力去建立 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">API</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.4699em; left:5.6693em;"><span class="stl_129 stl_49 stl_135" style="word-spacing:-0.0174em;">即使 </span><span class="stl_132 stl_52 stl_135" style="word-spacing:-0.0174em;">API </span><span class="stl_129 stl_49 stl_135" style="word-spacing:-0.0174em;">已经存在，可能还会有请求内容和次数限制，</span><span class="stl_132 stl_52 stl_135" style="word-spacing:-0.0174em;">API </span><span class="stl_129 stl_49 stl_135" style="word-spacing:-0.0174em;">能够提供的数据类型或者数据 &nbsp;</span></div>
					<div class="stl_01" style="top:41.7982em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">格式可能也无法满足你的需求。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.7092em; left:5.6693em;"><span class="stl_129 stl_49 stl_172">这时网络数据采集就派上用场了。你在浏览器上看到的内容，大部分都可以通过编写 &nbsp;</span></div>
					<div class="stl_01" style="top:44.8818em; left:5.6693em;"><span class="stl_132 stl_52 stl_173" style="word-spacing:-0.034em;">Python </span><span class="stl_129 stl_49 stl_173" style="word-spacing:-0.034em;">程序来获取。如果你可以通过程序获取数据，那么就可以把数据存储到数据库里。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.2096em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">如果你可以把数据存储到数据库里，自然也就可以将这些数据可视化。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.1207em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">显然，大量的应用场景都会需要这种几乎可以毫无阻碍地获取数据的手段：市场预测、机 &nbsp;</span></div>
					<div class="stl_01" style="top:49.3707em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">器语言翻译，甚至医疗诊断领域，通过对新闻网站、文章以及健康论坛中的数据进行采集 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:5.6457em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">xii </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 前言 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_20.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_20.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9126em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">和分析，也可以获得很多好处。 &nbsp;</span></div>
					<div class="stl_01" style="top:6.746em; left:6.6142em;"><span class="stl_129 stl_49 stl_174" style="word-spacing:-0.0635em;">甚至在艺术领域，网络数据采集也为艺术创作开辟了新方向。由 </span><span class="stl_132 stl_52 stl_174" style="word-spacing:-0.0635em;">Jonathan</span><span class="stl_132 stl_52 stl_174" style="word-spacing:-0.0192em;"> Harris </span><span class="stl_129 stl_49 stl_174" style="word-spacing:-0.0192em;">和</span><span class="stl_132 stl_52 stl_174" style="word-spacing:-0.0635em;"> Sep &nbsp;</span></div>
					<div class="stl_01" style="top:7.9963em; left:6.6142em;"><span class="stl_132 stl_52 stl_175" style="word-spacing:0.0181em;">Kamvar </span><span class="stl_129 stl_49 stl_175" style="word-spacing:0.0181em;">在 </span><span class="stl_132 stl_52 stl_175" style="word-spacing:0.0181em;">2006 </span><span class="stl_129 stl_49 stl_175" style="word-spacing:0.0181em;">年发起的“我们感觉挺好”（</span><span class="stl_132 stl_52 stl_175" style="word-spacing:0.0181em;">We</span><span class="stl_132 stl_52 stl_175" style="word-spacing:0.0733em;"> Feel</span><span class="stl_132 stl_52 stl_175" style="word-spacing:0.0733em;"> Fine</span><span class="stl_129 stl_49 stl_175" style="word-spacing:0.0733em;">，</span><span class="stl_132 stl_52 stl_175" style="word-spacing:0.0733em;">http://wefeel</span><span class="stl_148 stl_52 stl_175" style="word-spacing:0.0733em;">ﬁ</span><span class="stl_132 stl_52 stl_175" style="word-spacing:0.0733em;">ne.org/</span><span class="stl_129 stl_49 stl_175" style="word-spacing:0.0733em;">）项目，从 &nbsp;</span></div>
					<div class="stl_01" style="top:9.2463em; left:6.6142em;"><span class="stl_129 stl_49 stl_176" style="word-spacing:0.1202em;">大量英文博客中抓取许多以“</span><span class="stl_132 stl_52 stl_176" style="word-spacing:0.1202em;">I feel</span><span class="stl_129 stl_49 stl_176" style="word-spacing:0.1202em;">”和“</span><span class="stl_132 stl_52 stl_176" style="word-spacing:0.1202em;">I am feeling</span><span class="stl_129 stl_49 stl_176" style="word-spacing:0.1202em;">”开头的短句，最终做成了一个很受 &nbsp;</span></div>
					<div class="stl_01" style="top:10.5741em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">大众欢迎的数据可视图，描述了这个世界每天、每分钟的感觉。 &nbsp;</span></div>
					<div class="stl_01" style="top:12.4852em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">无论你现在处于哪个领域，网络数据采集都可以让你的工作更高效，帮你提升生产力，甚 &nbsp;</span></div>
					<div class="stl_01" style="top:13.7355em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">至开创一个全新的领域。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.239em; left:6.6142em;"><span class="stl_160 stl_20 stl_71">关于本书 &nbsp;</span></div>
					<div class="stl_01" style="top:18.5639em; left:6.6142em;"><span class="stl_129 stl_49 stl_177">本书不仅介绍了网络数据采集，也为采集新式网络中的各种数据类型提供了全面的指导。 &nbsp;</span></div>
					<div class="stl_01" style="top:19.7362em; left:6.6142em;"><span class="stl_129 stl_49 stl_178" style="word-spacing:-0.0706em;">虽然本书用的是 </span><span class="stl_132 stl_52 stl_178" style="word-spacing:-0.0706em;">Python </span><span class="stl_129 stl_49 stl_178" style="word-spacing:-0.0706em;">编程语言，里面涉及 </span><span class="stl_132 stl_52 stl_178" style="word-spacing:-0.0706em;">Python </span><span class="stl_129 stl_49 stl_178" style="word-spacing:-0.0706em;">的许多基础知识，但这并不是一本 &nbsp;</span></div>
					<div class="stl_01" style="top:20.9862em; left:6.6142em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">入门图书。 &nbsp;</span></div>
					<div class="stl_01" style="top:22.8973em; left:6.6142em;"><span class="stl_129 stl_49 stl_152" style="word-spacing:-0.0135em;">如果你不太懂编程，也完全不了解 </span><span class="stl_132 stl_52 stl_152" style="word-spacing:-0.0135em;">Python</span><span class="stl_129 stl_49 stl_152" style="word-spacing:-0.0135em;">，那么这本书看起来可能有点儿费劲。但是，如 &nbsp;</span></div>
					<div class="stl_01" style="top:24.1476em; left:6.6142em;"><span class="stl_129 stl_49 stl_179" style="word-spacing:-0.0086em;">果你懂编程，那么书中的内容可以很快上手。附录 </span><span class="stl_132 stl_52 stl_179" style="word-spacing:-0.0086em;">A</span><span class="stl_129 stl_49 stl_179" style="word-spacing:-0.0088em;"> 介绍了</span><span class="stl_132 stl_52 stl_179" style="word-spacing:-0.0086em;"> Python</span><span class="stl_132 stl_52 stl_179" style="word-spacing:0.1144em;"> 3.x</span><span class="stl_129 stl_49 stl_179" style="word-spacing:-0.0086em;"> 版本的安装和使用 &nbsp;</span></div>
					<div class="stl_01" style="top:25.3976em; left:6.6142em;"><span class="stl_129 stl_49 stl_180" style="word-spacing:-0.0135em;">方法，全书将使用这个版本的 </span><span class="stl_132 stl_52 stl_180" style="word-spacing:-0.0135em;">Python</span><span class="stl_129 stl_49 stl_180" style="word-spacing:-0.0135em;">。如果你的电脑里只装了</span><span class="stl_132 stl_52 stl_180" style="word-spacing:-0.0135em;"> Python</span><span class="stl_132 stl_52 stl_180" style="word-spacing:0.1085em;"> 2.x</span><span class="stl_129 stl_49 stl_180" style="word-spacing:-0.0135em;"> 版本，可能需要 &nbsp;</span></div>
					<div class="stl_01" style="top:26.6476em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">先看看附录 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">A</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.5193em; left:34.0331em;"><span class="stl_181 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:28.5587em; left:6.6142em;"><span class="stl_129 stl_49 stl_182" style="word-spacing:-0.0393em;">如果你想更全面地学习 </span><span class="stl_132 stl_52 stl_182" style="word-spacing:-0.0393em;">Python</span><span class="stl_129 stl_49 stl_182" style="word-spacing:-0.0393em;">，</span><span class="stl_132 stl_52 stl_182" style="word-spacing:-0.0393em;">Bill</span><span class="stl_132 stl_52 stl_182" style="word-spacing:0.0689em;"> Lubanovic</span><span class="stl_129 stl_49 stl_182" style="word-spacing:-0.0402em;"> 写的《</span><span class="stl_132 stl_52 stl_182" style="word-spacing:-0.0402em;">Python</span><span class="stl_129 stl_49 stl_182" style="word-spacing:-0.0393em;"> 语言及其应用》</span><span class="stl_129 stl_49 stl_182" style="word-spacing:0.2455em;"> 是本非常 &nbsp;</span></div>
					<div class="stl_01" style="top:29.809em; left:6.614em;"><span class="stl_129 stl_49 stl_183" style="word-spacing:0.0933em;">好的教材，只是书有点儿厚。如果不想看书，</span><span class="stl_132 stl_52 stl_183" style="word-spacing:0.0933em;">Jessica McKellar</span><span class="stl_129 stl_49 stl_183" style="word-spacing:-0.0229em;"> 的教学视频</span><span class="stl_132 stl_52 stl_183" style="word-spacing:-0.0219em;"> Introduction</span><span class="stl_132 stl_52 stl_183" style="word-spacing:0.0921em;"> to &nbsp;</span></div>
					<div class="stl_01" style="top:31.059em; left:6.6142em;"><span class="stl_132 stl_52 stl_10">Python</span><span class="stl_129 stl_49 stl_10">（</span><span class="stl_132 stl_52 stl_10">http://shop.oreilly.com/product/110000448.do</span><span class="stl_129 stl_49 stl_10">）也非常不错。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.9701em; left:6.6142em;"><span class="stl_129 stl_49 stl_184" style="word-spacing:-0.0097em;">附录 </span><span class="stl_132 stl_52 stl_184" style="word-spacing:-0.0097em;">C </span><span class="stl_129 stl_49 stl_184" style="word-spacing:-0.0097em;">介绍并分析了几个商业案例以及犯罪事件，可以帮助你了解如何在美国合法地运行 &nbsp;</span></div>
					<div class="stl_01" style="top:34.2982em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">网络爬虫并使用数据。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.2092em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">技术书通常都是介绍一种语言或技术，而网络数据采集是一个比较综合的主题，涉及数据 &nbsp;</span></div>
					<div class="stl_01" style="top:37.3818em; left:6.6142em;"><span class="stl_129 stl_49 stl_170" style="word-spacing:-0.0218em;">库、网络服务器、</span><span class="stl_132 stl_52 stl_170" style="word-spacing:-0.0218em;">HTTP </span><span class="stl_129 stl_49 stl_170" style="word-spacing:-0.0218em;">协议、</span><span class="stl_132 stl_52 stl_170" style="word-spacing:-0.0218em;">HTML </span><span class="stl_129 stl_49 stl_170" style="word-spacing:-0.0218em;">语言、网络安全、图像处理、数据科学等内容。本 &nbsp;</span></div>
					<div class="stl_01" style="top:38.7096em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">书尝试涵盖网络数据采集的所有内容。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.6207em; left:6.6142em;"><span class="stl_129 stl_49 stl_185">第一部分深入讲解网络数据采集和网络爬行相关内容，并重点介绍全书都要用到的几个 &nbsp;</span></div>
					<div class="stl_01" style="top:41.7933em; left:6.6142em;"><span class="stl_132 stl_52 stl_186" style="word-spacing:-0.0124em;">Python </span><span class="stl_129 stl_49 stl_186" style="word-spacing:-0.0124em;">库。这部分内容可以看成这些库和技术的综合参考（对于一些特殊情形，后面会提 &nbsp;</span></div>
					<div class="stl_01" style="top:43.121em; left:6.6142em;"><span class="stl_129 stl_49 stl_187">供其他参考资料）。 &nbsp;</span></div>
					<div class="stl_01" style="top:45.0321em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">第二部分介绍读者在动手编写网络爬虫的过程中可能会涉及的一些主题。不过，这些主题 &nbsp;</span></div>
					<div class="stl_01" style="top:46.2824em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">的范围特别广泛，这部分内容也不足以道尽玄机。因此，文中提供了许多常用的参考资料 &nbsp;</span></div>
					<div class="stl_01" style="top:47.5324em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">来补充更多的信息。 &nbsp;</span></div>
					<div class="stl_01" style="top:50.0086em; left:6.6142em;"><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">注 </span><span class="stl_61 stl_52 stl_10" style="word-spacing:0em;">1</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">：中文版已经由人民邮电出版社出版。——编者注 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:33.4911em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">前言 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">xiii &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_24.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_24.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9126em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">本书结构组织灵活，便于你直接跳到感兴趣的章节中阅读相应的网络数据采集技术。如果 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1627em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">一个概念或一段代码在之前的章节中出现过，那么我会明确标注出具体的位置。 &nbsp;</span></div>
					<div class="stl_01" style="top:8.6662em; left:5.6693em;"><span class="stl_160 stl_20 stl_71">排版约定 &nbsp;</span></div>
					<div class="stl_01" style="top:10.991em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">本书使用了下列排版约定。 &nbsp;</span></div>
					<div class="stl_01" style="top:12.864em; left:5.7873em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:16.0251em; left:5.7873em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:12.9021em; left:6.8354em;"><span class="stl_129 stl_49 stl_10">楷体 &nbsp;</span></div>
					<div class="stl_01" style="top:14.1522em; left:6.803em;"><span class="stl_129 stl_49 stl_10">表示新术语。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.0632em; left:6.8354em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">等宽字体（</span><span class="stl_188 stl_44 stl_10" style="word-spacing:-0.0001em;">constant width</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:17.3139em; left:6.8032em;"><span class="stl_129 stl_49 stl_189">表示程序片段，以及正文中出现的变量、函数名、数据库、数据类型、环境变量、语 &nbsp;</span></div>
					<div class="stl_01" style="top:18.5639em; left:6.8032em;"><span class="stl_129 stl_49 stl_10">句和关键字等。 &nbsp;</span></div>
					<div class="stl_01" style="top:20.4369em; left:5.7874em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:23.5983em; left:5.7878em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:20.475em; left:6.8356em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">加粗等宽字体（</span><span class="stl_190 stl_44 stl_10" style="word-spacing:0em;">constant width bold</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:21.7253em; left:6.8035em;"><span class="stl_129 stl_49 stl_10">表示应该由用户输入的命令或其他文本。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.6364em; left:6.836em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">斜体等宽字体（</span><span class="stl_191 stl_44 stl_10" style="word-spacing:0em;">constant width italic</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:24.8867em; left:6.803em;"><span class="stl_129 stl_49 stl_10">表示应该替换成用户输入的值，或根据上下文替换的值。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.7572em; left:10.3937em;"><span class="stl_48 stl_49 stl_10">该图标表示提示或建议。 &nbsp;</span></div>
					<div class="stl_01" style="top:34.1617em; left:10.3937em;"><span class="stl_48 stl_49 stl_10">该图标表示一般性说明。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.8025em; left:10.3937em;"><span class="stl_48 stl_49 stl_10">该图标表示警告或警示。 &nbsp;</span></div>
					<div class="stl_01" style="top:44.0898em; left:5.6693em;"><span class="stl_160 stl_20 stl_71">使用代码示例 &nbsp;</span></div>
					<div class="stl_01" style="top:46.3369em; left:5.6693em;"><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0016em;">补充材料（代码示例、练习等）可以从 </span><span class="stl_132 stl_52 stl_73" style="word-spacing:-0.0016em;">https://github.com/REMitchell/python-scraping </span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0016em;">下载。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.3257em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">本书是要帮你完成工作的。一般来说，如果本书提供了示例代码，你可以把它用在你的程 &nbsp;</span></div>
					<div class="stl_01" style="top:49.576em; left:5.6693em;"><span class="stl_129 stl_49 stl_139">序或文档中。除非你使用了很大一部分代码，否则无需联系我们获得许可。比如，用本书 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:5.6457em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">xiv </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 前言 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_26.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_26.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:6.6142em;"><span class="stl_129 stl_49 stl_192" style="word-spacing:-0.0232em;">的几个代码片段写一个程序就无需获得许可，销售或分发 </span><span class="stl_132 stl_52 stl_192" style="word-spacing:-0.0232em;">O'Reilly </span><span class="stl_129 stl_49 stl_192" style="word-spacing:-0.0232em;">图书的示例光盘则需要 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1627em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">获得许可；引用本书中的示例代码回答问题无需获得许可，将书中大量的代码放到你的产 &nbsp;</span></div>
					<div class="stl_01" style="top:7.4127em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">品文档中则需要获得许可。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.3238em; left:6.6142em;"><span class="stl_129 stl_49 stl_172">我们很希望但并不强制要求你在引用本书内容时加上引用说明。引用说明一般包括书 &nbsp;</span></div>
					<div class="stl_01" style="top:10.4964em; left:6.6142em;"><span class="stl_129 stl_49 stl_193" style="word-spacing:0.0214em;">名、作者、出版社和 </span><span class="stl_132 stl_52 stl_193" style="word-spacing:0.0214em;">ISBN</span><span class="stl_129 stl_49 stl_193" style="word-spacing:0.0214em;">。比如：“</span><span class="stl_194 stl_36 stl_193" style="word-spacing:0.0214em;">Web</span><span class="stl_194 stl_36 stl_193" style="word-spacing:0.1414em;"> Scraping with Python </span><span class="stl_132 stl_52 stl_193" style="word-spacing:0.1414em;">by Ryan Mitchell</span><span class="stl_132 stl_52 stl_193" style="word-spacing:0.1414em;"> (O</span><span class="stl_134 stl_36 stl_193" style="word-spacing:0.1414em;">’</span><span class="stl_132 stl_52 stl_193" style="word-spacing:0.1414em;">Reilly). &nbsp;</span></div>
					<div class="stl_01" style="top:11.7464em; left:6.615em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Copyright 2015 Ryan Mitchell, 978-1-491-91029-0.</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">” &nbsp;</span></div>
					<div class="stl_01" style="top:13.6575em; left:6.615em;"><span class="stl_129 stl_49 stl_150" style="word-spacing:0.0074em;">如果你觉得自己对示例代码的用法超出了上述许可的范围，欢迎你通过 </span><span class="stl_132 stl_52 stl_150" style="word-spacing:0.0074em;">permissions@oreilly. &nbsp;</span></div>
					<div class="stl_01" style="top:14.9075em; left:6.6146em;"><span class="stl_132 stl_52 stl_195" style="word-spacing:-0.0039em;">com </span><span class="stl_129 stl_49 stl_195" style="word-spacing:-0.0039em;">与我们联系。 &nbsp;</span></div>
					<div class="stl_01" style="top:17.2481em; left:10.5274em;"><span class="stl_196 stl_18 stl_10">®</span></div>
					<div class="stl_01" style="top:17.3738em; left:6.6142em;"><span class="stl_197 stl_18 stl_198" style="word-spacing:0.4446em;">Safari Books</span><span class="stl_197 stl_18 stl_198" style="word-spacing:0.0003em;"> Online &nbsp;</span></div>
					<div class="stl_01" style="top:19.7362em; left:16.3679em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.007em;">Safari Books Online</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.007em;">（</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.007em;">http://www.safaribooksonline.com</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.007em;">）是应运 &nbsp;</span></div>
					<div class="stl_01" style="top:21.0639em; left:16.17em;"><span class="stl_129 stl_49 stl_199">而生的数字图书馆。它同时以图书和视频的形式出版世界顶级 &nbsp;</span></div>
					<div class="stl_01" style="top:22.2362em; left:16.17em;"><span class="stl_129 stl_49 stl_200">技术和商务作家的专业作品。技术专家、软件开发人员、</span><span class="stl_132 stl_52 stl_200">Web &nbsp;</span></div>
					<div class="stl_01" style="top:23.5639em; left:16.17em;"><span class="stl_129 stl_49 stl_201">设计师、商务人士和创意专家等，在开展调研、解决问题、学 &nbsp;</span></div>
					<div class="stl_01" style="top:24.7363em; left:6.6138em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">习和认证培训时，都将 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Safari Books Online </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">视作获取资料的首选渠道。 &nbsp;</span></div>
					<div class="stl_01" style="top:26.6473em; left:6.6138em;"><span class="stl_129 stl_49 stl_202" style="word-spacing:-0.0384em;">对于组织团体、政府机构和个人，</span><span class="stl_132 stl_52 stl_202" style="word-spacing:-0.0384em;">Safari Books Online </span><span class="stl_129 stl_49 stl_202" style="word-spacing:-0.0384em;">提供各种产品组合和灵活的定 &nbsp;</span></div>
					<div class="stl_01" style="top:27.8976em; left:6.6142em;"><span class="stl_129 stl_49 stl_203" style="word-spacing:-0.0738em;">价策略。用户可通过一个功能完备的数据库检索系统访问 </span><span class="stl_132 stl_52 stl_203" style="word-spacing:-0.0738em;">O</span><span class="stl_134 stl_36 stl_203" style="word-spacing:-0.0738em;">’</span><span class="stl_132 stl_52 stl_203" style="word-spacing:-0.0738em;">Reilly Media</span><span class="stl_129 stl_49 stl_203" style="word-spacing:-0.0738em;">、</span><span class="stl_132 stl_52 stl_203" style="word-spacing:-0.0738em;">Prentice &nbsp;</span></div>
					<div class="stl_01" style="top:29.1476em; left:6.6142em;"><span class="stl_132 stl_52 stl_204" style="word-spacing:0.1251em;">Hall Professional</span><span class="stl_129 stl_49 stl_204" style="word-spacing:0.1251em;">、</span><span class="stl_132 stl_52 stl_204" style="word-spacing:0.1251em;">Addison-Wesley Professional</span><span class="stl_129 stl_49 stl_204" style="word-spacing:0.1251em;">、</span><span class="stl_132 stl_52 stl_204" style="word-spacing:0.1251em;">Microsoft Press</span><span class="stl_129 stl_49 stl_204" style="word-spacing:0.1251em;">、</span><span class="stl_132 stl_52 stl_204" style="word-spacing:0.1251em;">Sams</span><span class="stl_129 stl_49 stl_204" style="word-spacing:0.1251em;">、</span><span class="stl_132 stl_52 stl_204" style="word-spacing:0.1251em;">Que</span><span class="stl_129 stl_49 stl_204" style="word-spacing:0.1251em;">、</span><span class="stl_132 stl_52 stl_204" style="word-spacing:0.1251em;">Peachpit &nbsp;</span></div>
					<div class="stl_01" style="top:30.3976em; left:6.6144em;"><span class="stl_132 stl_52 stl_205" style="word-spacing:0.1251em;">Press</span><span class="stl_129 stl_49 stl_205" style="word-spacing:0.1251em;">、</span><span class="stl_132 stl_52 stl_205" style="word-spacing:0.1251em;">Focal Press</span><span class="stl_129 stl_49 stl_205" style="word-spacing:0.1251em;">、</span><span class="stl_132 stl_52 stl_205" style="word-spacing:0.1251em;">Cisco Press</span><span class="stl_129 stl_49 stl_205" style="word-spacing:0.1251em;">、</span><span class="stl_132 stl_52 stl_205" style="word-spacing:0.1251em;">John Wiley &amp; Sons</span><span class="stl_129 stl_49 stl_205" style="word-spacing:0.1251em;">、</span><span class="stl_132 stl_52 stl_205" style="word-spacing:0.1251em;">Syngress</span><span class="stl_129 stl_49 stl_205" style="word-spacing:0.1251em;">、</span><span class="stl_132 stl_52 stl_205" style="word-spacing:0.1251em;">Morgan Kaufmann</span><span class="stl_129 stl_49 stl_205" style="word-spacing:0.1251em;">、</span><span class="stl_132 stl_52 stl_205" style="word-spacing:0.1251em;">IBM &nbsp;</span></div>
					<div class="stl_01" style="top:31.6476em; left:6.6142em;"><span class="stl_132 stl_52 stl_206" style="word-spacing:0.1251em;">Redbooks</span><span class="stl_129 stl_49 stl_206" style="word-spacing:0.1251em;">、</span><span class="stl_132 stl_52 stl_206" style="word-spacing:0.1251em;">Packt</span><span class="stl_129 stl_49 stl_206" style="word-spacing:0.1251em;">、</span><span class="stl_132 stl_52 stl_206" style="word-spacing:0.1251em;">Adobe Press</span><span class="stl_129 stl_49 stl_206" style="word-spacing:0.1251em;">、</span><span class="stl_132 stl_52 stl_206" style="word-spacing:0.1251em;">FT Press</span><span class="stl_129 stl_49 stl_206" style="word-spacing:0.1251em;">、</span><span class="stl_132 stl_52 stl_206" style="word-spacing:0.1251em;">Apress</span><span class="stl_129 stl_49 stl_206" style="word-spacing:0.1251em;">、</span><span class="stl_132 stl_52 stl_206" style="word-spacing:0.1251em;">Manning</span><span class="stl_129 stl_49 stl_206" style="word-spacing:0.1251em;">、</span><span class="stl_132 stl_52 stl_206" style="word-spacing:0.1251em;">New Riders</span><span class="stl_129 stl_49 stl_206" style="word-spacing:0.1251em;">、</span><span class="stl_132 stl_52 stl_206" style="word-spacing:0.1251em;">McGraw-Hill</span><span class="stl_129 stl_49 stl_206" style="word-spacing:0.1251em;">、 &nbsp;</span></div>
					<div class="stl_01" style="top:32.8976em; left:6.6142em;"><span class="stl_132 stl_52 stl_180" style="word-spacing:0.1087em;">Jones &amp; Bartlett</span><span class="stl_129 stl_49 stl_180" style="word-spacing:0.1087em;">、</span><span class="stl_132 stl_52 stl_180" style="word-spacing:0.1087em;">Course Technology</span><span class="stl_129 stl_49 stl_180" style="word-spacing:-0.0123em;"> 以及其他几十家出版社的上千种图书、培训视频和正 &nbsp;</span></div>
					<div class="stl_01" style="top:34.1476em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">式出版之前的书稿。要了解 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Safari Books Online </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">的更多信息，我们网上见。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.7289em; left:6.6142em;"><span class="stl_160 stl_20 stl_71">联系我们 &nbsp;</span></div>
					<div class="stl_01" style="top:39.0537em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">请把对本书的评价和问题发给出版社。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.9648em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">美国： &nbsp;</span></div>
					<div class="stl_01" style="top:42.1696em; left:8.2205em;"><span class="stl_132 stl_52 stl_73" style="word-spacing:-0.0001em;">O’Reilly Media, Inc. &nbsp;</span></div>
					<div class="stl_01" style="top:43.4268em; left:8.2205em;"><span class="stl_132 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:43.4268em; left:8.6163em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">005 Gravenstein Highway North &nbsp;</span></div>
					<div class="stl_01" style="top:44.6768em; left:8.2205em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">Sebastopol, CA 95472 &nbsp;</span></div>
					<div class="stl_01" style="top:46.626em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">中国： &nbsp;</span></div>
					<div class="stl_01" style="top:47.7983em; left:8.2205em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">北京市西城区西直门南大街 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">2 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">号成铭大厦 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">C </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">座 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">807 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">室（</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">100035</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:49.1269em; left:8.2205em;"><span class="stl_129 stl_49 stl_10">奥莱利技术咨询（北京）有限公司 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:33.6541em;"><span class="stl_126 stl_20 stl_207" style="word-spacing:0.371em;">前言 ｜ </span><span class="stl_119 stl_22 stl_207" style="word-spacing:0.371em;">xv &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_27.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_27.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_132 stl_52 stl_208" style="word-spacing:-0.0263em;">O</span><span class="stl_134 stl_36 stl_208" style="word-spacing:-0.0263em;">’</span><span class="stl_132 stl_52 stl_208" style="word-spacing:-0.0263em;">Reilly </span><span class="stl_129 stl_49 stl_208" style="word-spacing:-0.0263em;">的每一本书都有专属网页，你可以在那儿找到本书的相关信息，包括勘误表、示 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1627em; left:5.6694em;"><span class="stl_129 stl_49 stl_10">例代码以及其他信息。本书的网站地址是： &nbsp;</span></div>
					<div class="stl_01" style="top:7.3683em; left:6.8031em;"><span class="stl_132 stl_52 stl_10">http://oreil.ly/</span><span class="stl_134 stl_36 stl_10">1</span><span class="stl_132 stl_52 stl_10">ePG2Uj &nbsp;</span></div>
					<div class="stl_01" style="top:9.2461em; left:5.6686em;"><span class="stl_129 stl_49 stl_10">对于本书的评论和技术性问题，请发送电子邮件到：</span><span class="stl_132 stl_52 stl_10">bookquestions@oreilly.com &nbsp;</span></div>
					<div class="stl_01" style="top:11.1572em; left:5.6694em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0005em;">要了解更多 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0005em;">O</span><span class="stl_134 stl_36 stl_10" style="word-spacing:-0.0005em;">’</span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0005em;">Reilly </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0005em;">图书、培训课程、会议和新闻的信息，请访问以下网站： &nbsp;</span></div>
					<div class="stl_01" style="top:12.4468em; left:6.8031em;"><span class="stl_132 stl_52 stl_73">http://www.oreilly.com &nbsp;</span></div>
					<div class="stl_01" style="top:14.3183em; left:5.6694em;"><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0001em;">我们在 </span><span class="stl_132 stl_52 stl_73" style="word-spacing:-0.0001em;">Facebook </span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0001em;">的地址如下：</span><span class="stl_132 stl_52 stl_73" style="word-spacing:-0.0001em;">http://facebook.com/oreilly &nbsp;</span></div>
					<div class="stl_01" style="top:16.2294em; left:5.6694em;"><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0007em;">请关注我们的 </span><span class="stl_132 stl_52 stl_73" style="word-spacing:-0.0007em;">Twitter </span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0007em;">动态：</span><span class="stl_132 stl_52 stl_73" style="word-spacing:-0.0007em;">http://twitter.com/oreillymedia &nbsp;</span></div>
					<div class="stl_01" style="top:18.1405em; left:5.6694em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">我们的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">YouTube </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">视频地址如下：</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">http://www.youtube.com/oreillymedia &nbsp;</span></div>
					<div class="stl_01" style="top:20.7233em; left:5.6693em;"><span class="stl_160 stl_20 stl_71">致谢 &nbsp;</span></div>
					<div class="stl_01" style="top:23.0481em; left:5.6693em;"><span class="stl_129 stl_49 stl_157">和那些基于海量用户反馈诞生的优秀产品一样，如果没有许多协作者、支持者和编辑的 &nbsp;</span></div>
					<div class="stl_01" style="top:24.2204em; left:5.6693em;"><span class="stl_129 stl_49 stl_209" style="word-spacing:-0.0164em;">帮助，本书可能永远都不会出版。首先要感谢 </span><span class="stl_132 stl_52 stl_209" style="word-spacing:-0.0164em;">O</span><span class="stl_134 stl_36 stl_209" style="word-spacing:-0.0164em;">’</span><span class="stl_132 stl_52 stl_209" style="word-spacing:-0.0164em;">Reilly </span><span class="stl_129 stl_49 stl_209" style="word-spacing:-0.0164em;">团队对这个小众主题图书的大力支 &nbsp;</span></div>
					<div class="stl_01" style="top:25.4704em; left:5.6693em;"><span class="stl_129 stl_49 stl_210" style="word-spacing:-0.0111em;">持，感谢我的朋友和家人阅读初稿并提出宝贵的建议，还要感谢和我一起在 </span><span class="stl_132 stl_52 stl_210" style="word-spacing:-0.0111em;">LinkeDrive </span><span class="stl_129 stl_49 stl_210" style="word-spacing:-0.0111em;">奋 &nbsp;</span></div>
					<div class="stl_01" style="top:26.7982em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">战的同事们帮我分担了很多工作。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.6315em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">尤其要感谢 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Allyson</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0283em;"> MacDonald</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0283em;">、</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0283em;">Brian Anderson</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0283em;">、</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0283em;">Miguel Grinberg</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;"> 和</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;"> Eric</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0281em;"> VanWyk</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;"> 的建议、 &nbsp;</span></div>
					<div class="stl_01" style="top:29.9596em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">指导和偶尔的爱之深责之切。有一些章节和代码示例是根据他们的建议写成的。 &nbsp;</span></div>
					<div class="stl_01" style="top:31.793em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">还要感谢 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Yale</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0271em;"> Specht</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;"> 过去九个月用无尽的耐心和鼓励促成了这个项目，并在我的写作过程 &nbsp;</span></div>
					<div class="stl_01" style="top:33.1207em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">中对文体提出了宝贵的建议。没有他，这本书可能只用一半时间就能写完，但是不会像现 &nbsp;</span></div>
					<div class="stl_01" style="top:34.371em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">在这么实用。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.2044em; left:5.6693em;"><span class="stl_129 stl_49 stl_211" style="word-spacing:-0.0192em;">最后，要感谢 </span><span class="stl_132 stl_52 stl_211" style="word-spacing:-0.0192em;">Jim</span><span class="stl_132 stl_52 stl_211" style="word-spacing:0.1009em;"> Waldo</span><span class="stl_129 stl_49 stl_211" style="word-spacing:0.1009em;">，是他许多年前给一个小孩邮寄了一个</span><span class="stl_132 stl_52 stl_211" style="word-spacing:-0.0192em;"> Linux</span><span class="stl_129 stl_49 stl_211" style="word-spacing:-0.0192em;"> 机箱和</span><span class="stl_194 stl_36 stl_211" style="word-spacing:-0.0212em;"> The</span><span class="stl_194 stl_36 stl_211" style="word-spacing:0.0829em;"> Art</span><span class="stl_194 stl_36 stl_211" style="word-spacing:0.1009em;"> and &nbsp;</span></div>
					<div class="stl_01" style="top:37.4601em; left:5.6693em;"><span class="stl_194 stl_36 stl_10" style="word-spacing:-0.0003em;">Science of C </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0003em;">那本书，帮她开启了计算机世界的大门。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:5.6457em;"><span class="stl_119 stl_22 stl_205" style="word-spacing:0.395em;">xvi </span><span class="stl_126 stl_20 stl_205" style="word-spacing:0.395em;">｜ 前言 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_29.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_29.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:9.6503em; left:30.5119em;"><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.05em;">第 一 部 分 &nbsp;</span></div>
					<div class="stl_01 stl_69" style="top:12.7975em; left:29.6453em;"><span class="stl_70 stl_20 stl_71">创建爬虫 &nbsp;</span></div>
					<div class="stl_01" style="top:24.4229em; left:6.6142em;"><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0033em;">这部分内容重点介绍网络数据采集的基本原理：如何用 </span><span class="stl_132 stl_52 stl_127" style="word-spacing:-0.0033em;">Python </span><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0033em;">从网络服务器请求信息，如 &nbsp;</span></div>
					<div class="stl_01" style="top:25.7506em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">何对服务器的响应进行基本处理，以及如何以自动化手段与网站进行交互。最终，你将轻 &nbsp;</span></div>
					<div class="stl_01" style="top:27.0006em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">松游弋于网络空间，创建出具有域名切换、信息收集以及信息存储功能的爬虫。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.9117em; left:6.6142em;"><span class="stl_129 stl_49 stl_213">说实话，如果你想以较少的预先投入获取较高的回报，网络数据采集肯定是一个值得踏入 &nbsp;</span></div>
					<div class="stl_01" style="top:30.084em; left:6.6142em;"><span class="stl_129 stl_49 stl_122" style="word-spacing:-0.0055em;">的神奇领域。大体上，你遇到的 </span><span class="stl_132 stl_52 stl_122" style="word-spacing:-0.0055em;">90% </span><span class="stl_129 stl_49 stl_122" style="word-spacing:-0.0055em;">的网络数据采集项目使用的都是接下来的六章里介绍 &nbsp;</span></div>
					<div class="stl_01" style="top:31.4118em; left:6.6142em;"><span class="stl_129 stl_49 stl_214">的技术。这部分内容涵盖了一般人（也包括技术达人）在思考“网络爬虫”时通常的想法： &nbsp;</span></div>
					<div class="stl_01" style="top:33.2848em; left:6.6142em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:34.5356em; left:6.6142em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:35.7856em; left:6.6142em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:37.0354em; left:6.614em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:33.2452em; left:7.6774em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">通过网站域名获取 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">HTML </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">数据 &nbsp;</span></div>
					<div class="stl_01" style="top:34.5737em; left:7.6774em;"><span class="stl_129 stl_49 stl_10">根据目标信息解析数据 &nbsp;</span></div>
					<div class="stl_01" style="top:35.8235em; left:7.6772em;"><span class="stl_129 stl_49 stl_10">存储目标信息 &nbsp;</span></div>
					<div class="stl_01" style="top:37.0735em; left:7.6772em;"><span class="stl_129 stl_49 stl_10">如果有必要，移动到另一个网页重复这个过程 &nbsp;</span></div>
					<div class="stl_01" style="top:38.9846em; left:6.614em;"><span class="stl_129 stl_49 stl_153">这将为你学习本书第二部分中更复杂的项目奠定坚实的基础。不要天真地认为这部分内容 &nbsp;</span></div>
					<div class="stl_01" style="top:40.2348em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">没有第二部分里的一些比较高级的项目重要。其实，当你写自己的网络爬虫时，几乎每天 &nbsp;</span></div>
					<div class="stl_01" style="top:41.4849em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">都要用到第一部分的所有内容。 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_30.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_30.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:9.4423em; left:32.1698em;"><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.064em;">第 </span><span class="stl_215 stl_18 stl_10" style="word-spacing:-0.064em;">1 </span><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.064em;">章 &nbsp;</span></div>
					<div class="stl_01 stl_69" style="top:12.7975em; left:24.6004em;"><span class="stl_70 stl_20 stl_71">初见网络爬虫 &nbsp;</span></div>
					<div class="stl_01" style="top:24.5006em; left:5.6693em;"><span class="stl_129 stl_49 stl_172">一旦你开始采集网络数据，就会感受到浏览器为我们做的所有细节。网络上如果没有 &nbsp;</span></div>
					<div class="stl_01" style="top:25.6729em; left:5.6693em;"><span class="stl_132 stl_52 stl_216" style="word-spacing:-0.0304em;">HTML </span><span class="stl_129 stl_49 stl_216" style="word-spacing:-0.0304em;">文本格式层、</span><span class="stl_132 stl_52 stl_216" style="word-spacing:-0.0304em;">CSS </span><span class="stl_129 stl_49 stl_216" style="word-spacing:-0.0304em;">样式层、</span><span class="stl_132 stl_52 stl_216" style="word-spacing:-0.0304em;">JavaScript </span><span class="stl_129 stl_49 stl_216" style="word-spacing:-0.0304em;">执行层和图像渲染层，乍看起来会有点儿吓 &nbsp;</span></div>
					<div class="stl_01" style="top:27.0006em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">人，但是在这一章和下一章，我们将介绍如何不通过浏览器的帮助来格式化和理解数据。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.834em; left:5.6693em;"><span class="stl_129 stl_49 stl_217" style="word-spacing:-0.051em;">本章将首先向网络服务器发送 </span><span class="stl_132 stl_52 stl_217" style="word-spacing:-0.051em;">GET </span><span class="stl_129 stl_49 stl_217" style="word-spacing:-0.051em;">请求以获取具体网页，再从网页中读取 </span><span class="stl_132 stl_52 stl_217" style="word-spacing:-0.051em;">HTML </span><span class="stl_129 stl_49 stl_217" style="word-spacing:-0.051em;">内容， &nbsp;</span></div>
					<div class="stl_01" style="top:30.162em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">最后做一些简单的信息提取，将我们要寻找的内容分离出来。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.5503em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:32.4795em; left:6.4924em;"><span class="stl_197 stl_18 stl_71">.1</span><span class="stl_160 stl_20 stl_71">ꢀ网络连接 &nbsp;</span></div>
					<div class="stl_01" style="top:34.9904em; left:5.6693em;"><span class="stl_129 stl_49 stl_177">如果你没在网络或网络安全上花过太多时间，那么互联网的原理可能看起来有点儿神秘。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.1627em; left:5.6693em;"><span class="stl_129 stl_49 stl_218" style="word-spacing:-0.0109em;">准确地说，每当打开浏览器连接 </span><span class="stl_132 stl_52 stl_218" style="word-spacing:-0.0109em;">http://google.com </span><span class="stl_129 stl_49 stl_218" style="word-spacing:-0.0109em;">的时候，我们不会思考网络正在做什么， &nbsp;</span></div>
					<div class="stl_01" style="top:37.4904em; left:5.6693em;"><span class="stl_129 stl_49 stl_139">而且如今也不必思考。实际上，我认为很神奇的是，计算机接口已经如此先进，让大多数 &nbsp;</span></div>
					<div class="stl_01" style="top:38.7405em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">人上网的时候完全不思考网络是如何工作的。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.6515em; left:5.6693em;"><span class="stl_129 stl_49 stl_142">但是，网络数据采集需要抛开一些接口的遮挡，不仅是在浏览器层（它如何解释所有的 &nbsp;</span></div>
					<div class="stl_01" style="top:41.8239em; left:5.6693em;"><span class="stl_132 stl_52 stl_219" style="word-spacing:0.0344em;">HTML</span><span class="stl_129 stl_49 stl_219" style="word-spacing:0.0344em;">、</span><span class="stl_132 stl_52 stl_219" style="word-spacing:0.0344em;">CSS </span><span class="stl_129 stl_49 stl_219" style="word-spacing:0.0344em;">和 </span><span class="stl_132 stl_52 stl_219" style="word-spacing:0.0344em;">JavaScript</span><span class="stl_129 stl_49 stl_219" style="word-spacing:0.0344em;">），有时也包括网络连接层。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.735em; left:5.6693em;"><span class="stl_129 stl_49 stl_167" style="word-spacing:-0.0419em;">我们通过下面的例子让你对浏览器获取信息的过程有一个基本的认识。</span><span class="stl_132 stl_52 stl_167" style="word-spacing:-0.0419em;">Alice </span><span class="stl_129 stl_49 stl_167" style="word-spacing:-0.0419em;">有一台网络 &nbsp;</span></div>
					<div class="stl_01" style="top:44.9855em; left:5.6693em;"><span class="stl_129 stl_49 stl_220" style="word-spacing:-0.0345em;">服务器。</span><span class="stl_132 stl_52 stl_220" style="word-spacing:-0.0345em;">Bob </span><span class="stl_129 stl_49 stl_220" style="word-spacing:-0.0345em;">有一个台式机正准备连接 </span><span class="stl_132 stl_52 stl_220" style="word-spacing:-0.0345em;">Alice </span><span class="stl_129 stl_49 stl_220" style="word-spacing:-0.0345em;">的服务器。当一台机器想与另一台机器对话 &nbsp;</span></div>
					<div class="stl_01" style="top:46.3133em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">时，下面的某个行为将会发生。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.1863em; left:5.6693em;"><span class="stl_132 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:48.1467em; left:6.0651em;"><span class="stl_132 stl_52 stl_221" style="word-spacing:0.2747em;">. Bob</span><span class="stl_129 stl_49 stl_221" style="word-spacing:-0.0583em;"> 的电脑发送一串</span><span class="stl_132 stl_52 stl_221" style="word-spacing:-0.0583em;"> 1</span><span class="stl_129 stl_49 stl_221" style="word-spacing:-0.0583em;"> 和</span><span class="stl_132 stl_52 stl_221" style="word-spacing:-0.0583em;"> 0</span><span class="stl_129 stl_49 stl_221" style="word-spacing:-0.0583em;"> 比特值，表示电路上的高低电压。这些比特构成了一种信 &nbsp;</span></div>
					<div class="stl_01" style="top:49.397em; left:6.7325em;"><span class="stl_129 stl_49 stl_222" style="word-spacing:-0.0132em;">息，包括请求头和消息体。请求头包含当前 </span><span class="stl_132 stl_52 stl_222" style="word-spacing:-0.0132em;">Bob </span><span class="stl_129 stl_49 stl_222" style="word-spacing:-0.0132em;">的本地路由器 </span><span class="stl_132 stl_52 stl_222" style="word-spacing:-0.0132em;">MAC </span><span class="stl_129 stl_49 stl_222" style="word-spacing:-0.0132em;">地址和 </span><span class="stl_132 stl_52 stl_222" style="word-spacing:-0.0132em;">Alice </span><span class="stl_129 stl_49 stl_222" style="word-spacing:-0.0132em;">的 </span><span class="stl_132 stl_52 stl_222" style="word-spacing:-0.0132em;">IP &nbsp;</span></div>
					<div class="stl_01" style="top:52.3099em; left:5.6693em;"><span class="stl_119 stl_22 stl_10">2</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_31.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_31.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:7.6772em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">地址。消息体包含 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Bob </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">对 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Alice </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">服务器应用的请求。 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1245em; left:6.6142em;"><span class="stl_132 stl_52 stl_10">2</span></div>
					<div class="stl_01" style="top:9.8746em; left:6.614em;"><span class="stl_132 stl_52 stl_10">3</span></div>
					<div class="stl_01" style="top:6.0849em; left:7.01em;"><span class="stl_132 stl_52 stl_223" style="word-spacing:0.3651em;">. Bob</span><span class="stl_129 stl_49 stl_223" style="word-spacing:0.0231em;"> 的本地路由器收到所有 </span><span class="stl_132 stl_52 stl_223" style="word-spacing:0.0231em;">1 </span><span class="stl_129 stl_49 stl_223" style="word-spacing:0.0231em;">和 </span><span class="stl_132 stl_52 stl_223" style="word-spacing:0.0231em;">0 </span><span class="stl_129 stl_49 stl_223" style="word-spacing:0.0231em;">比特值，把它们理解成一个数据包（</span><span class="stl_132 stl_52 stl_223" style="word-spacing:0.0231em;">packet</span><span class="stl_129 stl_49 stl_223" style="word-spacing:0.0231em;">），从</span><span class="stl_132 stl_52 stl_223" style="word-spacing:0.0231em;"> Bob &nbsp;</span></div>
					<div class="stl_01" style="top:7.3349em; left:7.6774em;"><span class="stl_129 stl_49 stl_224" style="word-spacing:-0.003em;">自己的 </span><span class="stl_132 stl_52 stl_224" style="word-spacing:-0.003em;">MAC </span><span class="stl_129 stl_49 stl_224" style="word-spacing:-0.003em;">地址“寄到”</span><span class="stl_132 stl_52 stl_224" style="word-spacing:-0.003em;">Alice </span><span class="stl_129 stl_49 stl_224" style="word-spacing:-0.003em;">的 </span><span class="stl_132 stl_52 stl_224" style="word-spacing:-0.003em;">IP </span><span class="stl_129 stl_49 stl_224" style="word-spacing:-0.003em;">地址。他的路由器把数据包“盖上”自己的 </span><span class="stl_132 stl_52 stl_224" style="word-spacing:-0.003em;">IP </span><span class="stl_129 stl_49 stl_224" style="word-spacing:-0.003em;">地 &nbsp;</span></div>
					<div class="stl_01" style="top:8.6627em; left:7.6772em;"><span class="stl_129 stl_49 stl_10">址作为“发件”地址，然后通过互联网发出去。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.8349em; left:7.0098em;"><span class="stl_132 stl_52 stl_225" style="word-spacing:0.3059em;">. Bob</span><span class="stl_129 stl_49 stl_225" style="word-spacing:-0.0311em;"> 的数据包游历了一些中介服务器，沿着正确的物理</span><span class="stl_132 stl_52 stl_225" style="word-spacing:-0.0311em;"> /</span><span class="stl_129 stl_49 stl_225" style="word-spacing:-0.0309em;"> 电路路径前进，到了</span><span class="stl_132 stl_52 stl_225" style="word-spacing:-0.0311em;"> Alice</span><span class="stl_129 stl_49 stl_225" style="word-spacing:-0.0311em;"> 的 &nbsp;</span></div>
					<div class="stl_01" style="top:11.1627em; left:7.6774em;"><span class="stl_129 stl_49 stl_10">服务器。 &nbsp;</span></div>
					<div class="stl_01" style="top:12.3746em; left:6.6142em;"><span class="stl_132 stl_52 stl_10">4</span></div>
					<div class="stl_01" style="top:13.6246em; left:6.6142em;"><span class="stl_132 stl_52 stl_10">5</span></div>
					<div class="stl_01" style="top:12.335em; left:7.01em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.343em;">. Alice</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;"> 的服务器在她的</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;"> IP</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0002em;"> 地址收到了数据包。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.5849em; left:7.01em;"><span class="stl_132 stl_52 stl_226" style="word-spacing:0.3365em;">. Alice</span><span class="stl_129 stl_49 stl_226" style="word-spacing:-0.0054em;"> 的服务器读取数据包请求头里的目标端口（通常是网络应用的</span><span class="stl_132 stl_52 stl_226" style="word-spacing:-0.0055em;"> 80</span><span class="stl_129 stl_49 stl_226" style="word-spacing:-0.0055em;"> 端口，可以理解 &nbsp;</span></div>
					<div class="stl_01" style="top:14.8349em; left:7.6774em;"><span class="stl_129 stl_49 stl_227" style="word-spacing:0.0623em;">成数据包的“房间号”，</span><span class="stl_132 stl_52 stl_227" style="word-spacing:0.0623em;">IP </span><span class="stl_129 stl_49 stl_227" style="word-spacing:0.0623em;">地址就是“街道地址”），然后把它传递到对应的应用——网 &nbsp;</span></div>
					<div class="stl_01" style="top:16.1627em; left:7.6772em;"><span class="stl_129 stl_49 stl_10">络服务器应用上。 &nbsp;</span></div>
					<div class="stl_01" style="top:17.3746em; left:6.614em;"><span class="stl_132 stl_52 stl_10">6</span></div>
					<div class="stl_01" style="top:21.1247em; left:6.614em;"><span class="stl_132 stl_52 stl_10">7</span></div>
					<div class="stl_01" style="top:17.335em; left:7.0098em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.343em;">. </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.343em;">网络服务器应用从服务器处理器收到一串数据，数据是这样的： &nbsp;</span></div>
					<div class="stl_01" style="top:18.6237em; left:7.6772em;"><span class="stl_228 stl_36 stl_10">♦</span></div>
					<div class="stl_01" style="top:19.8738em; left:7.6772em;"><span class="stl_228 stl_36 stl_10">♦</span></div>
					<div class="stl_01" style="top:18.5851em; left:8.7404em;"><span class="stl_129 stl_49 stl_229" style="word-spacing:0.0004em;">这是一个 </span><span class="stl_132 stl_52 stl_229" style="word-spacing:0.0004em;">GET </span><span class="stl_129 stl_49 stl_229" style="word-spacing:0.0004em;">请求 &nbsp;</span></div>
					<div class="stl_01" style="top:19.8351em; left:8.7404em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">请求文件 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">index.html &nbsp;</span></div>
					<div class="stl_01" style="top:21.0849em; left:7.0098em;"><span class="stl_132 stl_52 stl_230" style="word-spacing:0.2982em;">. </span><span class="stl_129 stl_49 stl_230" style="word-spacing:0.2982em;">网络服务器应用找到对应的</span><span class="stl_132 stl_52 stl_230" style="word-spacing:-0.0378em;"> HTML</span><span class="stl_129 stl_49 stl_230" style="word-spacing:-0.0376em;"> 文件，把它打包成一个新的数据包发送给</span><span class="stl_132 stl_52 stl_230" style="word-spacing:-0.0378em;"> Bob</span><span class="stl_129 stl_49 stl_230" style="word-spacing:-0.0378em;">，然 &nbsp;</span></div>
					<div class="stl_01" style="top:22.335em; left:7.6774em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">后通过它的本地路由器发出去，用同样的过程回传到 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Bob </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">的机器上。 &nbsp;</span></div>
					<div class="stl_01" style="top:24.3238em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">瞧！我们就这样实现了互联网。 &nbsp;</span></div>
					<div class="stl_01" style="top:26.2348em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">那么，在这场数据交换中，网络浏览器从哪里开始参与的？完全没有参与。其实，在互联 &nbsp;</span></div>
					<div class="stl_01" style="top:27.4079em; left:6.614em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">网的历史中，浏览器是一个比较年轻的发明，始于 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">1990 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">年的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Nexus </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">浏览器。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.3965em; left:6.614em;"><span class="stl_129 stl_49 stl_139">的确，网络浏览器是一个非常有用的应用，它创建信息的数据包，发送它们，然后把你获 &nbsp;</span></div>
					<div class="stl_01" style="top:30.6466em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">取的数据解释成漂亮的图像、声音、视频和文字。但是，网络浏览器就是代码，而代码是 &nbsp;</span></div>
					<div class="stl_01" style="top:31.8969em; left:6.6142em;"><span class="stl_129 stl_49 stl_163">可以分解的，可以分解成许多基本组件，可重写、重用，以及做成我们想要的任何东西。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.1469em; left:6.6142em;"><span class="stl_129 stl_49 stl_231">网络浏览器可以让服务器发送一些数据，到那些对接无线（或有线）网络接口的应用上， &nbsp;</span></div>
					<div class="stl_01" style="top:34.3969em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">但是许多语言也都有实现这些功能的库文件。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.2303em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">让我们看看 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">是如何实现的： &nbsp;</span></div>
					<div class="stl_01" style="top:38.1853em; left:8.3386em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0.0098em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0.0098em;">urllib.reque</span><span class="stl_188 stl_44 stl_10" style="word-spacing:0.0093em;">st </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0.0098em;">import </span><span class="stl_188 stl_44 stl_10" style="word-spacing:0.0093em;">u</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0.0098em;">rlopen &nbsp;</span></div>
					<div class="stl_01" style="top:39.0325em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">html = urlopen("http://pythonscraping.com/pages/page1.html") &nbsp;</span></div>
					<div class="stl_01" style="top:39.8655em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(html.read()) &nbsp;</span></div>
					<div class="stl_01" style="top:41.5869em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">你可以把这段代码保存为 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">scrapetest.py</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">，然后在终端里运行如下命令： &nbsp;</span></div>
					<div class="stl_01" style="top:43.5555em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:43.5555em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">python scrapetest.py &nbsp;</span></div>
					<div class="stl_01" style="top:45.2765em; left:6.6142em;"><span class="stl_129 stl_49 stl_233" style="word-spacing:-0.0518em;">注意，如果你的设备上安装了 </span><span class="stl_132 stl_52 stl_233" style="word-spacing:-0.0518em;">Python</span><span class="stl_132 stl_52 stl_233" style="word-spacing:0.0982em;"> 2.x</span><span class="stl_129 stl_49 stl_233" style="word-spacing:0.0982em;">，可能需要直接指明版本才能运行</span><span class="stl_132 stl_52 stl_233" style="word-spacing:-0.0518em;"> Python</span><span class="stl_132 stl_52 stl_233" style="word-spacing:0.0982em;"> 3.x &nbsp;</span></div>
					<div class="stl_01" style="top:46.6043em; left:6.6142em;"><span class="stl_129 stl_49 stl_234">代码： &nbsp;</span></div>
					<div class="stl_01" style="top:48.4951em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:48.4951em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">python3 scrapetest.py &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:30.8405em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">初见网络爬虫 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">3 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_32.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_32.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_129 stl_49 stl_235" style="word-spacing:-0.0238em;">这将会输出 </span><span class="stl_132 stl_52 stl_235" style="word-spacing:-0.0238em;">http://pythonscraping.com/pages/page1.html </span><span class="stl_129 stl_49 stl_235" style="word-spacing:-0.0238em;">这个网页的全部 </span><span class="stl_132 stl_52 stl_235" style="word-spacing:-0.0238em;">HTML </span><span class="stl_129 stl_49 stl_235" style="word-spacing:-0.0238em;">代码。更 &nbsp;</span></div>
					<div class="stl_01" style="top:6.0849em; left:5.6693em;"><span class="stl_129 stl_49 stl_236" style="word-spacing:-0.0349em;">准确地说，这会输出在域名为 </span><span class="stl_132 stl_52 stl_236" style="word-spacing:-0.0349em;">http://pythonscraping.com </span><span class="stl_129 stl_49 stl_236" style="word-spacing:-0.0349em;">的服务器上 </span><span class="stl_132 stl_52 stl_236" style="word-spacing:-0.0349em;">&lt; </span><span class="stl_129 stl_49 stl_236" style="word-spacing:-0.0349em;">网络应用根地址 </span><span class="stl_132 stl_52 stl_236" style="word-spacing:-0.0349em;">&gt;/ &nbsp;</span></div>
					<div class="stl_01" style="top:7.335em; left:5.6693em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0002em;">pages </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0002em;">文件夹里的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0002em;">HTML </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0002em;">文件 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0002em;">page1.html </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0002em;">的源代码。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.246em; left:5.6693em;"><span class="stl_129 stl_49 stl_237">有什么区别？现在大多数网页需要加载许多相关的资源文件。可能是图像文件、</span><span class="stl_132 stl_52 stl_237">JavaScript &nbsp;</span></div>
					<div class="stl_01" style="top:10.4963em; left:5.6693em;"><span class="stl_129 stl_49 stl_238" style="word-spacing:-0.0151em;">文件、</span><span class="stl_132 stl_52 stl_238" style="word-spacing:-0.0151em;">CSS </span><span class="stl_129 stl_49 stl_238" style="word-spacing:-0.0151em;">文件，或你需要连接的其他各种网页内容。当网络浏览器遇到一个标签时，比 &nbsp;</span></div>
					<div class="stl_01" style="top:11.7343em; left:5.6693em;"><span class="stl_129 stl_49 stl_239" style="word-spacing:-0.0078em;">如 </span><span class="stl_188 stl_44 stl_186" style="word-spacing:-0.0083em;">&lt;img</span><span class="stl_188 stl_44 stl_186" style="word-spacing:0.2356em;"> src="cuteKitten.jpg"&gt;</span><span class="stl_129 stl_49 stl_239" style="word-spacing:0.2232em;">，会向服务器发起另一个请求，以获取</span><span class="stl_132 stl_52 stl_239" style="word-spacing:-0.0077em;"> cuteKitten.jpg</span><span class="stl_129 stl_49 stl_239" style="word-spacing:-0.0087em;"> 文件 &nbsp;</span></div>
					<div class="stl_01" style="top:12.9963em; left:5.6697em;"><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0033em;">中的数据为用户充分渲染网页。但是，我们的 </span><span class="stl_132 stl_52 stl_127" style="word-spacing:-0.0033em;">Python </span><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0033em;">程序没有返回并向服务器请求多个文 &nbsp;</span></div>
					<div class="stl_01" style="top:14.2464em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">件的逻辑，它只能读取我们已经请求的单个 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">HTML </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">文件。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.1575em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">那么我们应该怎样做呢？幸好 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">语法接近正常英文，下面这行代码 &nbsp;</span></div>
					<div class="stl_01" style="top:18.1262em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urllib.request </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:19.8474em; left:5.6693em;"><span class="stl_129 stl_49 stl_240" style="word-spacing:0.0069em;">其实已经显示了它的含义：它查找 </span><span class="stl_132 stl_52 stl_240" style="word-spacing:0.0069em;">Python </span><span class="stl_129 stl_49 stl_240" style="word-spacing:0.0069em;">的 </span><span class="stl_132 stl_52 stl_240" style="word-spacing:0.0069em;">request </span><span class="stl_129 stl_49 stl_240" style="word-spacing:0.0069em;">模块（在 </span><span class="stl_132 stl_52 stl_240" style="word-spacing:0.0069em;">urllib </span><span class="stl_129 stl_49 stl_240" style="word-spacing:0.0069em;">库里面），只导入一个 &nbsp;</span></div>
					<div class="stl_01" style="top:21.163em; left:5.6693em;"><span class="stl_188 stl_44 stl_241">urlopen</span><span class="stl_129 stl_49 stl_242">函数。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.7013em; left:10.3937em;"><span class="stl_243 stl_18 stl_244" style="word-spacing:-0.0177em;">urllib </span><span class="stl_245 stl_20 stl_244" style="word-spacing:-0.0177em;">还是 </span><span class="stl_243 stl_18 stl_244" style="word-spacing:-0.0177em;">urllib2 </span><span class="stl_246 stl_44 stl_244" style="word-spacing:-0.0177em;">？ &nbsp;</span></div>
					<div class="stl_01" style="top:25.5974em; left:10.3937em;"><span class="stl_48 stl_49 stl_10" style="word-spacing:-0.0001em;">如果你用过 </span><span class="stl_51 stl_52 stl_10" style="word-spacing:-0.0001em;">Python</span><span class="stl_51 stl_52 stl_10" style="word-spacing:0.0519em;"> 2.x</span><span class="stl_48 stl_49 stl_10" style="word-spacing:-0.0001em;"> 里的</span><span class="stl_51 stl_52 stl_10" style="word-spacing:-0.0001em;"> urllib2</span><span class="stl_48 stl_49 stl_10" style="word-spacing:-0.0001em;"> 库，可能会发现</span><span class="stl_51 stl_52 stl_10" style="word-spacing:-0.0001em;"> urllib2</span><span class="stl_48 stl_49 stl_10" style="word-spacing:-0.0001em;"> 与</span><span class="stl_51 stl_52 stl_10" style="word-spacing:-0.0001em;"> urllib</span><span class="stl_48 stl_49 stl_10" style="word-spacing:-0.0001em;"> 有些不同。 &nbsp;</span></div>
					<div class="stl_01" style="top:26.7519em; left:10.441em;"><span class="stl_48 stl_49 stl_10" style="word-spacing:0em;">在 </span><span class="stl_51 stl_52 stl_10" style="word-spacing:0em;">Python</span><span class="stl_51 stl_52 stl_10" style="word-spacing:0.045em;"> 3.x</span><span class="stl_48 stl_49 stl_10" style="word-spacing:0em;"> 里，</span><span class="stl_51 stl_52 stl_10" style="word-spacing:0em;">urllib2 </span><span class="stl_48 stl_49 stl_10" style="word-spacing:0em;">改名为</span><span class="stl_51 stl_52 stl_10" style="word-spacing:0em;"> urllib</span><span class="stl_48 stl_49 stl_10" style="word-spacing:0em;">，被分成一些子模块：</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urllib.request</span><span class="stl_48 stl_49 stl_10" style="word-spacing:0em;">、 &nbsp;</span></div>
					<div class="stl_01" style="top:27.9922em; left:10.4409em;"><span class="stl_116 stl_44 stl_247" style="word-spacing:-0.0287em;">urllib.parse</span><span class="stl_48 stl_49 stl_248" style="word-spacing:-0.0271em;">和 </span><span class="stl_116 stl_44 stl_247" style="word-spacing:-0.0287em;">urllib.error</span><span class="stl_48 stl_49 stl_248" style="word-spacing:-0.0271em;">。尽管函数名称大多和原来一样，但是在用新 &nbsp;</span></div>
					<div class="stl_01" style="top:29.0976em; left:10.4406em;"><span class="stl_48 stl_49 stl_10" style="word-spacing:0em;">的 </span><span class="stl_51 stl_52 stl_10" style="word-spacing:0em;">urllib </span><span class="stl_48 stl_49 stl_10" style="word-spacing:0em;">库时需要注意哪些函数被移动到子模块里了。 &nbsp;</span></div>
					<div class="stl_01" style="top:31.4287em; left:5.6691em;"><span class="stl_188 stl_44 stl_249" style="word-spacing:-0.0476em;">urllib</span><span class="stl_129 stl_49 stl_250" style="word-spacing:-0.0451em;">是 </span><span class="stl_132 stl_52 stl_250" style="word-spacing:-0.0451em;">Python </span><span class="stl_129 stl_49 stl_250" style="word-spacing:-0.0451em;">的标准库（就是说你不用额外安装就可以运行这个例子），包含了从网 &nbsp;</span></div>
					<div class="stl_01" style="top:32.6906em; left:5.6691em;"><span class="stl_129 stl_49 stl_251" style="word-spacing:-0.0628em;">络请求数据，处理 </span><span class="stl_132 stl_52 stl_251" style="word-spacing:-0.0628em;">cookie</span><span class="stl_129 stl_49 stl_251" style="word-spacing:-0.0628em;">，甚至改变像请求头和用户代理这些元数据的函数。我们将在 &nbsp;</span></div>
					<div class="stl_01" style="top:33.9285em; left:5.6693em;"><span class="stl_129 stl_49 stl_252" style="word-spacing:-0.0133em;">本书中广泛使用 </span><span class="stl_188 stl_44 stl_253" style="word-spacing:-0.0141em;">urllib</span><span class="stl_129 stl_49 stl_252" style="word-spacing:-0.0133em;">，所以建议你读读这个库的 </span><span class="stl_132 stl_52 stl_252" style="word-spacing:-0.0133em;">Python </span><span class="stl_129 stl_49 stl_252" style="word-spacing:-0.0133em;">文档（</span><span class="stl_132 stl_52 stl_252" style="word-spacing:-0.0133em;">https://docs.python.org/3/ &nbsp;</span></div>
					<div class="stl_01" style="top:35.1906em; left:5.669em;"><span class="stl_132 stl_52 stl_13">library/urllib.html</span><span class="stl_129 stl_49 stl_13">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.1676em; left:5.6693em;"><span class="stl_188 stl_44 stl_254">urlopen</span><span class="stl_129 stl_49 stl_255">用来打开并读取一个从网络获取的远程对象。因为它是一个非常通用的库（它可 &nbsp;</span></div>
					<div class="stl_01" style="top:38.352em; left:5.6694em;"><span class="stl_129 stl_49 stl_127" style="word-spacing:0.001em;">以轻松读取 </span><span class="stl_132 stl_52 stl_127" style="word-spacing:0.001em;">HTML </span><span class="stl_129 stl_49 stl_127" style="word-spacing:0.001em;">文件、图像文件，或其他任何文件流），所以我们将在本书中频繁地使 &nbsp;</span></div>
					<div class="stl_01" style="top:39.6797em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">用它。 &nbsp;</span></div>
					<div class="stl_01" style="top:42.068em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:41.9972em; left:6.4924em;"><span class="stl_197 stl_18 stl_198">.2</span><span class="stl_160 stl_20 stl_198">ꢀ</span><span class="stl_197 stl_18 stl_198">BeautifulSoup</span><span class="stl_160 stl_20 stl_198">简介 &nbsp;</span></div>
					<div class="stl_01" style="top:44.5089em; left:7.0395em;"><span class="stl_256 stl_49 stl_257">“美味的汤，绿色的浓汤， &nbsp;</span></div>
					<div class="stl_01" style="top:45.5785em; left:7.3937em;"><span class="stl_256 stl_49 stl_10">在热气腾腾的盖碗里装！ &nbsp;</span></div>
					<div class="stl_01" style="top:46.6481em; left:7.3937em;"><span class="stl_256 stl_49 stl_258">谁不愿意尝一尝，这样的好汤？ &nbsp;</span></div>
					<div class="stl_01" style="top:47.7177em; left:7.3937em;"><span class="stl_256 stl_49 stl_257">晚餐用的汤，美味的汤！” &nbsp;</span></div>
					<div class="stl_01" style="top:49.4173em; left:5.6693em;"><span class="stl_132 stl_52 stl_222" style="word-spacing:-0.0153em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_222" style="word-spacing:-0.0153em;">库的名字取自刘易斯</span><span class="stl_259 stl_20 stl_222" style="word-spacing:-0.0153em;">·</span><span class="stl_129 stl_49 stl_222" style="word-spacing:-0.0153em;">卡罗尔在《爱丽丝梦游仙境》里的同名诗歌。在故事 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">4</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.5553em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 1</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_33.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_33.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.7952em; left:13.9371em;"><span class="stl_181 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:4.9126em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.5415em;">中，这首诗是素甲鱼 唱的。 &nbsp;</span></div>
					<div class="stl_01" style="top:6.746em; left:6.6146em;"><span class="stl_129 stl_49 stl_108" style="word-spacing:-0.0011em;">就像它在仙境中的说法一样，</span><span class="stl_132 stl_52 stl_108" style="word-spacing:-0.0011em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_108" style="word-spacing:-0.0011em;">尝试化平淡为神奇。它通过定位 </span><span class="stl_132 stl_52 stl_108" style="word-spacing:-0.0011em;">HTML </span><span class="stl_129 stl_49 stl_108" style="word-spacing:-0.0011em;">标签来 &nbsp;</span></div>
					<div class="stl_01" style="top:7.9964em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">格式化和组织复杂的网络信息，用简单易用的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">对象为我们展现 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">XML </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">结构信息。 &nbsp;</span></div>
					<div class="stl_01" style="top:10.4838em; left:6.6142em;"><span class="stl_260 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:10.4255em; left:7.292em;"><span class="stl_260 stl_18 stl_71">.2.1</span><span class="stl_91 stl_20 stl_71">ꢀ安装</span><span class="stl_260 stl_18 stl_71">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:12.3664em; left:6.6142em;"><span class="stl_129 stl_49 stl_261" style="word-spacing:-0.0265em;">由于 </span><span class="stl_132 stl_52 stl_261" style="word-spacing:-0.0265em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_261" style="word-spacing:-0.0265em;">库不是 </span><span class="stl_132 stl_52 stl_261" style="word-spacing:-0.0265em;">Python </span><span class="stl_129 stl_49 stl_261" style="word-spacing:-0.0265em;">标准库，因此需要单独安装。在本书中，我们将使用最 &nbsp;</span></div>
					<div class="stl_01" style="top:13.6164em; left:6.6142em;"><span class="stl_129 stl_49 stl_262" style="word-spacing:0.006em;">新的 </span><span class="stl_132 stl_52 stl_262" style="word-spacing:0.006em;">BeautifulSoup</span><span class="stl_132 stl_52 stl_262" style="word-spacing:0.115em;"> 4</span><span class="stl_129 stl_49 stl_262" style="word-spacing:0.006em;"> 版本（也叫 </span><span class="stl_132 stl_52 stl_262" style="word-spacing:0.006em;">BS4</span><span class="stl_129 stl_49 stl_262" style="word-spacing:0.006em;">）。</span><span class="stl_132 stl_52 stl_262" style="word-spacing:0.006em;">BeautifulSoup</span><span class="stl_132 stl_52 stl_262" style="word-spacing:0.115em;"> 4</span><span class="stl_129 stl_49 stl_262" style="word-spacing:0.006em;"> 的所有安装方法都在</span><span class="stl_132 stl_52 stl_262" style="word-spacing:0.006em;"> http://www. &nbsp;</span></div>
					<div class="stl_01" style="top:14.8665em; left:6.6142em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.001em;">crummy.com/software/BeautifulSoup/bs4/doc/ </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.001em;">里面。</span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.001em;">Linux </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.001em;">系统上的基本安装方法是： &nbsp;</span></div>
					<div class="stl_01" style="top:16.835em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:16.835em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">sudo apt-get install python-bs4 &nbsp;</span></div>
					<div class="stl_01" style="top:18.5561em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">对于 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">Mac </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">系统，首先用 &nbsp;</span></div>
					<div class="stl_01" style="top:20.5246em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:20.5246em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">sudo easy_install pip &nbsp;</span></div>
					<div class="stl_01" style="top:22.2457em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">安装 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">的包管理器 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">pip</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">，然后运行 &nbsp;</span></div>
					<div class="stl_01" style="top:24.2142em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:24.2142em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">pip install beautifulsoup4 &nbsp;</span></div>
					<div class="stl_01" style="top:26.013em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">来安装库文件。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.8347em; left:6.6142em;"><span class="stl_129 stl_49 stl_263" style="word-spacing:-0.0751em;">另外，注意如果你的设备同时安装了 </span><span class="stl_132 stl_52 stl_263" style="word-spacing:-0.0751em;">Python</span><span class="stl_132 stl_52 stl_263" style="word-spacing:-0.0471em;"> 2.x </span><span class="stl_129 stl_49 stl_263" style="word-spacing:-0.0471em;">和</span><span class="stl_132 stl_52 stl_263" style="word-spacing:-0.0751em;"> Python</span><span class="stl_132 stl_52 stl_263" style="word-spacing:-0.0239em;"> 3.x</span><span class="stl_129 stl_49 stl_263" style="word-spacing:-0.0239em;">，你需要用</span><span class="stl_188 stl_44 stl_264" style="word-spacing:-0.0252em;"> python3</span><span class="stl_129 stl_49 stl_263" style="word-spacing:-0.0239em;">运行 &nbsp;</span></div>
					<div class="stl_01" style="top:29.0968em; left:6.6139em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python 3.x</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">： &nbsp;</span></div>
					<div class="stl_01" style="top:31.0653em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:31.0653em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">python3 myScript.py &nbsp;</span></div>
					<div class="stl_01" style="top:32.7864em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">当你安装包的时候，如果有可能安装到了 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python 2.x </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">而不是 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python 3.x </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">里，就需要使用： &nbsp;</span></div>
					<div class="stl_01" style="top:34.7549em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:34.7549em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">sudo python3 setup.py install &nbsp;</span></div>
					<div class="stl_01" style="top:36.4639em; left:6.6142em;"><span class="stl_129 stl_49 stl_265" style="word-spacing:-0.0186em;">如果用 </span><span class="stl_132 stl_52 stl_265" style="word-spacing:-0.0186em;">pip </span><span class="stl_129 stl_49 stl_265" style="word-spacing:-0.0186em;">安装，你还可以用 </span><span class="stl_188 stl_44 stl_139" style="word-spacing:-0.0196em;">pip3</span><span class="stl_129 stl_49 stl_265" style="word-spacing:-0.0186em;">安装 </span><span class="stl_132 stl_52 stl_265" style="word-spacing:-0.0186em;">Python 3.x </span><span class="stl_129 stl_49 stl_265" style="word-spacing:-0.0186em;">版本的包： &nbsp;</span></div>
					<div class="stl_01" style="top:38.4446em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">pip3 install beautifulsoup4 &nbsp;</span></div>
					<div class="stl_01" style="top:38.4446em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:40.1656em; left:6.6142em;"><span class="stl_129 stl_49 stl_266" style="word-spacing:-0.0366em;">在 </span><span class="stl_132 stl_52 stl_266" style="word-spacing:-0.0366em;">Windows </span><span class="stl_129 stl_49 stl_266" style="word-spacing:-0.0366em;">系统上安装与在 </span><span class="stl_132 stl_52 stl_266" style="word-spacing:-0.0366em;">Mac </span><span class="stl_129 stl_49 stl_266" style="word-spacing:-0.0366em;">和 </span><span class="stl_132 stl_52 stl_266" style="word-spacing:-0.0366em;">Linux </span><span class="stl_129 stl_49 stl_266" style="word-spacing:-0.0366em;">上安装差不多。从上面的下载链接下载最新的 &nbsp;</span></div>
					<div class="stl_01" style="top:41.4157em; left:6.6142em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0005em;">BeautifulSoup 4 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0005em;">源代码，解压后进入文件，然后执行： &nbsp;</span></div>
					<div class="stl_01" style="top:43.3842em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:43.3842em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">python setup.py install &nbsp;</span></div>
					<div class="stl_01" style="top:45.1053em; left:6.6142em;"><span class="stl_129 stl_49 stl_267" style="word-spacing:-0.0143em;">这样就可以了！ </span><span class="stl_132 stl_52 stl_267" style="word-spacing:-0.0143em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_267" style="word-spacing:-0.0143em;">将被当作设备上的一个 </span><span class="stl_132 stl_52 stl_267" style="word-spacing:-0.0143em;">Python </span><span class="stl_129 stl_49 stl_267" style="word-spacing:-0.0143em;">库。你可以在 </span><span class="stl_132 stl_52 stl_267" style="word-spacing:-0.0143em;">Python </span><span class="stl_129 stl_49 stl_267" style="word-spacing:-0.0143em;">终端里 &nbsp;</span></div>
					<div class="stl_01" style="top:46.433em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">导入它测试一下： &nbsp;</span></div>
					<div class="stl_01" style="top:49.0086em; left:6.6142em;"><span class="stl_60 stl_49 stl_55" style="word-spacing:0.0589em;">注 </span><span class="stl_61 stl_52 stl_55" style="word-spacing:0.0589em;">1</span><span class="stl_60 stl_49 stl_55" style="word-spacing:0.0589em;">：</span><span class="stl_61 stl_52 stl_55" style="word-spacing:0.0589em;">Mock Turtle</span><span class="stl_60 stl_49 stl_55" style="word-spacing:0.0589em;">，它本身是一个双关语，指英国维多利亚时代的流行菜肴素甲鱼汤，其实不是甲鱼而是牛肉， &nbsp;</span></div>
					<div class="stl_01" style="top:50.074em; left:8.4568em;"><span class="stl_60 stl_49 stl_10">如同中国的豆制品素鸡，名为素鸡，其实与鸡无关。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:30.8405em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">初见网络爬虫 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">5 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_34.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_34.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8921em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:5.7251em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:4.8921em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">python &nbsp;</span></div>
					<div class="stl_01" style="top:5.7251em; left:8.102em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">bs4 </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:7.5242em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">如果没有错误，说明导入成功了。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.3575em; left:5.6693em;"><span class="stl_129 stl_49 stl_201" style="word-spacing:-0.0035em;">另外，还有一个 </span><span class="stl_132 stl_52 stl_201" style="word-spacing:-0.0035em;">Windows </span><span class="stl_129 stl_49 stl_201" style="word-spacing:-0.0035em;">版 </span><span class="stl_132 stl_52 stl_201" style="word-spacing:-0.0035em;">pip</span><span class="stl_129 stl_49 stl_201" style="word-spacing:-0.0035em;">（</span><span class="stl_132 stl_52 stl_201" style="word-spacing:-0.0035em;">https://pypi.python.org/pypi/setuptools</span><span class="stl_129 stl_49 stl_201" style="word-spacing:-0.0035em;">）的 </span><span class="stl_132 stl_52 stl_201" style="word-spacing:-0.0035em;">.exe </span><span class="stl_129 stl_49 stl_201" style="word-spacing:-0.0035em;">格式安装 &nbsp;</span></div>
					<div class="stl_01" style="top:10.6856em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">器 ，装了之后你就可以轻松安装和管理包了： &nbsp;</span></div>
					<div class="stl_01" style="top:12.5765em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:12.5765em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">pip install beautifulsoup4 &nbsp;</span></div>
					<div class="stl_01" style="top:15.1127em; left:16.6765em;"><span class="stl_268 stl_20 stl_10">用虚拟环境保存库文件 &nbsp;</span></div>
					<div class="stl_01" style="top:16.6414em; left:6.403em;"><span class="stl_269 stl_49 stl_270" style="word-spacing:-0.0094em;">如果你同时负责多个 </span><span class="stl_132 stl_52 stl_270" style="word-spacing:-0.0094em;">Python </span><span class="stl_269 stl_49 stl_270" style="word-spacing:-0.0094em;">项目，或者想要轻松打包某个项目及其关联的库文件，再 &nbsp;</span></div>
					<div class="stl_01" style="top:17.7663em; left:6.4148em;"><span class="stl_269 stl_49 stl_205" style="word-spacing:-0.0081em;">或者你担心已安装的库之间可能有冲突，那么你可以安装一个 </span><span class="stl_132 stl_52 stl_205" style="word-spacing:-0.0081em;">Python </span><span class="stl_269 stl_49 stl_205" style="word-spacing:-0.0081em;">虚拟环境来分而 &nbsp;</span></div>
					<div class="stl_01" style="top:18.969em; left:6.4077em;"><span class="stl_269 stl_49 stl_10">治之。 &nbsp;</span></div>
					<div class="stl_01" style="top:20.4889em; left:6.4077em;"><span class="stl_269 stl_49 stl_270" style="word-spacing:-0.0094em;">当一个 </span><span class="stl_132 stl_52 stl_270" style="word-spacing:-0.0094em;">Python </span><span class="stl_269 stl_49 stl_270" style="word-spacing:-0.0094em;">库不用虚拟环境安装的时候，你实际上是全局安装它。这通常需要有管 &nbsp;</span></div>
					<div class="stl_01" style="top:21.6138em; left:6.4196em;"><span class="stl_269 stl_49 stl_271" style="word-spacing:-0.0193em;">理员权限，或者以 </span><span class="stl_132 stl_52 stl_271" style="word-spacing:-0.0193em;">root </span><span class="stl_269 stl_49 stl_271" style="word-spacing:-0.0193em;">身份安装，这个库文件对设备上的每个用户和每个项目都是存 &nbsp;</span></div>
					<div class="stl_01" style="top:22.8165em; left:6.4093em;"><span class="stl_269 stl_49 stl_10">在的。好在创建虚拟环境非常简单： &nbsp;</span></div>
					<div class="stl_01" style="top:24.3807em; left:8.1274em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:24.3807em; left:8.8357em;"><span class="stl_116 stl_44 stl_10">virtualenv scrapingEnv &nbsp;</span></div>
					<div class="stl_01" style="top:26.1145em; left:6.403em;"><span class="stl_269 stl_49 stl_10" style="word-spacing:0em;">这样就创建了一个叫作 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">scrapingEnv </span><span class="stl_269 stl_49 stl_10" style="word-spacing:0em;">的新环境，你需要先激活它再使用： &nbsp;</span></div>
					<div class="stl_01" style="top:27.7563em; left:8.1274em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:28.5893em; left:8.1274em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:27.7563em; left:8.8357em;"><span class="stl_116 stl_44 stl_10">cd scrapingEnv/ &nbsp;</span></div>
					<div class="stl_01" style="top:28.5893em; left:8.8357em;"><span class="stl_116 stl_44 stl_10">source bin/activate &nbsp;</span></div>
					<div class="stl_01" style="top:30.4012em; left:6.403em;"><span class="stl_269 stl_49 stl_208">激活环境之后，你会发现环境名称出现在命令行提示符前面，提醒你当前处于虚拟环 &nbsp;</span></div>
					<div class="stl_01" style="top:31.5261em; left:6.4117em;"><span class="stl_269 stl_49 stl_10">境中。后面你安装的任何库和执行的任何程序都是在这个环境下运行。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.046em; left:6.4117em;"><span class="stl_269 stl_49 stl_10" style="word-spacing:0em;">在新建的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">scrapingEnv </span><span class="stl_269 stl_49 stl_10" style="word-spacing:0em;">环境里，可以安装并使用 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">BeautifulSoup</span><span class="stl_269 stl_49 stl_10" style="word-spacing:0em;">： &nbsp;</span></div>
					<div class="stl_01" style="top:34.6877em; left:8.1274em;"><span class="stl_116 stl_44 stl_10">(</span></div>
					<div class="stl_01" style="top:35.5207em; left:8.1274em;"><span class="stl_116 stl_44 stl_10">(</span></div>
					<div class="stl_01" style="top:36.3537em; left:8.1274em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:37.1867em; left:8.1274em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:34.6877em; left:8.4815em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">scrapingEnv)ryan$ pip install beautifulsoup4 &nbsp;</span></div>
					<div class="stl_01" style="top:35.5207em; left:8.4815em;"><span class="stl_116 stl_44 stl_10">scrapingEnv)ryan$ python &nbsp;</span></div>
					<div class="stl_01" style="top:36.3537em; left:8.8357em;"><span class="stl_116 stl_44 stl_10">from bs4 import BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:38.9993em; left:6.403em;"><span class="stl_269 stl_49 stl_10">当不再使用虚拟环境中的库时，可以通过释放命令来退出环境： &nbsp;</span></div>
					<div class="stl_01" style="top:40.5634em; left:8.1274em;"><span class="stl_116 stl_44 stl_10">(</span></div>
					<div class="stl_01" style="top:40.5634em; left:8.4815em;"><span class="stl_116 stl_44 stl_10">scrapingEnv)ryan$ deactivate &nbsp;</span></div>
					<div class="stl_01" style="top:41.3964em; left:8.1274em;"><span class="stl_116 stl_44 stl_10">ryan$ python &nbsp;</span></div>
					<div class="stl_01" style="top:42.2294em; left:8.8357em;"><span class="stl_116 stl_44 stl_10">from bs4 import BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:42.2294em; left:8.1274em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:43.0624em; left:8.1274em;"><span class="stl_116 stl_44 stl_10">Traceback (most recent call last): &nbsp;</span></div>
					<div class="stl_01" style="top:43.8954em; left:9.544em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">File "&lt;stdin&gt;", line 1, in &lt;module&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:44.7284em; left:8.1274em;"><span class="stl_116 stl_44 stl_10">ImportError: No module named 'bs4' &nbsp;</span></div>
					<div class="stl_01" style="top:46.5416em; left:6.403em;"><span class="stl_269 stl_49 stl_147">将项目关联的所有库单独放在一个虚拟环境里，还可以轻松打包整个环境发生给其他 &nbsp;</span></div>
					<div class="stl_01" style="top:47.5888em; left:6.4045em;"><span class="stl_269 stl_49 stl_272" style="word-spacing:-0.0332em;">人。只要他们的 </span><span class="stl_132 stl_52 stl_272" style="word-spacing:-0.0332em;">Python </span><span class="stl_269 stl_49 stl_272" style="word-spacing:-0.0332em;">版本和你的相同，你打包的代码就可以直接通过虚拟环境运 &nbsp;</span></div>
					<div class="stl_01" style="top:48.7915em; left:6.4037em;"><span class="stl_269 stl_49 stl_244">行，不需要再安装任何库。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">6</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.5553em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 1</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_35.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_35.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:5.659em; left:7.3478em;"><span class="stl_269 stl_49 stl_208">尽管本书的例子都不要求你使用虚拟环境，但是请记住，你可以在任何时候激活并使 &nbsp;</span></div>
					<div class="stl_01" style="top:6.784em; left:7.3566em;"><span class="stl_269 stl_49 stl_10">用它。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.4341em; left:6.6142em;"><span class="stl_260 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:9.3758em; left:7.292em;"><span class="stl_260 stl_18 stl_71">.2.2</span><span class="stl_91 stl_20 stl_71">ꢀ运行</span><span class="stl_260 stl_18 stl_71">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:11.3167em; left:6.6142em;"><span class="stl_132 stl_52 stl_75" style="word-spacing:-0.0027em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_75" style="word-spacing:-0.0027em;">库最常用的对象恰好就是 </span><span class="stl_132 stl_52 stl_75" style="word-spacing:-0.0027em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_75" style="word-spacing:-0.0027em;">对象。让我们把本章开头的例子调整 &nbsp;</span></div>
					<div class="stl_01" style="top:12.6444em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">一下运行看看： &nbsp;</span></div>
					<div class="stl_01" style="top:14.5351em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">urllib.request </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:15.3681em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">bs4 </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:16.2011em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">html = urlopen("http://www.pythonscraping.com/pages/page1.html") &nbsp;</span></div>
					<div class="stl_01" style="top:17.0341em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">bsObj = BeautifulSoup(html.read()) &nbsp;</span></div>
					<div class="stl_01" style="top:17.8671em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(bsObj.h1) &nbsp;</span></div>
					<div class="stl_01" style="top:19.6674em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">输出结果是： &nbsp;</span></div>
					<div class="stl_01" style="top:21.5984em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:21.5581em; left:8.6928em;"><span class="stl_232 stl_44 stl_10">h1&gt;</span><span class="stl_116 stl_44 stl_10">An Interesting Title</span><span class="stl_232 stl_44 stl_10">&lt;/h1&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:23.2672em; left:6.6142em;"><span class="stl_129 stl_49 stl_273" style="word-spacing:-0.0388em;">和前面例子一样，我们导入 </span><span class="stl_188 stl_44 stl_167" style="word-spacing:-0.041em;">urlopen</span><span class="stl_129 stl_49 stl_273" style="word-spacing:-0.0388em;">，然后调用 </span><span class="stl_188 stl_44 stl_167" style="word-spacing:-0.041em;">html.read()</span><span class="stl_129 stl_49 stl_273" style="word-spacing:-0.0388em;">获取网页的 </span><span class="stl_132 stl_52 stl_273" style="word-spacing:-0.0388em;">HTML </span><span class="stl_129 stl_49 stl_273" style="word-spacing:-0.0388em;">内容。这 &nbsp;</span></div>
					<div class="stl_01" style="top:24.5293em; left:6.6141em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0002em;">样就可以把 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0002em;">HTML </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0002em;">内容传到 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0002em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0002em;">对象，转换成下面的结构： &nbsp;</span></div>
					<div class="stl_01" style="top:26.4791em; left:6.6141em;"><span class="stl_274 stl_36 stl_10">•</span></div>
					<div class="stl_01" style="top:26.4404em; left:6.8912em;"><span class="stl_274 stl_36 stl_10" style="word-spacing:0.4929em;">ꢀ </span><span class="stl_275 stl_36 stl_10" style="word-spacing:0.4929em;">html</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;"> →</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;"> &lt;html&gt;&lt;head&gt;...&lt;/head&gt;&lt;body&gt;...&lt;/body&gt;&lt;/html&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:27.7808em; left:7.8016em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:27.7031em; left:8.7912em;"><span class="stl_275 stl_36 stl_73" style="word-spacing:-0.0002em;">head </span><span class="stl_269 stl_49 stl_73" style="word-spacing:-0.0002em;">→ </span><span class="stl_132 stl_52 stl_73" style="word-spacing:-0.0002em;">&lt;head&gt;&lt;title&gt;A Useful Page&lt;title&gt;&lt;/head&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:28.9532em; left:10.1766em;"><span class="stl_275 stl_36 stl_73" style="word-spacing:-0.0001em;">title </span><span class="stl_269 stl_49 stl_73" style="word-spacing:-0.0001em;">→ </span><span class="stl_132 stl_52 stl_73" style="word-spacing:-0.0001em;">&lt;title&gt;A Useful Page&lt;/title&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:30.2032em; left:8.7912em;"><span class="stl_275 stl_36 stl_10" style="word-spacing:0.0002em;">body </span><span class="stl_269 stl_49 stl_10" style="word-spacing:0.0002em;">→ </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0002em;">&lt;body&gt;&lt;h1&gt;An Int...&lt;/h1&gt;&lt;div&gt;Lorem ip...&lt;/div&gt;&lt;/body&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:29.0308em; left:8.9891em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:30.2809em; left:7.8016em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:31.5309em; left:8.9899em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:32.781em; left:8.9899em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:31.4532em; left:10.1774em;"><span class="stl_275 stl_36 stl_73" style="word-spacing:-0.0001em;">h1 </span><span class="stl_269 stl_49 stl_73" style="word-spacing:-0.0001em;">→ </span><span class="stl_132 stl_52 stl_73" style="word-spacing:-0.0001em;">&lt;h1&gt;An Interesting Title&lt;/h1&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:32.7033em; left:10.1774em;"><span class="stl_275 stl_36 stl_10" style="word-spacing:0.2499em;">div </span><span class="stl_269 stl_49 stl_10" style="word-spacing:0.2499em;">→</span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;"> &lt;div&gt;Lorem</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;"> Ipsum</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;"> dolor...&lt;/div&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:34.59em; left:6.6149em;"><span class="stl_129 stl_49 stl_276" style="word-spacing:-0.0507em;">可以看出，我们从网页中提取的 </span><span class="stl_188 stl_44 stl_277" style="word-spacing:-0.0535em;">&lt;h1&gt;</span><span class="stl_129 stl_49 stl_276" style="word-spacing:-0.0507em;">标签被嵌在 </span><span class="stl_132 stl_52 stl_276" style="word-spacing:-0.0507em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_276" style="word-spacing:-0.0507em;">对象 </span><span class="stl_188 stl_44 stl_277" style="word-spacing:-0.0535em;">bsObj</span><span class="stl_129 stl_49 stl_276" style="word-spacing:-0.0507em;">结构的第二层 &nbsp;</span></div>
					<div class="stl_01" style="top:35.9299em; left:6.218em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:35.8522em; left:7.0097em;"><span class="stl_132 stl_52 stl_278" style="word-spacing:0.0286em;">html </span><span class="stl_129 stl_49 stl_278" style="word-spacing:0.0286em;">→ </span><span class="stl_132 stl_52 stl_278" style="word-spacing:0.0286em;">body </span><span class="stl_129 stl_49 stl_278" style="word-spacing:0.0286em;">→ </span><span class="stl_132 stl_52 stl_278" style="word-spacing:0.0286em;">h1</span><span class="stl_129 stl_49 stl_278" style="word-spacing:0.0286em;">）。但是，当我们从对象里提取 </span><span class="stl_132 stl_52 stl_278" style="word-spacing:0.0286em;">h1 </span><span class="stl_129 stl_49 stl_278" style="word-spacing:0.0286em;">标签的时候，可以直接调用它： &nbsp;</span></div>
					<div class="stl_01" style="top:37.8207em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">bsObj.h1 &nbsp;</span></div>
					<div class="stl_01" style="top:39.6195em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">其实，下面的所有函数调用都可以产生同样的结果： &nbsp;</span></div>
					<div class="stl_01" style="top:41.5103em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">bsObj.html.body.h1 &nbsp;</span></div>
					<div class="stl_01" style="top:42.3433em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">bsObj.body.h1 &nbsp;</span></div>
					<div class="stl_01" style="top:43.1763em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">bsObj.html.h1 &nbsp;</span></div>
					<div class="stl_01" style="top:44.886em; left:6.6142em;"><span class="stl_129 stl_49 stl_279" style="word-spacing:-0.1074em;">希望这个例子可以向你展示 </span><span class="stl_188 stl_44 stl_280" style="word-spacing:-0.1134em;">BeautifulSoup</span><span class="stl_129 stl_49 stl_279" style="word-spacing:-0.1074em;">库的强大与简单。其实，任何 </span><span class="stl_132 stl_52 stl_279" style="word-spacing:-0.1074em;">HTML</span><span class="stl_129 stl_49 stl_279" style="word-spacing:-0.1074em;">（或 &nbsp;</span></div>
					<div class="stl_01" style="top:46.1481em; left:6.6144em;"><span class="stl_132 stl_52 stl_281">XML</span><span class="stl_129 stl_49 stl_281">）文件的任意节点信息都可以被提取出来，只要目标信息的旁边或附近有标记就行。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.3981em; left:6.6142em;"><span class="stl_129 stl_49 stl_282" style="word-spacing:-0.0044em;">在第 </span><span class="stl_132 stl_52 stl_282" style="word-spacing:-0.0044em;">3 </span><span class="stl_129 stl_49 stl_282" style="word-spacing:-0.0044em;">章，我们将进一步探讨一些更复杂的 </span><span class="stl_132 stl_52 stl_282" style="word-spacing:-0.0044em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_282" style="word-spacing:-0.0044em;">函数，还会介绍正则表达式，以 &nbsp;</span></div>
					<div class="stl_01" style="top:48.7137em; left:6.6142em;"><span class="stl_129 stl_49 stl_283" style="word-spacing:-0.0152em;">及如何把正则表达式用于 </span><span class="stl_188 stl_44 stl_284" style="word-spacing:-0.016em;">BeautifulSoup</span><span class="stl_129 stl_49 stl_283" style="word-spacing:-0.0152em;">以对网站信息进行提取。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:30.8405em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">初见网络爬虫 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">7 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_36.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_36.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8205em; left:5.6693em;"><span class="stl_260 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:4.7621em; left:6.3471em;"><span class="stl_260 stl_18 stl_71">.2.3</span><span class="stl_91 stl_20 stl_71">ꢀ可靠的网络连接 &nbsp;</span></div>
					<div class="stl_01" style="top:6.7807em; left:5.6693em;"><span class="stl_129 stl_49 stl_139">网络是十分复杂的。网页数据格式不友好，网站服务器宕机，目标数据的标签找不到，都 &nbsp;</span></div>
					<div class="stl_01" style="top:8.0307em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">是很麻烦的事情。网络数据采集最痛苦的遭遇之一，就是爬虫运行的时候你洗洗睡了，梦 &nbsp;</span></div>
					<div class="stl_01" style="top:9.2807em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">想着明天一早数据就都会采集好放在数据库里，结果第二天醒来，你看到的却是一个因某 &nbsp;</span></div>
					<div class="stl_01" style="top:10.5307em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">种数据格式异常导致运行错误的爬虫，在前一天当你不再盯着屏幕去睡觉之后，没过一会 &nbsp;</span></div>
					<div class="stl_01" style="top:11.7807em; left:5.6693em;"><span class="stl_129 stl_49 stl_142">儿爬虫就不再运行了。那个时候，你可能想骂发明互联网（以及那些奇葩的网络数据格 &nbsp;</span></div>
					<div class="stl_01" style="top:13.0308em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">式）的人，但是你真正应该斥责的人是你自己，为什么一开始不估计可能会出现的异常！ &nbsp;</span></div>
					<div class="stl_01" style="top:14.9301em; left:5.6693em;"><span class="stl_129 stl_49 stl_285" style="word-spacing:-0.0139em;">让我们看看爬虫 </span><span class="stl_188 stl_44 stl_286" style="word-spacing:-0.0147em;">import</span><span class="stl_129 stl_49 stl_285" style="word-spacing:-0.0139em;">语句后面的第一行代码，如何处理那里可能出现的异常： &nbsp;</span></div>
					<div class="stl_01" style="top:16.833em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">html = urlopen("http://www.pythonscraping.com/pages/page1.html") &nbsp;</span></div>
					<div class="stl_01" style="top:18.6318em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">这行代码主要可能会发生两种异常： &nbsp;</span></div>
					<div class="stl_01" style="top:20.5048em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:21.7548em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:20.5429em; left:6.7325em;"><span class="stl_129 stl_49 stl_10">网页在服务器上不存在（或者获取页面的时候出现错误） &nbsp;</span></div>
					<div class="stl_01" style="top:21.7929em; left:6.7325em;"><span class="stl_129 stl_49 stl_10">服务器不存在 &nbsp;</span></div>
					<div class="stl_01" style="top:23.6263em; left:5.6693em;"><span class="stl_129 stl_49 stl_287" style="word-spacing:0.0364em;">第一种异常发生时，程序会返回 </span><span class="stl_132 stl_52 stl_287" style="word-spacing:0.0364em;">HTTP </span><span class="stl_129 stl_49 stl_287" style="word-spacing:0.0364em;">错误。</span><span class="stl_132 stl_52 stl_287" style="word-spacing:0.0364em;">HTTP </span><span class="stl_129 stl_49 stl_287" style="word-spacing:0.0364em;">错误可能是“</span><span class="stl_132 stl_52 stl_287" style="word-spacing:0.0364em;">404</span><span class="stl_132 stl_52 stl_287" style="word-spacing:0.0266em;"> Page Not</span><span class="stl_132 stl_52 stl_287" style="word-spacing:0.0266em;"> Found</span><span class="stl_129 stl_49 stl_287" style="word-spacing:0.0266em;">”“</span><span class="stl_132 stl_52 stl_287" style="word-spacing:0.0266em;">500 &nbsp;</span></div>
					<div class="stl_01" style="top:24.8649em; left:5.6693em;"><span class="stl_132 stl_52 stl_288" style="word-spacing:0.1081em;">Internal Server Error</span><span class="stl_129 stl_49 stl_288" style="word-spacing:0.1081em;">”等。所有类似情形，</span><span class="stl_188 stl_44 stl_289" style="word-spacing:0.1141em;">urlopen</span><span class="stl_129 stl_49 stl_288" style="word-spacing:0.1081em;">函数都会抛出“</span><span class="stl_132 stl_52 stl_288" style="word-spacing:0.1081em;">HTTPError</span><span class="stl_129 stl_49 stl_288" style="word-spacing:0.1081em;">”异常。我们 &nbsp;</span></div>
					<div class="stl_01" style="top:26.2047em; left:5.6692em;"><span class="stl_129 stl_49 stl_290">可以用下面的方式处理这种异常： &nbsp;</span></div>
					<div class="stl_01" style="top:28.0953em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">try</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:28.9283em; left:8.8104em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">html = urlopen("http://www.pythonscraping.com/pages/page1.html") &nbsp;</span></div>
					<div class="stl_01" style="top:29.7613em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">except </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">HTTPError </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">as </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">e: &nbsp;</span></div>
					<div class="stl_01" style="top:30.5943em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(e) &nbsp;</span></div>
					<div class="stl_01" style="top:31.4273em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:31.4487em; left:9.5187em;"><span class="stl_256 stl_49 stl_291">返回空值，中断程序，或者执行另一个方案 &nbsp;</span></div>
					<div class="stl_01" style="top:32.2618em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">else</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:33.0948em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:33.9285em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:33.0948em; left:9.5187em;"><span class="stl_256 stl_49 stl_292">程序继续。注意：如果你已经在上面异常捕捉那一段代码里返回或中断（</span><span class="stl_116 stl_44 stl_292">break</span><span class="stl_256 stl_49 stl_292">）， &nbsp;</span></div>
					<div class="stl_01" style="top:33.9285em; left:9.5187em;"><span class="stl_256 stl_49 stl_137">那么就不需要使用</span><span class="stl_116 stl_44 stl_137">else</span><span class="stl_256 stl_49 stl_137">语句了，这段代码也不会执行 &nbsp;</span></div>
					<div class="stl_01" style="top:35.6378em; left:5.6693em;"><span class="stl_129 stl_49 stl_210" style="word-spacing:-0.0132em;">如果程序返回 </span><span class="stl_132 stl_52 stl_210" style="word-spacing:-0.0132em;">HTTP </span><span class="stl_129 stl_49 stl_210" style="word-spacing:-0.0132em;">错误代码，程序就会显示错误内容，不再执行 </span><span class="stl_188 stl_44 stl_285" style="word-spacing:-0.014em;">else</span><span class="stl_129 stl_49 stl_210" style="word-spacing:-0.0132em;">语句后面的代码。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.561em; left:5.6691em;"><span class="stl_129 stl_49 stl_293" style="word-spacing:-0.0046em;">如果服务器不存在（就是说链接 </span><span class="stl_132 stl_52 stl_293" style="word-spacing:-0.0046em;">http://www.pythonscraping.com/ </span><span class="stl_129 stl_49 stl_293" style="word-spacing:-0.0046em;">打不开，或者是 </span><span class="stl_132 stl_52 stl_293" style="word-spacing:-0.0046em;">URL </span><span class="stl_129 stl_49 stl_293" style="word-spacing:-0.0046em;">链接 &nbsp;</span></div>
					<div class="stl_01" style="top:38.8769em; left:5.6693em;"><span class="stl_129 stl_49 stl_294" style="word-spacing:-0.0301em;">写错了），</span><span class="stl_188 stl_44 stl_295" style="word-spacing:-0.0318em;">urlopen</span><span class="stl_129 stl_49 stl_294" style="word-spacing:-0.0301em;">会返回一个 </span><span class="stl_188 stl_44 stl_295" style="word-spacing:-0.0318em;">None</span><span class="stl_129 stl_49 stl_294" style="word-spacing:-0.0301em;">对象。这个对象与其他编程语言中的 </span><span class="stl_188 stl_44 stl_295" style="word-spacing:-0.0318em;">null</span><span class="stl_129 stl_49 stl_294" style="word-spacing:-0.0301em;">类似。我们 &nbsp;</span></div>
					<div class="stl_01" style="top:40.1269em; left:5.6689em;"><span class="stl_129 stl_49 stl_138" style="word-spacing:-0.0206em;">可以增加一个判断语句检测返回的 </span><span class="stl_188 stl_44 stl_296" style="word-spacing:-0.0217em;">html</span><span class="stl_129 stl_49 stl_138" style="word-spacing:-0.0206em;">是不是 </span><span class="stl_188 stl_44 stl_296" style="word-spacing:-0.0217em;">None</span><span class="stl_129 stl_49 stl_138" style="word-spacing:-0.0206em;">： &nbsp;</span></div>
					<div class="stl_01" style="top:42.0297em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">if </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">html </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">is </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">None: &nbsp;</span></div>
					<div class="stl_01" style="top:42.8627em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">("URL is not found") &nbsp;</span></div>
					<div class="stl_01" style="top:43.6957em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">else</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:44.5287em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:44.5501em; left:9.5187em;"><span class="stl_256 stl_49 stl_10">程序继续 &nbsp;</span></div>
					<div class="stl_01" style="top:46.3286em; left:5.6693em;"><span class="stl_129 stl_49 stl_231">当然，即使网页已经从服务器成功获取，如果网页上的内容并非完全是我们期望的那样， &nbsp;</span></div>
					<div class="stl_01" style="top:47.5009em; left:5.6693em;"><span class="stl_129 stl_49 stl_297" style="word-spacing:-0.0049em;">仍然可能会出现异常。每当你调用 </span><span class="stl_132 stl_52 stl_297" style="word-spacing:-0.0049em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_297" style="word-spacing:-0.0049em;">对象里的一个标签时，增加一个检查条件 &nbsp;</span></div>
					<div class="stl_01" style="top:48.7509em; left:5.6693em;"><span class="stl_129 stl_49 stl_171" style="word-spacing:-0.0138em;">保证标签确实存在是很聪明的做法。如果你想要调用的标签不存在，</span><span class="stl_132 stl_52 stl_171" style="word-spacing:-0.0138em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_171" style="word-spacing:-0.0138em;">就会返 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">8</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.5553em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 1</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_37.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_37.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9005em; left:6.6142em;"><span class="stl_129 stl_49 stl_298" style="word-spacing:-0.0436em;">回 </span><span class="stl_188 stl_44 stl_299" style="word-spacing:-0.0461em;">None</span><span class="stl_129 stl_49 stl_298" style="word-spacing:-0.0436em;">对象。不过，如果再调用这个 </span><span class="stl_188 stl_44 stl_299" style="word-spacing:-0.0461em;">None</span><span class="stl_129 stl_49 stl_298" style="word-spacing:-0.0436em;">对象下面的子标签，就会发生 </span><span class="stl_188 stl_44 stl_299" style="word-spacing:-0.0461em;">AttributeError &nbsp;</span></div>
					<div class="stl_01" style="top:6.1626em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">错误。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.9843em; left:6.6142em;"><span class="stl_129 stl_49 stl_179" style="word-spacing:-0.0117em;">下面这行代码（</span><span class="stl_188 stl_44 stl_300" style="word-spacing:-0.0123em;">nonExistentTag</span><span class="stl_129 stl_49 stl_179" style="word-spacing:-0.0117em;">是虚拟的标签，</span><span class="stl_132 stl_52 stl_179" style="word-spacing:-0.0117em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_179" style="word-spacing:-0.0117em;">对象里实际没有） &nbsp;</span></div>
					<div class="stl_01" style="top:9.9648em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(bsObj.nonExistentTag) &nbsp;</span></div>
					<div class="stl_01" style="top:11.7516em; left:6.6142em;"><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0124em;">会返回一个 </span><span class="stl_188 stl_44 stl_218" style="word-spacing:-0.0131em;">None</span><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0124em;">对象。处理和检查这个对象是十分必要的。如果你不检查，直接调用这个 &nbsp;</span></div>
					<div class="stl_01" style="top:13.0016em; left:6.6142em;"><span class="stl_188 stl_44 stl_302">None</span><span class="stl_129 stl_49 stl_85">对象的子标签，麻烦就来了。如下所示。 &nbsp;</span></div>
					<div class="stl_01" style="top:14.9044em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(bsObj.nonExistentTag.someTag) &nbsp;</span></div>
					<div class="stl_01" style="top:16.7033em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">这时就会返回一个异常： &nbsp;</span></div>
					<div class="stl_01" style="top:18.594em; left:8.3386em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">AttributeError</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">: 'NoneType' object has no attribute 'someTag' &nbsp;</span></div>
					<div class="stl_01" style="top:20.3929em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">那么我们怎么才能避免这两种情形的异常呢？最简单的方式就是对两种情形进行检查： &nbsp;</span></div>
					<div class="stl_01" style="top:22.2837em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">try</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:23.1167em; left:9.7553em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">badContent = bsObj.nonExistingTag.anotherTag &nbsp;</span></div>
					<div class="stl_01" style="top:23.9497em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">except AttributeError as </span><span class="stl_116 stl_44 stl_10">e: &nbsp;</span></div>
					<div class="stl_01" style="top:24.7827em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">("Tag was not found") &nbsp;</span></div>
					<div class="stl_01" style="top:25.6157em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">else</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:26.4487em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">badContent == None: &nbsp;</span></div>
					<div class="stl_01" style="top:27.2817em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">print </span><span class="stl_116 stl_44 stl_10">("Tag was not found") &nbsp;</span></div>
					<div class="stl_01" style="top:28.1147em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">else</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:28.9477em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(badContent) &nbsp;</span></div>
					<div class="stl_01" style="top:30.7492em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">初看这些检查与错误处理的代码会觉得有点儿累赘，但是，我们可以重新简单组织一下代 &nbsp;</span></div>
					<div class="stl_01" style="top:31.9992em; left:6.6142em;"><span class="stl_129 stl_49 stl_303">码，让它变得不那么难写（更重要的是，不那么难读）。例如，下面的代码是上面爬虫的 &nbsp;</span></div>
					<div class="stl_01" style="top:33.2493em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">另一种写法： &nbsp;</span></div>
					<div class="stl_01" style="top:35.1399em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">urllib.request </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:35.9729em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">urllib.error </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">HTTPError &nbsp;</span></div>
					<div class="stl_01" style="top:36.8059em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">bs4 </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:37.6389em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">getTitle(url): &nbsp;</span></div>
					<div class="stl_01" style="top:38.4719em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">try</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:39.3049em; left:12.5886em;"><span class="stl_116 stl_44 stl_10">html = urlopen(url) &nbsp;</span></div>
					<div class="stl_01" style="top:40.1379em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">except </span><span class="stl_116 stl_44 stl_10">HTTPError </span><span class="stl_232 stl_44 stl_10">as </span><span class="stl_116 stl_44 stl_10">e: &nbsp;</span></div>
					<div class="stl_01" style="top:40.9709em; left:12.5886em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">None &nbsp;</span></div>
					<div class="stl_01" style="top:41.8039em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">try</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:42.6369em; left:12.5886em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">bsObj = BeautifulSoup(html.read()) &nbsp;</span></div>
					<div class="stl_01" style="top:43.4699em; left:12.5886em;"><span class="stl_116 stl_44 stl_10">title = bsObj.body.h1 &nbsp;</span></div>
					<div class="stl_01" style="top:44.3029em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">except </span><span class="stl_116 stl_44 stl_10">AttributeError </span><span class="stl_232 stl_44 stl_10">as </span><span class="stl_116 stl_44 stl_10">e: &nbsp;</span></div>
					<div class="stl_01" style="top:45.1359em; left:12.5886em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">None &nbsp;</span></div>
					<div class="stl_01" style="top:45.9689em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">title &nbsp;</span></div>
					<div class="stl_01" style="top:46.8019em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">title = getTitle("http://www.pythonscraping.com/pages/page1.html") &nbsp;</span></div>
					<div class="stl_01" style="top:47.6349em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">title == None: &nbsp;</span></div>
					<div class="stl_01" style="top:48.468em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">("Title could not be found") &nbsp;</span></div>
					<div class="stl_01" style="top:49.301em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">else</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:50.134em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(title) &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:30.8405em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">初见网络爬虫 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">9 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_38.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_38.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9005em; left:5.6693em;"><span class="stl_129 stl_49 stl_304" style="word-spacing:-0.1066em;">在这个例子中，我们创建了一个 </span><span class="stl_188 stl_44 stl_305" style="word-spacing:-0.1125em;">getTitle</span><span class="stl_129 stl_49 stl_304" style="word-spacing:-0.1066em;">函数，可以返回网页的标题，如果获取网页 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1505em; left:5.6695em;"><span class="stl_129 stl_49 stl_306" style="word-spacing:-0.0925em;">的时候遇到问题就返回一个 </span><span class="stl_188 stl_44 stl_307" style="word-spacing:-0.0976em;">None</span><span class="stl_129 stl_49 stl_306" style="word-spacing:-0.0925em;">对象。在 </span><span class="stl_188 stl_44 stl_307" style="word-spacing:-0.0976em;">getTitle</span><span class="stl_129 stl_49 stl_306" style="word-spacing:-0.0925em;">函数里面，我们像前面那样检查了 &nbsp;</span></div>
					<div class="stl_01" style="top:7.3229em; left:5.6693em;"><span class="stl_188 stl_44 stl_308" style="word-spacing:-0.04em;">HTTPError</span><span class="stl_129 stl_49 stl_309" style="word-spacing:-0.0379em;">，然后把两行 </span><span class="stl_132 stl_52 stl_309" style="word-spacing:-0.0379em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_309" style="word-spacing:-0.0379em;">代码封装在一个 </span><span class="stl_188 stl_44 stl_308" style="word-spacing:-0.04em;">try</span><span class="stl_129 stl_49 stl_309" style="word-spacing:-0.0379em;">语句里面。这两行中的任何一 &nbsp;</span></div>
					<div class="stl_01" style="top:8.6505em; left:5.6695em;"><span class="stl_129 stl_49 stl_310" style="word-spacing:-0.0443em;">行有问题，</span><span class="stl_188 stl_44 stl_311" style="word-spacing:-0.0468em;">AttributeError</span><span class="stl_129 stl_49 stl_310" style="word-spacing:-0.0443em;">都可能被抛出（如果服务器不存在，</span><span class="stl_188 stl_44 stl_311" style="word-spacing:-0.0468em;">html</span><span class="stl_129 stl_49 stl_310" style="word-spacing:-0.0443em;">就是一个 </span><span class="stl_188 stl_44 stl_311" style="word-spacing:-0.0468em;">None</span><span class="stl_129 stl_49 stl_310" style="word-spacing:-0.0443em;">对象， &nbsp;</span></div>
					<div class="stl_01" style="top:9.9005em; left:5.6693em;"><span class="stl_188 stl_44 stl_312" style="word-spacing:-0.0042em;">html.read()</span><span class="stl_129 stl_49 stl_176" style="word-spacing:-0.004em;">就会抛出 </span><span class="stl_188 stl_44 stl_312" style="word-spacing:-0.0042em;">AttributeError</span><span class="stl_129 stl_49 stl_176" style="word-spacing:-0.004em;">）。其实，我们可以在 </span><span class="stl_188 stl_44 stl_312" style="word-spacing:-0.0042em;">try</span><span class="stl_129 stl_49 stl_176" style="word-spacing:-0.004em;">语句里面放任意多行代码， &nbsp;</span></div>
					<div class="stl_01" style="top:11.1506em; left:5.6692em;"><span class="stl_129 stl_49 stl_222" style="word-spacing:-0.016em;">或者放一个在任意位置都可以抛出 </span><span class="stl_188 stl_44 stl_313" style="word-spacing:-0.0169em;">AttributeError</span><span class="stl_129 stl_49 stl_222" style="word-spacing:-0.016em;">的函数。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.0737em; left:5.669em;"><span class="stl_129 stl_49 stl_130">在写爬虫的时候，思考代码的总体格局，让代码既可以捕捉异常又容易阅读，这是很重要 &nbsp;</span></div>
					<div class="stl_01" style="top:14.312em; left:5.6693em;"><span class="stl_129 stl_49 stl_314" style="word-spacing:-0.0296em;">的。如果你还希望能够很大程度地重用代码，那么拥有像 </span><span class="stl_188 stl_44 stl_315" style="word-spacing:-0.0312em;">getSiteHTML</span><span class="stl_129 stl_49 stl_314" style="word-spacing:-0.0296em;">和 </span><span class="stl_188 stl_44 stl_315" style="word-spacing:-0.0312em;">getTitle</span><span class="stl_129 stl_49 stl_314" style="word-spacing:-0.0296em;">这样的 &nbsp;</span></div>
					<div class="stl_01" style="top:15.5741em; left:5.6691em;"><span class="stl_129 stl_49 stl_10">通用函数（具有周密的异常处理功能）会让快速稳定地网络数据采集变得简单易行。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">0 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 1</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_39.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_39.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:9.4423em; left:33.1147em;"><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.064em;">第 </span><span class="stl_215 stl_18 stl_10" style="word-spacing:-0.064em;">2 </span><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.064em;">章 &nbsp;</span></div>
					<div class="stl_01 stl_316" style="top:12.4146em; left:24.6679em;"><span class="stl_70 stl_20 stl_71">复杂</span><span class="stl_317 stl_318 stl_71">HTML</span><span class="stl_70 stl_20 stl_71">解析 &nbsp;</span></div>
					<div class="stl_01" style="top:24.5006em; left:6.6142em;"><span class="stl_129 stl_49 stl_157">当米开朗基罗被问及如何完成《大卫》这样匠心独具的雕刻作品时，他有一段著名的回 &nbsp;</span></div>
					<div class="stl_01" style="top:25.7506em; left:6.6142em;"><span class="stl_129 stl_49 stl_161">答：“很简单，你只要用锤子把石头上不像大卫的地方敲掉就行了。” &nbsp;</span></div>
					<div class="stl_01" style="top:27.6617em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">虽然网络数据采集和大理石雕刻大相径庭，但是当我们从复杂的网页中寻觅信息时，也必 &nbsp;</span></div>
					<div class="stl_01" style="top:28.912em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">须持有类似的态度。在我们找到目标信息之前，有很多技巧可以帮我们“敲掉”网页上那 &nbsp;</span></div>
					<div class="stl_01" style="top:30.0843em; left:6.6142em;"><span class="stl_129 stl_49 stl_123" style="word-spacing:-0.0034em;">些不需要的信息。这一章我们将介绍解析复杂的 </span><span class="stl_132 stl_52 stl_123" style="word-spacing:-0.0034em;">HTML </span><span class="stl_129 stl_49 stl_123" style="word-spacing:-0.0034em;">页面的方法，从中抽取出我们需要 &nbsp;</span></div>
					<div class="stl_01" style="top:31.412em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">的信息。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.8003em; left:6.6142em;"><span class="stl_197 stl_18 stl_10">2</span></div>
					<div class="stl_01" style="top:33.7295em; left:7.4373em;"><span class="stl_197 stl_18 stl_71">.1</span><span class="stl_160 stl_20 stl_71">ꢀ不是一直都要用锤子 &nbsp;</span></div>
					<div class="stl_01" style="top:36.1627em; left:6.6142em;"><span class="stl_129 stl_49 stl_319" style="word-spacing:0.0905em;">面对页面解析难题（</span><span class="stl_132 stl_52 stl_319" style="word-spacing:0.0905em;">Gordian Knot</span><span class="stl_129 stl_49 stl_319" style="word-spacing:0.0905em;">）的时候，不假思索地直接写几行语句来抽取信息是非 &nbsp;</span></div>
					<div class="stl_01" style="top:37.4904em; left:6.6142em;"><span class="stl_129 stl_49 stl_142">常直接的做法。但是，像这样鲁莽放纵地使用技术，只会让程序变得难以调试或脆弱不 &nbsp;</span></div>
					<div class="stl_01" style="top:38.6627em; left:6.6142em;"><span class="stl_129 stl_49 stl_123" style="word-spacing:-0.0033em;">堪，甚至二者兼具。在开始解析网页之前，让我们看一些在解析复杂的 </span><span class="stl_132 stl_52 stl_123" style="word-spacing:-0.0033em;">HTML </span><span class="stl_129 stl_49 stl_123" style="word-spacing:-0.0033em;">页面时需要 &nbsp;</span></div>
					<div class="stl_01" style="top:39.9905em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">避免的问题。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.9015em; left:6.6142em;"><span class="stl_129 stl_49 stl_320">假如你已经确定了目标内容，可能是采集一个名字、一组统计数据，或者一段文字。你 &nbsp;</span></div>
					<div class="stl_01" style="top:43.0741em; left:6.6142em;"><span class="stl_129 stl_49 stl_321" style="word-spacing:-0.0363em;">的目标内容可能隐藏在一个 </span><span class="stl_132 stl_52 stl_321" style="word-spacing:-0.0363em;">HTML</span><span class="stl_129 stl_49 stl_321" style="word-spacing:-0.0363em;">“烂泥堆”的第 </span><span class="stl_132 stl_52 stl_321" style="word-spacing:-0.0363em;">20 </span><span class="stl_129 stl_49 stl_321" style="word-spacing:-0.0363em;">层标签里，带有许多没用的标签或 &nbsp;</span></div>
					<div class="stl_01" style="top:44.3242em; left:6.6142em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0002em;">HTML </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">属性。假如你不经考虑地直接写出下面这样一行代码来抽取内容： &nbsp;</span></div>
					<div class="stl_01" style="top:46.2927em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">bsObj.findAll("table")[4].findAll("tr")[2].find("td").findAll("div")[1].find("a") &nbsp;</span></div>
					<div class="stl_01" style="top:48.0915em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">虽然也可以达到目标，但这样看起来并不是很好。除了代码欠缺美感之外，还有一个问题 &nbsp;</span></div>
					<div class="stl_01" style="top:49.3415em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">是，当网站管理员对网站稍作修改之后，这行代码就会失效，甚至可能会毁掉整个网络爬 &nbsp;</span></div>
					<div class="stl_01" style="top:52.3099em; left:36.9812em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.3099em; left:37.3873em;"><span class="stl_119 stl_22 stl_10">1</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_40.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_40.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9126em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">虫。那么你应该怎么做呢？ &nbsp;</span></div>
					<div class="stl_01" style="top:6.7856em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:9.286em; left:5.6691em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:6.746em; left:6.7325em;"><span class="stl_129 stl_49 stl_322" style="word-spacing:-0.0337em;">寻找“打印此页”的链接，或者看看网站有没有 </span><span class="stl_132 stl_52 stl_322" style="word-spacing:-0.0337em;">HTML </span><span class="stl_129 stl_49 stl_322" style="word-spacing:-0.0337em;">样式更友好的移动版（把自己 &nbsp;</span></div>
					<div class="stl_01" style="top:7.9963em; left:6.7323em;"><span class="stl_129 stl_49 stl_323" style="word-spacing:0.0517em;">的请求头设置成处于移动设备的状态，然后接收网站移动版，更多内容在第 </span><span class="stl_132 stl_52 stl_323" style="word-spacing:0.0517em;">12 </span><span class="stl_129 stl_49 stl_323" style="word-spacing:0.0517em;">章介绍）。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.2463em; left:6.7323em;"><span class="stl_129 stl_49 stl_324" style="word-spacing:-0.1006em;">寻找隐藏在 </span><span class="stl_132 stl_52 stl_324" style="word-spacing:-0.1006em;">JavaScript </span><span class="stl_129 stl_49 stl_324" style="word-spacing:-0.1006em;">文件里的信息。要实现这一点，你可能需要查看网页加载的 &nbsp;</span></div>
					<div class="stl_01" style="top:10.4963em; left:6.7323em;"><span class="stl_132 stl_52 stl_325" style="word-spacing:-0.0256em;">JavaScript </span><span class="stl_129 stl_49 stl_325" style="word-spacing:-0.0256em;">文件。我曾经要把一个网站上的街道地址（以经度和纬度呈现的）整理成格 &nbsp;</span></div>
					<div class="stl_01" style="top:11.7464em; left:6.7323em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">式整洁的数组时，查看过内嵌谷歌地图的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">JavaScript </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">文件，里面有每个地址的标记点。 &nbsp;</span></div>
					<div class="stl_01" style="top:12.9964em; left:6.7323em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">虽然网页标题经常会用到，但是这个信息也许可以从网页的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">URL </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">链接里获取。 &nbsp;</span></div>
					<div class="stl_01" style="top:14.324em; left:6.7323em;"><span class="stl_129 stl_49 stl_121">如果你要找的信息只存在于一个网站上，别处没有，那你确实是运气不佳。如果不只限 &nbsp;</span></div>
					<div class="stl_01" style="top:15.574em; left:6.7323em;"><span class="stl_129 stl_49 stl_121">于这个网站，那么你可以找找其他数据源。有没有其他网站也显示了同样的数据？网站 &nbsp;</span></div>
					<div class="stl_01" style="top:16.8241em; left:6.7323em;"><span class="stl_129 stl_49 stl_10">上显示的数据是不是从其他网站上抓取后攒出来的？ &nbsp;</span></div>
					<div class="stl_01" style="top:13.036em; left:5.6691em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:14.2861em; left:5.6691em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:18.7352em; left:5.6691em;"><span class="stl_129 stl_49 stl_138">尤其是在面对埋藏很深或格式不友好的数据时，千万不要不经思考就写代码，一定要三思 &nbsp;</span></div>
					<div class="stl_01" style="top:19.9855em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">而后行。如果你确定自己不能另辟蹊径，那么本章后面的内容就是为你准备的。 &nbsp;</span></div>
					<div class="stl_01" style="top:22.3738em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">2</span></div>
					<div class="stl_01" style="top:22.303em; left:6.4924em;"><span class="stl_197 stl_18 stl_71">.2</span><span class="stl_160 stl_20 stl_71">ꢀ再端一碗</span><span class="stl_197 stl_18 stl_71">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:24.7362em; left:5.6693em;"><span class="stl_129 stl_49 stl_282" style="word-spacing:-0.0045em;">在第 </span><span class="stl_132 stl_52 stl_282" style="word-spacing:-0.0045em;">1 </span><span class="stl_129 stl_49 stl_282" style="word-spacing:-0.0045em;">章里，我们快速演示了 </span><span class="stl_132 stl_52 stl_282" style="word-spacing:-0.0045em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_282" style="word-spacing:-0.0045em;">的安装与运行过程，同时也实现了每次选择一 &nbsp;</span></div>
					<div class="stl_01" style="top:26.0639em; left:5.6693em;"><span class="stl_129 stl_49 stl_139">个对象的解析方法。在这一节，我们将介绍通过属性查找标签的方法，标签组的使用，以 &nbsp;</span></div>
					<div class="stl_01" style="top:27.3139em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">及标签解析树的导航过程。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.1473em; left:5.6693em;"><span class="stl_129 stl_49 stl_238" style="word-spacing:0.107em;">基本上，你见过的每个网站都会有层叠样式表（</span><span class="stl_132 stl_52 stl_238" style="word-spacing:0.107em;">Cascading Style Sheet</span><span class="stl_129 stl_49 stl_238" style="word-spacing:0.107em;">，</span><span class="stl_132 stl_52 stl_238" style="word-spacing:0.107em;">CSS</span><span class="stl_129 stl_49 stl_238" style="word-spacing:0.107em;">）。虽然你可 &nbsp;</span></div>
					<div class="stl_01" style="top:30.4753em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">能会认为，专门为了让浏览器和人类可以理解网站内容而设计一个展现样式的层，是一件 &nbsp;</span></div>
					<div class="stl_01" style="top:31.6476em; left:5.6693em;"><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0101em;">愚蠢的事，但是 </span><span class="stl_132 stl_52 stl_301" style="word-spacing:-0.0101em;">CSS </span><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0101em;">的发明却是网络爬虫的福音。</span><span class="stl_132 stl_52 stl_301" style="word-spacing:-0.0101em;">CSS </span><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0101em;">可以让 </span><span class="stl_132 stl_52 stl_301" style="word-spacing:-0.0101em;">HTML </span><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0101em;">元素呈现出差异化， &nbsp;</span></div>
					<div class="stl_01" style="top:32.9753em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">使那些具有完全相同修饰的元素呈现出不同的样式。比如，有一些标签看起来是这样： &nbsp;</span></div>
					<div class="stl_01" style="top:34.9064em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:34.866em; left:7.7479em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">span </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">class="green"</span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">&gt;&lt;/span&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:36.6649em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">而另一些标签看起来是这样： &nbsp;</span></div>
					<div class="stl_01" style="top:38.596em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:38.5556em; left:7.7479em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">span </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">class="red"</span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">&gt;&lt;/span&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:40.3425em; left:5.6693em;"><span class="stl_129 stl_49 stl_326" style="word-spacing:-0.0819em;">网络爬虫可以通过 </span><span class="stl_188 stl_44 stl_263" style="word-spacing:-0.0864em;">class</span><span class="stl_129 stl_49 stl_326" style="word-spacing:-0.0819em;">属性的值，轻松地区分出两种不同的标签。例如，它们可以用 &nbsp;</span></div>
					<div class="stl_01" style="top:41.5269em; left:5.6691em;"><span class="stl_132 stl_52 stl_224" style="word-spacing:-0.0032em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_224" style="word-spacing:-0.0032em;">抓取网页上所有的红色文字，而绿色文字一个都不抓。因为 </span><span class="stl_132 stl_52 stl_224" style="word-spacing:-0.0032em;">CSS </span><span class="stl_129 stl_49 stl_224" style="word-spacing:-0.0032em;">通过属性准 &nbsp;</span></div>
					<div class="stl_01" style="top:42.8425em; left:5.6693em;"><span class="stl_129 stl_49 stl_327" style="word-spacing:-0.0248em;">确地呈现网站的样式，所以你大可放心，大多数新式网站上的 </span><span class="stl_188 stl_44 stl_328" style="word-spacing:-0.0262em;">class</span><span class="stl_129 stl_49 stl_327" style="word-spacing:-0.0248em;">和 </span><span class="stl_188 stl_44 stl_328" style="word-spacing:-0.0262em;">id</span><span class="stl_129 stl_49 stl_327" style="word-spacing:-0.0248em;">属性资源都非常 &nbsp;</span></div>
					<div class="stl_01" style="top:44.1046em; left:5.6692em;"><span class="stl_129 stl_49 stl_10">丰富。 &nbsp;</span></div>
					<div class="stl_01" style="top:45.938em; left:5.6692em;"><span class="stl_129 stl_49 stl_121" style="word-spacing:-0.0009em;">下面让我们创建一个网络爬虫来抓取 </span><span class="stl_132 stl_52 stl_121" style="word-spacing:-0.0009em;">http://www.pythonscraping.com/pages/warandpeace.html &nbsp;</span></div>
					<div class="stl_01" style="top:47.2657em; left:5.6692em;"><span class="stl_129 stl_49 stl_10">这个网页。 &nbsp;</span></div>
					<div class="stl_01" style="top:49.1768em; left:5.6692em;"><span class="stl_129 stl_49 stl_130">在这个页面里，小说人物的对话内容都是红色的，人物名称都是绿色的。你可以看到网页 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">2 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 2</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_41.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_41.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8229em; left:6.6142em;"><span class="stl_129 stl_49 stl_68" style="word-spacing:-0.02em;">源代码里的 </span><span class="stl_188 stl_44 stl_135" style="word-spacing:-0.0212em;">span</span><span class="stl_129 stl_49 stl_68" style="word-spacing:-0.02em;">标签，引用了对应的 </span><span class="stl_132 stl_52 stl_68" style="word-spacing:-0.02em;">CSS </span><span class="stl_129 stl_49 stl_68" style="word-spacing:-0.02em;">属性，如下所示： &nbsp;</span></div>
					<div class="stl_01" style="top:6.8035em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:7.6365em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:6.8035em; left:8.6928em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">&lt;span class="red"&gt;Heavens! what a virulent attack!&lt;/span&gt;" replied &lt;span class= &nbsp;</span></div>
					<div class="stl_01" style="top:7.6365em; left:8.6928em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">green"&gt;the prince&lt;/span&gt;, not in the least disconcerted by this reception. &nbsp;</span></div>
					<div class="stl_01" style="top:9.3579em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0003em;">我们可以抓出整个页面，然后创建一个 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0003em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0003em;">对象，和第 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0003em;">1 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0003em;">章里使用的程序类似： &nbsp;</span></div>
					<div class="stl_01" style="top:11.3263em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">urllib.request </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:12.1593em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">bs4 </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:12.9923em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">html = urlopen("http://www.pythonscraping.com/pages/warandpeace.html") &nbsp;</span></div>
					<div class="stl_01" style="top:13.8253em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">bsObj = BeautifulSoup(html) &nbsp;</span></div>
					<div class="stl_01" style="top:15.5355em; left:6.6142em;"><span class="stl_129 stl_49 stl_252" style="word-spacing:-0.0183em;">通过 </span><span class="stl_132 stl_52 stl_252" style="word-spacing:-0.0183em;">BeautifulSoup</span><span class="stl_129 stl_49 stl_252" style="word-spacing:-0.0193em;"> 对象，我们可以用</span><span class="stl_188 stl_44 stl_329" style="word-spacing:-0.0191em;"> findAll</span><span class="stl_129 stl_49 stl_252" style="word-spacing:-0.0181em;">函数抽取只包含在</span><span class="stl_188 stl_44 stl_329" style="word-spacing:-0.019em;"> &lt;span</span><span class="stl_188 stl_44 stl_329" style="word-spacing:0.2255em;"> class="green"&gt;&lt;/ &nbsp;</span></div>
					<div class="stl_01" style="top:16.7855em; left:6.614em;"><span class="stl_188 stl_44 stl_330" style="word-spacing:-0.0565em;">span&gt;</span><span class="stl_129 stl_49 stl_249" style="word-spacing:-0.0535em;">标签里的文字，这样就会得到一个人物名称的 </span><span class="stl_132 stl_52 stl_249" style="word-spacing:-0.0535em;">Python </span><span class="stl_129 stl_49 stl_249" style="word-spacing:-0.0535em;">列表（</span><span class="stl_188 stl_44 stl_330" style="word-spacing:-0.0565em;">findAll</span><span class="stl_129 stl_49 stl_249" style="word-spacing:-0.0535em;">是一个非常灵 &nbsp;</span></div>
					<div class="stl_01" style="top:18.1253em; left:6.6141em;"><span class="stl_129 stl_49 stl_331">活的函数，我们后面会经常用到它）： &nbsp;</span></div>
					<div class="stl_01" style="top:20.0161em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">nameList = bsObj.findAll("span", {"class":"green"}) &nbsp;</span></div>
					<div class="stl_01" style="top:20.8491em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">name </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">nameList: &nbsp;</span></div>
					<div class="stl_01" style="top:21.6821em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(name.get_text()) &nbsp;</span></div>
					<div class="stl_01" style="top:23.4815em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">代码执行以后就会按照《战争与和平》中的人物出场顺序显示所有的人名。这是怎么实现 &nbsp;</span></div>
					<div class="stl_01" style="top:24.7195em; left:6.6142em;"><span class="stl_129 stl_49 stl_332" style="word-spacing:-0.0423em;">的呢？之前，我们调用 </span><span class="stl_188 stl_44 stl_333" style="word-spacing:-0.0446em;">bsObj.tagName</span><span class="stl_129 stl_49 stl_332" style="word-spacing:-0.0423em;">只能获取页面中的第一个指定的标签。现在，我们 &nbsp;</span></div>
					<div class="stl_01" style="top:25.9695em; left:6.6143em;"><span class="stl_129 stl_49 stl_162" style="word-spacing:-0.0143em;">调用 </span><span class="stl_188 stl_44 stl_207" style="word-spacing:-0.0151em;">bsObj.findAll(tagName,</span><span class="stl_188 stl_44 stl_207" style="word-spacing:0.2351em;"> tagAttributes)</span><span class="stl_129 stl_49 stl_162" style="word-spacing:0.2227em;">可以获取页面中所有指定的标签，不再只是 &nbsp;</span></div>
					<div class="stl_01" style="top:27.2316em; left:6.6143em;"><span class="stl_129 stl_49 stl_10">第一个了。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.1309em; left:6.6143em;"><span class="stl_129 stl_49 stl_108" style="word-spacing:0.0016em;">获取人名列表之后，程序遍历列表中所有的名字，然后打印 </span><span class="stl_188 stl_44 stl_118" style="word-spacing:0.0017em;">name.get_text()</span><span class="stl_129 stl_49 stl_108" style="word-spacing:0.0016em;">，就可以把标 &nbsp;</span></div>
					<div class="stl_01" style="top:30.393em; left:6.6143em;"><span class="stl_129 stl_49 stl_10">签中的内容分开显示了。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.9567em; left:11.3386em;"><span class="stl_245 stl_20 stl_267" style="word-spacing:-0.0192em;">什么时候使用 </span><span class="stl_116 stl_44 stl_213" style="word-spacing:-0.0204em;">get_text()</span><span class="stl_245 stl_20 stl_267" style="word-spacing:-0.0192em;">与什么时候应该保留标签</span><span class="stl_246 stl_44 stl_267" style="word-spacing:-0.0192em;">？ &nbsp;</span></div>
					<div class="stl_01" style="top:34.8886em; left:11.3386em;"><span class="stl_116 stl_44 stl_10">.</span></div>
					<div class="stl_01" style="top:34.8031em; left:11.6928em;"><span class="stl_116 stl_44 stl_308" style="word-spacing:-0.0436em;">get_text()</span><span class="stl_48 stl_49 stl_333" style="word-spacing:-0.0412em;">会把你正在处理的 </span><span class="stl_51 stl_52 stl_333" style="word-spacing:-0.0412em;">HTML </span><span class="stl_48 stl_49 stl_333" style="word-spacing:-0.0412em;">文档中所有的标签都清除，然后返回 &nbsp;</span></div>
					<div class="stl_01" style="top:36.0554em; left:11.3862em;"><span class="stl_48 stl_49 stl_303">一个只包含文字的字符串。假如你正在处理一个包含许多超链接、段落和标 &nbsp;</span></div>
					<div class="stl_01" style="top:37.21em; left:11.3858em;"><span class="stl_48 stl_49 stl_140" style="word-spacing:-0.0147em;">签的大段源代码，那么 </span><span class="stl_116 stl_44 stl_135" style="word-spacing:-0.0156em;">.get_text()</span><span class="stl_48 stl_49 stl_140" style="word-spacing:-0.0147em;">会把这些超链接、段落和标签都清除掉， &nbsp;</span></div>
					<div class="stl_01" style="top:38.3891em; left:11.3857em;"><span class="stl_48 stl_49 stl_10">只剩下一串不带标签的文字。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.1905em; left:11.3385em;"><span class="stl_48 stl_49 stl_334" style="word-spacing:-0.0755em;">用 </span><span class="stl_51 stl_52 stl_334" style="word-spacing:-0.0755em;">BeautifulSoup </span><span class="stl_48 stl_49 stl_334" style="word-spacing:-0.0755em;">对象查找你想要的信息，比直接在 </span><span class="stl_51 stl_52 stl_334" style="word-spacing:-0.0755em;">HTML </span><span class="stl_48 stl_49 stl_334" style="word-spacing:-0.0755em;">文本里查找信 &nbsp;</span></div>
					<div class="stl_01" style="top:41.4308em; left:11.3858em;"><span class="stl_48 stl_49 stl_335">息要简单得多。通常在你准备打印、存储和操作数据时，应该最后才使 &nbsp;</span></div>
					<div class="stl_01" style="top:42.5117em; left:11.3858em;"><span class="stl_48 stl_49 stl_10" style="word-spacing:0.0001em;">用 </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0.0001em;">.get_text()</span><span class="stl_48 stl_49 stl_10" style="word-spacing:0.0001em;">。一般情况下，你应该尽可能地保留 </span><span class="stl_51 stl_52 stl_10" style="word-spacing:0.0001em;">HTML </span><span class="stl_48 stl_49 stl_10" style="word-spacing:0.0001em;">文档的标签结构。 &nbsp;</span></div>
					<div class="stl_01" style="top:45.4432em; left:6.6142em;"><span class="stl_260 stl_18 stl_10">2</span></div>
					<div class="stl_01" style="top:45.3662em; left:7.292em;"><span class="stl_260 stl_18 stl_315">.2.1</span><span class="stl_91 stl_20 stl_315">ꢀ</span><span class="stl_260 stl_18 stl_315">BeautifulSoup</span><span class="stl_91 stl_20 stl_315">的</span><span class="stl_336 stl_44 stl_337">find()</span><span class="stl_91 stl_20 stl_315">和</span><span class="stl_336 stl_44 stl_337">findAll() &nbsp;</span></div>
					<div class="stl_01" style="top:47.3137em; left:6.6142em;"><span class="stl_132 stl_52 stl_338" style="word-spacing:-0.0301em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_338" style="word-spacing:-0.0301em;">里的 </span><span class="stl_188 stl_44 stl_339" style="word-spacing:-0.0318em;">find()</span><span class="stl_129 stl_49 stl_338" style="word-spacing:-0.0301em;">和 </span><span class="stl_188 stl_44 stl_339" style="word-spacing:-0.0318em;">findAll()</span><span class="stl_129 stl_49 stl_338" style="word-spacing:-0.0301em;">可能是你最常用的两个函数。借助它们，你可以通 &nbsp;</span></div>
					<div class="stl_01" style="top:48.5758em; left:6.6141em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">过标签的不同属性轻松地过滤 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">HTML </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">页面，查找需要的标签组或单个标签。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:30.098em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">复杂</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">HTML</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">解析 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">13 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_42.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_42.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.001em;">这两个函数非常相似，</span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.001em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.001em;">文档里两者的定义就是这样： &nbsp;</span></div>
					<div class="stl_01" style="top:6.8035em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">findAll(tag, attributes, recursive, text, limit, keywords) &nbsp;</span></div>
					<div class="stl_01" style="top:7.6365em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">find(tag, attributes, recursive, text, keywords) &nbsp;</span></div>
					<div class="stl_01" style="top:9.3458em; left:5.6693em;"><span class="stl_129 stl_49 stl_208" style="word-spacing:-0.0262em;">很可能你会发现，自己在 </span><span class="stl_132 stl_52 stl_208" style="word-spacing:-0.0262em;">95% </span><span class="stl_129 stl_49 stl_208" style="word-spacing:-0.0262em;">的时间里都只需要使用前两个参数：</span><span class="stl_188 stl_44 stl_183" style="word-spacing:-0.0277em;">tag</span><span class="stl_129 stl_49 stl_208" style="word-spacing:-0.0262em;">和 </span><span class="stl_188 stl_44 stl_183" style="word-spacing:-0.0277em;">attributes</span><span class="stl_129 stl_49 stl_208" style="word-spacing:-0.0262em;">。但 &nbsp;</span></div>
					<div class="stl_01" style="top:10.6856em; left:5.6692em;"><span class="stl_129 stl_49 stl_10">是，我们还是应该仔细地观察所有的参数。 &nbsp;</span></div>
					<div class="stl_01" style="top:12.5072em; left:5.6692em;"><span class="stl_129 stl_49 stl_200" style="word-spacing:-0.0281em;">标签参数 </span><span class="stl_188 stl_44 stl_340" style="word-spacing:-0.0297em;">tag</span><span class="stl_129 stl_49 stl_200" style="word-spacing:-0.0281em;">前面已经介绍过——你可以传一个标签的名称或多个标签名称组成的 </span><span class="stl_132 stl_52 stl_200" style="word-spacing:-0.0281em;">Python &nbsp;</span></div>
					<div class="stl_01" style="top:13.7296em; left:36.6196em;"><span class="stl_181 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:13.7693em; left:5.6694em;"><span class="stl_129 stl_49 stl_341" style="word-spacing:0.0065em;">列表做标签参数。例如，下面的代码将返回一个包含 </span><span class="stl_132 stl_52 stl_341" style="word-spacing:0.0065em;">HTML </span><span class="stl_129 stl_49 stl_341" style="word-spacing:0.0065em;">文档中所有标题标签的列表： &nbsp;</span></div>
					<div class="stl_01" style="top:15.7379em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">.</span></div>
					<div class="stl_01" style="top:15.7379em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">findAll({"h1","h2","h3","h4","h5","h6"}) &nbsp;</span></div>
					<div class="stl_01" style="top:17.4469em; left:5.6693em;"><span class="stl_129 stl_49 stl_342" style="word-spacing:-0.0413em;">属性参数 </span><span class="stl_188 stl_44 stl_343" style="word-spacing:-0.0436em;">attributes</span><span class="stl_129 stl_49 stl_342" style="word-spacing:-0.0413em;">是用一个 </span><span class="stl_132 stl_52 stl_342" style="word-spacing:-0.0413em;">Python </span><span class="stl_129 stl_49 stl_342" style="word-spacing:-0.0413em;">字典封装一个标签的若干属性和对应的属性值。例 &nbsp;</span></div>
					<div class="stl_01" style="top:18.6969em; left:5.669em;"><span class="stl_129 stl_49 stl_222" style="word-spacing:-0.0159em;">如，下面这个函数会返回 </span><span class="stl_132 stl_52 stl_222" style="word-spacing:-0.0159em;">HTML </span><span class="stl_129 stl_49 stl_222" style="word-spacing:-0.0159em;">文档里红色与绿色两种颜色的 </span><span class="stl_188 stl_44 stl_313" style="word-spacing:-0.0168em;">span</span><span class="stl_129 stl_49 stl_222" style="word-spacing:-0.0159em;">标签： &nbsp;</span></div>
					<div class="stl_01" style="top:20.6775em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">.</span></div>
					<div class="stl_01" style="top:20.6775em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">findAll("span", {"class":{"green", "red"}}) &nbsp;</span></div>
					<div class="stl_01" style="top:22.3865em; left:5.6693em;"><span class="stl_129 stl_49 stl_344" style="word-spacing:-0.0028em;">递归参数 </span><span class="stl_188 stl_44 stl_345" style="word-spacing:-0.0029em;">recursive</span><span class="stl_129 stl_49 stl_344" style="word-spacing:-0.0028em;">是一个布尔变量。你想抓取 </span><span class="stl_132 stl_52 stl_344" style="word-spacing:-0.0028em;">HTML </span><span class="stl_129 stl_49 stl_344" style="word-spacing:-0.0028em;">文档标签结构里多少层的信息？如果 &nbsp;</span></div>
					<div class="stl_01" style="top:23.7142em; left:5.6693em;"><span class="stl_188 stl_44 stl_147" style="word-spacing:-0.0368em;">recursive</span><span class="stl_129 stl_49 stl_346" style="word-spacing:-0.0348em;">设置为 </span><span class="stl_188 stl_44 stl_147" style="word-spacing:-0.0368em;">True</span><span class="stl_129 stl_49 stl_346" style="word-spacing:-0.0348em;">，</span><span class="stl_188 stl_44 stl_147" style="word-spacing:-0.0368em;">findAll</span><span class="stl_129 stl_49 stl_346" style="word-spacing:-0.0348em;">就会根据你的要求去查找标签参数的所有子标签，以及子 &nbsp;</span></div>
					<div class="stl_01" style="top:24.9642em; left:5.6694em;"><span class="stl_129 stl_49 stl_347" style="word-spacing:-0.0312em;">标签的子标签。如果 </span><span class="stl_188 stl_44 stl_348" style="word-spacing:-0.0329em;">recursive</span><span class="stl_129 stl_49 stl_347" style="word-spacing:-0.0312em;">设置为 </span><span class="stl_188 stl_44 stl_348" style="word-spacing:-0.0329em;">False</span><span class="stl_129 stl_49 stl_347" style="word-spacing:-0.0312em;">，</span><span class="stl_188 stl_44 stl_348" style="word-spacing:-0.0329em;">findAll</span><span class="stl_129 stl_49 stl_347" style="word-spacing:-0.0312em;">就只查找文档的一级标签。</span><span class="stl_188 stl_44 stl_348" style="word-spacing:-0.0329em;">findAll &nbsp;</span></div>
					<div class="stl_01" style="top:26.2142em; left:5.6693em;"><span class="stl_129 stl_49 stl_349" style="word-spacing:-0.0071em;">默认是支持递归查找的（</span><span class="stl_188 stl_44 stl_350" style="word-spacing:-0.0075em;">recursive</span><span class="stl_129 stl_49 stl_349" style="word-spacing:-0.0071em;">默认值是 </span><span class="stl_188 stl_44 stl_350" style="word-spacing:-0.0075em;">True</span><span class="stl_129 stl_49 stl_349" style="word-spacing:-0.0071em;">）；一般情况下这个参数不需要设置，除 &nbsp;</span></div>
					<div class="stl_01" style="top:27.4763em; left:5.669em;"><span class="stl_129 stl_49 stl_351">非你真正了解自己需要哪些信息，而且抓取速度非常重要，那时你可以设置递归参数。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.3756em; left:5.669em;"><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0121em;">文本参数 </span><span class="stl_188 stl_44 stl_218" style="word-spacing:-0.0127em;">text</span><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0121em;">有点不同，它是用标签的文本内容去匹配，而不是用标签的属性。假如我们 &nbsp;</span></div>
					<div class="stl_01" style="top:30.5479em; left:5.6691em;"><span class="stl_129 stl_49 stl_352" style="word-spacing:0.0925em;">想查找前面网页中包含“</span><span class="stl_132 stl_52 stl_352" style="word-spacing:0.0925em;">the prince</span><span class="stl_129 stl_49 stl_352" style="word-spacing:0.0925em;">”内容的标签数量，我们可以把之前的</span><span class="stl_188 stl_44 stl_353" style="word-spacing:-0.027em;"> findAll</span><span class="stl_129 stl_49 stl_352" style="word-spacing:-0.0255em;">方法换 &nbsp;</span></div>
					<div class="stl_01" style="top:31.8877em; left:5.6696em;"><span class="stl_129 stl_49 stl_10">成下面的代码： &nbsp;</span></div>
					<div class="stl_01" style="top:33.7786em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">nameList = bsObj.findAll(text="the prince") &nbsp;</span></div>
					<div class="stl_01" style="top:34.6116em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(len(nameList)) &nbsp;</span></div>
					<div class="stl_01" style="top:36.333em; left:5.6693em;"><span class="stl_129 stl_49 stl_187">输出结果为“</span><span class="stl_132 stl_52 stl_187">7</span><span class="stl_129 stl_49 stl_187">”。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.31em; left:5.6693em;"><span class="stl_129 stl_49 stl_354" style="word-spacing:-0.0687em;">范围限制参数 </span><span class="stl_188 stl_44 stl_355" style="word-spacing:-0.0725em;">limit</span><span class="stl_129 stl_49 stl_354" style="word-spacing:-0.0687em;">，显然只用于 </span><span class="stl_188 stl_44 stl_355" style="word-spacing:-0.0725em;">findAll</span><span class="stl_129 stl_49 stl_354" style="word-spacing:-0.0687em;">方法。</span><span class="stl_188 stl_44 stl_355" style="word-spacing:-0.0725em;">find</span><span class="stl_129 stl_49 stl_354" style="word-spacing:-0.0687em;">其实等价于 </span><span class="stl_188 stl_44 stl_355" style="word-spacing:-0.0725em;">findAll</span><span class="stl_129 stl_49 stl_354" style="word-spacing:-0.0687em;">的 </span><span class="stl_188 stl_44 stl_355" style="word-spacing:-0.0725em;">limit</span><span class="stl_129 stl_49 stl_354" style="word-spacing:-0.0687em;">等于 &nbsp;</span></div>
					<div class="stl_01" style="top:39.534em; left:5.6692em;"><span class="stl_132 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:39.4998em; left:6.2812em;"><span class="stl_129 stl_49 stl_356" style="word-spacing:-0.0442em;">时的情形。如果你只对网页中获取的前 </span><span class="stl_357 stl_36 stl_356" style="word-spacing:-0.0442em;">x </span><span class="stl_129 stl_49 stl_356" style="word-spacing:-0.0442em;">项结果感兴趣，就可以设置它。但是要注意， &nbsp;</span></div>
					<div class="stl_01" style="top:40.8222em; left:5.6684em;"><span class="stl_129 stl_49 stl_185">这个参数设置之后，获得的前几项结果是按照网页上的顺序排序的，未必是你想要的那 &nbsp;</span></div>
					<div class="stl_01" style="top:42.0722em; left:5.6684em;"><span class="stl_129 stl_49 stl_173">前几项。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.9714em; left:5.6684em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0011em;">还有一个关键词参数 </span><span class="stl_188 stl_44 stl_10" style="word-spacing:0.0012em;">keyword</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0011em;">，可以让你选择那些具有指定属性的标签。例如： &nbsp;</span></div>
					<div class="stl_01" style="top:45.8744em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">allText = bsObj.findAll(id="text") &nbsp;</span></div>
					<div class="stl_01" style="top:46.7074em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(allText[0].get_text()) &nbsp;</span></div>
					<div class="stl_01" style="top:48.9965em; left:5.6693em;"><span class="stl_60 stl_49 stl_163" style="word-spacing:-0.0429em;">注 </span><span class="stl_61 stl_52 stl_163" style="word-spacing:-0.0429em;">1</span><span class="stl_60 stl_49 stl_163" style="word-spacing:-0.0429em;">：如果你想获得文档里的一组 </span><span class="stl_358 stl_44 stl_71" style="word-spacing:-0.0458em;">h&lt;some_level&gt;</span><span class="stl_60 stl_49 stl_163" style="word-spacing:-0.0429em;">标签，可以用更简洁的方法写代码来完成。我们将在 </span><span class="stl_61 stl_52 stl_163" style="word-spacing:-0.0429em;">2.4 &nbsp;</span></div>
					<div class="stl_01" style="top:50.074em; left:7.5117em;"><span class="stl_60 stl_49 stl_10">节介绍这类问题的处理方法。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">4 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 2</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_43.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_43.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9172em; left:11.3386em;"><span class="stl_245 stl_20 stl_10">关键词参数的注意事项 &nbsp;</span></div>
					<div class="stl_01" style="top:6.4665em; left:11.3386em;"><span class="stl_48 stl_49 stl_170" style="word-spacing:-0.0243em;">虽然关键词参数 </span><span class="stl_116 stl_44 stl_359" style="word-spacing:-0.0257em;">keyword</span><span class="stl_48 stl_49 stl_170" style="word-spacing:-0.0243em;">在一些场景中很有用，但是，它是 </span><span class="stl_51 stl_52 stl_170" style="word-spacing:-0.0243em;">BeautifulSoup </span><span class="stl_48 stl_49 stl_170" style="word-spacing:-0.0243em;">在 &nbsp;</span></div>
					<div class="stl_01" style="top:7.7188em; left:11.386em;"><span class="stl_48 stl_49 stl_303">技术上做的一个冗余功能。任何用关键词参数能够完成的任务，同样可以用 &nbsp;</span></div>
					<div class="stl_01" style="top:8.8122em; left:11.3858em;"><span class="stl_48 stl_49 stl_360" style="word-spacing:0.0455em;">本章后面将介绍的技术解决（请参见 </span><span class="stl_51 stl_52 stl_360" style="word-spacing:0.0455em;">2.3 </span><span class="stl_48 stl_49 stl_360" style="word-spacing:0.0455em;">节和 </span><span class="stl_51 stl_52 stl_360" style="word-spacing:0.0455em;">2.6 </span><span class="stl_48 stl_49 stl_360" style="word-spacing:0.0455em;">节）。 &nbsp;</span></div>
					<div class="stl_01" style="top:10.5246em; left:11.3386em;"><span class="stl_48 stl_49 stl_10">例如，下面两行代码是完全一样的： &nbsp;</span></div>
					<div class="stl_01" style="top:12.1427em; left:13.1102em;"><span class="stl_116 stl_44 stl_10">bsObj.findAll(id="text") &nbsp;</span></div>
					<div class="stl_01" style="top:12.9757em; left:13.1102em;"><span class="stl_116 stl_44 stl_10">bsObj.findAll("", {"id":"text"}) &nbsp;</span></div>
					<div class="stl_01" style="top:14.2907em; left:11.3386em;"><span class="stl_48 stl_49 stl_322" style="word-spacing:-0.0375em;">另外，用 </span><span class="stl_116 stl_44 stl_361" style="word-spacing:-0.0397em;">keyword</span><span class="stl_48 stl_49 stl_322" style="word-spacing:-0.0375em;">偶尔会出现问题，尤其是在用 </span><span class="stl_116 stl_44 stl_361" style="word-spacing:-0.0397em;">class</span><span class="stl_48 stl_49 stl_322" style="word-spacing:-0.0375em;">属性查找标签的时候， &nbsp;</span></div>
					<div class="stl_01" style="top:15.3838em; left:11.3859em;"><span class="stl_48 stl_49 stl_362" style="word-spacing:-0.0679em;">因为 </span><span class="stl_116 stl_44 stl_363" style="word-spacing:-0.0719em;">class</span><span class="stl_48 stl_49 stl_362" style="word-spacing:-0.0679em;">是 </span><span class="stl_51 stl_52 stl_362" style="word-spacing:-0.0679em;">Python </span><span class="stl_48 stl_49 stl_362" style="word-spacing:-0.0679em;">中受保护的关键字。也就是说，</span><span class="stl_116 stl_44 stl_363" style="word-spacing:-0.0719em;">class</span><span class="stl_48 stl_49 stl_362" style="word-spacing:-0.0679em;">是 </span><span class="stl_51 stl_52 stl_362" style="word-spacing:-0.0679em;">Python </span><span class="stl_48 stl_49 stl_362" style="word-spacing:-0.0679em;">语言 &nbsp;</span></div>
					<div class="stl_01" style="top:16.5625em; left:11.3855em;"><span class="stl_48 stl_49 stl_364" style="word-spacing:-0.051em;">的保留字，在 </span><span class="stl_51 stl_52 stl_364" style="word-spacing:-0.051em;">Python </span><span class="stl_48 stl_49 stl_364" style="word-spacing:-0.051em;">程序里是不能当作变量或参数名使用的（和前面介绍 &nbsp;</span></div>
					<div class="stl_01" style="top:17.6915em; left:27.3896em;"><span class="stl_365 stl_52 stl_10">2</span></div>
					<div class="stl_01" style="top:17.7907em; left:11.3858em;"><span class="stl_48 stl_49 stl_314" style="word-spacing:-0.0213em;">的 </span><span class="stl_116 stl_44 stl_366" style="word-spacing:-0.0226em;">BeautifulSoup.findAll()</span><span class="stl_48 stl_49 stl_314" style="word-spacing:-0.0213em;">里的 </span><span class="stl_116 stl_44 stl_366" style="word-spacing:-0.0226em;">keyword</span><span class="stl_48 stl_49 stl_314" style="word-spacing:-0.0213em;">无关） 。假如你运行下面的代码， &nbsp;</span></div>
					<div class="stl_01" style="top:18.8838em; left:11.3857em;"><span class="stl_51 stl_52 stl_367" style="word-spacing:-0.0178em;">Python </span><span class="stl_48 stl_49 stl_367" style="word-spacing:-0.0178em;">就会因为你误用 </span><span class="stl_116 stl_44 stl_368" style="word-spacing:-0.0188em;">class</span><span class="stl_48 stl_49 stl_367" style="word-spacing:-0.0178em;">保留字而产生一个语法错误： &nbsp;</span></div>
					<div class="stl_01" style="top:20.5876em; left:13.1102em;"><span class="stl_116 stl_44 stl_10">bsObj.findAll(class="green") &nbsp;</span></div>
					<div class="stl_01" style="top:21.8287em; left:11.3386em;"><span class="stl_48 stl_49 stl_347" style="word-spacing:-0.0205em;">不过，你可以用 </span><span class="stl_51 stl_52 stl_347" style="word-spacing:-0.0205em;">BeautifulSoup </span><span class="stl_48 stl_49 stl_347" style="word-spacing:-0.0205em;">提供的有点儿臃肿的方案，在 </span><span class="stl_116 stl_44 stl_348" style="word-spacing:-0.0217em;">class</span><span class="stl_48 stl_49 stl_347" style="word-spacing:-0.0205em;">后面增加 &nbsp;</span></div>
					<div class="stl_01" style="top:23.0814em; left:11.3856em;"><span class="stl_48 stl_49 stl_10">一个下划线： &nbsp;</span></div>
					<div class="stl_01" style="top:24.6992em; left:13.1102em;"><span class="stl_116 stl_44 stl_10">bsObj.findAll(class_="green") &nbsp;</span></div>
					<div class="stl_01" style="top:26.0138em; left:11.3386em;"><span class="stl_48 stl_49 stl_369" style="word-spacing:-0.0217em;">另外，你也可以用属性参数把 </span><span class="stl_116 stl_44 stl_370" style="word-spacing:-0.023em;">class</span><span class="stl_48 stl_49 stl_369" style="word-spacing:-0.0217em;">用引号包起来： &nbsp;</span></div>
					<div class="stl_01" style="top:27.644em; left:13.1102em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">bsObj.findAll("", {"class":"green"}) &nbsp;</span></div>
					<div class="stl_01" style="top:29.4428em; left:6.6142em;"><span class="stl_129 stl_49 stl_371">看到这里，你可能会扪心自问：“现在我是不是已经知道如何用标签属性获取一组标签 &nbsp;</span></div>
					<div class="stl_01" style="top:30.6928em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">了——用字典把属性传到函数里就行了？” &nbsp;</span></div>
					<div class="stl_01" style="top:32.4032em; left:6.6142em;"><span class="stl_129 stl_49 stl_281" style="word-spacing:-0.0358em;">回忆一下前面的内容，通过标签参数 </span><span class="stl_188 stl_44 stl_372" style="word-spacing:-0.0378em;">tag</span><span class="stl_129 stl_49 stl_281" style="word-spacing:-0.0358em;">把标签列表传到 </span><span class="stl_188 stl_44 stl_372" style="word-spacing:-0.0378em;">.findAll()</span><span class="stl_129 stl_49 stl_281" style="word-spacing:-0.0358em;">里获取一列标签，其 &nbsp;</span></div>
					<div class="stl_01" style="top:33.5875em; left:6.6143em;"><span class="stl_129 stl_49 stl_263" style="word-spacing:-0.084em;">实就是一个“或”关系的过滤器（即选择所有带标签 </span><span class="stl_132 stl_52 stl_263" style="word-spacing:-0.084em;">1 </span><span class="stl_129 stl_49 stl_263" style="word-spacing:-0.084em;">或标签 </span><span class="stl_132 stl_52 stl_263" style="word-spacing:-0.084em;">2 </span><span class="stl_129 stl_49 stl_263" style="word-spacing:-0.084em;">或标签 </span><span class="stl_132 stl_52 stl_263" style="word-spacing:-0.084em;">3</span><span class="stl_129 stl_49 stl_263" style="word-spacing:-0.084em;">……的一列标 &nbsp;</span></div>
					<div class="stl_01" style="top:34.9032em; left:6.6142em;"><span class="stl_129 stl_49 stl_373" style="word-spacing:0.0169em;">签）。如果你的标签列表很长，就需要花很长时间才能写完。而关键词参数 </span><span class="stl_188 stl_44 stl_374" style="word-spacing:0.0179em;">keyword</span><span class="stl_129 stl_49 stl_373" style="word-spacing:0.0169em;">可以让 &nbsp;</span></div>
					<div class="stl_01" style="top:36.1653em; left:6.6143em;"><span class="stl_129 stl_49 stl_10">你增加一个“与”关系的过滤器来简化工作。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.3152em; left:6.6142em;"><span class="stl_260 stl_18 stl_10">2</span></div>
					<div class="stl_01" style="top:38.2569em; left:7.292em;"><span class="stl_260 stl_18 stl_71">.2.2</span><span class="stl_91 stl_20 stl_71">ꢀ其他</span><span class="stl_260 stl_18 stl_71">BeautifulSoup</span><span class="stl_91 stl_20 stl_71">对象 &nbsp;</span></div>
					<div class="stl_01" style="top:40.1978em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0005em;">看到这里，你已经见过 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0005em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0005em;">库里的两种对象了。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.96em; left:6.6142em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:44.9322em; left:6.6142em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:41.9858em; left:7.6772em;"><span class="stl_188 stl_44 stl_375">BeautifulSoup</span><span class="stl_269 stl_49 stl_294">对象 &nbsp;</span></div>
					<div class="stl_01" style="top:43.2358em; left:7.6771em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">前面代码示例中的 </span><span class="stl_188 stl_44 stl_10" style="word-spacing:0.0001em;">bsObj &nbsp;</span></div>
					<div class="stl_01" style="top:44.9583em; left:7.6774em;"><span class="stl_129 stl_49 stl_376" style="word-spacing:-0.1003em;">标签 </span><span class="stl_188 stl_44 stl_377" style="word-spacing:-0.1058em;">Tag</span><span class="stl_269 stl_49 stl_376" style="word-spacing:-0.1003em;">对象 &nbsp;</span></div>
					<div class="stl_01" style="top:46.2083em; left:7.6772em;"><span class="stl_188 stl_44 stl_311" style="word-spacing:-0.0461em;">BeautifulSoup</span><span class="stl_129 stl_49 stl_310" style="word-spacing:-0.0436em;">对象通过 </span><span class="stl_188 stl_44 stl_311" style="word-spacing:-0.0461em;">find</span><span class="stl_129 stl_49 stl_310" style="word-spacing:-0.0436em;">和 </span><span class="stl_188 stl_44 stl_311" style="word-spacing:-0.0461em;">findAll</span><span class="stl_129 stl_49 stl_310" style="word-spacing:-0.0436em;">，或者直接调用子标签获取的一列对象或单个 &nbsp;</span></div>
					<div class="stl_01" style="top:47.4704em; left:7.6773em;"><span class="stl_129 stl_49 stl_10">对象，就像： &nbsp;</span></div>
					<div class="stl_01" style="top:50.0085em; left:6.6142em;"><span class="stl_60 stl_49 stl_378" style="word-spacing:0.0296em;">注 </span><span class="stl_61 stl_52 stl_378" style="word-spacing:0.0296em;">2</span><span class="stl_60 stl_49 stl_378" style="word-spacing:0.0296em;">：</span><span class="stl_61 stl_52 stl_378" style="word-spacing:0.0296em;">Python </span><span class="stl_60 stl_49 stl_378" style="word-spacing:0.0296em;">语言参考里提供了关键词列表（</span><span class="stl_61 stl_52 stl_378" style="word-spacing:0.0296em;">https://docs.python.org/3/reference/lexical_analysis.html#keywords</span><span class="stl_60 stl_49 stl_378" style="word-spacing:0.0296em;">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:30.098em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">复杂</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">HTML</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">解析 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">15 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_45.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_45.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8921em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">bsObj.div.h1 &nbsp;</span></div>
					<div class="stl_01" style="top:6.6908em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">但是，这个库还有另外两种对象，虽然不常用，却应该了解一下。 &nbsp;</span></div>
					<div class="stl_01" style="top:8.5638em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:8.5902em; left:6.7323em;"><span class="stl_188 stl_44 stl_340">NavigableString</span><span class="stl_269 stl_49 stl_200">对象 &nbsp;</span></div>
					<div class="stl_01" style="top:9.8402em; left:6.7325em;"><span class="stl_129 stl_49 stl_144" style="word-spacing:-0.0504em;">用来表示标签里的文字，不是标签（有些函数可以操作和生成 </span><span class="stl_188 stl_44 stl_379" style="word-spacing:-0.0532em;">NavigableString</span><span class="stl_129 stl_49 stl_144" style="word-spacing:-0.0504em;">对象， &nbsp;</span></div>
					<div class="stl_01" style="top:11.1023em; left:6.7324em;"><span class="stl_129 stl_49 stl_187">而不是标签对象）。 &nbsp;</span></div>
					<div class="stl_01" style="top:12.9753em; left:5.6692em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:13.0016em; left:6.7323em;"><span class="stl_188 stl_44 stl_145">Comment</span><span class="stl_269 stl_49 stl_380">对象 &nbsp;</span></div>
					<div class="stl_01" style="top:14.1739em; left:6.7321em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">用来查找 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">HTML</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;"> 文档的注释标签，</span><span class="stl_188 stl_44 stl_10" style="word-spacing:0.0002em;">&lt;!--</span><span class="stl_48 stl_49 stl_10" style="word-spacing:0em;"> 像这样</span><span class="stl_188 stl_44 stl_10" style="word-spacing:0.25em;"> --&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:16.0974em; left:5.6693em;"><span class="stl_129 stl_49 stl_381" style="word-spacing:0.0258em;">这四个对象是你用 </span><span class="stl_132 stl_52 stl_381" style="word-spacing:0.0258em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_381" style="word-spacing:0.0258em;">库时会遇到的所有对象（写作本书的时候）。 &nbsp;</span></div>
					<div class="stl_01" style="top:18.5849em; left:5.6693em;"><span class="stl_260 stl_18 stl_10">2</span></div>
					<div class="stl_01" style="top:18.5265em; left:6.3471em;"><span class="stl_260 stl_18 stl_71">.2.3</span><span class="stl_91 stl_20 stl_71">ꢀ导航树 &nbsp;</span></div>
					<div class="stl_01" style="top:20.5331em; left:5.6693em;"><span class="stl_188 stl_44 stl_372" style="word-spacing:0.0952em;">findAll</span><span class="stl_129 stl_49 stl_281" style="word-spacing:0.0902em;">函数通过标签的名称和属性来查找标签 。但是如果你需要通过标签在文档中的位 &nbsp;</span></div>
					<div class="stl_01" style="top:21.7175em; left:5.6694em;"><span class="stl_129 stl_49 stl_284" style="word-spacing:0.1079em;">置来查找标签，该怎么办？这就是导航树（</span><span class="stl_132 stl_52 stl_284" style="word-spacing:0.1079em;">Navigating Trees</span><span class="stl_129 stl_49 stl_284" style="word-spacing:0.1079em;">）的作用。在第</span><span class="stl_132 stl_52 stl_284" style="word-spacing:-0.0121em;"> 1</span><span class="stl_129 stl_49 stl_284" style="word-spacing:-0.0121em;"> 章里，我们 &nbsp;</span></div>
					<div class="stl_01" style="top:22.9675em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0005em;">看过用单一方向进行 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0005em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0005em;">标签树的导航： &nbsp;</span></div>
					<div class="stl_01" style="top:24.936em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">bsObj.tag.subTag.anotherSubTag &nbsp;</span></div>
					<div class="stl_01" style="top:26.6571em; left:5.6693em;"><span class="stl_129 stl_49 stl_303" style="word-spacing:-0.0119em;">现在我们用虚拟的在线购物网站 </span><span class="stl_132 stl_52 stl_303" style="word-spacing:-0.0119em;">http://www.pythonscraping.com/pages/page3.html </span><span class="stl_129 stl_49 stl_303" style="word-spacing:-0.0119em;">作为要抓 &nbsp;</span></div>
					<div class="stl_01" style="top:27.9071em; left:5.6693em;"><span class="stl_129 stl_49 stl_219" style="word-spacing:0.0345em;">取的示例网页，演示 </span><span class="stl_132 stl_52 stl_219" style="word-spacing:0.0345em;">HTML </span><span class="stl_129 stl_49 stl_219" style="word-spacing:0.0345em;">导航树的纵向和横向导航（如图 </span><span class="stl_132 stl_52 stl_219" style="word-spacing:0.0345em;">2-1 </span><span class="stl_129 stl_49 stl_219" style="word-spacing:0.0345em;">所示）。 &nbsp;</span></div>
					<div class="stl_01 stl_382" style="top:45.4854em; left:5.6693em;"><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0129em;">图 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0129em;">2-1</span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0129em;">：</span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0129em;">http://www.pythonscraping.com/pages/page3.html </span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0129em;">截图 &nbsp;</span></div>
					<div class="stl_01" style="top:47.3394em; left:5.6693em;"><span class="stl_129 stl_49 stl_385" style="word-spacing:0.0304em;">这个 </span><span class="stl_132 stl_52 stl_385" style="word-spacing:0.0304em;">HTML </span><span class="stl_129 stl_49 stl_385" style="word-spacing:0.0304em;">页面可以映射成一棵树（为了简洁，省略了一些标签），如下所示： &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">6 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 2</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_46.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_46.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8745em; left:7.6772em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:4.8745em; left:8.7404em;"><span class="stl_132 stl_52 stl_73">html &nbsp;</span></div>
					<div class="stl_01" style="top:6.1245em; left:9.8131em;"><span class="stl_132 stl_52 stl_10">body &nbsp;</span></div>
					<div class="stl_01" style="top:7.3746em; left:10.8027em;"><span class="stl_132 stl_52 stl_10">div.wrapper &nbsp;</span></div>
					<div class="stl_01" style="top:6.1753em; left:8.8235em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:7.4254em; left:9.8131em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:8.6754em; left:10.8027em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:9.9255em; left:10.8027em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:11.1755em; left:10.8027em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:8.6246em; left:11.7923em;"><span class="stl_132 stl_52 stl_10">h1 &nbsp;</span></div>
					<div class="stl_01" style="top:9.8747em; left:11.7923em;"><span class="stl_132 stl_52 stl_73">div.content &nbsp;</span></div>
					<div class="stl_01" style="top:11.1247em; left:11.7923em;"><span class="stl_132 stl_52 stl_73">table#giftList &nbsp;</span></div>
					<div class="stl_01" style="top:12.4255em; left:11.7923em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:12.3748em; left:12.7818em;"><span class="stl_132 stl_52 stl_386">tr &nbsp;</span></div>
					<div class="stl_01" style="top:13.6756em; left:12.7818em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:14.9256em; left:12.7818em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:16.1757em; left:12.7818em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:17.4257em; left:12.7818em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:13.6248em; left:13.7714em;"><span class="stl_132 stl_52 stl_386">th &nbsp;</span></div>
					<div class="stl_01" style="top:14.8748em; left:13.7714em;"><span class="stl_132 stl_52 stl_386">th &nbsp;</span></div>
					<div class="stl_01" style="top:16.1249em; left:13.7714em;"><span class="stl_132 stl_52 stl_386">th &nbsp;</span></div>
					<div class="stl_01" style="top:17.3749em; left:13.7714em;"><span class="stl_132 stl_52 stl_386">th &nbsp;</span></div>
					<div class="stl_01" style="top:18.6757em; left:11.0006em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:18.625em; left:11.9902em;"><span class="stl_132 stl_52 stl_73">tr.gift#gift1 &nbsp;</span></div>
					<div class="stl_01" style="top:19.9258em; left:11.9902em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:21.1758em; left:11.9902em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:19.875em; left:12.9798em;"><span class="stl_132 stl_52 stl_386">td &nbsp;</span></div>
					<div class="stl_01" style="top:21.125em; left:12.9798em;"><span class="stl_132 stl_52 stl_386">td &nbsp;</span></div>
					<div class="stl_01" style="top:22.4259em; left:12.9798em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:23.6251em; left:12.9798em;"><span class="stl_132 stl_52 stl_386">td &nbsp;</span></div>
					<div class="stl_01" style="top:24.8752em; left:12.9798em;"><span class="stl_132 stl_52 stl_386">td &nbsp;</span></div>
					<div class="stl_01" style="top:26.176em; left:12.9798em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:22.3751em; left:13.9693em;"><span class="stl_132 stl_52 stl_10">span.excitingNote &nbsp;</span></div>
					<div class="stl_01" style="top:23.6759em; left:11.9902em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:24.9259em; left:11.9902em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:26.1252em; left:13.9693em;"><span class="stl_132 stl_52 stl_386">img &nbsp;</span></div>
					<div class="stl_01" style="top:27.426em; left:11.1985em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:27.4126em; left:12.1881em;"><span class="stl_129 stl_49 stl_10">……其他表格行省略了…… &nbsp;</span></div>
					<div class="stl_01" style="top:28.6753em; left:9.6152em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:28.6245em; left:10.6048em;"><span class="stl_132 stl_52 stl_73">div.footer &nbsp;</span></div>
					<div class="stl_01" style="top:30.496em; left:6.6147em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">在后面几节内容里，我们仍然以这个 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">HTML </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">标签结构为例。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.3855em; left:7.0549em;"><span class="stl_387 stl_18 stl_10" style="word-spacing:0.2783em;">. </span><span class="stl_388 stl_20 stl_10" style="word-spacing:0.2783em;">处理子标签和其他后代标签 &nbsp;</span></div>
					<div class="stl_01" style="top:32.4251em; left:6.6148em;"><span class="stl_387 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:33.7348em; left:6.6148em;"><span class="stl_129 stl_49 stl_389">在计算机科学和一些数学领域中，你经常会听到“虐子”事件（比喻对一些子事件 &nbsp;</span></div>
					<div class="stl_01" style="top:34.9855em; left:6.6142em;"><span class="stl_129 stl_49 stl_390">的处理方式）：移动它们，储存它们，删除它们，甚至杀死它们。值得庆幸的是，在 &nbsp;</span></div>
					<div class="stl_01" style="top:36.1578em; left:6.6142em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.001em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.001em;">里，子标签的处理方式没那么残忍。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.0688em; left:6.6142em;"><span class="stl_129 stl_49 stl_347" style="word-spacing:-0.017em;">和许多其他库一样，在 </span><span class="stl_132 stl_52 stl_347" style="word-spacing:-0.017em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_347" style="word-spacing:-0.017em;">库里，</span><span class="stl_269 stl_49 stl_347" style="word-spacing:-0.017em;">孩子</span><span class="stl_129 stl_49 stl_347" style="word-spacing:-0.017em;">（</span><span class="stl_132 stl_52 stl_347" style="word-spacing:-0.017em;">child</span><span class="stl_129 stl_49 stl_347" style="word-spacing:-0.017em;">）和</span><span class="stl_269 stl_49 stl_347" style="word-spacing:-0.017em;">后代</span><span class="stl_129 stl_49 stl_347" style="word-spacing:-0.017em;">（</span><span class="stl_132 stl_52 stl_347" style="word-spacing:-0.017em;">descendant</span><span class="stl_129 stl_49 stl_347" style="word-spacing:-0.017em;">）有显著的 &nbsp;</span></div>
					<div class="stl_01" style="top:39.3969em; left:6.6141em;"><span class="stl_129 stl_49 stl_130">不同：和人类的家谱一样，子标签就是一个父标签的下一级，而后代标签是指一个父标签 &nbsp;</span></div>
					<div class="stl_01" style="top:40.6348em; left:6.6141em;"><span class="stl_129 stl_49 stl_391" style="word-spacing:-0.0463em;">下面所有级别的标签。例如，</span><span class="stl_188 stl_44 stl_144" style="word-spacing:-0.0489em;">tr</span><span class="stl_129 stl_49 stl_391" style="word-spacing:-0.0463em;">标签是 </span><span class="stl_188 stl_44 stl_144" style="word-spacing:-0.0489em;">tabel</span><span class="stl_129 stl_49 stl_391" style="word-spacing:-0.0463em;">标签的子标签，而 </span><span class="stl_188 stl_44 stl_144" style="word-spacing:-0.0489em;">tr</span><span class="stl_129 stl_49 stl_391" style="word-spacing:-0.0463em;">、</span><span class="stl_188 stl_44 stl_144" style="word-spacing:-0.0489em;">th</span><span class="stl_129 stl_49 stl_391" style="word-spacing:-0.0463em;">、</span><span class="stl_188 stl_44 stl_144" style="word-spacing:-0.0489em;">td</span><span class="stl_129 stl_49 stl_391" style="word-spacing:-0.0463em;">、</span><span class="stl_188 stl_44 stl_144" style="word-spacing:-0.0489em;">img</span><span class="stl_129 stl_49 stl_391" style="word-spacing:-0.0463em;">和 </span><span class="stl_188 stl_44 stl_144" style="word-spacing:-0.0489em;">span &nbsp;</span></div>
					<div class="stl_01" style="top:41.8848em; left:6.6142em;"><span class="stl_129 stl_49 stl_392" style="word-spacing:0.0123em;">标签都是 </span><span class="stl_188 stl_44 stl_393" style="word-spacing:0.013em;">tabel</span><span class="stl_129 stl_49 stl_392" style="word-spacing:0.0123em;">标签的后代标签（我们的示例页面中就是如此）。所有的子标签都是后代标 &nbsp;</span></div>
					<div class="stl_01" style="top:43.1469em; left:6.6144em;"><span class="stl_129 stl_49 stl_10">签，但不是所有的后代标签都是子标签。 &nbsp;</span></div>
					<div class="stl_01" style="top:44.9213em; left:6.6144em;"><span class="stl_129 stl_49 stl_394" style="word-spacing:-0.0366em;">一般情况下，</span><span class="stl_132 stl_52 stl_394" style="word-spacing:-0.0366em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_394" style="word-spacing:-0.0366em;">函数总是处理当前标签的后代标签。例如，</span><span class="stl_188 stl_44 stl_395" style="word-spacing:-0.0386em;">bsObj.body.h1</span><span class="stl_129 stl_49 stl_394" style="word-spacing:-0.0366em;">选 &nbsp;</span></div>
					<div class="stl_01" style="top:46.249em; left:6.6139em;"><span class="stl_129 stl_49 stl_71" style="word-spacing:-0.0499em;">择了 </span><span class="stl_188 stl_44 stl_298" style="word-spacing:-0.0527em;">body</span><span class="stl_129 stl_49 stl_71" style="word-spacing:-0.0499em;">标签后代里的第一个 </span><span class="stl_188 stl_44 stl_298" style="word-spacing:-0.0527em;">h1</span><span class="stl_129 stl_49 stl_71" style="word-spacing:-0.0499em;">标签，不会去找 </span><span class="stl_188 stl_44 stl_298" style="word-spacing:-0.0527em;">body</span><span class="stl_129 stl_49 stl_71" style="word-spacing:-0.0499em;">外面的标签。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.0895em; left:6.614em;"><span class="stl_129 stl_49 stl_145" style="word-spacing:-0.0528em;">类似地，</span><span class="stl_188 stl_44 stl_396" style="word-spacing:-0.0558em;">bsObj.div.findAll("img")</span><span class="stl_129 stl_49 stl_145" style="word-spacing:-0.0528em;">会找出文档中第一个 </span><span class="stl_188 stl_44 stl_396" style="word-spacing:-0.0558em;">div</span><span class="stl_129 stl_49 stl_145" style="word-spacing:-0.0528em;">标签，然后获取这个 </span><span class="stl_188 stl_44 stl_396" style="word-spacing:-0.0558em;">div</span><span class="stl_129 stl_49 stl_145" style="word-spacing:-0.0528em;">后 &nbsp;</span></div>
					<div class="stl_01" style="top:49.3395em; left:6.6139em;"><span class="stl_129 stl_49 stl_266" style="word-spacing:-0.0451em;">代里所有的 </span><span class="stl_188 stl_44 stl_397" style="word-spacing:-0.0476em;">img</span><span class="stl_129 stl_49 stl_266" style="word-spacing:-0.0451em;">标签列表。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:30.098em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">复杂</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">HTML</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">解析 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">17 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_47.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_47.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9005em; left:5.6693em;"><span class="stl_129 stl_49 stl_138" style="word-spacing:-0.0208em;">如果你只想找出子标签，可以用 </span><span class="stl_188 stl_44 stl_296" style="word-spacing:-0.022em;">.children</span><span class="stl_129 stl_49 stl_138" style="word-spacing:-0.0208em;">标签： &nbsp;</span></div>
					<div class="stl_01" style="top:6.8033em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urllib.request </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:7.6363em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">bs4 </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:9.3023em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">html = urlopen("http://www.pythonscraping.com/pages/page3.html") &nbsp;</span></div>
					<div class="stl_01" style="top:10.1353em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">bsObj = BeautifulSoup(html) &nbsp;</span></div>
					<div class="stl_01" style="top:11.8013em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">child </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">bsObj.find("table",{"id":"giftList"}).children: &nbsp;</span></div>
					<div class="stl_01" style="top:12.6343em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(child) &nbsp;</span></div>
					<div class="stl_01" style="top:14.4235em; left:5.6693em;"><span class="stl_129 stl_49 stl_366" style="word-spacing:-0.0408em;">这段代码会打印 </span><span class="stl_188 stl_44 stl_398" style="word-spacing:-0.0431em;">giftList</span><span class="stl_129 stl_49 stl_366" style="word-spacing:-0.0408em;">表格中所有产品的数据行。如果你用 </span><span class="stl_188 stl_44 stl_398" style="word-spacing:-0.0431em;">descendants()</span><span class="stl_129 stl_49 stl_366" style="word-spacing:-0.0408em;">函数而不是 &nbsp;</span></div>
					<div class="stl_01" style="top:15.6735em; left:5.6693em;"><span class="stl_188 stl_44 stl_399" style="word-spacing:-0.0487em;">children()</span><span class="stl_129 stl_49 stl_333" style="word-spacing:-0.0461em;">函数，那么就会有二十几个标签打印出来，包括 </span><span class="stl_188 stl_44 stl_399" style="word-spacing:-0.0487em;">img</span><span class="stl_129 stl_49 stl_333" style="word-spacing:-0.0461em;">标签、</span><span class="stl_188 stl_44 stl_399" style="word-spacing:-0.0487em;">span</span><span class="stl_129 stl_49 stl_333" style="word-spacing:-0.0461em;">标签，以及每 &nbsp;</span></div>
					<div class="stl_01" style="top:16.9235em; left:5.6693em;"><span class="stl_129 stl_49 stl_400" style="word-spacing:-0.0227em;">个 </span><span class="stl_188 stl_44 stl_401" style="word-spacing:-0.024em;">td</span><span class="stl_129 stl_49 stl_400" style="word-spacing:-0.0227em;">标签。掌握子标签与后代标签的差别十分重要！ &nbsp;</span></div>
					<div class="stl_01" style="top:18.787em; left:5.6696em;"><span class="stl_387 stl_18 stl_10">2</span></div>
					<div class="stl_01" style="top:18.7474em; left:6.1098em;"><span class="stl_387 stl_18 stl_10" style="word-spacing:0.2783em;">. </span><span class="stl_388 stl_20 stl_10" style="word-spacing:0.2783em;">处理兄弟标签 &nbsp;</span></div>
					<div class="stl_01" style="top:20.0072em; left:5.6696em;"><span class="stl_132 stl_52 stl_216" style="word-spacing:-0.0316em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_216" style="word-spacing:-0.0316em;">的 </span><span class="stl_188 stl_44 stl_402" style="word-spacing:-0.0334em;">next_siblings()</span><span class="stl_129 stl_49 stl_216" style="word-spacing:-0.0316em;">函数可以让收集表格数据成为简单的事情，尤其是处理 &nbsp;</span></div>
					<div class="stl_01" style="top:21.347em; left:5.6697em;"><span class="stl_129 stl_49 stl_10">带标题行的表格： &nbsp;</span></div>
					<div class="stl_01" style="top:23.2377em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urllib.request </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:24.0707em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">bs4 </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:24.9037em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">html = urlopen("http://www.pythonscraping.com/pages/page3.html") &nbsp;</span></div>
					<div class="stl_01" style="top:25.7367em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">bsObj = BeautifulSoup(html) &nbsp;</span></div>
					<div class="stl_01" style="top:27.4027em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">sibling </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">bsObj.find("table",{"id":"giftList"}).tr.next_siblings: &nbsp;</span></div>
					<div class="stl_01" style="top:28.2357em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(sibling) &nbsp;</span></div>
					<div class="stl_01" style="top:30.0366em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">这段代码会打印产品列表里的所有行的产品，第一行表格标题除外。为什么标题行被跳过 &nbsp;</span></div>
					<div class="stl_01" style="top:31.2867em; left:5.6693em;"><span class="stl_129 stl_49 stl_139">了呢？有两个理由。首先，对象不能把自己作为兄弟标签。任何时候你获取一个标签的兄 &nbsp;</span></div>
					<div class="stl_01" style="top:32.5367em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">弟标签，都不会包含这个标签本身。其次，这个函数只调用后面的兄弟标签。例如，如果 &nbsp;</span></div>
					<div class="stl_01" style="top:33.7746em; left:5.6693em;"><span class="stl_129 stl_49 stl_231" style="word-spacing:-0.0298em;">我们选择一组标签中位于中间位置的一个标签，然后用 </span><span class="stl_188 stl_44 stl_309" style="word-spacing:-0.0315em;">next_siblings()</span><span class="stl_129 stl_49 stl_231" style="word-spacing:-0.0298em;">函数，那么它就 &nbsp;</span></div>
					<div class="stl_01" style="top:35.0246em; left:5.669em;"><span class="stl_129 stl_49 stl_332" style="word-spacing:-0.0451em;">只会返回在它后面的兄弟标签。因此，选择标签行然后调用 </span><span class="stl_188 stl_44 stl_333" style="word-spacing:-0.0476em;">next_siblings</span><span class="stl_129 stl_49 stl_332" style="word-spacing:-0.0451em;">，可以选择表 &nbsp;</span></div>
					<div class="stl_01" style="top:36.2867em; left:5.6696em;"><span class="stl_129 stl_49 stl_10">格中除了标题行以外的所有行。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.9113em; left:10.3937em;"><span class="stl_245 stl_20 stl_10">让标签的选择更具体 &nbsp;</span></div>
					<div class="stl_01" style="top:40.7704em; left:10.3937em;"><span class="stl_48 stl_49 stl_403" style="word-spacing:-0.0406em;">如果我们选择 </span><span class="stl_116 stl_44 stl_404" style="word-spacing:-0.043em;">bsObj.table.tr</span><span class="stl_48 stl_49 stl_403" style="word-spacing:-0.0406em;">或直接就用 </span><span class="stl_116 stl_44 stl_404" style="word-spacing:-0.043em;">bsObj.tr</span><span class="stl_48 stl_49 stl_403" style="word-spacing:-0.0406em;">来获取表格中的第一行， &nbsp;</span></div>
					<div class="stl_01" style="top:41.9491em; left:10.4413em;"><span class="stl_48 stl_49 stl_303">上面的代码也可以获得正确的结果。但是，我们还是采用更长的形式写了一 &nbsp;</span></div>
					<div class="stl_01" style="top:43.1161em; left:10.4409em;"><span class="stl_48 stl_49 stl_10">行代码，这可以避免各种意外： &nbsp;</span></div>
					<div class="stl_01" style="top:44.9702em; left:12.1654em;"><span class="stl_116 stl_44 stl_10">bsObj.find("table",{"id":"giftList"}).tr &nbsp;</span></div>
					<div class="stl_01" style="top:46.5331em; left:10.3937em;"><span class="stl_48 stl_49 stl_405">即使页面上只有一个表格（或其他目标标签），只用标签也很容易丢失细节。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.7001em; left:10.441em;"><span class="stl_48 stl_49 stl_399">另外，页面布局总是不断变化的。一个标签这次是在表格中第一行的位置， &nbsp;</span></div>
					<div class="stl_01" style="top:48.8664em; left:10.441em;"><span class="stl_48 stl_49 stl_303">没准儿哪天就在第二行或第三行了。如果想让你的爬虫更稳定，最好还是让 &nbsp;</span></div>
					<div class="stl_01" style="top:50.0335em; left:10.4409em;"><span class="stl_48 stl_49 stl_10">标签的选择更加具体。如果有属性，就利用标签的属性。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">8 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 2</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_48.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_48.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9005em; left:6.6142em;"><span class="stl_129 stl_49 stl_406" style="word-spacing:-0.2625em;">和 </span><span class="stl_188 stl_44 stl_407" style="word-spacing:-0.277em;">next_siblings </span><span class="stl_129 stl_49 stl_406" style="word-spacing:-0.2625em;">一样，如果你很容易找到一组兄弟标签中的最后一个标签，那么 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1505em; left:6.6142em;"><span class="stl_188 stl_44 stl_296">previous_siblings</span><span class="stl_129 stl_49 stl_138">函数也会很有用。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.9911em; left:6.6139em;"><span class="stl_129 stl_49 stl_289" style="word-spacing:0.0071em;">当然，还有 </span><span class="stl_188 stl_44 stl_408" style="word-spacing:0.0075em;">next_sibling</span><span class="stl_129 stl_49 stl_289" style="word-spacing:0.0071em;">和 </span><span class="stl_188 stl_44 stl_408" style="word-spacing:0.0075em;">previous_sibling</span><span class="stl_129 stl_49 stl_289" style="word-spacing:0.0071em;">函数，与 </span><span class="stl_188 stl_44 stl_408" style="word-spacing:0.0075em;">next_siblings</span><span class="stl_129 stl_49 stl_289" style="word-spacing:0.0071em;">和 </span><span class="stl_188 stl_44 stl_408" style="word-spacing:0.0075em;">previous_siblings &nbsp;</span></div>
					<div class="stl_01" style="top:9.2532em; left:6.6142em;"><span class="stl_129 stl_49 stl_13">的作用类似，只是它们返回的是单个标签，而不是一组标签。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.0334em; left:6.6142em;"><span class="stl_387 stl_18 stl_10">3</span></div>
					<div class="stl_01" style="top:10.9938em; left:7.0543em;"><span class="stl_387 stl_18 stl_10" style="word-spacing:0.2783em;">. </span><span class="stl_388 stl_20 stl_10" style="word-spacing:0.2783em;">父标签处理 &nbsp;</span></div>
					<div class="stl_01" style="top:12.3431em; left:6.6142em;"><span class="stl_129 stl_49 stl_172">在抓取网页的时候，查找父标签的需求比查找子标签和兄弟标签要少很多。通常情况 &nbsp;</span></div>
					<div class="stl_01" style="top:13.516em; left:6.6142em;"><span class="stl_129 stl_49 stl_409" style="word-spacing:-0.0492em;">下，如果以抓取网页内容为目的来观察 </span><span class="stl_132 stl_52 stl_409" style="word-spacing:-0.0492em;">HTML </span><span class="stl_129 stl_49 stl_409" style="word-spacing:-0.0492em;">页面，我们都是从最上层标签开始的，然 &nbsp;</span></div>
					<div class="stl_01" style="top:14.8437em; left:6.6142em;"><span class="stl_129 stl_49 stl_172">后思考如何定位我们想要的数据块所在的位置。但是，偶尔在特殊情况下你也会用到 &nbsp;</span></div>
					<div class="stl_01" style="top:16.004em; left:6.6142em;"><span class="stl_132 stl_52 stl_239" style="word-spacing:-0.0141em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_239" style="word-spacing:-0.0141em;">的父标签查找函数，</span><span class="stl_188 stl_44 stl_186" style="word-spacing:-0.0148em;">parent</span><span class="stl_129 stl_49 stl_239" style="word-spacing:-0.0141em;">和 </span><span class="stl_188 stl_44 stl_186" style="word-spacing:-0.0148em;">parents</span><span class="stl_129 stl_49 stl_239" style="word-spacing:-0.0141em;">。例如： &nbsp;</span></div>
					<div class="stl_01" style="top:17.9136em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">urllib.request </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:18.7466em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">bs4 </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:20.4126em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">html = urlopen("http://www.pythonscraping.com/pages/page3.html") &nbsp;</span></div>
					<div class="stl_01" style="top:21.2456em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">bsObj = BeautifulSoup(html) &nbsp;</span></div>
					<div class="stl_01" style="top:22.0786em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(bsObj.find("img",{"src":"../img/gifts/img1.jpg" &nbsp;</span></div>
					<div class="stl_01" style="top:22.9116em; left:16.4844em;"><span class="stl_116 stl_44 stl_10">}</span></div>
					<div class="stl_01" style="top:22.9116em; left:16.8386em;"><span class="stl_116 stl_44 stl_10">).parent.previous_sibling.get_text()) &nbsp;</span></div>
					<div class="stl_01" style="top:24.7004em; left:6.6142em;"><span class="stl_129 stl_49 stl_410" style="word-spacing:-0.0735em;">这段代码会打印 </span><span class="stl_188 stl_44 stl_411" style="word-spacing:-0.0775em;">../img/gifts/img1.jpg</span><span class="stl_129 stl_49 stl_410" style="word-spacing:-0.0735em;">这个图片对应商品的价格（这个示例中价格是 &nbsp;</span></div>
					<div class="stl_01" style="top:25.9244em; left:6.6141em;"><span class="stl_132 stl_52 stl_10">$</span></div>
					<div class="stl_01" style="top:25.8848em; left:7.0099em;"><span class="stl_132 stl_52 stl_412">15.00</span><span class="stl_129 stl_49 stl_412">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.7253em; left:6.6141em;"><span class="stl_129 stl_49 stl_123" style="word-spacing:-0.0034em;">这是如何实现的呢？下面的图形是我们正在处理的 </span><span class="stl_132 stl_52 stl_123" style="word-spacing:-0.0034em;">HTML </span><span class="stl_129 stl_49 stl_123" style="word-spacing:-0.0034em;">页面的部分结构，用数字表示步 &nbsp;</span></div>
					<div class="stl_01" style="top:29.0531em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">骤的话： &nbsp;</span></div>
					<div class="stl_01" style="top:30.8556em; left:7.6774em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:30.8556em; left:8.7406em;"><span class="stl_132 stl_52 stl_73">&lt;tr&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:32.1564em; left:8.7921em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:33.4065em; left:8.7921em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:34.6565em; left:8.7921em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:32.1056em; left:9.7816em;"><span class="stl_132 stl_52 stl_73">&lt;td&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:33.3557em; left:9.7816em;"><span class="stl_132 stl_52 stl_73">&lt;td&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:34.6057em; left:9.7816em;"><span class="stl_132 stl_52 stl_10">&lt;td&gt;(3) &nbsp;</span></div>
					<div class="stl_01" style="top:35.9065em; left:9.9796em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:35.8558em; left:10.9691em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0002em;">"$15.00" (4) &nbsp;</span></div>
					<div class="stl_01" style="top:37.1566em; left:8.7921em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:37.1058em; left:9.7816em;"><span class="stl_132 stl_52 stl_10">&lt;td&gt;(2) &nbsp;</span></div>
					<div class="stl_01" style="top:38.4066em; left:9.9796em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:38.3558em; left:10.9691em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">&lt;img src="../img/gifts/img1.jpg"&gt; (1) &nbsp;</span></div>
					<div class="stl_01" style="top:40.1965em; left:6.615em;"><span class="stl_132 stl_52 stl_10">(</span></div>
					<div class="stl_01" style="top:40.1444em; left:6.8786em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0366em;">1) </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0366em;">选择图片标签 </span><span class="stl_188 stl_44 stl_10" style="word-spacing:-0.0386em;">src="../img/gifts/img1.jpg"</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0366em;">； &nbsp;</span></div>
					<div class="stl_01" style="top:41.4461em; left:6.6143em;"><span class="stl_132 stl_52 stl_10">(</span></div>
					<div class="stl_01" style="top:41.3944em; left:6.878em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0367em;">2) </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0367em;">选择图片标签的父标签（在示例中是 </span><span class="stl_188 stl_44 stl_10" style="word-spacing:-0.0388em;">&lt;td&gt;</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0367em;">标签）； &nbsp;</span></div>
					<div class="stl_01" style="top:42.6961em; left:6.6145em;"><span class="stl_132 stl_52 stl_10">(</span></div>
					<div class="stl_01" style="top:42.6444em; left:6.8782em;"><span class="stl_132 stl_52 stl_413" style="word-spacing:-0.0498em;">3) </span><span class="stl_129 stl_49 stl_413" style="word-spacing:-0.0498em;">选择 </span><span class="stl_188 stl_44 stl_366" style="word-spacing:-0.0526em;">&lt;td&gt;</span><span class="stl_129 stl_49 stl_413" style="word-spacing:-0.0498em;">标签的前一个兄弟标签 </span><span class="stl_188 stl_44 stl_366" style="word-spacing:-0.0526em;">previous_sibling</span><span class="stl_129 stl_49 stl_413" style="word-spacing:-0.0498em;">（在示例中是包含美元价格的 </span><span class="stl_188 stl_44 stl_366" style="word-spacing:-0.0526em;">&lt;td&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:43.9841em; left:7.6772em;"><span class="stl_129 stl_49 stl_412">标签）； &nbsp;</span></div>
					<div class="stl_01" style="top:45.1961em; left:6.614em;"><span class="stl_132 stl_52 stl_10">(</span></div>
					<div class="stl_01" style="top:45.1565em; left:6.8776em;"><span class="stl_132 stl_52 stl_414" style="word-spacing:0.0381em;">4) </span><span class="stl_129 stl_49 stl_414" style="word-spacing:0.0381em;">选择标签中的文字，“</span><span class="stl_132 stl_52 stl_414" style="word-spacing:0.0381em;">$15.00</span><span class="stl_129 stl_49 stl_414" style="word-spacing:0.0381em;">”。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.5516em; left:6.6142em;"><span class="stl_197 stl_18 stl_10">2</span></div>
					<div class="stl_01" style="top:47.4808em; left:7.4373em;"><span class="stl_197 stl_18 stl_71">.3</span><span class="stl_160 stl_20 stl_71">ꢀ正则表达式 &nbsp;</span></div>
					<div class="stl_01" style="top:49.914em; left:6.6142em;"><span class="stl_129 stl_49 stl_415" style="word-spacing:0.1083em;">计算机科学里曾经有个笑话：“如果你有一个问题打算用正则表达式（</span><span class="stl_132 stl_52 stl_415" style="word-spacing:0.1083em;">regular expression</span><span class="stl_129 stl_49 stl_415" style="word-spacing:0.1083em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:30.098em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">复杂</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">HTML</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">解析 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">19 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_49.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_49.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9126em; left:5.6693em;"><span class="stl_129 stl_49 stl_416">来解决，那么就是两个问题了。” &nbsp;</span></div>
					<div class="stl_01" style="top:6.6755em; left:5.6693em;"><span class="stl_129 stl_49 stl_417" style="word-spacing:-0.0391em;">不幸的是，正则表达式（通常简写 </span><span class="stl_132 stl_52 stl_417" style="word-spacing:-0.0391em;">regex</span><span class="stl_129 stl_49 stl_417" style="word-spacing:-0.0391em;">）经常被嘲笑是一堆随机符号的混和物，看着毫 &nbsp;</span></div>
					<div class="stl_01" style="top:8.0032em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">无意义。这种印象让人对其避而远之，然后费尽心思写一堆没必要又复杂的查找和过滤函 &nbsp;</span></div>
					<div class="stl_01" style="top:9.2533em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">数，其实他们真正需要的就是一行正则表达式。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.0938em; left:5.6693em;"><span class="stl_129 stl_49 stl_418">其实正则表达式上手一点儿也不难，而且运行很快，通过一些简单的例子就可以轻松地 &nbsp;</span></div>
					<div class="stl_01" style="top:12.3439em; left:5.6693em;"><span class="stl_129 stl_49 stl_71">学会。 &nbsp;</span></div>
					<div class="stl_01" style="top:14.1066em; left:5.6693em;"><span class="stl_129 stl_49 stl_419" style="word-spacing:0.1284em;">之所以叫正则表达式，是因为它们可以识别</span><span class="stl_269 stl_49 stl_419" style="word-spacing:0.1284em;">正则字符串</span><span class="stl_129 stl_49 stl_419" style="word-spacing:0.1284em;">（</span><span class="stl_132 stl_52 stl_419" style="word-spacing:0.1284em;">regular string</span><span class="stl_129 stl_49 stl_419" style="word-spacing:0.1284em;">）；也就是说，它们 &nbsp;</span></div>
					<div class="stl_01" style="top:15.4343em; left:5.669em;"><span class="stl_129 stl_49 stl_420">可以这么定义：“如果你给我的字符串符合规则，我就返回它”，或者是“如果字符串不符 &nbsp;</span></div>
					<div class="stl_01" style="top:16.6843em; left:5.6693em;"><span class="stl_129 stl_49 stl_140">合规则，我就忽略它”。这在要求快速浏览大文档，以查找像电话号码和邮箱地址之类的 &nbsp;</span></div>
					<div class="stl_01" style="top:17.9344em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">字符串时是非常方便的。 &nbsp;</span></div>
					<div class="stl_01" style="top:19.7748em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">注意这里我用了一个词组正则字符串。什么是正则字符串？其实就是任意可以用一系列线 &nbsp;</span></div>
					<div class="stl_01" style="top:20.9348em; left:12.9922em;"><span class="stl_365 stl_52 stl_10">3</span></div>
					<div class="stl_01" style="top:21.0248em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.2762em;">性规则构成的字符串 ，就像： &nbsp;</span></div>
					<div class="stl_01" style="top:22.8273em; left:5.6694em;"><span class="stl_132 stl_52 stl_10">(</span></div>
					<div class="stl_01" style="top:24.0774em; left:5.6694em;"><span class="stl_132 stl_52 stl_10">(</span></div>
					<div class="stl_01" style="top:25.3274em; left:5.6694em;"><span class="stl_132 stl_52 stl_10">(</span></div>
					<div class="stl_01" style="top:26.5775em; left:5.6694em;"><span class="stl_132 stl_52 stl_10">(</span></div>
					<div class="stl_01" style="top:22.7878em; left:5.933em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.073em;">1) </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.073em;">字母“</span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.073em;">a</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.073em;">”至少出现一次； &nbsp;</span></div>
					<div class="stl_01" style="top:24.0378em; left:5.933em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0243em;">2) </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0243em;">后面跟着字母“</span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0243em;">b</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0243em;">”重复 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0243em;">5 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0243em;">次； &nbsp;</span></div>
					<div class="stl_01" style="top:25.2878em; left:5.933em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.073em;">3) </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.073em;">后面再跟字母“</span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.073em;">c</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.073em;">”重复任意偶数次； &nbsp;</span></div>
					<div class="stl_01" style="top:26.5379em; left:5.933em;"><span class="stl_132 stl_52 stl_55" style="word-spacing:-0.0142em;">4) </span><span class="stl_129 stl_49 stl_55" style="word-spacing:-0.0142em;">最后一位是字母“</span><span class="stl_132 stl_52 stl_55" style="word-spacing:-0.0142em;">d</span><span class="stl_129 stl_49 stl_55" style="word-spacing:-0.0142em;">”，也可以没有。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.4488em; left:5.6694em;"><span class="stl_129 stl_49 stl_421">满足上面规则的字符串有：“</span><span class="stl_132 stl_52 stl_421">aaaabbbbbccccd</span><span class="stl_129 stl_49 stl_421">”“</span><span class="stl_132 stl_52 stl_421">aabbbbbcc</span><span class="stl_129 stl_49 stl_421">”等（有无穷多种变化）。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.3674em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">正则表达式就是表达这组规则的缩写。这组规则的正则表达式如下所示： &nbsp;</span></div>
					<div class="stl_01" style="top:32.1874em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">aa*bbbbb(cc)*(d | ) &nbsp;</span></div>
					<div class="stl_01" style="top:33.9861em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">第一次看这个字符串会觉得有点儿奇葩，但是当我们把它分解之后就会很清楚了。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.7886em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:35.848em; left:6.7325em;"><span class="stl_422 stl_44 stl_10">aa* &nbsp;</span></div>
					<div class="stl_01" style="top:36.999em; left:6.7325em;"><span class="stl_132 stl_52 stl_393" style="word-spacing:0.0152em;">a </span><span class="stl_129 stl_49 stl_393" style="word-spacing:0.0152em;">后面跟着的 </span><span class="stl_132 stl_52 stl_393" style="word-spacing:0.0152em;">a*</span><span class="stl_129 stl_49 stl_393" style="word-spacing:0.0152em;">（读作 </span><span class="stl_132 stl_52 stl_393" style="word-spacing:0.0152em;">a </span><span class="stl_129 stl_49 stl_393" style="word-spacing:0.0152em;">星）表示“重复任意次 </span><span class="stl_132 stl_52 stl_393" style="word-spacing:0.0152em;">a</span><span class="stl_129 stl_49 stl_393" style="word-spacing:0.0152em;">，包括 </span><span class="stl_132 stl_52 stl_393" style="word-spacing:0.0152em;">0 </span><span class="stl_129 stl_49 stl_393" style="word-spacing:0.0152em;">次”。这样就可以保证字母 </span><span class="stl_132 stl_52 stl_393" style="word-spacing:0.0152em;">a &nbsp;</span></div>
					<div class="stl_01" style="top:38.3267em; left:6.7323em;"><span class="stl_129 stl_49 stl_10">至少出现一次。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.1292em; left:5.6691em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:43.2903em; left:5.6691em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:40.1886em; left:6.7323em;"><span class="stl_422 stl_44 stl_10">bbbbb &nbsp;</span></div>
					<div class="stl_01" style="top:41.3397em; left:6.7323em;"><span class="stl_129 stl_49 stl_10">这没有什么特别的——就是 </span><span class="stl_132 stl_52 stl_10">5 </span><span class="stl_129 stl_49 stl_10">次 </span><span class="stl_132 stl_52 stl_10">b</span><span class="stl_129 stl_49 stl_10">。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.3497em; left:6.7323em;"><span class="stl_422 stl_44 stl_10">(cc)* &nbsp;</span></div>
					<div class="stl_01" style="top:44.5008em; left:6.7323em;"><span class="stl_129 stl_49 stl_130" style="word-spacing:-0.0172em;">任意偶数个字符都可以编组，这个规则是用括号两个 </span><span class="stl_132 stl_52 stl_130" style="word-spacing:-0.0172em;">c</span><span class="stl_129 stl_49 stl_130" style="word-spacing:-0.0172em;">，然后后面跟一个星号，表示有 &nbsp;</span></div>
					<div class="stl_01" style="top:45.751em; left:6.7323em;"><span class="stl_129 stl_49 stl_423" style="word-spacing:0.0909em;">任意次两个 </span><span class="stl_132 stl_52 stl_423" style="word-spacing:0.0909em;">c</span><span class="stl_129 stl_49 stl_423" style="word-spacing:0.0909em;">（也可以是 </span><span class="stl_132 stl_52 stl_423" style="word-spacing:0.0909em;">0 </span><span class="stl_129 stl_49 stl_423" style="word-spacing:0.0909em;">次）。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.1267em; left:5.6693em;"><span class="stl_60 stl_49 stl_118" style="word-spacing:-0.0014em;">注 </span><span class="stl_61 stl_52 stl_118" style="word-spacing:-0.0014em;">3</span><span class="stl_60 stl_49 stl_118" style="word-spacing:-0.0014em;">：你可能会问：“有没有‘非正则’的表达式？”非正则表达式超出了本书的介绍范围，它们其实是指 &nbsp;</span></div>
					<div class="stl_01" style="top:49.1267em; left:7.512em;"><span class="stl_60 stl_49 stl_424" style="word-spacing:0.0208em;">那些像“前面是素数个 </span><span class="stl_61 stl_52 stl_424" style="word-spacing:0.0208em;">a</span><span class="stl_60 stl_49 stl_424" style="word-spacing:0.0208em;">，后面跟着两倍于 </span><span class="stl_61 stl_52 stl_424" style="word-spacing:0.0208em;">a </span><span class="stl_60 stl_49 stl_424" style="word-spacing:0.0208em;">数量的 </span><span class="stl_61 stl_52 stl_424" style="word-spacing:0.0208em;">b</span><span class="stl_60 stl_49 stl_424" style="word-spacing:0.0208em;">”“写一个回文”之类的字符串。用正则表达式 &nbsp;</span></div>
					<div class="stl_01" style="top:50.1921em; left:7.5118em;"><span class="stl_60 stl_49 stl_10">不可能写出这类字符串。不过好在我的网络爬虫至今还从来没有遇到过这种需求。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">2</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">0 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 2</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_50.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_50.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8745em; left:6.6142em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:4.8766em; left:7.6774em;"><span class="stl_422 stl_44 stl_244">(d</span><span class="stl_188 stl_44 stl_244">|</span><span class="stl_422 stl_44 stl_244">) &nbsp;</span></div>
					<div class="stl_01" style="top:6.0848em; left:7.6769em;"><span class="stl_129 stl_49 stl_425">增加一个竖线（</span><span class="stl_132 stl_52 stl_425">|</span><span class="stl_129 stl_49 stl_425">）在表达式里表示“这个或那个”。本例是表示“增加一个后面跟着空 &nbsp;</span></div>
					<div class="stl_01" style="top:7.335em; left:7.6772em;"><span class="stl_129 stl_49 stl_152" style="word-spacing:-0.0097em;">格的 </span><span class="stl_132 stl_52 stl_152" style="word-spacing:-0.0097em;">d</span><span class="stl_129 stl_49 stl_152" style="word-spacing:-0.0097em;">，或者只有一个空格”。这样我们可以保证字符串的结尾最多是一个后面跟着空 &nbsp;</span></div>
					<div class="stl_01" style="top:8.585em; left:7.6772em;"><span class="stl_129 stl_49 stl_10">格的 </span><span class="stl_132 stl_52 stl_10">d</span><span class="stl_129 stl_49 stl_10">。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.2873em; left:11.3386em;"><span class="stl_245 stl_20 stl_10">尝试正则表达式 &nbsp;</span></div>
					<div class="stl_01" style="top:13.1585em; left:11.3386em;"><span class="stl_48 stl_49 stl_253">在学习书写正则表达式的时候，做一些实验感受一下它们如何工作，这是至 &nbsp;</span></div>
					<div class="stl_01" style="top:14.3255em; left:11.3858em;"><span class="stl_48 stl_49 stl_10">关重要的。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.2004em; left:11.3386em;"><span class="stl_48 stl_49 stl_252">如果你不想打开代码编辑器，写完再运行程序检查正则表达式的运行是否符 &nbsp;</span></div>
					<div class="stl_01" style="top:17.2935em; left:11.3858em;"><span class="stl_48 stl_49 stl_226" style="word-spacing:-0.0045em;">合预期，那么你可以去 </span><span class="stl_51 stl_52 stl_226" style="word-spacing:-0.0045em;">RegexPal</span><span class="stl_48 stl_49 stl_226" style="word-spacing:-0.0045em;">（</span><span class="stl_51 stl_52 stl_226" style="word-spacing:-0.0045em;">http://regexpal.com/</span><span class="stl_48 stl_49 stl_226" style="word-spacing:-0.0045em;">）这类网站上在线测试 &nbsp;</span></div>
					<div class="stl_01" style="top:18.5341em; left:11.3858em;"><span class="stl_48 stl_49 stl_10">正则表达式。 &nbsp;</span></div>
					<div class="stl_01" style="top:20.8811em; left:6.6142em;"><span class="stl_129 stl_49 stl_153">正则表达式在实际中的一个经典应用是识别邮箱地址。虽然不同邮箱服务器的邮箱地址的 &nbsp;</span></div>
					<div class="stl_01" style="top:22.1311em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">具体规则不尽相同，但是我们还是可以创建几条通用规则。每条规则对应的正则表达式如 &nbsp;</span></div>
					<div class="stl_01" style="top:23.3035em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">下表第 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">2 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">列所示。 &nbsp;</span></div>
					<div class="stl_01" style="top:25.5665em; left:7.0866em;"><span class="stl_426 stl_47 stl_10">规ꢀꢀ则 &nbsp;</span></div>
					<div class="stl_01" style="top:25.5665em; left:21.7913em;"><span class="stl_426 stl_47 stl_10">正则表达式 &nbsp;</span></div>
					<div class="stl_01" style="top:27.1655em; left:7.0866em;"><span class="stl_61 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:27.1319em; left:7.42em;"><span class="stl_61 stl_52 stl_146" style="word-spacing:-0.0269em;">. </span><span class="stl_60 stl_49 stl_146" style="word-spacing:-0.0269em;">邮箱地址的第一部分至少包括一种内容：大</span><span class="stl_61 stl_52 stl_146" style="word-spacing:1.1331em;"> [A-Za-z0-9\._+]+</span><span class="stl_60 stl_49 stl_146" style="word-spacing:1.1331em;">：这个正则表达式简写非常智慧。例 &nbsp;</span></div>
					<div class="stl_01" style="top:28.1319em; left:7.0866em;"><span class="stl_60 stl_49 stl_427" style="word-spacing:0.01em;">写字母、小写字母、数字 </span><span class="stl_61 stl_52 stl_427" style="word-spacing:0.01em;">0~9</span><span class="stl_60 stl_49 stl_427" style="word-spacing:0.01em;">、点号（</span><span class="stl_61 stl_52 stl_427" style="word-spacing:0.01em;">.</span><span class="stl_60 stl_49 stl_427" style="word-spacing:0.01em;">）、加号</span><span class="stl_60 stl_49 stl_427" style="word-spacing:1.176em;"> 如，它用“</span><span class="stl_61 stl_52 stl_427" style="word-spacing:1.176em;">A-Z</span><span class="stl_60 stl_49 stl_427" style="word-spacing:1.176em;">”表示“任意</span><span class="stl_61 stl_52 stl_427" style="word-spacing:0.0231em;"> A~Z</span><span class="stl_60 stl_49 stl_427" style="word-spacing:0.0231em;"> 的大写字母”。把 &nbsp;</span></div>
					<div class="stl_01" style="top:29.1974em; left:6.7533em;"><span class="stl_60 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:29.1319em; left:7.42em;"><span class="stl_61 stl_52 stl_10">+</span><span class="stl_60 stl_49 stl_10">）或下划线（</span><span class="stl_61 stl_52 stl_10">_</span><span class="stl_60 stl_49 stl_10">） &nbsp;</span></div>
					<div class="stl_01" style="top:29.1974em; left:21.7913em;"><span class="stl_60 stl_49 stl_348">所有可能的序列和符号放在中括号（不是小括号）里 &nbsp;</span></div>
					<div class="stl_01" style="top:30.1974em; left:21.7913em;"><span class="stl_60 stl_49 stl_192">表示“括号中的符号里任何一个”。要注意后面的加 &nbsp;</span></div>
					<div class="stl_01" style="top:31.1974em; left:21.7913em;"><span class="stl_60 stl_49 stl_428">号，它表示“这些符号都可以出现多次，且至少出现 &nbsp;</span></div>
					<div class="stl_01" style="top:32.1653em; left:21.7913em;"><span class="stl_61 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:32.1974em; left:22.2913em;"><span class="stl_60 stl_49 stl_10">次” &nbsp;</span></div>
					<div class="stl_01" style="top:33.7766em; left:7.0867em;"><span class="stl_61 stl_52 stl_10">2</span></div>
					<div class="stl_01" style="top:36.3881em; left:7.0867em;"><span class="stl_61 stl_52 stl_10">3</span></div>
					<div class="stl_01" style="top:33.7433em; left:7.42em;"><span class="stl_61 stl_52 stl_10" style="word-spacing:0em;">. </span><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">之后，邮箱地址会包含一个 </span><span class="stl_61 stl_52 stl_10" style="word-spacing:0em;">@ </span><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">符号 &nbsp;</span></div>
					<div class="stl_01" style="top:33.7433em; left:21.7913em;"><span class="stl_61 stl_52 stl_429" style="word-spacing:-0.0563em;">@</span><span class="stl_60 stl_49 stl_429" style="word-spacing:-0.0563em;">：这个符号很直接。</span><span class="stl_61 stl_52 stl_429" style="word-spacing:-0.0563em;">@ </span><span class="stl_60 stl_49 stl_429" style="word-spacing:-0.0563em;">符号必须出现在中间位置， &nbsp;</span></div>
					<div class="stl_01" style="top:34.7435em; left:21.7913em;"><span class="stl_60 stl_49 stl_10">有且仅有 </span><span class="stl_61 stl_52 stl_10">1 </span><span class="stl_60 stl_49 stl_10">次 &nbsp;</span></div>
					<div class="stl_01" style="top:36.3548em; left:7.42em;"><span class="stl_61 stl_52 stl_136" style="word-spacing:-0.0439em;">. </span><span class="stl_60 stl_49 stl_136" style="word-spacing:-0.0439em;">在符合</span><span class="stl_61 stl_52 stl_136" style="word-spacing:-0.0439em;"> @</span><span class="stl_60 stl_49 stl_136" style="word-spacing:-0.0438em;"> 之后，邮箱地址还必须至少包含一</span><span class="stl_61 stl_52 stl_136" style="word-spacing:1.1201em;"> [A-Za-z]+</span><span class="stl_60 stl_49 stl_136" style="word-spacing:1.1201em;">：可能只在域名的前半部分、符号</span><span class="stl_61 stl_52 stl_136" style="word-spacing:-0.0339em;"> @</span><span class="stl_60 stl_49 stl_136" style="word-spacing:-0.0338em;"> 后面 &nbsp;</span></div>
					<div class="stl_01" style="top:37.4204em; left:7.0866em;"><span class="stl_60 stl_49 stl_10">个大写或小写字母 &nbsp;</span></div>
					<div class="stl_01" style="top:37.4204em; left:21.7913em;"><span class="stl_60 stl_49 stl_10">用字母。而且，至少有一个字母 &nbsp;</span></div>
					<div class="stl_01" style="top:38.9997em; left:7.0867em;"><span class="stl_61 stl_52 stl_10">4</span></div>
					<div class="stl_01" style="top:38.9664em; left:7.42em;"><span class="stl_61 stl_52 stl_10">. </span><span class="stl_60 stl_49 stl_10">之后跟一个点号（</span><span class="stl_61 stl_52 stl_10">.</span><span class="stl_60 stl_49 stl_10">） &nbsp;</span></div>
					<div class="stl_01" style="top:38.9664em; left:21.7913em;"><span class="stl_61 stl_52 stl_10">\.</span><span class="stl_60 stl_49 stl_10">：在域名前必须有一个点号（</span><span class="stl_61 stl_52 stl_10">.</span><span class="stl_60 stl_49 stl_10">） &nbsp;</span></div>
					<div class="stl_01" style="top:40.611em; left:7.0867em;"><span class="stl_61 stl_52 stl_10">5</span></div>
					<div class="stl_01" style="top:40.5777em; left:7.42em;"><span class="stl_61 stl_52 stl_285" style="word-spacing:-0.0485em;">. </span><span class="stl_60 stl_49 stl_285" style="word-spacing:-0.0485em;">最 后</span><span class="stl_60 stl_49 stl_285" style="word-spacing:-0.0807em;"> 邮</span><span class="stl_60 stl_49 stl_285" style="word-spacing:-0.0807em;"> 箱</span><span class="stl_60 stl_49 stl_285" style="word-spacing:-0.0807em;"> 地</span><span class="stl_60 stl_49 stl_285" style="word-spacing:-0.0807em;"> 址</span><span class="stl_60 stl_49 stl_285" style="word-spacing:-0.0807em;"> 用</span><span class="stl_61 stl_52 stl_285" style="word-spacing:-0.0057em;"> com</span><span class="stl_60 stl_49 stl_285" style="word-spacing:-0.0057em;">、</span><span class="stl_61 stl_52 stl_285" style="word-spacing:-0.0057em;">org</span><span class="stl_60 stl_49 stl_285" style="word-spacing:-0.0057em;">、</span><span class="stl_61 stl_52 stl_285" style="word-spacing:-0.0057em;">edu</span><span class="stl_60 stl_49 stl_285" style="word-spacing:-0.0057em;">、</span><span class="stl_61 stl_52 stl_285" style="word-spacing:-0.0057em;">net </span><span class="stl_60 stl_49 stl_285" style="word-spacing:-0.0057em;">结 尾</span><span class="stl_61 stl_52 stl_285" style="word-spacing:1.1542em;"> (com|org|edu|net)</span><span class="stl_60 stl_49 stl_285" style="word-spacing:1.1542em;">：这样列出了邮箱地址中可能出现在 &nbsp;</span></div>
					<div class="stl_01" style="top:41.6433em; left:6.7533em;"><span class="stl_60 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:41.6435em; left:7.4253em;"><span class="stl_60 stl_49 stl_205" style="word-spacing:1.1529em;">实际上，顶级域名有很多种可能，但是作为示 点号之后的字母序列 &nbsp;</span></div>
					<div class="stl_01" style="top:42.6435em; left:7.0866em;"><span class="stl_60 stl_49 stl_430">例演示这四个后缀够用了）。 &nbsp;</span></div>
					<div class="stl_01" style="top:44.7679em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">把上面的规则连接起来，就获得了完整的正则表达式： &nbsp;</span></div>
					<div class="stl_01" style="top:46.6588em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">[</span></div>
					<div class="stl_01" style="top:46.6588em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">A-Za-z0-9\._+]+@[A-Za-z]+\.(com|org|edu|net) &nbsp;</span></div>
					<div class="stl_01" style="top:48.4576em; left:6.6142em;"><span class="stl_129 stl_49 stl_431">当我们动手开始写正则表达式的时候，最好先写一个步骤列表描述出你的目标字符串结构。 &nbsp;</span></div>
					<div class="stl_01" style="top:49.7076em; left:6.6142em;"><span class="stl_129 stl_49 stl_432">还要注意一些细节的处理。比如，当你识别电话号码的时候，会考虑国家代码和分机号吗？ &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:30.098em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">复杂</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">HTML</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">解析 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">21 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_51.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_51.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_129 stl_49 stl_433" style="word-spacing:-0.0723em;">表 </span><span class="stl_132 stl_52 stl_433" style="word-spacing:-0.0723em;">2-1 </span><span class="stl_129 stl_49 stl_433" style="word-spacing:-0.0723em;">用简单的说明和例子列举了正则表达式的一些常用符号。这个列表并不是全部符 &nbsp;</span></div>
					<div class="stl_01" style="top:6.0849em; left:5.6693em;"><span class="stl_129 stl_49 stl_333" style="word-spacing:-0.0412em;">号，另外就像之前所说的，可能在不同编程语言中会遇到一些变化。但是，这 </span><span class="stl_132 stl_52 stl_333" style="word-spacing:-0.0412em;">12 </span><span class="stl_129 stl_49 stl_333" style="word-spacing:-0.0412em;">个符号 &nbsp;</span></div>
					<div class="stl_01" style="top:7.335em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">是 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">的正则表达式中最常用的，可以用来查找和收集绝大多数数据类型。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.2308em; left:5.6693em;"><span class="stl_434 stl_20 stl_10">表</span><span class="stl_387 stl_18 stl_10">2-1</span><span class="stl_434 stl_20 stl_10">：正则表达式常用符号 &nbsp;</span></div>
					<div class="stl_01" style="top:10.848em; left:5.9055em;"><span class="stl_426 stl_47 stl_10">符ꢀꢀ号 &nbsp;</span></div>
					<div class="stl_01" style="top:10.848em; left:15.0015em;"><span class="stl_426 stl_47 stl_10">含ꢀꢀ义 &nbsp;</span></div>
					<div class="stl_01" style="top:10.848em; left:25.5722em;"><span class="stl_426 stl_47 stl_10">例ꢀꢀ子 &nbsp;</span></div>
					<div class="stl_01" style="top:10.848em; left:32.0922em;"><span class="stl_426 stl_47 stl_10">匹配结果 &nbsp;</span></div>
					<div class="stl_01" style="top:11.941em; left:30.2362em;"><span class="stl_61 stl_52 stl_435">aaaaaaaa</span><span class="stl_60 stl_49 stl_435">，</span><span class="stl_61 stl_52 stl_435">aaabbbbb</span><span class="stl_60 stl_49 stl_435">， &nbsp;</span></div>
					<div class="stl_01" style="top:12.9743em; left:30.2362em;"><span class="stl_61 stl_52 stl_10">bbbbbb &nbsp;</span></div>
					<div class="stl_01" style="top:11.988em; left:5.9055em;"><span class="stl_358 stl_44 stl_10">*</span></div>
					<div class="stl_01" style="top:11.9081em; left:9.0945em;"><span class="stl_60 stl_49 stl_429" style="word-spacing:-0.0564em;">匹配前面的字符、子表达式或括号里的字符 </span><span class="stl_61 stl_52 stl_429" style="word-spacing:-0.0564em;">0</span><span class="stl_60 stl_49 stl_429" style="word-spacing:-0.0564em;"> 次</span><span class="stl_358 stl_44 stl_436" style="word-spacing:1.178em;"> a*b* &nbsp;</span></div>
					<div class="stl_01" style="top:13.0064em; left:9.0945em;"><span class="stl_60 stl_49 stl_10">或多次 &nbsp;</span></div>
					<div class="stl_01" style="top:14.1271em; left:5.9055em;"><span class="stl_358 stl_44 stl_10">+</span></div>
					<div class="stl_01" style="top:14.1126em; left:9.0945em;"><span class="stl_60 stl_49 stl_277" style="word-spacing:1.103em;">匹配前面的字符、子表达式或括号里的字符至少 </span><span class="stl_358 stl_44 stl_437" style="word-spacing:1.1765em;">a+b+ &nbsp;</span></div>
					<div class="stl_01" style="top:14.0801em; left:30.2362em;"><span class="stl_61 stl_52 stl_371">aaaaaaab</span><span class="stl_60 stl_49 stl_371">，</span><span class="stl_61 stl_52 stl_371">aaabbbbb</span><span class="stl_60 stl_49 stl_371">， &nbsp;</span></div>
					<div class="stl_01" style="top:15.1134em; left:30.2362em;"><span class="stl_61 stl_52 stl_10">abbbbbb &nbsp;</span></div>
					<div class="stl_01" style="top:15.1134em; left:9.0945em;"><span class="stl_61 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:15.1455em; left:9.5945em;"><span class="stl_60 stl_49 stl_10">次</span></div>
					<div class="stl_01" style="top:16.2662em; left:5.9055em;"><span class="stl_358 stl_44 stl_10">[</span></div>
					<div class="stl_01" style="top:18.4053em; left:5.9055em;"><span class="stl_358 stl_44 stl_10">(</span></div>
					<div class="stl_01" style="top:20.5444em; left:5.9055em;"><span class="stl_358 stl_44 stl_10">{</span></div>
					<div class="stl_01" style="top:22.6835em; left:5.9055em;"><span class="stl_358 stl_44 stl_10">[</span></div>
					<div class="stl_01" style="top:24.8226em; left:5.9055em;"><span class="stl_358 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:16.2662em; left:6.218em;"><span class="stl_358 stl_44 stl_10">]</span></div>
					<div class="stl_01" style="top:16.2846em; left:9.0945em;"><span class="stl_60 stl_49 stl_438">匹配任意一个字符（相当于“任选一个”） &nbsp;</span></div>
					<div class="stl_01" style="top:16.2662em; left:24.5197em;"><span class="stl_358 stl_44 stl_10">[A-Z]* &nbsp;</span></div>
					<div class="stl_01" style="top:16.2192em; left:30.2362em;"><span class="stl_61 stl_52 stl_90">APPLE</span><span class="stl_60 stl_49 stl_90">，</span><span class="stl_61 stl_52 stl_90">CAPITALS</span><span class="stl_60 stl_49 stl_90">， &nbsp;</span></div>
					<div class="stl_01" style="top:17.2525em; left:30.2362em;"><span class="stl_61 stl_52 stl_73">QWERTY &nbsp;</span></div>
					<div class="stl_01" style="top:18.4053em; left:6.218em;"><span class="stl_358 stl_44 stl_10">)</span></div>
					<div class="stl_01" style="top:18.3908em; left:9.0945em;"><span class="stl_60 stl_49 stl_439" style="word-spacing:1.108em;">表达式编组（在正则表达式的规则里编组会优先 </span><span class="stl_358 stl_44 stl_440" style="word-spacing:1.1819em;">(a*b)* &nbsp;</span></div>
					<div class="stl_01" style="top:18.3583em; left:30.2362em;"><span class="stl_61 stl_52 stl_441">aaabaab</span><span class="stl_60 stl_49 stl_441">，</span><span class="stl_61 stl_52 stl_441">abaaab</span><span class="stl_60 stl_49 stl_441">， &nbsp;</span></div>
					<div class="stl_01" style="top:19.3916em; left:30.2362em;"><span class="stl_61 stl_52 stl_73">ababaaaaab &nbsp;</span></div>
					<div class="stl_01" style="top:19.4237em; left:9.0945em;"><span class="stl_60 stl_49 stl_10">运行） &nbsp;</span></div>
					<div class="stl_01" style="top:20.5444em; left:6.218em;"><span class="stl_358 stl_44 stl_10">m,n} &nbsp;</span></div>
					<div class="stl_01" style="top:22.6835em; left:6.218em;"><span class="stl_358 stl_44 stl_10">^] &nbsp;</span></div>
					<div class="stl_01" style="top:20.4645em; left:9.0945em;"><span class="stl_60 stl_49 stl_359" style="word-spacing:-0.0233em;">匹配前面的字符、子表达式或括号里的字符 </span><span class="stl_61 stl_52 stl_359" style="word-spacing:-0.0233em;">m</span><span class="stl_60 stl_49 stl_359" style="word-spacing:-0.0231em;"> 到</span><span class="stl_358 stl_44 stl_200" style="word-spacing:1.2197em;"> a{2,3}b{2,3} &nbsp;</span></div>
					<div class="stl_01" style="top:21.4974em; left:9.0945em;"><span class="stl_61 stl_52 stl_10" style="word-spacing:0em;">n </span><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">次（包含 </span><span class="stl_61 stl_52 stl_10" style="word-spacing:0em;">m </span><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">或 </span><span class="stl_61 stl_52 stl_10" style="word-spacing:0em;">n</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:20.4974em; left:30.2362em;"><span class="stl_61 stl_52 stl_73">aabbb</span><span class="stl_60 stl_49 stl_73">，</span><span class="stl_61 stl_52 stl_73">aaabbb</span><span class="stl_60 stl_49 stl_73">，</span><span class="stl_61 stl_52 stl_73">aabb &nbsp;</span></div>
					<div class="stl_01" style="top:22.7019em; left:9.0945em;"><span class="stl_60 stl_49 stl_10">匹配任意一个不在中括号里的字符 &nbsp;</span></div>
					<div class="stl_01" style="top:22.6835em; left:24.5197em;"><span class="stl_358 stl_44 stl_10">[^A-Z]* &nbsp;</span></div>
					<div class="stl_01" style="top:22.6365em; left:30.2362em;"><span class="stl_61 stl_52 stl_442">apple</span><span class="stl_60 stl_49 stl_442">，</span><span class="stl_61 stl_52 stl_442">lowercase</span><span class="stl_60 stl_49 stl_442">， &nbsp;</span></div>
					<div class="stl_01" style="top:23.6698em; left:30.2362em;"><span class="stl_61 stl_52 stl_10">qwerty &nbsp;</span></div>
					<div class="stl_01" style="top:24.8081em; left:9.0945em;"><span class="stl_60 stl_49 stl_443" style="word-spacing:1.1163em;">匹配任意一个由竖线分割的字符、子表达式（注 </span><span class="stl_358 stl_44 stl_444" style="word-spacing:1.1908em;">b(a|i|e)d &nbsp;</span></div>
					<div class="stl_01" style="top:25.7756em; left:9.0945em;"><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">意是竖线，不是大字字母 </span><span class="stl_61 stl_52 stl_10" style="word-spacing:0em;">I</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:24.7756em; left:30.2362em;"><span class="stl_61 stl_52 stl_10">bad</span><span class="stl_60 stl_49 stl_10">，</span><span class="stl_61 stl_52 stl_10">bid</span><span class="stl_60 stl_49 stl_10">，</span><span class="stl_61 stl_52 stl_10">bed &nbsp;</span></div>
					<div class="stl_01" style="top:26.9617em; left:5.9055em;"><span class="stl_358 stl_44 stl_10">.</span></div>
					<div class="stl_01" style="top:28.1008em; left:5.9055em;"><span class="stl_358 stl_44 stl_10">^</span></div>
					<div class="stl_01" style="top:29.2399em; left:5.9055em;"><span class="stl_358 stl_44 stl_10">\</span></div>
					<div class="stl_01" style="top:30.379em; left:5.9055em;"><span class="stl_358 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:26.9802em; left:9.0945em;"><span class="stl_60 stl_49 stl_10">匹配任意单个字符（包括符号、数字和空格等） &nbsp;</span></div>
					<div class="stl_01" style="top:28.1193em; left:9.0945em;"><span class="stl_60 stl_49 stl_10">指字符串开始位置的字符或子表达式 &nbsp;</span></div>
					<div class="stl_01" style="top:26.9617em; left:24.5197em;"><span class="stl_358 stl_44 stl_10">b.d &nbsp;</span></div>
					<div class="stl_01" style="top:28.1008em; left:24.5197em;"><span class="stl_358 stl_44 stl_10">^a &nbsp;</span></div>
					<div class="stl_01" style="top:26.9147em; left:30.2362em;"><span class="stl_61 stl_52 stl_10" style="word-spacing:-0.0001em;">bad</span><span class="stl_60 stl_49 stl_10" style="word-spacing:-0.0001em;">，</span><span class="stl_61 stl_52 stl_10" style="word-spacing:-0.0001em;">bzd</span><span class="stl_60 stl_49 stl_10" style="word-spacing:-0.0001em;">，</span><span class="stl_61 stl_52 stl_10" style="word-spacing:-0.0001em;">b$d</span><span class="stl_60 stl_49 stl_10" style="word-spacing:-0.0001em;">，</span><span class="stl_61 stl_52 stl_10" style="word-spacing:-0.0001em;">b d &nbsp;</span></div>
					<div class="stl_01" style="top:28.0538em; left:30.2362em;"><span class="stl_61 stl_52 stl_10">apple</span><span class="stl_60 stl_49 stl_10">，</span><span class="stl_61 stl_52 stl_10">asdf</span><span class="stl_60 stl_49 stl_10">，</span><span class="stl_61 stl_52 stl_10">a &nbsp;</span></div>
					<div class="stl_01" style="top:29.2263em; left:30.2362em;"><span class="stl_61 stl_52 stl_10" style="word-spacing:-0.0001em;">. | \ &nbsp;</span></div>
					<div class="stl_01" style="top:29.2255em; left:9.0945em;"><span class="stl_60 stl_49 stl_10" style="word-spacing:0.8878em;">转义字符（把有特殊含义的字符转换成字面形式） </span><span class="stl_358 stl_44 stl_10" style="word-spacing:0.947em;">\.\</span><span class="stl_358 stl_44 stl_10" style="word-spacing:0em;"> |</span><span class="stl_358 stl_44 stl_10" style="word-spacing:0em;"> \\ &nbsp;</span></div>
					<div class="stl_01" style="top:30.3646em; left:9.0945em;"><span class="stl_60 stl_49 stl_445" style="word-spacing:1.1228em;">经常用在正则表达式的末尾，表示“从字符串的 </span><span class="stl_358 stl_44 stl_397" style="word-spacing:1.1976em;">[A-Z]*[a-z]*$ &nbsp;</span></div>
					<div class="stl_01" style="top:31.3975em; left:9.0945em;"><span class="stl_60 stl_49 stl_446">末端匹配”。如果不用它，每个正则表达式实际都 &nbsp;</span></div>
					<div class="stl_01" style="top:32.32em; left:9.0945em;"><span class="stl_60 stl_49 stl_10">带着“</span><span class="stl_61 stl_52 stl_10">.</span><span class="stl_358 stl_44 stl_10">*</span><span class="stl_60 stl_49 stl_10">”模式，只会从字符串开头进行匹配。这 &nbsp;</span></div>
					<div class="stl_01" style="top:33.3321em; left:9.0944em;"><span class="stl_60 stl_49 stl_10" style="word-spacing:-0.0001em;">个符号可以看成是 </span><span class="stl_61 stl_52 stl_10" style="word-spacing:-0.0001em;">^ </span><span class="stl_60 stl_49 stl_10" style="word-spacing:-0.0001em;">符号的反义词 &nbsp;</span></div>
					<div class="stl_01" style="top:30.3321em; left:30.2362em;"><span class="stl_61 stl_52 stl_10">ABCabc</span><span class="stl_60 stl_49 stl_10">，</span><span class="stl_61 stl_52 stl_10">zzzyx</span><span class="stl_60 stl_49 stl_10">，</span><span class="stl_61 stl_52 stl_10">Bob &nbsp;</span></div>
					<div class="stl_01" style="top:34.5181em; left:5.9055em;"><span class="stl_358 stl_44 stl_10">?</span></div>
					<div class="stl_01" style="top:34.5181em; left:6.218em;"><span class="stl_358 stl_44 stl_10">!</span></div>
					<div class="stl_01" style="top:34.5037em; left:8.7612em;"><span class="stl_60 stl_49 stl_447" style="word-spacing:1.1552em;">“不包含”。这个奇怪的组合通常放在字符或正则 </span><span class="stl_358 stl_44 stl_115" style="word-spacing:1.2322em;">^((?![A-Z]).)*$ &nbsp;</span></div>
					<div class="stl_01" style="top:35.5366em; left:9.0945em;"><span class="stl_60 stl_49 stl_369">表达式前面，表示字符不能出现在目标字符串里。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.5366em; left:9.0945em;"><span class="stl_60 stl_49 stl_448">这个符号比较难用，字符通常会在字符串的不同 &nbsp;</span></div>
					<div class="stl_01" style="top:37.5366em; left:9.0945em;"><span class="stl_60 stl_49 stl_448">部位出现。如果要在整个字符串中全部排除某个 &nbsp;</span></div>
					<div class="stl_01" style="top:38.5245em; left:9.0945em;"><span class="stl_60 stl_49 stl_449" style="word-spacing:-0.125em;">字符，就加上 </span><span class="stl_358 stl_44 stl_450" style="word-spacing:-0.1333em;">^</span><span class="stl_60 stl_49 stl_449" style="word-spacing:-0.125em;">和 </span><span class="stl_358 stl_44 stl_450" style="word-spacing:-0.1333em;">$</span><span class="stl_60 stl_49 stl_449" style="word-spacing:-0.125em;">符号 &nbsp;</span></div>
					<div class="stl_01" style="top:34.4712em; left:30.2362em;"><span class="stl_61 stl_52 stl_451">no-caps-here</span><span class="stl_60 stl_49 stl_451">，</span><span class="stl_61 stl_52 stl_451">$ymb0ls &nbsp;</span></div>
					<div class="stl_01" style="top:35.5045em; left:30.2362em;"><span class="stl_61 stl_52 stl_10" style="word-spacing:0.0001em;">a4e f!ne &nbsp;</span></div>
					<div class="stl_01" style="top:40.8571em; left:10.3937em;"><span class="stl_245 stl_20 stl_10">正则表达式</span><span class="stl_246 stl_44 stl_10">：</span><span class="stl_245 stl_20 stl_10">并非处处正则</span><span class="stl_246 stl_44 stl_10">！ &nbsp;</span></div>
					<div class="stl_01" style="top:42.6993em; left:10.3937em;"><span class="stl_48 stl_49 stl_106" style="word-spacing:-0.001em;">正则表达式的标准版（本书使用的版本，用于 </span><span class="stl_51 stl_52 stl_106" style="word-spacing:-0.001em;">Python </span><span class="stl_48 stl_49 stl_106" style="word-spacing:-0.001em;">和 </span><span class="stl_51 stl_52 stl_106" style="word-spacing:-0.001em;">BeautifulSoup</span><span class="stl_48 stl_49 stl_106" style="word-spacing:-0.001em;">）是基 &nbsp;</span></div>
					<div class="stl_01" style="top:43.8663em; left:10.441em;"><span class="stl_48 stl_49 stl_452" style="word-spacing:-0.0102em;">于 </span><span class="stl_51 stl_52 stl_452" style="word-spacing:-0.0102em;">Perl </span><span class="stl_48 stl_49 stl_452" style="word-spacing:-0.0102em;">语法演变而来的。绝大多数主流编程语言都使用与之相同或近似的版 &nbsp;</span></div>
					<div class="stl_01" style="top:45.1066em; left:10.441em;"><span class="stl_48 stl_49 stl_68">本。但是，在其他语言中使用这些正则表达式时需要当心，否则可能会出问 &nbsp;</span></div>
					<div class="stl_01" style="top:46.1993em; left:10.4409em;"><span class="stl_48 stl_49 stl_299" style="word-spacing:-0.0438em;">题。有些语言，比如 </span><span class="stl_51 stl_52 stl_299" style="word-spacing:-0.0438em;">Java</span><span class="stl_48 stl_49 stl_299" style="word-spacing:-0.0438em;">，其正则表达式就和 </span><span class="stl_51 stl_52 stl_299" style="word-spacing:-0.0438em;">Python </span><span class="stl_48 stl_49 stl_299" style="word-spacing:-0.0438em;">不太一样。总之，遇 &nbsp;</span></div>
					<div class="stl_01" style="top:47.44em; left:10.4409em;"><span class="stl_48 stl_49 stl_10">到问题时看文档！ &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">2</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">2 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 2</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_52.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_52.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.799em; left:6.6142em;"><span class="stl_197 stl_18 stl_10">2</span></div>
					<div class="stl_01" style="top:4.7282em; left:7.4373em;"><span class="stl_197 stl_18 stl_71">.4</span><span class="stl_160 stl_20 stl_71">ꢀ正则表达式和</span><span class="stl_197 stl_18 stl_71">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:7.2391em; left:6.6142em;"><span class="stl_129 stl_49 stl_153">如果你觉得前面介绍的正则表达式内容与本书的主题有点儿脱节，那么这里就把它们连接 &nbsp;</span></div>
					<div class="stl_01" style="top:8.4114em; left:6.6142em;"><span class="stl_129 stl_49 stl_284" style="word-spacing:-0.013em;">起来。在抓取网页的时候，</span><span class="stl_132 stl_52 stl_284" style="word-spacing:-0.013em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_284" style="word-spacing:-0.013em;">和正则表达式总是配合使用的。其实，大多数支 &nbsp;</span></div>
					<div class="stl_01" style="top:9.727em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">持字符串参数的函数（比如，</span><span class="stl_453 stl_44 stl_10">ﬁ</span><span class="stl_188 stl_44 stl_10">nd(id="aTagIdHere")</span><span class="stl_129 stl_49 stl_10">）都可以用正则表达式实现。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.5725em; left:6.6139em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">让我们看几个例子，待抓取的网页是 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">http://www.pythonscraping.com/pages/page3.html</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.5612em; left:6.6139em;"><span class="stl_129 stl_49 stl_10">注意观察网页上有几个商品图片——它们的源代码形式如下： &nbsp;</span></div>
					<div class="stl_01" style="top:15.4528em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:15.4528em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">img src="../img/gifts/img3.jpg"&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:17.1618em; left:6.6142em;"><span class="stl_129 stl_49 stl_454" style="word-spacing:-0.0382em;">如果我们想抓取所有图片的 </span><span class="stl_132 stl_52 stl_454" style="word-spacing:-0.0382em;">URL </span><span class="stl_129 stl_49 stl_454" style="word-spacing:-0.0382em;">链接，非常直接的做法就是用 </span><span class="stl_188 stl_44 stl_455" style="word-spacing:-0.0403em;">findAll("img")</span><span class="stl_129 stl_49 stl_454" style="word-spacing:-0.0382em;">抓取所有 &nbsp;</span></div>
					<div class="stl_01" style="top:18.4238em; left:6.6142em;"><span class="stl_129 stl_49 stl_338">图片，对吗？但是，有个问题。除了那些明显“多余的”图片（比如，</span><span class="stl_132 stl_52 stl_338">LOGO</span><span class="stl_129 stl_49 stl_338">）之外，新 &nbsp;</span></div>
					<div class="stl_01" style="top:19.7515em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">式的网站里都有一些隐藏图片，用于网页布局留白和元素对齐的空白图片，以及一些不容 &nbsp;</span></div>
					<div class="stl_01" style="top:21.0016em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">易察觉到的图片标签。总之，你不能仅用商品图片来统计网页上所有的图片。 &nbsp;</span></div>
					<div class="stl_01" style="top:22.9127em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">而且网页的布局也可能会变化，或者，因为某些原因，我们不想通过图片在网页中的位置 &nbsp;</span></div>
					<div class="stl_01" style="top:24.163em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">来查找标签。那么当你想抓取随机分布在网站里的某个元素或数据时，就会出现问题。例 &nbsp;</span></div>
					<div class="stl_01" style="top:25.413em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">如，一些网页的最上面可能有一张商品图片，但是在另一些网页上没有。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.3241em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">解决这类问题的办法，就是直接定位那些标签来查找信息。在本例中，我们直接通过商品 &nbsp;</span></div>
					<div class="stl_01" style="top:28.5744em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">图片的文件路径来查找： &nbsp;</span></div>
					<div class="stl_01" style="top:30.4651em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">urllib.request </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:31.2981em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">bs4 </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:32.1311em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">re &nbsp;</span></div>
					<div class="stl_01" style="top:33.7971em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">html = urlopen("http://www.pythonscraping.com/pages/page3.html") &nbsp;</span></div>
					<div class="stl_01" style="top:34.6301em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">bsObj = BeautifulSoup(html) &nbsp;</span></div>
					<div class="stl_01" style="top:35.4631em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">images = bsObj.findAll("img",{"src":re.compile("\.\.\/img\/gifts/img.*\.jpg")}) &nbsp;</span></div>
					<div class="stl_01" style="top:36.2961em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">image </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">images: &nbsp;</span></div>
					<div class="stl_01" style="top:37.1291em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(image["src"]) &nbsp;</span></div>
					<div class="stl_01" style="top:38.853em; left:6.6142em;"><span class="stl_129 stl_49 stl_348" style="word-spacing:-0.021em;">这段代码会打印出图片的相对路径，都是以 </span><span class="stl_132 stl_52 stl_348" style="word-spacing:-0.021em;">../img/gifts/img </span><span class="stl_129 stl_49 stl_348" style="word-spacing:-0.021em;">开头，以 </span><span class="stl_132 stl_52 stl_348" style="word-spacing:-0.021em;">.jpg </span><span class="stl_129 stl_49 stl_348" style="word-spacing:-0.021em;">结尾，其结果如 &nbsp;</span></div>
					<div class="stl_01" style="top:40.1807em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">下所示： &nbsp;</span></div>
					<div class="stl_01" style="top:42.0715em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">.</span></div>
					<div class="stl_01" style="top:42.9045em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">.</span></div>
					<div class="stl_01" style="top:43.7375em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">.</span></div>
					<div class="stl_01" style="top:44.5705em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">.</span></div>
					<div class="stl_01" style="top:45.4035em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">.</span></div>
					<div class="stl_01" style="top:42.0715em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">./img/gifts/img1.jpg &nbsp;</span></div>
					<div class="stl_01" style="top:42.9045em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">./img/gifts/img2.jpg &nbsp;</span></div>
					<div class="stl_01" style="top:43.7375em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">./img/gifts/img3.jpg &nbsp;</span></div>
					<div class="stl_01" style="top:44.5705em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">./img/gifts/img4.jpg &nbsp;</span></div>
					<div class="stl_01" style="top:45.4035em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">./img/gifts/img6.jpg &nbsp;</span></div>
					<div class="stl_01" style="top:47.1259em; left:6.6142em;"><span class="stl_129 stl_49 stl_456" style="word-spacing:-0.0051em;">正则表达式可以作为 </span><span class="stl_132 stl_52 stl_456" style="word-spacing:-0.0051em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_456" style="word-spacing:-0.0051em;">语句的任意一个参数，让你的目标元素查找工作极具灵 &nbsp;</span></div>
					<div class="stl_01" style="top:48.4537em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">活性。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:30.098em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">复杂</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">HTML</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">解析 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">23 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_53.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_53.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.799em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">2</span></div>
					<div class="stl_01" style="top:4.7282em; left:6.4924em;"><span class="stl_197 stl_18 stl_71">.5</span><span class="stl_160 stl_20 stl_71">ꢀ获取属性 &nbsp;</span></div>
					<div class="stl_01" style="top:7.2391em; left:5.6693em;"><span class="stl_129 stl_49 stl_139">到目前为止，我们已经介绍过如何获取和过滤标签，以及获取标签里的内容。但是，在网 &nbsp;</span></div>
					<div class="stl_01" style="top:8.477em; left:5.6693em;"><span class="stl_129 stl_49 stl_375" style="word-spacing:-0.0374em;">络数据采集时你经常不需要查找标签的内容，而是需要查找标签属性。比如标签 </span><span class="stl_188 stl_44 stl_322" style="word-spacing:-0.0395em;">&lt;a&gt;</span><span class="stl_129 stl_49 stl_375" style="word-spacing:-0.0374em;">指向 &nbsp;</span></div>
					<div class="stl_01" style="top:9.6493em; left:5.6691em;"><span class="stl_129 stl_49 stl_371" style="word-spacing:-0.0659em;">的 </span><span class="stl_132 stl_52 stl_371" style="word-spacing:-0.0659em;">URL </span><span class="stl_129 stl_49 stl_371" style="word-spacing:-0.0659em;">链接包含在 </span><span class="stl_188 stl_44 stl_457" style="word-spacing:-0.0696em;">href</span><span class="stl_129 stl_49 stl_371" style="word-spacing:-0.0659em;">属性中，或者 </span><span class="stl_188 stl_44 stl_457" style="word-spacing:-0.0696em;">&lt;img&gt;</span><span class="stl_129 stl_49 stl_371" style="word-spacing:-0.0659em;">标签的图片文件包含在 </span><span class="stl_188 stl_44 stl_457" style="word-spacing:-0.0696em;">src</span><span class="stl_129 stl_49 stl_371" style="word-spacing:-0.0659em;">属性中，这时获 &nbsp;</span></div>
					<div class="stl_01" style="top:10.9891em; left:5.6695em;"><span class="stl_129 stl_49 stl_10">取标签属性就变得非常有用了。 &nbsp;</span></div>
					<div class="stl_01" style="top:12.9002em; left:5.6695em;"><span class="stl_129 stl_49 stl_10">对于一个标签对象，可以用下面的代码获取它的全部属性： &nbsp;</span></div>
					<div class="stl_01" style="top:14.7914em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">myTag.attrs &nbsp;</span></div>
					<div class="stl_01" style="top:16.5124em; left:5.6693em;"><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0033em;">要注意这行代码返回的是一个 </span><span class="stl_132 stl_52 stl_127" style="word-spacing:-0.0033em;">Python </span><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0033em;">字典对象，可以获取和操作这些属性。比如要获取图 &nbsp;</span></div>
					<div class="stl_01" style="top:17.8281em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">片的资源位置 </span><span class="stl_188 stl_44 stl_10" style="word-spacing:0em;">src</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">，可以用下面这行代码： &nbsp;</span></div>
					<div class="stl_01" style="top:19.731em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">myImgTag.attrs["src"] &nbsp;</span></div>
					<div class="stl_01" style="top:22.0067em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">2</span></div>
					<div class="stl_01" style="top:21.9358em; left:6.4924em;"><span class="stl_197 stl_18 stl_198">.6</span><span class="stl_160 stl_20 stl_198">ꢀ</span><span class="stl_197 stl_18 stl_198">Lambda</span><span class="stl_160 stl_20 stl_198">表达式 &nbsp;</span></div>
					<div class="stl_01" style="top:24.369em; left:5.6693em;"><span class="stl_129 stl_49 stl_458" style="word-spacing:-0.0264em;">如果在学校读的是计算机科学专业，那么可能学过 </span><span class="stl_132 stl_52 stl_458" style="word-spacing:-0.0264em;">Lambda </span><span class="stl_129 stl_49 stl_458" style="word-spacing:-0.0264em;">表达式，不过可能从来没有用 &nbsp;</span></div>
					<div class="stl_01" style="top:25.6968em; left:5.6693em;"><span class="stl_129 stl_49 stl_139">过它。如果你不是计算机科学专业，它们看着可能有点儿陌生（或者只是“曾经学习过的 &nbsp;</span></div>
					<div class="stl_01" style="top:26.9467em; left:5.6693em;"><span class="stl_129 stl_49 stl_459">东西”）。在这一节里，虽然我们不打算深入学习这个相当实用的函数，但是会用几个例子 &nbsp;</span></div>
					<div class="stl_01" style="top:28.1968em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">来演示它们是如何用在网络数据采集中的。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.0302em; left:5.6693em;"><span class="stl_132 stl_52 stl_460" style="word-spacing:-0.0384em;">Lambda </span><span class="stl_129 stl_49 stl_460" style="word-spacing:-0.0384em;">表达式本质上就是一个函数，可以作为其他函数的变量使用；也就是说，一个函 &nbsp;</span></div>
					<div class="stl_01" style="top:31.3461em; left:5.6693em;"><span class="stl_129 stl_49 stl_210" style="word-spacing:-0.0132em;">数不是定义成 </span><span class="stl_188 stl_44 stl_285" style="word-spacing:-0.0139em;">f(x, y)</span><span class="stl_129 stl_49 stl_210" style="word-spacing:-0.0132em;">，而是定义成 </span><span class="stl_188 stl_44 stl_285" style="word-spacing:-0.0139em;">f(g(x), y)</span><span class="stl_129 stl_49 stl_210" style="word-spacing:-0.0132em;">，或 </span><span class="stl_188 stl_44 stl_285" style="word-spacing:-0.0139em;">f(g(x), h(x))</span><span class="stl_129 stl_49 stl_210" style="word-spacing:-0.0132em;">的形式。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.1798em; left:5.6689em;"><span class="stl_132 stl_52 stl_319" style="word-spacing:-0.0328em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_319" style="word-spacing:-0.0328em;">允许我们把特定函数类型当作 </span><span class="stl_188 stl_44 stl_461" style="word-spacing:-0.0346em;">findAll</span><span class="stl_129 stl_49 stl_319" style="word-spacing:-0.0328em;">函数的参数。唯一的限制条件是这些 &nbsp;</span></div>
					<div class="stl_01" style="top:34.4419em; left:5.6693em;"><span class="stl_129 stl_49 stl_180" style="word-spacing:-0.0144em;">函数必须把一个标签作为参数且返回结果是布尔类型。</span><span class="stl_132 stl_52 stl_180" style="word-spacing:-0.0144em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_180" style="word-spacing:-0.0144em;">用这个函数来评估它 &nbsp;</span></div>
					<div class="stl_01" style="top:35.7696em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">遇到的每个标签对象，最后把评估结果为“真”的标签保留，把其他标签剔除。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.6807em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">例如，下面的代码就是获取有两个属性的标签： &nbsp;</span></div>
					<div class="stl_01" style="top:39.5719em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">soup.findAll(lambda tag: len(tag.attrs) == 2) &nbsp;</span></div>
					<div class="stl_01" style="top:41.3706em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">这行代码会找出下面的标签： &nbsp;</span></div>
					<div class="stl_01" style="top:43.3017em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:44.1347em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:43.2613em; left:7.7479em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">div </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">class="body" id="content"</span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">&gt;&lt;/div&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:44.0943em; left:7.7479em;"><span class="stl_232 stl_44 stl_10">span </span><span class="stl_116 stl_44 stl_10">style="color:red" class="title"</span><span class="stl_232 stl_44 stl_10">&gt;&lt;/span&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:45.8159em; left:5.6693em;"><span class="stl_129 stl_49 stl_286" style="word-spacing:-0.0115em;">如果你愿意多写一点儿代码，那么在 </span><span class="stl_132 stl_52 stl_286" style="word-spacing:-0.0115em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_286" style="word-spacing:-0.0115em;">里用 </span><span class="stl_132 stl_52 stl_286" style="word-spacing:-0.0115em;">Lambda </span><span class="stl_129 stl_49 stl_286" style="word-spacing:-0.0115em;">表达式选择标签，将是正 &nbsp;</span></div>
					<div class="stl_01" style="top:47.1436em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">则表达式的完美替代方案。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">2</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">4 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 2</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_54.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_54.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.799em; left:6.6142em;"><span class="stl_197 stl_18 stl_10">2</span></div>
					<div class="stl_01" style="top:4.7282em; left:7.4373em;"><span class="stl_197 stl_18 stl_198">.7</span><span class="stl_160 stl_20 stl_198">ꢀ超越</span><span class="stl_197 stl_18 stl_198">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:7.1614em; left:6.6142em;"><span class="stl_129 stl_49 stl_462" style="word-spacing:0.0168em;">虽然本书全部用 </span><span class="stl_132 stl_52 stl_462" style="word-spacing:0.0168em;">BeautifulSoup</span><span class="stl_129 stl_49 stl_462" style="word-spacing:0.0168em;">（也是 </span><span class="stl_132 stl_52 stl_462" style="word-spacing:0.0168em;">Python </span><span class="stl_129 stl_49 stl_462" style="word-spacing:0.0168em;">里最受欢迎的 </span><span class="stl_132 stl_52 stl_462" style="word-spacing:0.0168em;">HTML </span><span class="stl_129 stl_49 stl_462" style="word-spacing:0.0168em;">解析库之一），但它并不 &nbsp;</span></div>
					<div class="stl_01" style="top:8.4114em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0005em;">是你唯一的选择。如果 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0005em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0005em;">不能满足你的需求，你可以看看其他的库。 &nbsp;</span></div>
					<div class="stl_01" style="top:10.3621em; left:6.6142em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:10.3621em; left:7.6774em;"><span class="stl_132 stl_52 stl_73">lxml &nbsp;</span></div>
					<div class="stl_01" style="top:11.5725em; left:7.6774em;"><span class="stl_129 stl_49 stl_218" style="word-spacing:-0.0089em;">这个库（</span><span class="stl_132 stl_52 stl_218" style="word-spacing:-0.0089em;">http://lxml.de/</span><span class="stl_129 stl_49 stl_218" style="word-spacing:-0.0089em;">）可以用来解析 </span><span class="stl_132 stl_52 stl_218" style="word-spacing:-0.0089em;">HTML </span><span class="stl_129 stl_49 stl_218" style="word-spacing:-0.0089em;">和 </span><span class="stl_132 stl_52 stl_218" style="word-spacing:-0.0089em;">XML </span><span class="stl_129 stl_49 stl_218" style="word-spacing:-0.0089em;">文档，以非常底层的实现而闻名 &nbsp;</span></div>
					<div class="stl_01" style="top:12.8228em; left:7.6772em;"><span class="stl_129 stl_49 stl_463" style="word-spacing:-0.0441em;">于世，大部分源代码是用 </span><span class="stl_132 stl_52 stl_463" style="word-spacing:-0.0441em;">C </span><span class="stl_129 stl_49 stl_463" style="word-spacing:-0.0441em;">语言写的。虽然学习它需要花一些时间（其实学习曲线越 &nbsp;</span></div>
					<div class="stl_01" style="top:14.0728em; left:7.6772em;"><span class="stl_129 stl_49 stl_77" style="word-spacing:0.0279em;">陡峭，表明你可以越快地学会它），但它在处理绝大多数 </span><span class="stl_132 stl_52 stl_77" style="word-spacing:0.0279em;">HTML </span><span class="stl_129 stl_49 stl_77" style="word-spacing:0.0279em;">文档时速度都非常快。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.0235em; left:6.614em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:16.0235em; left:7.6772em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0002em;">HTML parser &nbsp;</span></div>
					<div class="stl_01" style="top:17.2339em; left:7.6772em;"><span class="stl_129 stl_49 stl_451" style="word-spacing:0.0131em;">这是 </span><span class="stl_132 stl_52 stl_451" style="word-spacing:0.0131em;">Python </span><span class="stl_129 stl_49 stl_451" style="word-spacing:0.0131em;">自带的解析库（</span><span class="stl_132 stl_52 stl_451" style="word-spacing:0.0131em;">https://docs.python.org/3/library/html.parser.html</span><span class="stl_129 stl_49 stl_451" style="word-spacing:0.0131em;">）。因为它不 &nbsp;</span></div>
					<div class="stl_01" style="top:18.4842em; left:7.6772em;"><span class="stl_129 stl_49 stl_50" style="word-spacing:0.0385em;">用安装（只要装了 </span><span class="stl_132 stl_52 stl_50" style="word-spacing:0.0385em;">Python </span><span class="stl_129 stl_49 stl_50" style="word-spacing:0.0385em;">就有），所以可以很方便地使用。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:30.098em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">复杂</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">HTML</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">解析 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">25 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_55.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_55.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:9.4423em; left:32.1698em;"><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.064em;">第 </span><span class="stl_215 stl_18 stl_10" style="word-spacing:-0.064em;">3 </span><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.064em;">章 &nbsp;</span></div>
					<div class="stl_01 stl_69" style="top:12.7975em; left:28.7004em;"><span class="stl_70 stl_20 stl_71">开始采集 &nbsp;</span></div>
					<div class="stl_01" style="top:24.5006em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">到目前为止，本书的例子都只是处理单个静态页面，只能算是人为简化的例子（使用作者 &nbsp;</span></div>
					<div class="stl_01" style="top:25.7506em; left:5.6693em;"><span class="stl_129 stl_49 stl_140">的网站页面）。从本章开始，我们会看到一些现实问题，需要用爬虫遍历多个页面甚至多 &nbsp;</span></div>
					<div class="stl_01" style="top:27.0006em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">个网站。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.6923em; left:5.6693em;"><span class="stl_129 stl_49 stl_464" style="word-spacing:0.1193em;">之所以叫网络爬虫（</span><span class="stl_132 stl_52 stl_464" style="word-spacing:0.1193em;">Web crawler</span><span class="stl_129 stl_49 stl_464" style="word-spacing:0.1193em;">）是因为它们可以沿着网络爬行。它们的本质就是一种递 &nbsp;</span></div>
					<div class="stl_01" style="top:29.9426em; left:5.6693em;"><span class="stl_129 stl_49 stl_236" style="word-spacing:-0.0412em;">归方式。为了找到 </span><span class="stl_132 stl_52 stl_236" style="word-spacing:-0.0412em;">URL </span><span class="stl_129 stl_49 stl_236" style="word-spacing:-0.0412em;">链接，它们必须首先获取网页内容，检查这个页面的内容，再寻 &nbsp;</span></div>
					<div class="stl_01" style="top:31.1926em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">找另一个 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">URL</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">，然后获取 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">URL </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">对应的网页内容，不断循环这一过程。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.0396em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">不过要注意的是：你可以这样重复采集网页，但并不意味着你一直都应该这么做。当你需 &nbsp;</span></div>
					<div class="stl_01" style="top:34.29em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">要的所有数据都在一个页面上时，前面例子中的爬虫就足以解决问题了。使用网络爬虫的 &nbsp;</span></div>
					<div class="stl_01" style="top:35.54em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">时候，你必须非常谨慎地考虑需要消耗多少网络流量，还要尽力思考能不能让采集目标的 &nbsp;</span></div>
					<div class="stl_01" style="top:36.79em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">服务器负载更低一些。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.0366em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">3</span></div>
					<div class="stl_01" style="top:38.9657em; left:6.4924em;"><span class="stl_197 stl_18 stl_71">.1</span><span class="stl_160 stl_20 stl_71">ꢀ遍历单个域名 &nbsp;</span></div>
					<div class="stl_01" style="top:41.3989em; left:5.6693em;"><span class="stl_129 stl_49 stl_184" style="word-spacing:0.0123em;">即使你没听说过“维基百科六度分隔理论”，也很可能听过“凯文</span><span class="stl_259 stl_20 stl_184" style="word-spacing:0.0123em;">· </span><span class="stl_129 stl_49 stl_184" style="word-spacing:0.0123em;">贝肯（</span><span class="stl_132 stl_52 stl_184" style="word-spacing:0.0123em;">Kevin</span><span class="stl_132 stl_52 stl_184" style="word-spacing:0.1133em;"> Bacon</span><span class="stl_129 stl_49 stl_184" style="word-spacing:0.1133em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:42.7266em; left:5.6693em;"><span class="stl_129 stl_49 stl_140">的六度分隔值游戏”。在这两个游戏中，都是把两个不相干的主题（维基百科里是用词条 &nbsp;</span></div>
					<div class="stl_01" style="top:43.9767em; left:5.6693em;"><span class="stl_129 stl_49 stl_465" style="word-spacing:-0.0069em;">之间的连接，凯文</span><span class="stl_259 stl_20 stl_465" style="word-spacing:-0.0069em;">· </span><span class="stl_129 stl_49 stl_465" style="word-spacing:-0.0069em;">贝肯的六度分隔值游戏是用出现在同一部电影中的演员来连接）用一 &nbsp;</span></div>
					<div class="stl_01" style="top:45.2267em; left:5.6693em;"><span class="stl_129 stl_49 stl_50">个总数不超过六条的主题连接起来（包括原来的两个主题）。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.9961em; left:5.6693em;"><span class="stl_129 stl_49 stl_146" style="word-spacing:-0.028em;">比如，埃里克</span><span class="stl_259 stl_20 stl_146" style="word-spacing:-0.028em;">· </span><span class="stl_129 stl_49 stl_146" style="word-spacing:-0.028em;">艾德尔和布兰登</span><span class="stl_259 stl_20 stl_146" style="word-spacing:-0.028em;">· </span><span class="stl_129 stl_49 stl_146" style="word-spacing:-0.028em;">弗雷泽都出现在电影《骑警杜德雷》里，布兰登</span><span class="stl_259 stl_20 stl_146" style="word-spacing:-0.028em;">· </span><span class="stl_129 stl_49 stl_146" style="word-spacing:-0.028em;">弗 &nbsp;</span></div>
					<div class="stl_01" style="top:48.1563em; left:26.0161em;"><span class="stl_365 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:48.2463em; left:5.6687em;"><span class="stl_129 stl_49 stl_353" style="word-spacing:-0.0185em;">雷泽又和凯文</span><span class="stl_259 stl_20 stl_353" style="word-spacing:-0.0185em;">· </span><span class="stl_129 stl_49 stl_353" style="word-spacing:-0.0185em;">贝肯都出现在电影《我呼吸的空气》里。</span><span class="stl_129 stl_49 stl_353" style="word-spacing:0.2386em;"> 因此，根据这两个条件，从埃 &nbsp;</span></div>
					<div class="stl_01" style="top:50.5282em; left:5.6693em;"><span class="stl_60 stl_49 stl_77" style="word-spacing:0.0278em;">注 </span><span class="stl_61 stl_52 stl_77" style="word-spacing:0.0278em;">1</span><span class="stl_60 stl_49 stl_77" style="word-spacing:0.0278em;">：感谢 </span><span class="stl_61 stl_52 stl_77" style="word-spacing:0.0278em;">The Oracle of Bacon</span><span class="stl_60 stl_49 stl_77" style="word-spacing:0.0278em;">（</span><span class="stl_61 stl_52 stl_77" style="word-spacing:0.0278em;">http://oracleofbacon.org/index.php</span><span class="stl_60 stl_49 stl_77" style="word-spacing:0.0278em;">）的存在，满足了我对这类关系链的好奇心。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.3099em; left:5.6693em;"><span class="stl_119 stl_22 stl_10">26 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_56.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_56.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8348em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">里克</span><span class="stl_259 stl_20 stl_10" style="word-spacing:0em;">· </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">艾德尔到凯文</span><span class="stl_259 stl_20 stl_10" style="word-spacing:0em;">·</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">贝肯的链条主题长度只有 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">3</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:6.6819em; left:6.6142em;"><span class="stl_129 stl_49 stl_466">我们将在本节创建一个项目来实现“维基百科六度分隔理论”的查找方法。也就是说，我们 &nbsp;</span></div>
					<div class="stl_01" style="top:7.8542em; left:6.6142em;"><span class="stl_129 stl_49 stl_467" style="word-spacing:0.0321em;">要实现从埃里克</span><span class="stl_259 stl_20 stl_467" style="word-spacing:0.0321em;">· </span><span class="stl_129 stl_49 stl_467" style="word-spacing:0.0321em;">艾德尔的词条页面（</span><span class="stl_132 stl_52 stl_467" style="word-spacing:0.0321em;">https://en.wikipedia.org/wiki/Eric_Idle</span><span class="stl_129 stl_49 stl_467" style="word-spacing:0.0321em;">）开始，经过最 &nbsp;</span></div>
					<div class="stl_01" style="top:9.1043em; left:6.6142em;"><span class="stl_129 stl_49 stl_468" style="word-spacing:0.0367em;">少的链接点击次数找到凯文</span><span class="stl_259 stl_20 stl_468" style="word-spacing:0.0367em;">· </span><span class="stl_129 stl_49 stl_468" style="word-spacing:0.0367em;">贝肯的词条页面（</span><span class="stl_132 stl_52 stl_468" style="word-spacing:0.0367em;">https://en.wikipedia.org/wiki/Kevin_Bacon</span><span class="stl_129 stl_49 stl_468" style="word-spacing:0.0367em;">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.7109em; left:13.1269em;"><span class="stl_268 stl_20 stl_10" style="word-spacing:0em;">这么做对维基百科的服务器负载有多大影响 </span><span class="stl_469 stl_18 stl_10" style="word-spacing:0em;">? &nbsp;</span></div>
					<div class="stl_01" style="top:13.3599em; left:7.3478em;"><span class="stl_269 stl_49 stl_470" style="word-spacing:-0.053em;">根据维基媒体基金会（维基百科归属的组织）的统计，网站每秒钟会收到大约 </span><span class="stl_132 stl_52 stl_470" style="word-spacing:-0.053em;">2500 &nbsp;</span></div>
					<div class="stl_01" style="top:14.4848em; left:7.3423em;"><span class="stl_269 stl_49 stl_471" style="word-spacing:-0.0259em;">次点击，其中超过 </span><span class="stl_132 stl_52 stl_471" style="word-spacing:-0.0259em;">99% </span><span class="stl_269 stl_49 stl_471" style="word-spacing:-0.0259em;">的点击都是指向维基百科域名（详情请见“维基媒体统计图” &nbsp;</span></div>
					<div class="stl_01" style="top:15.6875em; left:6.9512em;"><span class="stl_269 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:15.6098em; left:7.7508em;"><span class="stl_132 stl_52 stl_472" style="word-spacing:0.1196em;">Wikimedia in Figures</span><span class="stl_269 stl_49 stl_472" style="word-spacing:0.1196em;">）里的“流量数据”（</span><span class="stl_132 stl_52 stl_472" style="word-spacing:0.1196em;">Traf</span><span class="stl_148 stl_52 stl_472" style="word-spacing:0.1196em;">ﬁ</span><span class="stl_132 stl_52 stl_472" style="word-spacing:0.1196em;">c Volume</span><span class="stl_269 stl_49 stl_472" style="word-spacing:0.1196em;">）部分内容，</span><span class="stl_132 stl_52 stl_472" style="word-spacing:0.1196em;">https://meta. &nbsp;</span></div>
					<div class="stl_01" style="top:16.7347em; left:7.3463em;"><span class="stl_132 stl_52 stl_465">wikimedia.org/wiki/Wikimedia_in_</span><span class="stl_148 stl_52 stl_465">ﬁ</span><span class="stl_132 stl_52 stl_465">gures_-_Wikipedia#Traf</span><span class="stl_148 stl_52 stl_465">ﬁ</span><span class="stl_132 stl_52 stl_465">c_volume</span><span class="stl_269 stl_49 stl_465">）。因为网站流量 &nbsp;</span></div>
					<div class="stl_01" style="top:17.9374em; left:7.3494em;"><span class="stl_269 stl_49 stl_473">很大，所以你的网络爬虫不可能对维基百科的负载有显著影响。不过，如果你频繁地 &nbsp;</span></div>
					<div class="stl_01" style="top:19.0624em; left:7.3431em;"><span class="stl_269 stl_49 stl_359">运行本书的代码，或者自己在做项目采集维基百科的词条，那么希望你能够向维基媒 &nbsp;</span></div>
					<div class="stl_01" style="top:20.1096em; left:7.3407em;"><span class="stl_269 stl_49 stl_366">体基金会提供一点捐赠（</span><span class="stl_132 stl_52 stl_366">https://wikimediafoundation.org/wiki/Ways_to_Give</span><span class="stl_269 stl_49 stl_366">）——即 &nbsp;</span></div>
					<div class="stl_01" style="top:21.3123em; left:7.3463em;"><span class="stl_269 stl_49 stl_147">使是很少的钱来补偿你占用的服务器资源，算是帮助维基百科这个教育资源供其他人 &nbsp;</span></div>
					<div class="stl_01" style="top:22.4372em; left:7.3478em;"><span class="stl_269 stl_49 stl_68">使用。 &nbsp;</span></div>
					<div class="stl_01" style="top:24.5116em; left:6.6142em;"><span class="stl_129 stl_49 stl_290" style="word-spacing:-0.004em;">你应该已经知道如何写一段获取维基百科网站的任何页面并提取页面链接的 </span><span class="stl_132 stl_52 stl_290" style="word-spacing:-0.004em;">Python </span><span class="stl_129 stl_49 stl_290" style="word-spacing:-0.004em;">代码了： &nbsp;</span></div>
					<div class="stl_01" style="top:26.48em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">urllib.request </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:27.313em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">bs4 </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:28.979em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">html = urlopen("http://en.wikipedia.org/wiki/Kevin_Bacon") &nbsp;</span></div>
					<div class="stl_01" style="top:29.812em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">bsObj = BeautifulSoup(html) &nbsp;</span></div>
					<div class="stl_01" style="top:30.645em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">link </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">bsObj.findAll("a"): &nbsp;</span></div>
					<div class="stl_01" style="top:31.478em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">'href' </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">link.attrs: &nbsp;</span></div>
					<div class="stl_01" style="top:32.311em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(link.attrs['href']) &nbsp;</span></div>
					<div class="stl_01" style="top:34.0345em; left:6.6142em;"><span class="stl_129 stl_49 stl_178" style="word-spacing:0.0383em;">如果你观察生成的一列链接，就会看到你想要的所有词条链接都在里面：“</span><span class="stl_132 stl_52 stl_178" style="word-spacing:0.0383em;">Apollo 13</span><span class="stl_129 stl_49 stl_178" style="word-spacing:0.0383em;">” &nbsp;</span></div>
					<div class="stl_01" style="top:35.3623em; left:6.2183em;"><span class="stl_129 stl_49 stl_10">“</span></div>
					<div class="stl_01" style="top:35.2846em; left:7.01em;"><span class="stl_132 stl_52 stl_474" style="word-spacing:0.0197em;">Philadelphia</span><span class="stl_129 stl_49 stl_474" style="word-spacing:0.0197em;">”和“</span><span class="stl_132 stl_52 stl_474" style="word-spacing:0.0197em;">Primetime Emmy Award</span><span class="stl_129 stl_49 stl_474" style="word-spacing:0.0197em;">”，等等。但是，也有一些我们不需要的链接： &nbsp;</span></div>
					<div class="stl_01" style="top:37.2531em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">/</span></div>
					<div class="stl_01" style="top:38.0861em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">/</span></div>
					<div class="stl_01" style="top:37.2531em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">/wikimediafoundation.org/wiki/Privacy_policy &nbsp;</span></div>
					<div class="stl_01" style="top:38.0861em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">/en.wikipedia.org/wiki/Wikipedia:Contact_us &nbsp;</span></div>
					<div class="stl_01" style="top:39.8852em; left:6.6142em;"><span class="stl_129 stl_49 stl_139">其实维基百科的每个页面都充满了侧边栏、页眉、页脚链接，以及连接到分类页面、对话 &nbsp;</span></div>
					<div class="stl_01" style="top:41.1352em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">页面和其他不包含词条的页面的链接： &nbsp;</span></div>
					<div class="stl_01" style="top:43.0261em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">/</span></div>
					<div class="stl_01" style="top:43.8591em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">/</span></div>
					<div class="stl_01" style="top:43.0261em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">wiki/Category:Articles_with_unsourced_statements_from_April_2014 &nbsp;</span></div>
					<div class="stl_01" style="top:43.8591em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">wiki/Talk:Kevin_Bacon &nbsp;</span></div>
					<div class="stl_01" style="top:45.6582em; left:6.6142em;"><span class="stl_129 stl_49 stl_153">最近我有个朋友在做一个类似维基百科采集这样的项目，他说为了判断维基百科的内链是 &nbsp;</span></div>
					<div class="stl_01" style="top:46.8305em; left:6.6142em;"><span class="stl_129 stl_49 stl_130" style="word-spacing:-0.0171em;">否链接到一个词条，他写了一个很大的过滤函数，超过 </span><span class="stl_132 stl_52 stl_130" style="word-spacing:-0.0171em;">100 </span><span class="stl_129 stl_49 stl_130" style="word-spacing:-0.0171em;">行代码。不幸的是，可能在项 &nbsp;</span></div>
					<div class="stl_01" style="top:48.1582em; left:6.6142em;"><span class="stl_129 stl_49 stl_139">目启动的时候，他没有花时间去比较“词条链接”和“其他链接”的差异，也可能他后来 &nbsp;</span></div>
					<div class="stl_01" style="top:49.4082em; left:6.6142em;"><span class="stl_129 stl_49 stl_231">发现了那个技巧。如果你仔细观察那些指向词条页面（不是指向其他内容页面）的链接， &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.0178em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">开始采集 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">27 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_57.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_57.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9126em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">会发现它们都有三个共同点： &nbsp;</span></div>
					<div class="stl_01" style="top:6.7856em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:8.036em; left:5.669em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:9.286em; left:5.669em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:6.812em; left:6.7325em;"><span class="stl_129 stl_49 stl_475" style="word-spacing:-0.0715em;">它们都在 </span><span class="stl_188 stl_44 stl_142" style="word-spacing:-0.0755em;">id</span><span class="stl_129 stl_49 stl_475" style="word-spacing:-0.0715em;">是 </span><span class="stl_188 stl_44 stl_142" style="word-spacing:-0.0755em;">bodyContent</span><span class="stl_129 stl_49 stl_475" style="word-spacing:-0.0715em;">的 </span><span class="stl_188 stl_44 stl_142" style="word-spacing:-0.0755em;">div</span><span class="stl_129 stl_49 stl_475" style="word-spacing:-0.0715em;">标签里 &nbsp;</span></div>
					<div class="stl_01" style="top:7.9964em; left:6.7322em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0002em;">URL </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">链接不包含分号 &nbsp;</span></div>
					<div class="stl_01" style="top:9.2464em; left:6.7322em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">URL </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">链接都以 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">/wiki/ </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">开头 &nbsp;</span></div>
					<div class="stl_01" style="top:11.2352em; left:5.669em;"><span class="stl_129 stl_49 stl_10">我们可以利用这些规则稍微调整一下代码来获取词条链接： &nbsp;</span></div>
					<div class="stl_01" style="top:13.1262em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urllib.request </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:13.9592em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">bs4 </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:14.7922em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">re &nbsp;</span></div>
					<div class="stl_01" style="top:16.4582em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">html = urlopen("http://en.wikipedia.org/wiki/Kevin_Bacon") &nbsp;</span></div>
					<div class="stl_01" style="top:17.2912em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">bsObj = BeautifulSoup(html) &nbsp;</span></div>
					<div class="stl_01" style="top:18.1242em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">link </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">bsObj.find("div", {"id":"bodyContent"}).findAll("a", &nbsp;</span></div>
					<div class="stl_01" style="top:18.9572em; left:15.1854em;"><span class="stl_116 stl_44 stl_10">href=re.compile("^(/wiki/)((?!:).)*$")): &nbsp;</span></div>
					<div class="stl_01" style="top:19.7902em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">'href' </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">link.attrs: &nbsp;</span></div>
					<div class="stl_01" style="top:20.6232em; left:10.227em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(link.attrs['href']) &nbsp;</span></div>
					<div class="stl_01" style="top:22.4251em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">如果你运行代码，就会看到维基百科上凯文</span><span class="stl_259 stl_20 stl_10">·</span><span class="stl_129 stl_49 stl_10">贝肯词条里所有指向其他词条的链接。 &nbsp;</span></div>
					<div class="stl_01" style="top:24.3362em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">当然，写程序来找出这个静态的维基百科词条里所有的词条链接很有趣，不过没什么实际 &nbsp;</span></div>
					<div class="stl_01" style="top:25.5862em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">用处。我们需要让这段程序更像下面的形式。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.4592em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:29.9599em; left:5.669em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:27.4082em; left:6.7325em;"><span class="stl_129 stl_49 stl_131" style="word-spacing:-0.0056em;">一个函数 </span><span class="stl_188 stl_44 stl_131" style="word-spacing:-0.0059em;">getLinks</span><span class="stl_129 stl_49 stl_131" style="word-spacing:-0.0056em;">，可以用维基百科词条 </span><span class="stl_188 stl_44 stl_131" style="word-spacing:-0.0059em;">/wiki/&lt;</span><span class="stl_48 stl_49 stl_131" style="word-spacing:-0.0059em;">词条名称 </span><span class="stl_188 stl_44 stl_131" style="word-spacing:-0.0059em;">&gt;</span><span class="stl_129 stl_49 stl_131" style="word-spacing:-0.0056em;">形式的 </span><span class="stl_132 stl_52 stl_131" style="word-spacing:-0.0056em;">URL </span><span class="stl_129 stl_49 stl_131" style="word-spacing:-0.0056em;">链接作为参数， &nbsp;</span></div>
					<div class="stl_01" style="top:28.6703em; left:6.7322em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">然后以同样的形式返回一个列表，里面包含所有的词条 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">URL </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">链接。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.9082em; left:6.7322em;"><span class="stl_129 stl_49 stl_472" style="word-spacing:-0.0197em;">一个主函数，以某个起始词条为参数调用 </span><span class="stl_188 stl_44 stl_476" style="word-spacing:-0.0208em;">getLinks</span><span class="stl_129 stl_49 stl_472" style="word-spacing:-0.0197em;">，再从返回的 </span><span class="stl_132 stl_52 stl_472" style="word-spacing:-0.0197em;">URL </span><span class="stl_129 stl_49 stl_472" style="word-spacing:-0.0197em;">列表里随机选择 &nbsp;</span></div>
					<div class="stl_01" style="top:31.2359em; left:6.7322em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0013em;">一个词条链接，再调用 </span><span class="stl_188 stl_44 stl_10" style="word-spacing:0.0014em;">getLinks</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0013em;">，直到我们主动停止，或者在新的页面上没有词条链接 &nbsp;</span></div>
					<div class="stl_01" style="top:32.498em; left:6.732em;"><span class="stl_129 stl_49 stl_10">了，程序才停止运行。 &nbsp;</span></div>
					<div class="stl_01" style="top:34.4091em; left:5.6688em;"><span class="stl_129 stl_49 stl_10">完整的代码如下所示： &nbsp;</span></div>
					<div class="stl_01" style="top:36.3001em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urllib.request </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:37.1331em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">bs4 </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:37.9661em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">datetime &nbsp;</span></div>
					<div class="stl_01" style="top:38.7991em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">random &nbsp;</span></div>
					<div class="stl_01" style="top:39.6321em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">re &nbsp;</span></div>
					<div class="stl_01" style="top:41.2981em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">random.seed(datetime.datetime.now()) &nbsp;</span></div>
					<div class="stl_01" style="top:42.1311em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">getLinks(articleUrl): &nbsp;</span></div>
					<div class="stl_01" style="top:42.9641em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">html = urlopen("http://en.wikipedia.org"+articleUrl) &nbsp;</span></div>
					<div class="stl_01" style="top:43.7971em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">bsObj = BeautifulSoup(html) &nbsp;</span></div>
					<div class="stl_01" style="top:44.6301em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">bsObj.find("div", {"id":"bodyContent"}).findAll("a", &nbsp;</span></div>
					<div class="stl_01" style="top:45.4631em; left:14.8312em;"><span class="stl_116 stl_44 stl_10">href=re.compile("^(/wiki/)((?!:).)*$")) &nbsp;</span></div>
					<div class="stl_01" style="top:46.2961em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">links = getLinks("/wiki/Kevin_Bacon") &nbsp;</span></div>
					<div class="stl_01" style="top:47.1291em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">while </span><span class="stl_116 stl_44 stl_10">len(links) &gt; 0: &nbsp;</span></div>
					<div class="stl_01" style="top:47.9621em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">newArticle = links[random.randint(0, len(links)-1)].attrs["href"] &nbsp;</span></div>
					<div class="stl_01" style="top:48.7951em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(newArticle) &nbsp;</span></div>
					<div class="stl_01" style="top:49.6281em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">links = getLinks(newArticle) &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">2</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">8 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 3</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_58.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_58.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:6.6142em;"><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0033em;">导入需要的 </span><span class="stl_132 stl_52 stl_127" style="word-spacing:-0.0033em;">Python </span><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0033em;">库之后，程序首先做的是用系统当前时间生成一个随机数生成器。这样 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1627em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">可以保证在每次程序运行的时候，维基百科词条的选择都是一个全新的随机路径。 &nbsp;</span></div>
					<div class="stl_01" style="top:8.8116em; left:17.6214em;"><span class="stl_268 stl_20 stl_10">伪随机数和随机数种子 &nbsp;</span></div>
					<div class="stl_01" style="top:10.3402em; left:7.3478em;"><span class="stl_269 stl_49 stl_270" style="word-spacing:-0.0094em;">在前面的示例中，为了能够连续地随机遍历维基百科，我用 </span><span class="stl_132 stl_52 stl_270" style="word-spacing:-0.0094em;">Python </span><span class="stl_269 stl_49 stl_270" style="word-spacing:-0.0094em;">的随机数生成器来 &nbsp;</span></div>
					<div class="stl_01" style="top:11.5428em; left:7.3597em;"><span class="stl_269 stl_49 stl_10">随机选择每一页上的一个词条链接。但是，用随机数的时候需要格外小心。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.1404em; left:7.3597em;"><span class="stl_269 stl_49 stl_359">虽然计算机很擅长做精确计算，但是它们处理随机事件时非常不靠谱。因此，随机数 &nbsp;</span></div>
					<div class="stl_01" style="top:14.2654em; left:7.3558em;"><span class="stl_269 stl_49 stl_477">是一个难题。大多数随机数算法都努力创造一种呈均匀分布且难以预测的数据序列， &nbsp;</span></div>
					<div class="stl_01" style="top:15.3126em; left:7.3455em;"><span class="stl_269 stl_49 stl_478" style="word-spacing:0.1575em;">但是在算法初始化阶段都需要提供随机数“种子”（</span><span class="stl_132 stl_52 stl_478" style="word-spacing:0.1575em;">random seed</span><span class="stl_269 stl_49 stl_478" style="word-spacing:0.1575em;">）。而完全相同的种子 &nbsp;</span></div>
					<div class="stl_01" style="top:16.5153em; left:7.3534em;"><span class="stl_269 stl_49 stl_479">每次将产生同样的“随机”数序列，因此我用系统时间作为随机数序列生成的起点。 &nbsp;</span></div>
					<div class="stl_01" style="top:17.6403em; left:7.3455em;"><span class="stl_269 stl_49 stl_10">这样做会让程序运行的时候更具有随机性。 &nbsp;</span></div>
					<div class="stl_01" style="top:19.1601em; left:7.3455em;"><span class="stl_269 stl_49 stl_480" style="word-spacing:-0.0042em;">其实，</span><span class="stl_132 stl_52 stl_480" style="word-spacing:-0.0042em;">Python </span><span class="stl_269 stl_49 stl_480" style="word-spacing:-0.0042em;">的伪随机数（</span><span class="stl_132 stl_52 stl_480" style="word-spacing:-0.0042em;">pseudorandom</span><span class="stl_132 stl_52 stl_480" style="word-spacing:0.118em;"> number</span><span class="stl_269 stl_49 stl_480" style="word-spacing:0.118em;">）生成器用的是梅森旋转（</span><span class="stl_132 stl_52 stl_480" style="word-spacing:0.118em;">Mersenne &nbsp;</span></div>
					<div class="stl_01" style="top:20.2851em; left:7.3415em;"><span class="stl_132 stl_52 stl_481">Twister</span><span class="stl_269 stl_49 stl_481">）算法（</span><span class="stl_132 stl_52 stl_481">https://en.wikipedia.org/wiki/Mersenne_Twister</span><span class="stl_269 stl_49 stl_481">），它产生的随机数很难 &nbsp;</span></div>
					<div class="stl_01" style="top:21.4101em; left:7.3423em;"><span class="stl_269 stl_49 stl_386" style="word-spacing:-0.0005em;">预测且呈均匀分布，就是有点儿耗费 </span><span class="stl_132 stl_52 stl_386" style="word-spacing:-0.0005em;">CPU </span><span class="stl_269 stl_49 stl_386" style="word-spacing:-0.0005em;">资源。真正好的随机数可不便宜！ &nbsp;</span></div>
					<div class="stl_01" style="top:23.6274em; left:6.6142em;"><span class="stl_129 stl_49 stl_217" style="word-spacing:-0.0587em;">然后，我们定义 </span><span class="stl_188 stl_44 stl_482" style="word-spacing:-0.062em;">getLinks</span><span class="stl_129 stl_49 stl_217" style="word-spacing:-0.0587em;">函数，其参数是维基百科词条页面中 </span><span class="stl_188 stl_44 stl_482" style="word-spacing:-0.062em;">/wiki/&lt;</span><span class="stl_48 stl_49 stl_482" style="word-spacing:-0.062em;">词条名称 </span><span class="stl_188 stl_44 stl_482" style="word-spacing:-0.062em;">&gt;</span><span class="stl_129 stl_49 stl_217" style="word-spacing:-0.0587em;">形式的 &nbsp;</span></div>
					<div class="stl_01" style="top:24.7997em; left:6.6139em;"><span class="stl_132 stl_52 stl_483" style="word-spacing:-0.0065em;">URL </span><span class="stl_129 stl_49 stl_483" style="word-spacing:-0.0065em;">链接，前面加上维基百科的域名，</span><span class="stl_188 stl_44 stl_484" style="word-spacing:-0.0068em;">http://en.wikipedia.org</span><span class="stl_129 stl_49 stl_483" style="word-spacing:-0.0065em;">，再用域名中的网页获得 &nbsp;</span></div>
					<div class="stl_01" style="top:26.0497em; left:6.6141em;"><span class="stl_129 stl_49 stl_265" style="word-spacing:-0.0205em;">一个 </span><span class="stl_132 stl_52 stl_265" style="word-spacing:-0.0205em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_265" style="word-spacing:-0.0205em;">对象。之后用前面介绍过的参数抽取一列词条链接所在的标签 </span><span class="stl_188 stl_44 stl_139" style="word-spacing:-0.0216em;">a</span><span class="stl_129 stl_49 stl_265" style="word-spacing:-0.0205em;">并返回 &nbsp;</span></div>
					<div class="stl_01" style="top:27.3895em; left:6.6144em;"><span class="stl_129 stl_49 stl_10">它们。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.2229em; left:6.6144em;"><span class="stl_129 stl_49 stl_209" style="word-spacing:-0.0127em;">程序的主函数首先把起始页面 </span><span class="stl_132 stl_52 stl_209" style="word-spacing:-0.0127em;">https://en.wikipedia.org/wiki/Kevin_Bacon </span><span class="stl_129 stl_49 stl_209" style="word-spacing:-0.0127em;">里的词条链接列表 &nbsp;</span></div>
					<div class="stl_01" style="top:30.5509em; left:6.2183em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:30.5388em; left:7.01em;"><span class="stl_188 stl_44 stl_192">links</span><span class="stl_129 stl_49 stl_485">变量）设置成链接列表。然后用一个循环，从页面中随机找一个词条链接标签并抽 &nbsp;</span></div>
					<div class="stl_01" style="top:31.7888em; left:6.6145em;"><span class="stl_129 stl_49 stl_250" style="word-spacing:-0.0516em;">取 </span><span class="stl_188 stl_44 stl_83" style="word-spacing:-0.0544em;">href</span><span class="stl_129 stl_49 stl_250" style="word-spacing:-0.0516em;">属性，打印这个页面链接，再把这个链接传入 </span><span class="stl_188 stl_44 stl_83" style="word-spacing:-0.0544em;">getLinks</span><span class="stl_129 stl_49 stl_250" style="word-spacing:-0.0516em;">函数，重新获取新的链接 &nbsp;</span></div>
					<div class="stl_01" style="top:33.0509em; left:6.6138em;"><span class="stl_129 stl_49 stl_10">列表。 &nbsp;</span></div>
					<div class="stl_01" style="top:34.962em; left:6.6138em;"><span class="stl_129 stl_49 stl_130">当然，这里只是简单地构建一个从一个页面到另一个页面的爬虫，要解决“维基百科六度 &nbsp;</span></div>
					<div class="stl_01" style="top:36.1343em; left:6.6138em;"><span class="stl_129 stl_49 stl_397" style="word-spacing:-0.0409em;">分隔理论”问题还有一点儿工作得做。我们还应该存储 </span><span class="stl_132 stl_52 stl_397" style="word-spacing:-0.0409em;">URL </span><span class="stl_129 stl_49 stl_397" style="word-spacing:-0.0409em;">链接数据并分析数据。关于 &nbsp;</span></div>
					<div class="stl_01" style="top:37.3846em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">这个问题后续的解决办法，请参考第 </span><span class="stl_132 stl_52 stl_10">5 </span><span class="stl_129 stl_49 stl_10">章内容。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.087em; left:11.3386em;"><span class="stl_245 stl_20 stl_10">异常处理 &nbsp;</span></div>
					<div class="stl_01" style="top:41.9581em; left:11.3386em;"><span class="stl_48 stl_49 stl_253">虽然为了方便起见，我们在这些示例中忽略了大多数异常处理过程，但是要 &nbsp;</span></div>
					<div class="stl_01" style="top:43.1127em; left:11.3858em;"><span class="stl_48 stl_49 stl_486" style="word-spacing:-0.0468em;">注意问题随时可能发生。例如，维基百科改变了 </span><span class="stl_116 stl_44 stl_255" style="word-spacing:-0.0495em;">bodyContent</span><span class="stl_48 stl_49 stl_486" style="word-spacing:-0.0468em;">标签的名称怎 &nbsp;</span></div>
					<div class="stl_01" style="top:44.2918em; left:11.3859em;"><span class="stl_48 stl_49 stl_55">么办呢？（提示：那时代码就会崩溃。） &nbsp;</span></div>
					<div class="stl_01" style="top:46.1668em; left:11.3387em;"><span class="stl_48 stl_49 stl_253">因此，这些脚本作为容易演示的示例也许可以运行得很不错，但是要真正成 &nbsp;</span></div>
					<div class="stl_01" style="top:47.3335em; left:11.3859em;"><span class="stl_48 stl_49 stl_487">为自动化产品代码，还需要增加更多的异常处理。关于异常处理的更多信 &nbsp;</span></div>
					<div class="stl_01" style="top:48.4268em; left:11.3858em;"><span class="stl_48 stl_49 stl_10">息，请参考第 </span><span class="stl_51 stl_52 stl_10">1 </span><span class="stl_48 stl_49 stl_10">章的相关内容。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.0178em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">开始采集 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">29 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_59.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_59.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.799em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">3</span></div>
					<div class="stl_01" style="top:4.7282em; left:6.4924em;"><span class="stl_197 stl_18 stl_71">.2</span><span class="stl_160 stl_20 stl_71">ꢀ采集整个网站 &nbsp;</span></div>
					<div class="stl_01" style="top:7.2391em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">在上一节内容里，我们实现了在一个网站上随机地从一个链接跳到另一个链接。但是，如 &nbsp;</span></div>
					<div class="stl_01" style="top:8.4891em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">果你需要系统地把整个网站按目录分类，或者要搜索网站上的每一个页面，怎么办？那就 &nbsp;</span></div>
					<div class="stl_01" style="top:9.7391em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">得采集整个网站，那是一种非常耗费内存资源的过程，尤其是处理大型网站时，最合适的 &nbsp;</span></div>
					<div class="stl_01" style="top:10.9891em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">工具就是用一个数据库来储存采集的资源。但是，我们可以掌握这类工具的行为，并不需 &nbsp;</span></div>
					<div class="stl_01" style="top:12.1614em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">要通过大规模地运行它们。要了解更多关于数据库使用的相关知识，请参考第 </span><span class="stl_132 stl_52 stl_10">5 </span><span class="stl_129 stl_49 stl_10">章。 &nbsp;</span></div>
					<div class="stl_01" style="top:14.888em; left:18.9682em;"><span class="stl_268 stl_20 stl_10">深网和暗网 &nbsp;</span></div>
					<div class="stl_01" style="top:16.4079em; left:6.403em;"><span class="stl_269 stl_49 stl_488" style="word-spacing:0.1007em;">你可能听说过</span><span class="stl_388 stl_20 stl_488" style="word-spacing:0.1007em;">深网</span><span class="stl_269 stl_49 stl_488" style="word-spacing:0.1007em;">（</span><span class="stl_132 stl_52 stl_488" style="word-spacing:0.1007em;">deep Web</span><span class="stl_269 stl_49 stl_488" style="word-spacing:0.1007em;">）、</span><span class="stl_388 stl_20 stl_488" style="word-spacing:0.1007em;">暗网</span><span class="stl_269 stl_49 stl_488" style="word-spacing:0.1007em;">（</span><span class="stl_132 stl_52 stl_488" style="word-spacing:0.1007em;">dark Web</span><span class="stl_269 stl_49 stl_488" style="word-spacing:0.1007em;">）或</span><span class="stl_388 stl_20 stl_488" style="word-spacing:0.1007em;">隐藏网络</span><span class="stl_269 stl_49 stl_488" style="word-spacing:0.1007em;">（</span><span class="stl_132 stl_52 stl_488" style="word-spacing:0.1007em;">hidden Web</span><span class="stl_269 stl_49 stl_488" style="word-spacing:0.1007em;">）之类的 &nbsp;</span></div>
					<div class="stl_01" style="top:17.6193em; left:6.4045em;"><span class="stl_269 stl_49 stl_10">术语，尤其是在最近的媒体中。它们是什么意思呢？ &nbsp;</span></div>
					<div class="stl_01" style="top:19.1305em; left:6.4045em;"><span class="stl_269 stl_49 stl_368" style="word-spacing:0.1062em;">深网是网络的一部分，与</span><span class="stl_388 stl_20 stl_368" style="word-spacing:0.1062em;">浅网</span><span class="stl_269 stl_49 stl_368" style="word-spacing:0.1062em;">（</span><span class="stl_132 stl_52 stl_368" style="word-spacing:0.1062em;">surface Web</span><span class="stl_269 stl_49 stl_368" style="word-spacing:0.1062em;">）对立。浅网是互联网上搜索引擎可以抓 &nbsp;</span></div>
					<div class="stl_01" style="top:20.2641em; left:6.4006em;"><span class="stl_269 stl_49 stl_489" style="word-spacing:-0.01em;">到的那部分网络。据不完全统计，互联网中其实约 </span><span class="stl_132 stl_52 stl_489" style="word-spacing:-0.01em;">90% </span><span class="stl_269 stl_49 stl_489" style="word-spacing:-0.01em;">的网络都是深网。因为谷歌不 &nbsp;</span></div>
					<div class="stl_01" style="top:21.4668em; left:6.4117em;"><span class="stl_269 stl_49 stl_208">能做像表单提交这类事情，也找不到那些没有直接链接到顶层域名上的网页，或者因 &nbsp;</span></div>
					<div class="stl_01" style="top:22.514em; left:6.4204em;"><span class="stl_269 stl_49 stl_10" style="word-spacing:0.0001em;">为有 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">robots.txt </span><span class="stl_269 stl_49 stl_10" style="word-spacing:0.0001em;">禁止而不能查看网站，所以浅网的数量相对深网还是比较少的。 &nbsp;</span></div>
					<div class="stl_01" style="top:24.1116em; left:6.4204em;"><span class="stl_269 stl_49 stl_490" style="word-spacing:-0.0039em;">暗网，也被称为 </span><span class="stl_132 stl_52 stl_490" style="word-spacing:-0.0039em;">Darknet</span><span class="stl_269 stl_49 stl_490" style="word-spacing:-0.0047em;"> 或</span><span class="stl_132 stl_52 stl_490" style="word-spacing:-0.0039em;"> dark</span><span class="stl_132 stl_52 stl_490" style="word-spacing:0.1121em;"> Internet</span><span class="stl_269 stl_49 stl_490" style="word-spacing:0.1121em;">，完全是另一种“怪兽”。它们也建立在已有 &nbsp;</span></div>
					<div class="stl_01" style="top:25.2366em; left:6.4164em;"><span class="stl_269 stl_49 stl_491" style="word-spacing:-0.0287em;">的网络基础上，但是使用 </span><span class="stl_132 stl_52 stl_491" style="word-spacing:-0.0287em;">Tor </span><span class="stl_269 stl_49 stl_491" style="word-spacing:-0.0287em;">客户端，带有运行在 </span><span class="stl_132 stl_52 stl_491" style="word-spacing:-0.0287em;">HTTP </span><span class="stl_269 stl_49 stl_491" style="word-spacing:-0.0287em;">之上的新协议，提供了一个 &nbsp;</span></div>
					<div class="stl_01" style="top:26.4392em; left:6.4188em;"><span class="stl_269 stl_49 stl_359">信息交换的安全隧道。这类暗网页面也是可以采集的，就像你采集其他网站一样，不 &nbsp;</span></div>
					<div class="stl_01" style="top:27.5642em; left:6.4148em;"><span class="stl_269 stl_49 stl_10">过这些内容超出了本书的范围。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.1618em; left:6.4148em;"><span class="stl_269 stl_49 stl_492">和暗网不同，深网是相对容易采集的。实际上，本书的很多工具都是在教你如何采集 &nbsp;</span></div>
					<div class="stl_01" style="top:30.2091em; left:6.4014em;"><span class="stl_269 stl_49 stl_10" style="word-spacing:0.0001em;">那些 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">Google </span><span class="stl_269 stl_49 stl_10" style="word-spacing:0.0001em;">爬虫机器人不能获取的深网信息。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.4383em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">那么，什么时候采集整个网站是有用的，而什么时候采集整个网站又是有害无益的呢？遍 &nbsp;</span></div>
					<div class="stl_01" style="top:33.6884em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">历整个网站的网络数据采集有许多好处。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.5613em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:35.6121em; left:6.7325em;"><span class="stl_269 stl_49 stl_10">生成网站地图 &nbsp;</span></div>
					<div class="stl_01" style="top:36.8495em; left:6.7325em;"><span class="stl_129 stl_49 stl_121">几年前，我曾经遇到过一个问题：一个重要的客户想对一个网站的重新设计方案进行效 &nbsp;</span></div>
					<div class="stl_01" style="top:38.0219em; left:6.7325em;"><span class="stl_129 stl_49 stl_493">果评估，但是不想让我们公司进入他们的网站内容管理系统（</span><span class="stl_132 stl_52 stl_493">CMS</span><span class="stl_129 stl_49 stl_493">），也没有一个公开 &nbsp;</span></div>
					<div class="stl_01" style="top:39.3498em; left:6.7323em;"><span class="stl_129 stl_49 stl_121">可用的网站地图。我就用爬虫采集了整个网站，收集了所有的链接，再把所有的页面整 &nbsp;</span></div>
					<div class="stl_01" style="top:40.5998em; left:6.7323em;"><span class="stl_129 stl_49 stl_121">理成他们网站实际的形式。这让我很快找出了网站上以前不曾留意的部分，并准确地计 &nbsp;</span></div>
					<div class="stl_01" style="top:41.8498em; left:6.7323em;"><span class="stl_129 stl_49 stl_10">算出需要重新设计多少网页，以及可能需要移动多少内容。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.7228em; left:5.6691em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:43.7736em; left:6.7323em;"><span class="stl_269 stl_49 stl_10">收集数据 &nbsp;</span></div>
					<div class="stl_01" style="top:45.0109em; left:6.7323em;"><span class="stl_129 stl_49 stl_241">我的另一个客户为了创建一个专业垂直领域的搜索平台，想收集一些文章（故事、博 &nbsp;</span></div>
					<div class="stl_01" style="top:46.2612em; left:6.7323em;"><span class="stl_129 stl_49 stl_120">文、新闻等）。虽然这些网站采集并不费劲，但是它们需要爬虫有足够的深度（我们有 &nbsp;</span></div>
					<div class="stl_01" style="top:47.5112em; left:6.7323em;"><span class="stl_129 stl_49 stl_127">意收集数据的网站不多）。于是我就创建了一个爬虫递归地遍历每个网站，只收集那些 &nbsp;</span></div>
					<div class="stl_01" style="top:48.7612em; left:6.7323em;"><span class="stl_129 stl_49 stl_10">网站页面上的数据。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">3</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">0 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 3</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_60.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_60.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9126em; left:6.6142em;"><span class="stl_129 stl_49 stl_135">一个常用的费时的网站采集方法就是从顶级页面开始（比如主页），然后搜索页面上的所 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1627em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">有链接，形成列表。再去采集这些链接的每一个页面，然后把在每个页面上找到的链接形 &nbsp;</span></div>
					<div class="stl_01" style="top:7.4127em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">成新的列表，重复执行下一轮采集。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.2461em; left:6.6142em;"><span class="stl_129 stl_49 stl_308" style="word-spacing:-0.0442em;">很明显，这是一个复杂度增长很快的情形。假如每个页面有 </span><span class="stl_132 stl_52 stl_308" style="word-spacing:-0.0442em;">10 </span><span class="stl_129 stl_49 stl_308" style="word-spacing:-0.0442em;">个链接，网站上有 </span><span class="stl_132 stl_52 stl_308" style="word-spacing:-0.0442em;">5 </span><span class="stl_129 stl_49 stl_308" style="word-spacing:-0.0442em;">个页 &nbsp;</span></div>
					<div class="stl_01" style="top:10.5741em; left:6.6142em;"><span class="stl_129 stl_49 stl_140">面深度（一个中等规模网站的主流深度），那么如果你要采集整个网站，一共得采集的网 &nbsp;</span></div>
					<div class="stl_01" style="top:11.7463em; left:6.6142em;"><span class="stl_129 stl_49 stl_428" style="word-spacing:-0.0227em;">页数量就是 </span><span class="stl_132 stl_52 stl_428" style="word-spacing:-0.0227em;">105</span><span class="stl_129 stl_49 stl_428" style="word-spacing:-0.0227em;">，即</span><span class="stl_132 stl_52 stl_428" style="word-spacing:-0.0227em;"> 100</span><span class="stl_132 stl_52 stl_428" style="word-spacing:0.0973em;"> 000</span><span class="stl_129 stl_49 stl_428" style="word-spacing:-0.0227em;"> 个页面。不过，虽然“</span><span class="stl_132 stl_52 stl_428" style="word-spacing:-0.0227em;">5</span><span class="stl_129 stl_49 stl_428" style="word-spacing:-0.0227em;"> 个页面深度，每页</span><span class="stl_132 stl_52 stl_428" style="word-spacing:-0.0227em;"> 10</span><span class="stl_129 stl_49 stl_428" style="word-spacing:-0.0227em;"> 个链接”是网 &nbsp;</span></div>
					<div class="stl_01" style="top:12.9963em; left:6.6142em;"><span class="stl_129 stl_49 stl_348" style="word-spacing:-0.0228em;">站的主流配置，但其实很少有网站真的有 </span><span class="stl_132 stl_52 stl_348" style="word-spacing:-0.0228em;">100</span><span class="stl_132 stl_52 stl_348" style="word-spacing:0.0982em;"> 000</span><span class="stl_129 stl_49 stl_348" style="word-spacing:-0.0228em;"> 甚至更多的页面。这是因为很大一部分 &nbsp;</span></div>
					<div class="stl_01" style="top:14.3241em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">内链都是重复的。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.2352em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">为了避免一个页面被采集两次，链接去重是非常重要的。在代码运行时，把已发现的所有 &nbsp;</span></div>
					<div class="stl_01" style="top:17.3957em; left:6.6142em;"><span class="stl_129 stl_49 stl_368" style="word-spacing:-0.0154em;">链接都放到一起，并保存在方便查询的列表里（下文示例指 </span><span class="stl_132 stl_52 stl_368" style="word-spacing:-0.0154em;">Python </span><span class="stl_129 stl_49 stl_368" style="word-spacing:-0.0154em;">的集合 </span><span class="stl_188 stl_44 stl_130" style="word-spacing:-0.0163em;">set</span><span class="stl_129 stl_49 stl_368" style="word-spacing:-0.0154em;">类型）。只 &nbsp;</span></div>
					<div class="stl_01" style="top:18.7355em; left:6.6144em;"><span class="stl_129 stl_49 stl_10">有“新”链接才会被采集，之后再从页面中搜索其他链接： &nbsp;</span></div>
					<div class="stl_01" style="top:20.6262em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">urllib.request </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:21.4592em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">bs4 </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:22.2922em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">re &nbsp;</span></div>
					<div class="stl_01" style="top:23.9582em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">pages = set() &nbsp;</span></div>
					<div class="stl_01" style="top:24.7912em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">getLinks(pageUrl): &nbsp;</span></div>
					<div class="stl_01" style="top:25.6242em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">global </span><span class="stl_116 stl_44 stl_10">pages &nbsp;</span></div>
					<div class="stl_01" style="top:26.4572em; left:9.7553em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">html = urlopen("http://en.wikipedia.org"+pageUrl) &nbsp;</span></div>
					<div class="stl_01" style="top:27.2902em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">bsObj = BeautifulSoup(html) &nbsp;</span></div>
					<div class="stl_01" style="top:28.1232em; left:9.7553em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">for </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">link </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">in </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">bsObj.findAll("a", href=re.compile("^(/wiki/)")): &nbsp;</span></div>
					<div class="stl_01" style="top:28.9562em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">'href' </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">link.attrs: &nbsp;</span></div>
					<div class="stl_01" style="top:29.7892em; left:12.5886em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">if </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">link.attrs['href'] </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">not in </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">pages: &nbsp;</span></div>
					<div class="stl_01" style="top:30.6222em; left:14.0053em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:30.6436em; left:14.7136em;"><span class="stl_256 stl_49 stl_10">我们遇到了新页面 &nbsp;</span></div>
					<div class="stl_01" style="top:31.4552em; left:14.0053em;"><span class="stl_116 stl_44 stl_10">newPage = link.attrs['href'] &nbsp;</span></div>
					<div class="stl_01" style="top:32.2882em; left:14.0053em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(newPage) &nbsp;</span></div>
					<div class="stl_01" style="top:33.1212em; left:14.0053em;"><span class="stl_116 stl_44 stl_10">pages.add(newPage) &nbsp;</span></div>
					<div class="stl_01" style="top:33.9542em; left:14.0053em;"><span class="stl_116 stl_44 stl_10">getLinks(newPage) &nbsp;</span></div>
					<div class="stl_01" style="top:35.6202em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">getLinks("") &nbsp;</span></div>
					<div class="stl_01" style="top:37.4251em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">为了全面地展示这个网络数据采集示例是如何工作的，我降低了在前面例子里使用的“只 &nbsp;</span></div>
					<div class="stl_01" style="top:38.5974em; left:6.6142em;"><span class="stl_129 stl_49 stl_494" style="word-spacing:-0.0238em;">寻找内链”的标准。不再限制爬虫采集的页面范围，只要遇到页面就查找所有以 </span><span class="stl_132 stl_52 stl_494" style="word-spacing:-0.0238em;">/wiki/ </span><span class="stl_129 stl_49 stl_494" style="word-spacing:-0.0238em;">开 &nbsp;</span></div>
					<div class="stl_01" style="top:39.9251em; left:6.6142em;"><span class="stl_129 stl_49 stl_303">头的链接，也不考虑链接是不是包含分号。（提示：词条链接不包含分号，而文档上传页 &nbsp;</span></div>
					<div class="stl_01" style="top:41.0975em; left:6.6142em;"><span class="stl_129 stl_49 stl_13" style="word-spacing:0.0501em;">面、讨论页面之类的页面 </span><span class="stl_132 stl_52 stl_13" style="word-spacing:0.0501em;">URL </span><span class="stl_129 stl_49 stl_13" style="word-spacing:0.0501em;">链接都包含分号。） &nbsp;</span></div>
					<div class="stl_01" style="top:42.9967em; left:6.6142em;"><span class="stl_129 stl_49 stl_208" style="word-spacing:-0.0273em;">一开始，用 </span><span class="stl_188 stl_44 stl_183" style="word-spacing:-0.0288em;">getLinks</span><span class="stl_129 stl_49 stl_208" style="word-spacing:-0.0273em;">处理一个空 </span><span class="stl_132 stl_52 stl_208" style="word-spacing:-0.0273em;">URL</span><span class="stl_129 stl_49 stl_208" style="word-spacing:-0.0273em;">，其实是维基百科的主页，因为在函数里空 </span><span class="stl_132 stl_52 stl_208" style="word-spacing:-0.0273em;">URL </span><span class="stl_129 stl_49 stl_208" style="word-spacing:-0.0273em;">就 &nbsp;</span></div>
					<div class="stl_01" style="top:44.3244em; left:6.6139em;"><span class="stl_129 stl_49 stl_399" style="word-spacing:-0.037em;">是 </span><span class="stl_188 stl_44 stl_495" style="word-spacing:-0.0391em;">http://en.wikipedia.org</span><span class="stl_129 stl_49 stl_399" style="word-spacing:-0.037em;">。然后，遍历首页上每个链接，并检查是否已经在全局变量 &nbsp;</span></div>
					<div class="stl_01" style="top:45.5744em; left:6.6142em;"><span class="stl_129 stl_49 stl_496" style="word-spacing:-0.0297em;">集合 </span><span class="stl_188 stl_44 stl_497" style="word-spacing:-0.0314em;">pages</span><span class="stl_129 stl_49 stl_496" style="word-spacing:-0.0297em;">里面了（已经采集的页面集合）。如果不在，就打印到屏幕上，并把链接加入 &nbsp;</span></div>
					<div class="stl_01" style="top:46.8244em; left:6.6142em;"><span class="stl_188 stl_44 stl_497" style="word-spacing:-0.0406em;">pages</span><span class="stl_129 stl_49 stl_496" style="word-spacing:-0.0385em;">集合，再用 </span><span class="stl_188 stl_44 stl_497" style="word-spacing:-0.0406em;">getLinks</span><span class="stl_129 stl_49 stl_496" style="word-spacing:-0.0385em;">递归地处理这个链接。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.0178em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">开始采集 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">31 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_61.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_61.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9172em; left:10.3937em;"><span class="stl_245 stl_20 stl_10">关于递归的警告 &nbsp;</span></div>
					<div class="stl_01" style="top:6.7884em; left:10.3937em;"><span class="stl_48 stl_49 stl_253">这个警告在软件开发书籍里很少提到，但是我觉得你应该注意：如果递归运 &nbsp;</span></div>
					<div class="stl_01" style="top:7.9554em; left:10.441em;"><span class="stl_48 stl_49 stl_10">行的次数非常多，前面的递归程序就很可能崩溃。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.7568em; left:10.3937em;"><span class="stl_51 stl_52 stl_177" style="word-spacing:-0.0394em;">Python </span><span class="stl_48 stl_49 stl_177" style="word-spacing:-0.0394em;">默认的递归限制（程序递归地自我调用次数）是 </span><span class="stl_51 stl_52 stl_177" style="word-spacing:-0.0394em;">1000 </span><span class="stl_48 stl_49 stl_177" style="word-spacing:-0.0394em;">次。因为维基 &nbsp;</span></div>
					<div class="stl_01" style="top:10.997em; left:10.441em;"><span class="stl_48 stl_49 stl_303">百科的网络链接浩如烟海，所以这个程序达到递归限制后就会停止，除非你 &nbsp;</span></div>
					<div class="stl_01" style="top:12.164em; left:10.4409em;"><span class="stl_48 stl_49 stl_10">设置一个较大的递归计数器，或用其他手段不让它停止。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.9654em; left:10.3937em;"><span class="stl_48 stl_49 stl_253" style="word-spacing:-0.0204em;">对于那些链接深度少于 </span><span class="stl_51 stl_52 stl_253" style="word-spacing:-0.0204em;">1000 </span><span class="stl_48 stl_49 stl_253" style="word-spacing:-0.0204em;">的“普通”网站，这个方法通常可以正常运行， &nbsp;</span></div>
					<div class="stl_01" style="top:15.2057em; left:10.441em;"><span class="stl_48 stl_49 stl_68">一些奇怪的异常除外。例如，我曾经遇到过一个网站，有一个在生成博文内 &nbsp;</span></div>
					<div class="stl_01" style="top:16.2988em; left:10.4409em;"><span class="stl_48 stl_49 stl_498" style="word-spacing:-0.019em;">链的规则。这个规则是“当前页面把 </span><span class="stl_51 stl_52 stl_498" style="word-spacing:-0.019em;">/blog/title_of_blog.php </span><span class="stl_48 stl_49 stl_498" style="word-spacing:-0.019em;">加到它后面，作 &nbsp;</span></div>
					<div class="stl_01" style="top:17.4658em; left:10.4409em;"><span class="stl_48 stl_49 stl_291" style="word-spacing:0.1112em;">为本页面的 </span><span class="stl_51 stl_52 stl_291" style="word-spacing:0.1112em;">URL </span><span class="stl_48 stl_49 stl_291" style="word-spacing:0.1112em;">链接”。 &nbsp;</span></div>
					<div class="stl_01" style="top:19.3404em; left:10.3937em;"><span class="stl_48 stl_49 stl_210" style="word-spacing:-0.0085em;">问题是它们可能会把 </span><span class="stl_51 stl_52 stl_210" style="word-spacing:-0.0085em;">/blog/title_of_blog.php </span><span class="stl_48 stl_49 stl_210" style="word-spacing:-0.0085em;">加到一个已经有 </span><span class="stl_51 stl_52 stl_210" style="word-spacing:-0.0085em;">/blog/ </span><span class="stl_48 stl_49 stl_210" style="word-spacing:-0.0085em;">的 </span><span class="stl_51 stl_52 stl_210" style="word-spacing:-0.0085em;">URL </span><span class="stl_48 stl_49 stl_210" style="word-spacing:-0.0085em;">上 &nbsp;</span></div>
					<div class="stl_01" style="top:20.5074em; left:10.441em;"><span class="stl_48 stl_49 stl_286" style="word-spacing:-0.0116em;">面了。因此，网站就多了一个 </span><span class="stl_51 stl_52 stl_286" style="word-spacing:-0.0116em;">/blog/</span><span class="stl_48 stl_49 stl_286" style="word-spacing:-0.0116em;">。最后，我的爬虫找到了这样的 </span><span class="stl_51 stl_52 stl_286" style="word-spacing:-0.0116em;">URL </span><span class="stl_48 stl_49 stl_286" style="word-spacing:-0.0116em;">链 &nbsp;</span></div>
					<div class="stl_01" style="top:21.6744em; left:10.4409em;"><span class="stl_48 stl_49 stl_10">接：</span><span class="stl_51 stl_52 stl_10">/blog/blog/blog/blog.../blog/title_of_blog.php</span><span class="stl_48 stl_49 stl_10">。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.6227em; left:10.3937em;"><span class="stl_48 stl_49 stl_201">后来，我增加了一些条件，对可能导致无限循环的部分进行检查，确保那些 &nbsp;</span></div>
					<div class="stl_01" style="top:24.7161em; left:10.4409em;"><span class="stl_51 stl_52 stl_10" style="word-spacing:0.0002em;">URL </span><span class="stl_48 stl_49 stl_10" style="word-spacing:0.0002em;">不是这么荒谬。但是，如果你不去检查这些问题，爬虫很快就会崩溃。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.7303em; left:5.6693em;"><span class="stl_91 stl_20 stl_71">收集整个网站数据 &nbsp;</span></div>
					<div class="stl_01" style="top:29.5957em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">当然，如果只是从一个页面跳到另一个页面，那么网络爬虫是非常无聊的。为了有效地使 &nbsp;</span></div>
					<div class="stl_01" style="top:30.8457em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">用它们，在用爬虫的时候我们需要在页面上做些事情。让我们看看如何创建一个爬虫来收 &nbsp;</span></div>
					<div class="stl_01" style="top:32.0958em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">集页面标题、正文的第一个段落，以及编辑页面的链接（如果有的话）这些信息。 &nbsp;</span></div>
					<div class="stl_01" style="top:34.0068em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">和往常一样，决定如何做好这些事情的第一步就是先观察网站上的一些页面，然后拟定一 &nbsp;</span></div>
					<div class="stl_01" style="top:35.2571em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">个采集模式。通过观察几个维基百科页面，包括词条和非词条页面，比如隐私策略之类的 &nbsp;</span></div>
					<div class="stl_01" style="top:36.5071em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">页面，就会得出下面的规则。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.3801em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:40.8805em; left:5.6695em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:38.4182em; left:6.7325em;"><span class="stl_129 stl_49 stl_499">所有的标题（所有页面上，不论是词条页面、编辑历史页面还是其他页面）都是在 &nbsp;</span></div>
					<div class="stl_01" style="top:39.6565em; left:6.7323em;"><span class="stl_188 stl_44 stl_436" style="word-spacing:-0.0707em;">h1</span><span class="stl_48 stl_49 stl_436" style="word-spacing:-0.0707em;">→ </span><span class="stl_188 stl_44 stl_436" style="word-spacing:-0.0707em;">span</span><span class="stl_129 stl_49 stl_437" style="word-spacing:-0.067em;">标签里，而且页面上只有一个 </span><span class="stl_188 stl_44 stl_436" style="word-spacing:-0.0707em;">h1</span><span class="stl_129 stl_49 stl_437" style="word-spacing:-0.067em;">标签。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.9065em; left:6.7327em;"><span class="stl_129 stl_49 stl_500" style="word-spacing:-0.1071em;">前面提到过，所有的正文文字都在 </span><span class="stl_188 stl_44 stl_501" style="word-spacing:-0.1131em;">div#bodyContent</span><span class="stl_129 stl_49 stl_500" style="word-spacing:-0.1071em;">标签里。但是，如果我们想更 &nbsp;</span></div>
					<div class="stl_01" style="top:42.1565em; left:6.7324em;"><span class="stl_129 stl_49 stl_502" style="word-spacing:-0.0789em;">进一步获取第一段文字，可能用 </span><span class="stl_188 stl_44 stl_503" style="word-spacing:-0.0833em;">div#mw-content-text</span><span class="stl_48 stl_49 stl_503" style="word-spacing:-0.0833em;">→ </span><span class="stl_188 stl_44 stl_503" style="word-spacing:-0.0833em;">p</span><span class="stl_129 stl_49 stl_502" style="word-spacing:-0.0789em;">更好（只选择第一段的标 &nbsp;</span></div>
					<div class="stl_01" style="top:43.3408em; left:6.7326em;"><span class="stl_129 stl_49 stl_504">签）。这个规则对所有页面都适用，除了文件页面（例如，</span><span class="stl_132 stl_52 stl_504">https://en.wikipedia.org/wiki/ &nbsp;</span></div>
					<div class="stl_01" style="top:44.5788em; left:6.7323em;"><span class="stl_132 stl_52 stl_505" style="word-spacing:0.0394em;">File:Orbit_of_274301_Wikipedia.svg</span><span class="stl_129 stl_49 stl_505" style="word-spacing:0.0394em;">），页面不包含内容文字（</span><span class="stl_188 stl_44 stl_137" style="word-spacing:0.0416em;">content text</span><span class="stl_129 stl_49 stl_505" style="word-spacing:0.0394em;">）的部分内容。 &nbsp;</span></div>
					<div class="stl_01" style="top:45.9065em; left:6.7322em;"><span class="stl_129 stl_49 stl_355" style="word-spacing:-0.073em;">编辑链接只出现在词条页面上。如果有编辑链接，都位于 </span><span class="stl_188 stl_44 stl_506" style="word-spacing:-0.077em;">li#ca-edit</span><span class="stl_129 stl_49 stl_355" style="word-spacing:-0.073em;">标签的 </span><span class="stl_188 stl_44 stl_506" style="word-spacing:-0.077em;">li#ca- &nbsp;</span></div>
					<div class="stl_01" style="top:47.1567em; left:6.7326em;"><span class="stl_188 stl_44 stl_507" style="word-spacing:-0.1388em;">edit</span><span class="stl_48 stl_49 stl_507" style="word-spacing:-0.1388em;">→ </span><span class="stl_188 stl_44 stl_507" style="word-spacing:-0.1388em;">span</span><span class="stl_48 stl_49 stl_507" style="word-spacing:-0.1388em;">→ </span><span class="stl_188 stl_44 stl_507" style="word-spacing:-0.1388em;">a</span><span class="stl_129 stl_49 stl_508" style="word-spacing:-0.1315em;">里面。 &nbsp;</span></div>
					<div class="stl_01" style="top:45.8805em; left:5.6689em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:49.0796em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">调整前面的代码，我们就可以建立一个爬虫和数据收集（至少是数据打印）的组合程序： &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">3</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">2 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 3</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_62.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_62.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8919em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">urllib.request </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:5.7249em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">bs4 </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:6.5579em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">re &nbsp;</span></div>
					<div class="stl_01" style="top:8.2239em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">pages = set() &nbsp;</span></div>
					<div class="stl_01" style="top:9.0569em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">getLinks(pageUrl): &nbsp;</span></div>
					<div class="stl_01" style="top:9.8899em; left:9.4011em;"><span class="stl_232 stl_44 stl_10">global </span><span class="stl_116 stl_44 stl_10">pages &nbsp;</span></div>
					<div class="stl_01" style="top:10.7229em; left:9.7553em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">html = urlopen("http://en.wikipedia.org"+pageUrl) &nbsp;</span></div>
					<div class="stl_01" style="top:11.5559em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">bsObj = BeautifulSoup(html) &nbsp;</span></div>
					<div class="stl_01" style="top:12.3889em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">try</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:13.2219em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(bsObj.h1.get_text()) &nbsp;</span></div>
					<div class="stl_01" style="top:14.0549em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(bsObj.find(id="mw-content-text").findAll("p")[0]) &nbsp;</span></div>
					<div class="stl_01" style="top:14.8879em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(bsObj.find(id="ca-edit").find("span").find("a").attrs['href']) &nbsp;</span></div>
					<div class="stl_01" style="top:15.7209em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">except AttributeError</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:16.5539em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">("</span><span class="stl_256 stl_49 stl_10">页面缺少一些属性！不过不用担心！</span><span class="stl_116 stl_44 stl_10">") &nbsp;</span></div>
					<div class="stl_01" style="top:18.2199em; left:9.7553em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">for </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">link </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">in </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">bsObj.findAll("a", href=re.compile("^(/wiki/)")): &nbsp;</span></div>
					<div class="stl_01" style="top:19.0529em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">'href' </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">link.attrs: &nbsp;</span></div>
					<div class="stl_01" style="top:19.8859em; left:12.5886em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">if </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">link.attrs['href'] </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">not in </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">pages: &nbsp;</span></div>
					<div class="stl_01" style="top:20.7189em; left:14.0053em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:20.7403em; left:14.7136em;"><span class="stl_256 stl_49 stl_10">我们遇到了新页面 &nbsp;</span></div>
					<div class="stl_01" style="top:21.5519em; left:14.0053em;"><span class="stl_116 stl_44 stl_10">newPage = link.attrs['href'] &nbsp;</span></div>
					<div class="stl_01" style="top:22.3849em; left:14.0053em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">("----------------\n"+newPage) &nbsp;</span></div>
					<div class="stl_01" style="top:23.2179em; left:14.0053em;"><span class="stl_116 stl_44 stl_10">pages.add(newPage) &nbsp;</span></div>
					<div class="stl_01" style="top:24.0509em; left:14.0053em;"><span class="stl_116 stl_44 stl_10">getLinks(newPage) &nbsp;</span></div>
					<div class="stl_01" style="top:24.8839em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">getLinks("") &nbsp;</span></div>
					<div class="stl_01" style="top:26.6788em; left:6.6142em;"><span class="stl_129 stl_49 stl_375" style="word-spacing:-0.0348em;">这个 </span><span class="stl_188 stl_44 stl_322" style="word-spacing:-0.0367em;">for</span><span class="stl_129 stl_49 stl_375" style="word-spacing:-0.0348em;">循环和原来的采集程序基本上是一样的（除了打印一条虚线来分离不同的页面内 &nbsp;</span></div>
					<div class="stl_01" style="top:27.9409em; left:6.6144em;"><span class="stl_129 stl_49 stl_509">容之外）。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.852em; left:6.6144em;"><span class="stl_129 stl_49 stl_153">因为我们不可能确保每一页上都有所有类型的数据，所以每个打印语句都是按照数据在页 &nbsp;</span></div>
					<div class="stl_01" style="top:31.0902em; left:6.6142em;"><span class="stl_129 stl_49 stl_133">面上出现的可能性从高到低排列的。也就是说，</span><span class="stl_188 stl_44 stl_510">&lt;h1&gt;</span><span class="stl_129 stl_49 stl_133">标题标签会出现在每一页上（只要能 &nbsp;</span></div>
					<div class="stl_01" style="top:32.3523em; left:6.6139em;"><span class="stl_129 stl_49 stl_140">识别，无论哪一页都有），所以我们首先试着获取它的数据。正文内容会出现在大多数页 &nbsp;</span></div>
					<div class="stl_01" style="top:33.6023em; left:6.6139em;"><span class="stl_129 stl_49 stl_459">面上（除了文件页面），因此是第二个获取的数据。“编辑”按钮只出现在标题和正文内容 &nbsp;</span></div>
					<div class="stl_01" style="top:34.8523em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">都已经获取的页面上，但不是所有这类页面上都有，所以我们最后打印这类数据。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.4769em; left:11.3386em;"><span class="stl_245 stl_20 stl_10">不同模式应对不同需求 &nbsp;</span></div>
					<div class="stl_01" style="top:39.3481em; left:11.3386em;"><span class="stl_48 stl_49 stl_253">在一个异常处理语句中包裹多行语句显然是有点儿危险的。首先，你没法儿 &nbsp;</span></div>
					<div class="stl_01" style="top:40.5147em; left:11.3858em;"><span class="stl_48 stl_49 stl_303">识别出究竟是哪行代码出现了异常。其次，如果有个页面没有前面的标题内 &nbsp;</span></div>
					<div class="stl_01" style="top:41.6818em; left:11.3858em;"><span class="stl_48 stl_49 stl_130">容，却有“编辑”按钮，那么由于前面已经发生异常，后面的“编辑”按钮 &nbsp;</span></div>
					<div class="stl_01" style="top:42.8481em; left:11.3858em;"><span class="stl_48 stl_49 stl_303">链接就不会出现。但是，这种按照网站上信息出现的可能性高低进行排序的 &nbsp;</span></div>
					<div class="stl_01" style="top:44.0147em; left:11.3858em;"><span class="stl_48 stl_49 stl_303">方法对许多网站都是可行的，偶而会丢失一点儿数据，只要保存详细的日志 &nbsp;</span></div>
					<div class="stl_01" style="top:45.1818em; left:11.3858em;"><span class="stl_48 stl_49 stl_10">就不是什么问题了。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.5288em; left:6.6142em;"><span class="stl_129 stl_49 stl_142">你可能还发现在到目前为止所有的例子中，我们都没有“收集”那些“打印”出来的数 &nbsp;</span></div>
					<div class="stl_01" style="top:48.7011em; left:6.6142em;"><span class="stl_129 stl_49 stl_296" style="word-spacing:-0.019em;">据。显然，命令行里显示的数据是很难进一步处理的。我们将在第 </span><span class="stl_132 stl_52 stl_296" style="word-spacing:-0.019em;">5 </span><span class="stl_129 stl_49 stl_296" style="word-spacing:-0.019em;">章继续介绍信息储存 &nbsp;</span></div>
					<div class="stl_01" style="top:50.0288em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">和数据库创建的内容。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.0178em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">开始采集 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">33 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_63.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_63.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.799em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">3</span></div>
					<div class="stl_01" style="top:4.7282em; left:6.4924em;"><span class="stl_197 stl_18 stl_71">.3</span><span class="stl_160 stl_20 stl_71">ꢀ通过互联网采集 &nbsp;</span></div>
					<div class="stl_01" style="top:7.2391em; left:5.6693em;"><span class="stl_129 stl_49 stl_303">每次在我做网络数据采集的演讲时，总有人故意问我：“你怎么建一个谷歌网站？”我的 &nbsp;</span></div>
					<div class="stl_01" style="top:8.4891em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">回答通常会包含两点：“首先，你得有几十亿美元能够买得起世界上最大的数据仓库，并 &nbsp;</span></div>
					<div class="stl_01" style="top:9.7391em; left:5.6693em;"><span class="stl_129 stl_49 stl_50">把它们隐秘地放在世界各地。其次，你得写一个网络爬虫。” &nbsp;</span></div>
					<div class="stl_01" style="top:11.5725em; left:5.6693em;"><span class="stl_129 stl_49 stl_511" style="word-spacing:-0.0881em;">谷歌在 </span><span class="stl_132 stl_52 stl_511" style="word-spacing:-0.0881em;">1994 </span><span class="stl_129 stl_49 stl_511" style="word-spacing:-0.0881em;">年成立的时候，就是两个斯坦福大学的毕业生用一个陈旧的服务器和一个 &nbsp;</span></div>
					<div class="stl_01" style="top:12.8228em; left:5.6693em;"><span class="stl_132 stl_52 stl_512" style="word-spacing:-0.0129em;">Python </span><span class="stl_129 stl_49 stl_512" style="word-spacing:-0.0129em;">网络爬虫。现在你应该知道了，你已经正式拥有了成为下一个科技亿万富翁需要的 &nbsp;</span></div>
					<div class="stl_01" style="top:14.1505em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">工具了！ &nbsp;</span></div>
					<div class="stl_01" style="top:16.0616em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">说句实在话，网络爬虫位于许多新式的网络技术领域彼此交叉的中心地带，而且你使用它 &nbsp;</span></div>
					<div class="stl_01" style="top:17.3119em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">们也不需要一个大型数据仓库。要实现任何跨站的数据分析，你只要构建出可以从互联网 &nbsp;</span></div>
					<div class="stl_01" style="top:18.5619em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">上无数的网页里解析和储存数据的爬虫就可以了。 &nbsp;</span></div>
					<div class="stl_01" style="top:20.473em; left:5.6693em;"><span class="stl_129 stl_49 stl_153">就像之前的例子一样，我们后面要建立的网络爬虫也是顺着链接从一个页面跳到另一个页 &nbsp;</span></div>
					<div class="stl_01" style="top:21.7233em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">面，描绘出一张网络地图。但是这一次，它们不再忽略外链，而是跟着外链跳转。我们想 &nbsp;</span></div>
					<div class="stl_01" style="top:22.9733em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">看看爬虫是不是可以记录我们浏览过的每一个页面上的信息，这将是一个新的挑战。相比 &nbsp;</span></div>
					<div class="stl_01" style="top:24.2233em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">我们之前做的单个域名采集，互联网采集要难得多——不同网站的布局迥然不同。这就意 &nbsp;</span></div>
					<div class="stl_01" style="top:25.4734em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">味着我们必须在要寻找的信息以及查找方式上都极具灵活性。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.098em; left:10.3937em;"><span class="stl_245 stl_20 stl_10">不知前方水深浅 &nbsp;</span></div>
					<div class="stl_01" style="top:29.9691em; left:10.3937em;"><span class="stl_48 stl_49 stl_253">下一节的代码可以到达互联网的任何位置。如果我们已经掌握了解决“维基 &nbsp;</span></div>
					<div class="stl_01" style="top:31.0622em; left:10.441em;"><span class="stl_48 stl_49 stl_513" style="word-spacing:-0.0565em;">百科六度分隔理论”的方法，那么完全有可能从一个像芝麻街 </span><span class="stl_51 stl_52 stl_513" style="word-spacing:-0.0565em;">http://www. &nbsp;</span></div>
					<div class="stl_01" style="top:32.2292em; left:10.4409em;"><span class="stl_51 stl_52 stl_10" style="word-spacing:-0.0009em;">sesamestreet.org/ </span><span class="stl_48 stl_49 stl_10" style="word-spacing:-0.0009em;">那样的网站，经过几跳就到达一些非主流网站。 &nbsp;</span></div>
					<div class="stl_01" style="top:34.1775em; left:10.3937em;"><span class="stl_48 stl_49 stl_253">如果读者是小朋友，请在运作代码前咨询一下爸妈。对那些带有敏感题材或 &nbsp;</span></div>
					<div class="stl_01" style="top:35.3445em; left:10.441em;"><span class="stl_48 stl_49 stl_68">有宗教限制的人来说，某些网站是禁止浏览的，阅读代码示例没问题，但是 &nbsp;</span></div>
					<div class="stl_01" style="top:36.5115em; left:10.4409em;"><span class="stl_48 stl_49 stl_10">运行代码的时候请格外小心。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.8585em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">在你写爬虫随意跟随外链跳转之前，请问自己几个问题。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.7315em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:43.2315em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:40.7696em; left:6.7325em;"><span class="stl_129 stl_49 stl_514">我要收集哪些数据？这些数据可以通过采集几个已经确定的网站（永远是最简单的做法） &nbsp;</span></div>
					<div class="stl_01" style="top:42.0196em; left:6.7325em;"><span class="stl_129 stl_49 stl_10">完成吗？或者我的爬虫需要发现那些我可能不知道的网站吗？ &nbsp;</span></div>
					<div class="stl_01" style="top:43.2697em; left:6.7325em;"><span class="stl_129 stl_49 stl_121">当我的爬虫到了某个网站，它是立即顺着下一个出站链接跳到一个新网站，还是在网站 &nbsp;</span></div>
					<div class="stl_01" style="top:44.52em; left:6.7323em;"><span class="stl_129 stl_49 stl_10">上呆一会儿，深入采集网站的内容？ &nbsp;</span></div>
					<div class="stl_01" style="top:45.7319em; left:5.6691em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:46.9819em; left:5.6691em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:45.77em; left:6.7323em;"><span class="stl_129 stl_49 stl_10">有没有我不想采集的一类网站？我对非英文网站的内容感兴趣吗？ &nbsp;</span></div>
					<div class="stl_01" style="top:47.0199em; left:6.7323em;"><span class="stl_129 stl_49 stl_121">如果我的网络爬虫引起了某个网站网管的怀疑，我如何避免法律责任？（关于这个问题 &nbsp;</span></div>
					<div class="stl_01" style="top:48.1923em; left:6.7323em;"><span class="stl_129 stl_49 stl_257" style="word-spacing:0.0909em;">的更多信息请参考附录 </span><span class="stl_132 stl_52 stl_257" style="word-spacing:0.0909em;">C</span><span class="stl_129 stl_49 stl_257" style="word-spacing:0.0909em;">。） &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">3</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">4 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 3</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_64.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_64.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:6.6142em;"><span class="stl_129 stl_49 stl_473" style="word-spacing:-0.0252em;">几个灵活的 </span><span class="stl_132 stl_52 stl_473" style="word-spacing:-0.0252em;">Python </span><span class="stl_129 stl_49 stl_473" style="word-spacing:-0.0252em;">函数组合起来就可以实现不同类型的网络爬虫，用不超过 </span><span class="stl_132 stl_52 stl_473" style="word-spacing:-0.0252em;">50 </span><span class="stl_129 stl_49 stl_473" style="word-spacing:-0.0252em;">行代码就 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1627em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">可轻松地写出来： &nbsp;</span></div>
					<div class="stl_01" style="top:8.0533em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">urllib.request </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:8.8863em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">bs4 </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:9.7193em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">re &nbsp;</span></div>
					<div class="stl_01" style="top:10.5523em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">datetime &nbsp;</span></div>
					<div class="stl_01" style="top:11.3853em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">random &nbsp;</span></div>
					<div class="stl_01" style="top:13.0513em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">pages = set() &nbsp;</span></div>
					<div class="stl_01" style="top:13.8843em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">random.seed(datetime.datetime.now()) &nbsp;</span></div>
					<div class="stl_01" style="top:15.5503em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:15.5717em; left:9.0469em;"><span class="stl_256 stl_49 stl_10">获取页面所有内链的列表 &nbsp;</span></div>
					<div class="stl_01" style="top:16.3833em; left:8.3386em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">def </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">getInternalLinks(bsObj, includeUrl): &nbsp;</span></div>
					<div class="stl_01" style="top:17.2163em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">internalLinks = [] &nbsp;</span></div>
					<div class="stl_01" style="top:18.0493em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:18.0493em; left:10.4636em;"><span class="stl_256 stl_49 stl_10">找出所有以</span><span class="stl_116 stl_44 stl_10">"/"</span><span class="stl_256 stl_49 stl_10">开头的链接 &nbsp;</span></div>
					<div class="stl_01" style="top:18.8823em; left:9.7553em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">for </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">link </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">in </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">bsObj.findAll("a", href=re.compile("^(/|.*"+includeUrl+")")): &nbsp;</span></div>
					<div class="stl_01" style="top:19.7153em; left:11.1719em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">if </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">link.attrs['href'] </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">is not </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">None: &nbsp;</span></div>
					<div class="stl_01" style="top:20.5483em; left:12.5886em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">if </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">link.attrs['href'] </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">not in </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">internalLinks: &nbsp;</span></div>
					<div class="stl_01" style="top:21.3813em; left:14.0053em;"><span class="stl_116 stl_44 stl_10">internalLinks.append(link.attrs['href']) &nbsp;</span></div>
					<div class="stl_01" style="top:22.2143em; left:9.7552em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">internalLinks &nbsp;</span></div>
					<div class="stl_01" style="top:23.8803em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:23.9017em; left:9.0469em;"><span class="stl_256 stl_49 stl_10">获取页面所有外链的列表 &nbsp;</span></div>
					<div class="stl_01" style="top:24.7133em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">getExternalLinks(bsObj, excludeUrl): &nbsp;</span></div>
					<div class="stl_01" style="top:25.5463em; left:9.7552em;"><span class="stl_116 stl_44 stl_10">externalLinks = [] &nbsp;</span></div>
					<div class="stl_01" style="top:26.3793em; left:9.7552em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:26.3793em; left:10.4636em;"><span class="stl_256 stl_49 stl_10">找出所有以</span><span class="stl_116 stl_44 stl_10">"http"</span><span class="stl_256 stl_49 stl_10">或</span><span class="stl_116 stl_44 stl_10">"www"</span><span class="stl_256 stl_49 stl_10">开头且不包含当前</span><span class="stl_116 stl_44 stl_10">URL</span><span class="stl_256 stl_49 stl_10">的链接 &nbsp;</span></div>
					<div class="stl_01" style="top:27.2123em; left:9.7552em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">link </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">bsObj.findAll("a", &nbsp;</span></div>
					<div class="stl_01" style="top:28.0453em; left:17.1928em;"><span class="stl_116 stl_44 stl_10">href=re.compile("^(http|www)((?!"+excludeUrl+").)*$")): &nbsp;</span></div>
					<div class="stl_01" style="top:28.8783em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">link.attrs['href'] </span><span class="stl_232 stl_44 stl_10">is not </span><span class="stl_116 stl_44 stl_10">None: &nbsp;</span></div>
					<div class="stl_01" style="top:29.7113em; left:12.5886em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">link.attrs['href'] </span><span class="stl_232 stl_44 stl_10">not in </span><span class="stl_116 stl_44 stl_10">externalLinks: &nbsp;</span></div>
					<div class="stl_01" style="top:30.5443em; left:14.0053em;"><span class="stl_116 stl_44 stl_10">externalLinks.append(link.attrs['href']) &nbsp;</span></div>
					<div class="stl_01" style="top:31.3773em; left:9.7552em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">externalLinks &nbsp;</span></div>
					<div class="stl_01" style="top:33.0433em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">splitAddress(address): &nbsp;</span></div>
					<div class="stl_01" style="top:33.8763em; left:9.7552em;"><span class="stl_116 stl_44 stl_10">addressParts = address.replace("http://", "").split("/") &nbsp;</span></div>
					<div class="stl_01" style="top:34.7093em; left:9.7552em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">addressParts &nbsp;</span></div>
					<div class="stl_01" style="top:36.3753em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">getRandomExternalLink(startingPage): &nbsp;</span></div>
					<div class="stl_01" style="top:37.2083em; left:9.7552em;"><span class="stl_116 stl_44 stl_10">html = urlopen(startingPage) &nbsp;</span></div>
					<div class="stl_01" style="top:38.0413em; left:9.7552em;"><span class="stl_116 stl_44 stl_10">bsObj = BeautifulSoup(html) &nbsp;</span></div>
					<div class="stl_01" style="top:38.8743em; left:9.7552em;"><span class="stl_116 stl_44 stl_10">externalLinks = getExternalLinks(bsObj, splitAddress(startingPage)[0]) &nbsp;</span></div>
					<div class="stl_01" style="top:39.7073em; left:9.7552em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">len(externalLinks) == 0: &nbsp;</span></div>
					<div class="stl_01" style="top:40.5403em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">internalLinks = getInternalLinks(startingPage) &nbsp;</span></div>
					<div class="stl_01" style="top:41.3733em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">getNextExternalLink(internalLinks[random.randint(0, &nbsp;</span></div>
					<div class="stl_01" style="top:42.2063em; left:20.3803em;"><span class="stl_116 stl_44 stl_10">len(internalLinks)-1)]) &nbsp;</span></div>
					<div class="stl_01" style="top:43.0393em; left:9.7552em;"><span class="stl_232 stl_44 stl_10">else</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:43.8868em; left:11.1719em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">return </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">externalLinks[random.randint(0, len(externalLinks)-1)] &nbsp;</span></div>
					<div class="stl_01" style="top:45.5528em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">followExternalOnly(startingSite): &nbsp;</span></div>
					<div class="stl_01" style="top:46.3858em; left:9.7553em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">externalLink = getRandomExternalLink("http://oreilly.com") &nbsp;</span></div>
					<div class="stl_01" style="top:47.2188em; left:9.7553em;"><span class="stl_232 stl_44 stl_515">print</span><span class="stl_116 stl_44 stl_515">("</span><span class="stl_256 stl_49 stl_515">随机外链是：</span><span class="stl_116 stl_44 stl_515">"+externalLink) &nbsp;</span></div>
					<div class="stl_01" style="top:48.0532em; left:9.7552em;"><span class="stl_116 stl_44 stl_10">followExternalOnly(externalLink) &nbsp;</span></div>
					<div class="stl_01" style="top:49.7192em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">followExternalOnly("http://oreilly.com") &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.0178em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">开始采集 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">35 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_66.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_66.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_129 stl_49 stl_471" style="word-spacing:-0.0312em;">上面这个程序从 </span><span class="stl_132 stl_52 stl_471" style="word-spacing:-0.0312em;">http://oreilly.com </span><span class="stl_129 stl_49 stl_471" style="word-spacing:-0.0312em;">开始，然后随机地从一个外链跳到另一个外链。输出的 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1627em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">结果如下所示： &nbsp;</span></div>
					<div class="stl_01" style="top:8.0535em; left:7.3937em;"><span class="stl_256 stl_49 stl_515">随机外链是：</span><span class="stl_116 stl_44 stl_515">http://igniteshow.com/ &nbsp;</span></div>
					<div class="stl_01" style="top:8.8865em; left:7.3937em;"><span class="stl_256 stl_49 stl_516">随机外链是：</span><span class="stl_116 stl_44 stl_516">http://feeds.feedburner.com/oreilly/news &nbsp;</span></div>
					<div class="stl_01" style="top:9.7195em; left:7.3937em;"><span class="stl_256 stl_49 stl_517">随机外链是：</span><span class="stl_116 stl_44 stl_517">http://hire.jobvite.com/CompanyJobs/Careers.aspx?c=q319 &nbsp;</span></div>
					<div class="stl_01" style="top:10.5525em; left:7.3937em;"><span class="stl_256 stl_49 stl_515">随机外链是：</span><span class="stl_116 stl_44 stl_515">http://makerfaire.com/ &nbsp;</span></div>
					<div class="stl_01" style="top:12.3522em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">网站首页上并不能保证一直能发现外链。这时为了能够发现外链，就需要用一种类似前面 &nbsp;</span></div>
					<div class="stl_01" style="top:13.6023em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">案例中使用的采集方法，即递归地深入一个网站直到找到一个外链才停止。 &nbsp;</span></div>
					<div class="stl_01" style="top:15.4357em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">图 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">3-1 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">把程序操作可视化成了一个流程图。 &nbsp;</span></div>
					<div class="stl_01" style="top:19.2483em; left:12.9575em;"><span class="stl_518 stl_519 stl_10">获取页面上 &nbsp;</span></div>
					<div class="stl_01" style="top:20.0483em; left:12.9575em;"><span class="stl_518 stl_519 stl_10">的所有外链 &nbsp;</span></div>
					<div class="stl_01" style="top:19.165em; left:20.6768em;"><span class="stl_518 stl_519 stl_10">还有 &nbsp;</span></div>
					<div class="stl_01" style="top:19.965em; left:20.0101em;"><span class="stl_518 stl_519 stl_10">外链吗？ &nbsp;</span></div>
					<div class="stl_01" style="top:19.2483em; left:23.8741em;"><span class="stl_518 stl_519 stl_10">是</span></div>
					<div class="stl_01" style="top:19.2483em; left:26.3741em;"><span class="stl_518 stl_519 stl_10">返回一个 &nbsp;</span></div>
					<div class="stl_01" style="top:20.0483em; left:26.3741em;"><span class="stl_518 stl_519 stl_10">随机外链 &nbsp;</span></div>
					<div class="stl_01" style="top:21.811em; left:21.2601em;"><span class="stl_518 stl_519 stl_10">否</span></div>
					<div class="stl_01" style="top:23.6023em; left:19.4781em;"><span class="stl_518 stl_519 stl_10">进入页面上 &nbsp;</span></div>
					<div class="stl_01" style="top:24.4023em; left:19.4781em;"><span class="stl_518 stl_519 stl_10">的一个内链 &nbsp;</span></div>
					<div class="stl_01 stl_382" style="top:27.1816em; left:5.6693em;"><span class="stl_383 stl_20 stl_10" style="word-spacing:0em;">图 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:0em;">3-1</span><span class="stl_383 stl_20 stl_10" style="word-spacing:0em;">：从互联网上不同的网站采集外链的程序流程图 &nbsp;</span></div>
					<div class="stl_01" style="top:29.8265em; left:10.3937em;"><span class="stl_245 stl_20 stl_10">不要把示例程序放进产品代码 &nbsp;</span></div>
					<div class="stl_01" style="top:31.6977em; left:10.3937em;"><span class="stl_48 stl_49 stl_253">我想把代码写得更完整，但是写书的时候空间和可读性非常重要，所以书中 &nbsp;</span></div>
					<div class="stl_01" style="top:32.8647em; left:10.441em;"><span class="stl_48 stl_49 stl_10">的示例程序没有包含真实产品代码中必须有的检查和异常处理。 &nbsp;</span></div>
					<div class="stl_01" style="top:34.7397em; left:10.3937em;"><span class="stl_48 stl_49 stl_201">例如，如果爬虫遇到一个网站里面一个外链都没有（虽然不太可能，但是如 &nbsp;</span></div>
					<div class="stl_01" style="top:35.9067em; left:10.441em;"><span class="stl_48 stl_49 stl_135">果程序运行的时候够长总会遇到这类情况），这时程序就会一直在这个网站 &nbsp;</span></div>
					<div class="stl_01" style="top:36.9993em; left:10.441em;"><span class="stl_48 stl_49 stl_10" style="word-spacing:0em;">运行跳不出去，直到递归到达 </span><span class="stl_51 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_48 stl_49 stl_10" style="word-spacing:0em;">的限制为止。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.9479em; left:10.3937em;"><span class="stl_48 stl_49 stl_252">在以任何正式的目的运行代码之前，请确认你已经在可能出现问题的地方都 &nbsp;</span></div>
					<div class="stl_01" style="top:40.1153em; left:10.441em;"><span class="stl_48 stl_49 stl_10">放置了检查语句。 &nbsp;</span></div>
					<div class="stl_01" style="top:42.4623em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">把任务分解成像“获取页面上所有外链”这样的小函数是不错的做法，以后可以方便地修 &nbsp;</span></div>
					<div class="stl_01" style="top:43.7123em; left:5.6693em;"><span class="stl_129 stl_49 stl_157">改代码以满足另一个采集任务的需求。例如，如果我们的目标是采集一个网站所有的外 &nbsp;</span></div>
					<div class="stl_01" style="top:44.9624em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">链，并且记录每一个外链，我们可以增加下面的函数： &nbsp;</span></div>
					<div class="stl_01" style="top:46.8532em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;"># </span><span class="stl_256 stl_49 stl_10" style="word-spacing:0em;">收集网站上发现的所有外链列表 &nbsp;</span></div>
					<div class="stl_01" style="top:47.6862em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">allExtLinks = set() &nbsp;</span></div>
					<div class="stl_01" style="top:48.5192em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">allIntLinks = set() &nbsp;</span></div>
					<div class="stl_01" style="top:49.3522em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">def </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">getAllExternalLinks(siteUrl): &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">3</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">6 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 3</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_69.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_69.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8921em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">html = urlopen(siteUrl) &nbsp;</span></div>
					<div class="stl_01" style="top:5.7251em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">bsObj = BeautifulSoup(html) &nbsp;</span></div>
					<div class="stl_01" style="top:6.5581em; left:9.7553em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">internalLinks = getInternalLinks(bsObj,splitAddress(siteUrl)[0]) &nbsp;</span></div>
					<div class="stl_01" style="top:7.3911em; left:9.7553em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">externalLinks = getExternalLinks(bsObj,splitAddress(siteUrl)[0]) &nbsp;</span></div>
					<div class="stl_01" style="top:8.2241em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">link </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">externalLinks: &nbsp;</span></div>
					<div class="stl_01" style="top:9.0571em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">link </span><span class="stl_232 stl_44 stl_10">not in </span><span class="stl_116 stl_44 stl_10">allExtLinks: &nbsp;</span></div>
					<div class="stl_01" style="top:9.8901em; left:12.5886em;"><span class="stl_116 stl_44 stl_10">allExtLinks.add(link) &nbsp;</span></div>
					<div class="stl_01" style="top:10.7231em; left:12.5886em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(link) &nbsp;</span></div>
					<div class="stl_01" style="top:11.5561em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">link </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">internalLinks: &nbsp;</span></div>
					<div class="stl_01" style="top:12.3891em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">link </span><span class="stl_232 stl_44 stl_10">not in </span><span class="stl_116 stl_44 stl_10">allIntLinks: &nbsp;</span></div>
					<div class="stl_01" style="top:13.2221em; left:12.5886em;"><span class="stl_232 stl_44 stl_432">print</span><span class="stl_116 stl_44 stl_432">("</span><span class="stl_256 stl_49 stl_432">即将获取链接的</span><span class="stl_116 stl_44 stl_432">URL</span><span class="stl_256 stl_49 stl_432">是：</span><span class="stl_116 stl_44 stl_432">"+link) &nbsp;</span></div>
					<div class="stl_01" style="top:14.0586em; left:12.5886em;"><span class="stl_116 stl_44 stl_10">allIntLinks.add(link) &nbsp;</span></div>
					<div class="stl_01" style="top:14.8914em; left:12.5886em;"><span class="stl_116 stl_44 stl_10">getAllExternalLinks(link) &nbsp;</span></div>
					<div class="stl_01" style="top:16.5574em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">getAllExternalLinks("http://oreilly.com") &nbsp;</span></div>
					<div class="stl_01" style="top:18.3575em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">这段代码可以看出两个循环——一个是收集内链，一个是收集外链——然后彼此连接起来 &nbsp;</span></div>
					<div class="stl_01" style="top:19.5298em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">工作，程序的流程如图 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">3-2 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">所示。 &nbsp;</span></div>
					<div class="stl_01" style="top:22.5402em; left:14.405em;"><span class="stl_520 stl_519 stl_521" style="word-spacing:0.5633em;">获</span><span class="stl_522 stl_523 stl_524" style="word-spacing:0.5007em;">Get</span><span class="stl_520 stl_519 stl_521" style="word-spacing:0.5633em;">取</span><span class="stl_522 stl_523 stl_524" style="word-spacing:0.5007em;">al</span><span class="stl_520 stl_519 stl_521" style="word-spacing:0.5633em;">页</span><span class="stl_522 stl_523 stl_524" style="word-spacing:0.5007em;">l ex</span><span class="stl_520 stl_519 stl_521" style="word-spacing:0.5633em;">面</span><span class="stl_522 stl_523 stl_524" style="word-spacing:0.5007em;">ter</span><span class="stl_520 stl_519 stl_521" style="word-spacing:0.5633em;">上</span><span class="stl_522 stl_523 stl_524" style="word-spacing:0.5007em;">nal &nbsp;</span></div>
					<div class="stl_01" style="top:23.3333em; left:14.2074em;"><span class="stl_522 stl_523 stl_525" style="word-spacing:0.4859em;">li</span><span class="stl_520 stl_519 stl_526" style="word-spacing:0.5467em;">的</span><span class="stl_522 stl_523 stl_525" style="word-spacing:0.4859em;">nks</span><span class="stl_520 stl_519 stl_526" style="word-spacing:0.5467em;">所</span><span class="stl_522 stl_523 stl_525" style="word-spacing:0.4859em;">on</span><span class="stl_520 stl_519 stl_526" style="word-spacing:0.5467em;">有</span><span class="stl_522 stl_523 stl_525" style="word-spacing:0.4859em;">th</span><span class="stl_520 stl_519 stl_526" style="word-spacing:0.5467em;">外</span><span class="stl_522 stl_523 stl_525" style="word-spacing:0.4859em;">e p</span><span class="stl_520 stl_519 stl_526" style="word-spacing:0.5467em;">链</span><span class="stl_522 stl_523 stl_525" style="word-spacing:0.4859em;">age &nbsp;</span></div>
					<div class="stl_01" style="top:22.5735em; left:21.5069em;"><span class="stl_520 stl_519 stl_527">列</span><span class="stl_522 stl_523 stl_528">Al</span><span class="stl_520 stl_519 stl_527">表</span><span class="stl_522 stl_523 stl_528">rea</span><span class="stl_520 stl_519 stl_527">已</span><span class="stl_522 stl_523 stl_528">dy &nbsp;</span></div>
					<div class="stl_01" style="top:22.4627em; left:25.3676em;"><span class="stl_522 stl_523 stl_529">Y</span><span class="stl_520 stl_519 stl_530">是</span><span class="stl_522 stl_523 stl_529">es &nbsp;</span></div>
					<div class="stl_01" style="top:22.9167em; left:27.5996em;"><span class="stl_520 stl_519 stl_531" style="word-spacing:0.7217em;">不</span><span class="stl_522 stl_523 stl_532" style="word-spacing:0.6415em;">D</span><span class="stl_520 stl_519 stl_531" style="word-spacing:0.7217em;">加</span><span class="stl_522 stl_523 stl_532" style="word-spacing:0.6415em;">on</span><span class="stl_520 stl_519 stl_531" style="word-spacing:0.7217em;">入</span><span class="stl_522 stl_523 stl_532" style="word-spacing:0.6415em;">’t a</span><span class="stl_520 stl_519 stl_531" style="word-spacing:0.7217em;">列</span><span class="stl_522 stl_523 stl_532" style="word-spacing:0.6415em;">dd</span><span class="stl_520 stl_519 stl_531" style="word-spacing:0.7217em;">表</span><span class="stl_522 stl_523 stl_532" style="word-spacing:0.6415em;">! &nbsp;</span></div>
					<div class="stl_01" style="top:23.3735em; left:21.5069em;"><span class="stl_520 stl_519 stl_533">经</span><span class="stl_522 stl_523 stl_534">ha</span><span class="stl_520 stl_519 stl_533">包</span><span class="stl_522 stl_523 stl_534">ve</span><span class="stl_520 stl_519 stl_533">含</span><span class="stl_522 stl_523 stl_534">it?</span><span class="stl_520 stl_519 stl_533">？ &nbsp;</span></div>
					<div class="stl_01" style="top:25.1293em; left:22.9211em;"><span class="stl_522 stl_523 stl_535">N</span><span class="stl_520 stl_519 stl_536">否</span><span class="stl_522 stl_523 stl_535">o &nbsp;</span></div>
					<div class="stl_01" style="top:27.1873em; left:20.8106em;"><span class="stl_522 stl_523 stl_537" style="word-spacing:0.3649em;">Ad</span><span class="stl_520 stl_519 stl_538" style="word-spacing:0.4105em;">加</span><span class="stl_522 stl_523 stl_537" style="word-spacing:0.3649em;">d it</span><span class="stl_520 stl_519 stl_538" style="word-spacing:0.4105em;">入</span><span class="stl_522 stl_523 stl_537" style="word-spacing:0.3649em;">to</span><span class="stl_520 stl_519 stl_538" style="word-spacing:0.4105em;">列</span><span class="stl_522 stl_523 stl_537" style="word-spacing:0.3649em;">the</span><span class="stl_520 stl_519 stl_538" style="word-spacing:0.4105em;">表</span><span class="stl_522 stl_523 stl_537" style="word-spacing:0.3649em;">list! &nbsp;</span></div>
					<div class="stl_01" style="top:31.0822em; left:14.4056em;"><span class="stl_520 stl_519 stl_539" style="word-spacing:0.6135em;">获</span><span class="stl_522 stl_523 stl_540" style="word-spacing:0.5453em;">Ge</span><span class="stl_520 stl_519 stl_539" style="word-spacing:0.6135em;">取</span><span class="stl_522 stl_523 stl_540" style="word-spacing:0.5453em;">t al</span><span class="stl_520 stl_519 stl_539" style="word-spacing:0.6135em;">页</span><span class="stl_522 stl_523 stl_540" style="word-spacing:0.5453em;">l in</span><span class="stl_520 stl_519 stl_539" style="word-spacing:0.6135em;">面</span><span class="stl_522 stl_523 stl_540" style="word-spacing:0.5453em;">ter</span><span class="stl_520 stl_519 stl_539" style="word-spacing:0.6135em;">上</span><span class="stl_522 stl_523 stl_540" style="word-spacing:0.5453em;">nal &nbsp;</span></div>
					<div class="stl_01" style="top:31.8745em; left:14.2074em;"><span class="stl_522 stl_523 stl_525" style="word-spacing:0.4859em;">li</span><span class="stl_520 stl_519 stl_526" style="word-spacing:0.5467em;">的</span><span class="stl_522 stl_523 stl_525" style="word-spacing:0.4859em;">nks</span><span class="stl_520 stl_519 stl_526" style="word-spacing:0.5467em;">所</span><span class="stl_522 stl_523 stl_525" style="word-spacing:0.4859em;">on</span><span class="stl_520 stl_519 stl_526" style="word-spacing:0.5467em;">有</span><span class="stl_522 stl_523 stl_525" style="word-spacing:0.4859em;">th</span><span class="stl_520 stl_519 stl_526" style="word-spacing:0.5467em;">内</span><span class="stl_522 stl_523 stl_525" style="word-spacing:0.4859em;">e p</span><span class="stl_520 stl_519 stl_526" style="word-spacing:0.5467em;">链</span><span class="stl_522 stl_523 stl_525" style="word-spacing:0.4859em;">age &nbsp;</span></div>
					<div class="stl_01" style="top:31.1295em; left:21.5076em;"><span class="stl_520 stl_519 stl_527">列</span><span class="stl_522 stl_523 stl_541">Al</span><span class="stl_520 stl_519 stl_527">表</span><span class="stl_522 stl_523 stl_541">rea</span><span class="stl_520 stl_519 stl_527">已</span><span class="stl_522 stl_523 stl_541">dy &nbsp;</span></div>
					<div class="stl_01" style="top:31.9295em; left:21.5076em;"><span class="stl_520 stl_519 stl_533">经</span><span class="stl_522 stl_523 stl_534">ha</span><span class="stl_520 stl_519 stl_533">包</span><span class="stl_522 stl_523 stl_534">ve</span><span class="stl_520 stl_519 stl_533">含</span><span class="stl_522 stl_523 stl_534">it?</span><span class="stl_520 stl_519 stl_533">？ &nbsp;</span></div>
					<div class="stl_01" style="top:30.9627em; left:25.368em;"><span class="stl_522 stl_523 stl_529">Y</span><span class="stl_520 stl_519 stl_530">是</span><span class="stl_522 stl_523 stl_529">es &nbsp;</span></div>
					<div class="stl_01" style="top:31.4578em; left:27.8896em;"><span class="stl_522 stl_523 stl_542">Do</span><span class="stl_520 stl_519 stl_543">不</span><span class="stl_522 stl_523 stl_542">no</span><span class="stl_520 stl_519 stl_543">处</span><span class="stl_522 stl_523 stl_542">th</span><span class="stl_520 stl_519 stl_543">理</span><span class="stl_522 stl_523 stl_542">ing! &nbsp;</span></div>
					<div class="stl_01" style="top:33.6013em; left:22.9215em;"><span class="stl_522 stl_523 stl_535">N</span><span class="stl_520 stl_519 stl_536">否</span><span class="stl_522 stl_523 stl_535">o &nbsp;</span></div>
					<div class="stl_01" style="top:35.3951em; left:20.6662em;"><span class="stl_522 stl_523 stl_544" style="word-spacing:0.3863em;">Add</span><span class="stl_520 stl_519 stl_545" style="word-spacing:0.4346em;">加</span><span class="stl_522 stl_523 stl_544" style="word-spacing:0.3863em;">it,</span><span class="stl_520 stl_519 stl_545" style="word-spacing:0.4346em;">入</span><span class="stl_522 stl_523 stl_544" style="word-spacing:0.3863em;">an</span><span class="stl_520 stl_519 stl_545" style="word-spacing:0.4346em;">列</span><span class="stl_522 stl_523 stl_544" style="word-spacing:0.3863em;">d r</span><span class="stl_520 stl_519 stl_545" style="word-spacing:0.4346em;">表</span><span class="stl_522 stl_523 stl_544" style="word-spacing:0.3863em;">epeat &nbsp;</span></div>
					<div class="stl_01" style="top:36.1451em; left:21.3869em;"><span class="stl_520 stl_519 stl_546">重</span><span class="stl_522 stl_523 stl_547">the</span><span class="stl_520 stl_519 stl_546">复</span><span class="stl_522 stl_523 stl_547">pr</span><span class="stl_520 stl_519 stl_546">运</span><span class="stl_522 stl_523 stl_547">oce</span><span class="stl_520 stl_519 stl_546">行</span><span class="stl_522 stl_523 stl_547">ss &nbsp;</span></div>
					<div class="stl_01 stl_382" style="top:38.8589em; left:6.6142em;"><span class="stl_383 stl_20 stl_10" style="word-spacing:0em;">图 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:0em;">3-2</span><span class="stl_383 stl_20 stl_10" style="word-spacing:0em;">：收集内链和外链的程序流程图 &nbsp;</span></div>
					<div class="stl_01" style="top:40.7905em; left:6.6142em;"><span class="stl_129 stl_49 stl_153">写代码之前拟个大纲或画个流程图是很好的编程习惯，这么做不仅可以为你后期处理节省 &nbsp;</span></div>
					<div class="stl_01" style="top:42.0405em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">很多时间，更重要的是可以防止自己在爬虫变得越来越复杂时乱了分寸。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.0178em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">开始采集 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">37 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_70.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_70.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:5.6501em; left:18.0515em;"><span class="stl_268 stl_20 stl_10">处理网页重定向 &nbsp;</span></div>
					<div class="stl_01" style="top:7.1788em; left:6.403em;"><span class="stl_269 stl_49 stl_10">重定向（</span><span class="stl_132 stl_52 stl_10">redirect</span><span class="stl_269 stl_49 stl_10">）允许一个网页在不同的域名下显示。重定向有两种形式： &nbsp;</span></div>
					<div class="stl_01" style="top:8.8159em; left:6.403em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:10.066em; left:6.403em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:8.7764em; left:7.4662em;"><span class="stl_269 stl_49 stl_10" style="word-spacing:0em;">服务器端重定向，网页在加载之前先改变了 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">URL</span><span class="stl_269 stl_49 stl_10" style="word-spacing:0em;">； &nbsp;</span></div>
					<div class="stl_01" style="top:10.0264em; left:7.4662em;"><span class="stl_269 stl_49 stl_548" style="word-spacing:0.0211em;">客户端重定向，有时你会在网页上看到“</span><span class="stl_132 stl_52 stl_548" style="word-spacing:0.0211em;">10 </span><span class="stl_269 stl_49 stl_548" style="word-spacing:0.0211em;">秒钟后页面自动跳转到……”之类的消息， &nbsp;</span></div>
					<div class="stl_01" style="top:11.2764em; left:7.4662em;"><span class="stl_269 stl_49 stl_10" style="word-spacing:0.0001em;">表示在跳转到新 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">URL </span><span class="stl_269 stl_49 stl_10" style="word-spacing:0.0001em;">之前网页需要加载内容。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.2652em; left:6.4029em;"><span class="stl_269 stl_49 stl_549">本节处理的是服务器端重定向的内容。更多关于客户端重定向的细节，通常用 &nbsp;</span></div>
					<div class="stl_01" style="top:14.3125em; left:6.4037em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">JavaScript </span><span class="stl_269 stl_49 stl_10" style="word-spacing:0.0001em;">或 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">HTML </span><span class="stl_269 stl_49 stl_10" style="word-spacing:0.0001em;">来实现，请看第 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">10 </span><span class="stl_269 stl_49 stl_10" style="word-spacing:0.0001em;">章。 &nbsp;</span></div>
					<div class="stl_01" style="top:15.8732em; left:6.4037em;"><span class="stl_269 stl_49 stl_550" style="word-spacing:-0.0279em;">服务器端重定向，你通常不用担心。如果你在用 </span><span class="stl_132 stl_52 stl_550" style="word-spacing:-0.0279em;">Python</span><span class="stl_132 stl_52 stl_550" style="word-spacing:0.0931em;"> 3.x</span><span class="stl_269 stl_49 stl_550" style="word-spacing:-0.0279em;"> 版本的</span><span class="stl_116 stl_44 stl_247" style="word-spacing:-0.0265em;"> urllib</span><span class="stl_269 stl_49 stl_550" style="word-spacing:-0.0237em;">库，它会自 &nbsp;</span></div>
					<div class="stl_01" style="top:17.035em; left:6.4025em;"><span class="stl_269 stl_49 stl_121" style="word-spacing:-0.0017em;">动处理重定向。不过要注意，有时候你要采集的页面的 </span><span class="stl_132 stl_52 stl_121" style="word-spacing:-0.0017em;">URL </span><span class="stl_269 stl_49 stl_121" style="word-spacing:-0.0017em;">可能并不是你当前所在页 &nbsp;</span></div>
					<div class="stl_01" style="top:18.16em; left:6.4009em;"><span class="stl_269 stl_49 stl_10">面的 </span><span class="stl_132 stl_52 stl_10">URL</span><span class="stl_269 stl_49 stl_10">。 &nbsp;</span></div>
					<div class="stl_01" style="top:20.8664em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">3</span></div>
					<div class="stl_01" style="top:20.7955em; left:6.4924em;"><span class="stl_197 stl_18 stl_71">.4</span><span class="stl_160 stl_20 stl_71">ꢀ用</span><span class="stl_197 stl_18 stl_71">Scrapy</span><span class="stl_160 stl_20 stl_71">采集 &nbsp;</span></div>
					<div class="stl_01" style="top:23.3065em; left:5.6693em;"><span class="stl_129 stl_49 stl_177">写网络爬虫的挑战之一是你经常需要不断地重复一些简单任务：找出页面上的所有链接， &nbsp;</span></div>
					<div class="stl_01" style="top:24.5565em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">区分内链与外链，跳转到新的页面。掌握这些基本模式非常有用，从零开始编写也完全可 &nbsp;</span></div>
					<div class="stl_01" style="top:25.8065em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">行，不过有几个工具可以帮你自动处理这些细节。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.6399em; left:5.6693em;"><span class="stl_132 stl_52 stl_551" style="word-spacing:-0.0795em;">Scrapy </span><span class="stl_129 stl_49 stl_551" style="word-spacing:-0.0795em;">就是一个帮你大幅度降低网页链接查找和识别工作复杂度的 </span><span class="stl_132 stl_52 stl_551" style="word-spacing:-0.0795em;">Python </span><span class="stl_129 stl_49 stl_551" style="word-spacing:-0.0795em;">库，它可以 &nbsp;</span></div>
					<div class="stl_01" style="top:28.8899em; left:5.6693em;"><span class="stl_129 stl_49 stl_552" style="word-spacing:-0.0512em;">让你轻松地采集一个或多个域名的信息。不过目前 </span><span class="stl_132 stl_52 stl_552" style="word-spacing:-0.0512em;">Scrapy</span><span class="stl_129 stl_49 stl_552" style="word-spacing:-0.0512em;"> 仅支持</span><span class="stl_132 stl_52 stl_552" style="word-spacing:-0.0512em;"> Python</span><span class="stl_132 stl_52 stl_552" style="word-spacing:0.0678em;"> 2.7</span><span class="stl_129 stl_49 stl_552" style="word-spacing:0.0678em;">，还不支持 &nbsp;</span></div>
					<div class="stl_01" style="top:30.14em; left:5.6693em;"><span class="stl_132 stl_52 stl_205" style="word-spacing:0em;">Python 3.x</span><span class="stl_129 stl_49 stl_205" style="word-spacing:0em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.051em; left:5.6693em;"><span class="stl_129 stl_49 stl_171" style="word-spacing:-0.0128em;">当然在一台机器上同时使用多个版本的 </span><span class="stl_132 stl_52 stl_171" style="word-spacing:-0.0128em;">Python</span><span class="stl_129 stl_49 stl_171" style="word-spacing:-0.0128em;"> 是没有问题的（比如，同时安装</span><span class="stl_132 stl_52 stl_171" style="word-spacing:-0.0128em;"> Python</span><span class="stl_132 stl_52 stl_171" style="word-spacing:0.1092em;"> 2.7 &nbsp;</span></div>
					<div class="stl_01" style="top:33.3016em; left:5.6693em;"><span class="stl_129 stl_49 stl_553" style="word-spacing:0.0238em;">和 </span><span class="stl_132 stl_52 stl_553" style="word-spacing:0.0238em;">Python 3.4</span><span class="stl_129 stl_49 stl_553" style="word-spacing:0.0238em;">）。如果你既想用 </span><span class="stl_132 stl_52 stl_553" style="word-spacing:0.0238em;">Scrapy </span><span class="stl_129 stl_49 stl_553" style="word-spacing:0.0238em;">做项目，又想用 </span><span class="stl_132 stl_52 stl_553" style="word-spacing:0.0238em;">Python 3.4 </span><span class="stl_129 stl_49 stl_553" style="word-spacing:0.0238em;">写程序，完全没问题。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.2127em; left:5.6693em;"><span class="stl_132 stl_52 stl_23" style="word-spacing:0.0178em;">Scrapy </span><span class="stl_129 stl_49 stl_23" style="word-spacing:0.0178em;">网站提供了最新版工具的下载页面（</span><span class="stl_132 stl_52 stl_23" style="word-spacing:0.0178em;">http://scrapy.org/download/</span><span class="stl_129 stl_49 stl_23" style="word-spacing:0.0178em;">），也可以用 </span><span class="stl_132 stl_52 stl_23" style="word-spacing:0.0178em;">pip </span><span class="stl_129 stl_49 stl_23" style="word-spacing:0.0178em;">等第 &nbsp;</span></div>
					<div class="stl_01" style="top:36.4628em; left:5.6693em;"><span class="stl_129 stl_49 stl_447" style="word-spacing:-0.0045em;">三方安装包安装。记住 </span><span class="stl_132 stl_52 stl_447" style="word-spacing:-0.0045em;">Python </span><span class="stl_129 stl_49 stl_447" style="word-spacing:-0.0045em;">的版本必须是 </span><span class="stl_132 stl_52 stl_447" style="word-spacing:-0.0045em;">2.7</span><span class="stl_129 stl_49 stl_447" style="word-spacing:-0.0045em;">（</span><span class="stl_132 stl_52 stl_447" style="word-spacing:-0.0045em;">2.6 </span><span class="stl_129 stl_49 stl_447" style="word-spacing:-0.0045em;">和 </span><span class="stl_132 stl_52 stl_447" style="word-spacing:-0.0045em;">3.x </span><span class="stl_129 stl_49 stl_447" style="word-spacing:-0.0045em;">都不兼容），而且运行所有使 &nbsp;</span></div>
					<div class="stl_01" style="top:37.713em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">用 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Scrapy </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">的程序也必须在 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python 2.7 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">环境下。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.6241em; left:5.6693em;"><span class="stl_129 stl_49 stl_312" style="word-spacing:-0.0039em;">虽然写 </span><span class="stl_132 stl_52 stl_312" style="word-spacing:-0.0039em;">Scrapy </span><span class="stl_129 stl_49 stl_312" style="word-spacing:-0.0039em;">爬虫很简单，但完成一个爬虫还是需要一些设置。如果在当前目录下创建新 &nbsp;</span></div>
					<div class="stl_01" style="top:40.8745em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Scrapy </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">项目，就执行下面的代码： &nbsp;</span></div>
					<div class="stl_01" style="top:42.843em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:42.843em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">scrapy startproject wikiSpider &nbsp;</span></div>
					<div class="stl_01" style="top:44.552em; left:5.6693em;"><span class="stl_188 stl_44 stl_300" style="word-spacing:-0.0065em;">wikiSpider</span><span class="stl_129 stl_49 stl_179" style="word-spacing:-0.0062em;">是新项目的名称。在当前目录中会新建一个名称也是 </span><span class="stl_132 stl_52 stl_179" style="word-spacing:-0.0062em;">wikiSpider </span><span class="stl_129 stl_49 stl_179" style="word-spacing:-0.0062em;">的项目文件夹。 &nbsp;</span></div>
					<div class="stl_01" style="top:45.8918em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">文件夹的目录结构如下所示： &nbsp;</span></div>
					<div class="stl_01" style="top:47.7648em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:47.7648em; left:6.7325em;"><span class="stl_132 stl_52 stl_10">scrapy.cfg &nbsp;</span></div>
					<div class="stl_01" style="top:49.0656em; left:6.8568em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:49.0148em; left:8.0443em;"><span class="stl_132 stl_52 stl_10">wikiSpider &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">3</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">8 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 3</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_71.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_71.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9253em; left:8.3954em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:6.1753em; left:8.3954em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:7.4254em; left:8.3954em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:8.6754em; left:8.3954em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:9.9255em; left:8.3954em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:11.1755em; left:8.3954em;"><span class="stl_269 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:4.8745em; left:9.5829em;"><span class="stl_132 stl_52 stl_73">__init.py__ &nbsp;</span></div>
					<div class="stl_01" style="top:6.1245em; left:9.5829em;"><span class="stl_132 stl_52 stl_73">items.py &nbsp;</span></div>
					<div class="stl_01" style="top:7.3746em; left:9.5829em;"><span class="stl_132 stl_52 stl_73">pipelines.py &nbsp;</span></div>
					<div class="stl_01" style="top:8.6246em; left:9.5829em;"><span class="stl_132 stl_52 stl_10">settings.py &nbsp;</span></div>
					<div class="stl_01" style="top:9.8747em; left:9.5829em;"><span class="stl_132 stl_52 stl_10">spiders &nbsp;</span></div>
					<div class="stl_01" style="top:11.1247em; left:9.5829em;"><span class="stl_132 stl_52 stl_73">__init.py__ &nbsp;</span></div>
					<div class="stl_01" style="top:12.9961em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0221em;">为 了</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0221em;"> 创</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0221em;"> 建</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0221em;"> 一</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0221em;"> 个</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0221em;"> 爬</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0221em;"> 虫，</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0221em;"> 我</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0221em;"> 们</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0221em;"> 需</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0221em;"> 要</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0221em;"> 在</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0565em;"> wikiSpider/wikiSpider/spiders/ </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0565em;">文</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0221em;"> 件</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0221em;"> 夹</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0221em;"> 里</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0221em;"> 增</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0221em;"> 加</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0221em;"> 一</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0221em;"> 个 &nbsp;</span></div>
					<div class="stl_01" style="top:14.2343em; left:6.6142em;"><span class="stl_132 stl_52 stl_554" style="word-spacing:-0.0111em;">articleSpider.py </span><span class="stl_129 stl_49 stl_554" style="word-spacing:-0.0111em;">文件。另外，在 </span><span class="stl_132 stl_52 stl_554" style="word-spacing:-0.0111em;">items.py </span><span class="stl_129 stl_49 stl_554" style="word-spacing:-0.0111em;">文件中，我们需要定义一个 </span><span class="stl_188 stl_44 stl_270" style="word-spacing:-0.0117em;">Article</span><span class="stl_129 stl_49 stl_554" style="word-spacing:-0.0111em;">类。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.1574em; left:6.6143em;"><span class="stl_129 stl_49 stl_555" style="word-spacing:-0.0385em;">你的 </span><span class="stl_132 stl_52 stl_555" style="word-spacing:-0.0385em;">items.py </span><span class="stl_129 stl_49 stl_555" style="word-spacing:-0.0385em;">文件应该像下面这样（</span><span class="stl_132 stl_52 stl_555" style="word-spacing:-0.0385em;">Scrapy </span><span class="stl_129 stl_49 stl_555" style="word-spacing:-0.0385em;">自动生成的注释内容可以保留，当然删除也 &nbsp;</span></div>
					<div class="stl_01" style="top:17.4852em; left:6.6143em;"><span class="stl_129 stl_49 stl_556">可以）： &nbsp;</span></div>
					<div class="stl_01" style="top:19.3763em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:20.2093em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:21.0423em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:21.8753em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:22.7083em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:19.3763em; left:9.0469em;"><span class="stl_116 stl_44 stl_10">-*- coding: utf-8 -*- &nbsp;</span></div>
					<div class="stl_01" style="top:20.2093em; left:9.0469em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Define here the models for your scraped items &nbsp;</span></div>
					<div class="stl_01" style="top:21.8753em; left:9.0469em;"><span class="stl_116 stl_44 stl_10">See documentation in: &nbsp;</span></div>
					<div class="stl_01" style="top:22.7083em; left:9.0469em;"><span class="stl_116 stl_44 stl_10">http://doc.scrapy.org/en/latest/topics/items.html &nbsp;</span></div>
					<div class="stl_01" style="top:24.3743em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">scrapy </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">Item, Field &nbsp;</span></div>
					<div class="stl_01" style="top:26.0403em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">class </span><span class="stl_116 stl_44 stl_10">Article(Item): &nbsp;</span></div>
					<div class="stl_01" style="top:26.8733em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:27.7063em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:26.8733em; left:10.4636em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">define the fields for your item here like: &nbsp;</span></div>
					<div class="stl_01" style="top:27.7063em; left:10.4636em;"><span class="stl_116 stl_44 stl_10">name = scrapy.Field() &nbsp;</span></div>
					<div class="stl_01" style="top:28.5393em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">title = Field() &nbsp;</span></div>
					<div class="stl_01" style="top:30.252em; left:6.6142em;"><span class="stl_132 stl_52 stl_484" style="word-spacing:-0.0085em;">Scrapy </span><span class="stl_129 stl_49 stl_484" style="word-spacing:-0.0085em;">的每个 </span><span class="stl_188 stl_44 stl_554" style="word-spacing:-0.009em;">Item</span><span class="stl_129 stl_49 stl_484" style="word-spacing:-0.0085em;">（条目）对象表示网站上的一个页面。当然，你可以根据需要定义不同 &nbsp;</span></div>
					<div class="stl_01" style="top:31.5797em; left:6.6143em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0002em;">的条目（比如 </span><span class="stl_188 stl_44 stl_10" style="word-spacing:-0.0002em;">url</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0002em;">、</span><span class="stl_188 stl_44 stl_10" style="word-spacing:-0.0002em;">content</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0002em;">、</span><span class="stl_188 stl_44 stl_10" style="word-spacing:-0.0002em;">header</span><span class="stl_188 stl_44 stl_10" style="word-spacing:0.103em;"> image</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0976em;">等），但是现在我只演示收集每页的</span><span class="stl_188 stl_44 stl_10" style="word-spacing:0em;"> title</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">字段 &nbsp;</span></div>
					<div class="stl_01" style="top:32.8418em; left:6.2181em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:32.7641em; left:7.0097em;"><span class="stl_148 stl_52 stl_557">ﬁ</span><span class="stl_132 stl_52 stl_557">eld</span><span class="stl_129 stl_49 stl_557">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:34.6752em; left:6.6139em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0006em;">在新建的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0006em;">articleSpider.py </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0006em;">文件里面，写如下代码： &nbsp;</span></div>
					<div class="stl_01" style="top:36.6439em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">scrapy.selector </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">Selector &nbsp;</span></div>
					<div class="stl_01" style="top:37.4769em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">scrapy </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">Spider &nbsp;</span></div>
					<div class="stl_01" style="top:38.3099em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">wikiSpider.items </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">Article &nbsp;</span></div>
					<div class="stl_01" style="top:40.8089em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">class </span><span class="stl_116 stl_44 stl_10">ArticleSpider(Spider): &nbsp;</span></div>
					<div class="stl_01" style="top:41.6419em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">name="article" &nbsp;</span></div>
					<div class="stl_01" style="top:42.4749em; left:9.7553em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">allowed_domains = ["en.wikipedia.org"] &nbsp;</span></div>
					<div class="stl_01" style="top:43.3079em; left:9.7553em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">start_urls = ["http://en.wikipedia.org/wiki/Main_Page", &nbsp;</span></div>
					<div class="stl_01" style="top:44.1409em; left:13.2969em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:44.1409em; left:13.6511em;"><span class="stl_116 stl_44 stl_10">http://en.wikipedia.org/wiki/Python_%28programming_language%29"] &nbsp;</span></div>
					<div class="stl_01" style="top:45.8069em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">parse(self, response): &nbsp;</span></div>
					<div class="stl_01" style="top:46.6399em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">item = Article() &nbsp;</span></div>
					<div class="stl_01" style="top:47.4729em; left:11.1719em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">title = response.xpath('//h1/text()')[0].extract() &nbsp;</span></div>
					<div class="stl_01" style="top:48.3059em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">("Title is: "+title) &nbsp;</span></div>
					<div class="stl_01" style="top:49.1389em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">item['title'] = title &nbsp;</span></div>
					<div class="stl_01" style="top:49.9719em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">item &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.0178em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">开始采集 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">39 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_72.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_72.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8229em; left:5.6693em;"><span class="stl_129 stl_49 stl_90">这个类的名称（</span><span class="stl_188 stl_44 stl_89">ArticleSpider</span><span class="stl_129 stl_49 stl_90">）与爬虫文件的名称（</span><span class="stl_132 stl_52 stl_90">wikiSpider</span><span class="stl_129 stl_49 stl_90">）是不同的，这个类只是 &nbsp;</span></div>
					<div class="stl_01" style="top:6.0849em; left:5.6692em;"><span class="stl_129 stl_49 stl_558" style="word-spacing:-0.0194em;">在 </span><span class="stl_132 stl_52 stl_558" style="word-spacing:-0.0194em;">wikiSpider </span><span class="stl_129 stl_49 stl_558" style="word-spacing:-0.0194em;">目录里的一员，仅仅用于维基词条页面的采集。对一些信息类型较多的大网 &nbsp;</span></div>
					<div class="stl_01" style="top:7.4126em; left:5.6693em;"><span class="stl_129 stl_49 stl_139">站，你可能会为每种信息（如博客的博文、图书出版发行信息、专栏文章等）设置独立的 &nbsp;</span></div>
					<div class="stl_01" style="top:8.585em; left:5.6693em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Scrapy </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">条目，每个条目都有不同的字段，但是所有条目都在同一个 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Scrapy </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">项目里运行。 &nbsp;</span></div>
					<div class="stl_01" style="top:10.4843em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">你可以在 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">wikiSpider </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">主目录中用如下命令运行 </span><span class="stl_188 stl_44 stl_10" style="word-spacing:-0.0001em;">ArticleSpider</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">： &nbsp;</span></div>
					<div class="stl_01" style="top:12.4649em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:12.4649em; left:8.102em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">scrapy crawl article &nbsp;</span></div>
					<div class="stl_01" style="top:14.2516em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.078em;">这 行</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.078em;"> 命</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.078em;"> 令</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.078em;"> 会</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.078em;"> 用</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.078em;"> 条</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.078em;"> 目</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.078em;"> 名</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.078em;"> 称</span><span class="stl_188 stl_44 stl_10" style="word-spacing:-0.1405em;"> article </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.1331em;">来</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.078em;"> 调</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.078em;"> 用</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.078em;"> 爬</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.078em;"> 虫（</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.078em;"> 不</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.078em;"> 是</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.078em;"> 类</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.078em;"> 名，</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.078em;"> 也</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.078em;"> 不</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.078em;"> 是</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.078em;"> 文</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.078em;"> 件</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.078em;"> 名，</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.078em;"> 而</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.078em;"> 是</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.078em;"> 由 &nbsp;</span></div>
					<div class="stl_01" style="top:15.5016em; left:5.6693em;"><span class="stl_188 stl_44 stl_10" style="word-spacing:0em;">ArticleSpider</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">的 </span><span class="stl_188 stl_44 stl_10" style="word-spacing:0em;">name = "article"</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">决定的）。 &nbsp;</span></div>
					<div class="stl_01" style="top:17.4248em; left:5.6692em;"><span class="stl_129 stl_49 stl_10">陆续出现的调试信息中应该会这两行结果： &nbsp;</span></div>
					<div class="stl_01" style="top:19.316em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Title is: Main Page &nbsp;</span></div>
					<div class="stl_01" style="top:20.149em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Title is: Python (programming language) &nbsp;</span></div>
					<div class="stl_01" style="top:21.936em; left:5.6693em;"><span class="stl_129 stl_49 stl_559" style="word-spacing:-0.0552em;">这个爬虫先进入 </span><span class="stl_188 stl_44 stl_560" style="word-spacing:-0.0582em;">start_urls</span><span class="stl_129 stl_49 stl_559" style="word-spacing:-0.0552em;">里面的两个页面，收集信息，然后停止。虽然这个爬虫很简 &nbsp;</span></div>
					<div class="stl_01" style="top:23.1204em; left:5.6694em;"><span class="stl_129 stl_49 stl_561" style="word-spacing:-0.036em;">单，但是如果你有许多 </span><span class="stl_132 stl_52 stl_561" style="word-spacing:-0.036em;">URL </span><span class="stl_129 stl_49 stl_561" style="word-spacing:-0.036em;">需要采集，</span><span class="stl_132 stl_52 stl_561" style="word-spacing:-0.036em;">Scrapy </span><span class="stl_129 stl_49 stl_561" style="word-spacing:-0.036em;">这种用法会非常适合。为了让爬虫更加完 &nbsp;</span></div>
					<div class="stl_01" style="top:24.3704em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">善，你需要定义一些规则让 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Scrapy </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">可以在每个页面查找 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">URL </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">链接： &nbsp;</span></div>
					<div class="stl_01" style="top:26.3388em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">scrapy.contrib.spiders </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">CrawlSpider, Rule &nbsp;</span></div>
					<div class="stl_01" style="top:27.1718em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">wikiSpider.items </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">Article &nbsp;</span></div>
					<div class="stl_01" style="top:28.0048em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">scrapy.contrib.linkextractors.sgml </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">SgmlLinkExtractor &nbsp;</span></div>
					<div class="stl_01" style="top:29.6708em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">class </span><span class="stl_116 stl_44 stl_10">ArticleSpider(CrawlSpider): &nbsp;</span></div>
					<div class="stl_01" style="top:30.5038em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">name="article" &nbsp;</span></div>
					<div class="stl_01" style="top:31.3368em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">allowed_domains = ["en.wikipedia.org"] &nbsp;</span></div>
					<div class="stl_01" style="top:32.1698em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">start_urls = ["http://en.wikipedia.org/wiki/Python_ &nbsp;</span></div>
					<div class="stl_01" style="top:33.0028em; left:14.1229em;"><span class="stl_116 stl_44 stl_10">%</span></div>
					<div class="stl_01" style="top:33.0028em; left:14.477em;"><span class="stl_116 stl_44 stl_10">28programming_language%29"] &nbsp;</span></div>
					<div class="stl_01" style="top:33.8358em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">rules = [Rule(SgmlLinkExtractor(allow=('(/wiki/)((?!:).)*$'),), &nbsp;</span></div>
					<div class="stl_01" style="top:34.6688em; left:21.2062em;"><span class="stl_116 stl_44 stl_10">callback="parse_item", follow=True)] &nbsp;</span></div>
					<div class="stl_01" style="top:36.3348em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">parse_item(self, response): &nbsp;</span></div>
					<div class="stl_01" style="top:37.1678em; left:10.227em;"><span class="stl_116 stl_44 stl_10">item = Article() &nbsp;</span></div>
					<div class="stl_01" style="top:38.0008em; left:10.227em;"><span class="stl_116 stl_44 stl_10">title = response.xpath('//h1/text()')[0].extract() &nbsp;</span></div>
					<div class="stl_01" style="top:38.8338em; left:10.227em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">("Title is: "+title) &nbsp;</span></div>
					<div class="stl_01" style="top:39.6668em; left:10.227em;"><span class="stl_116 stl_44 stl_10">item['title'] = title &nbsp;</span></div>
					<div class="stl_01" style="top:40.4998em; left:10.227em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">item &nbsp;</span></div>
					<div class="stl_01" style="top:42.2267em; left:5.6693em;"><span class="stl_129 stl_49 stl_312" style="word-spacing:-0.0044em;">虽然这个爬虫和前面那个爬虫的启动命令一样，但是如果你不用 </span><span class="stl_132 stl_52 stl_312" style="word-spacing:-0.0044em;">Ctrl+C </span><span class="stl_129 stl_49 stl_312" style="word-spacing:-0.0044em;">中止程序，它是不 &nbsp;</span></div>
					<div class="stl_01" style="top:43.5544em; left:5.6693em;"><span class="stl_129 stl_49 stl_161">会停止的（很长时间也不会停止）。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">4</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">0 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 3</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_73.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_73.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8187em; left:11.3386em;"><span class="stl_243 stl_18 stl_10" style="word-spacing:-0.0278em;">Scrapy </span><span class="stl_245 stl_20 stl_10" style="word-spacing:-0.0278em;">日志处理 &nbsp;</span></div>
					<div class="stl_01" style="top:6.7148em; left:11.3386em;"><span class="stl_51 stl_52 stl_206" style="word-spacing:-0.003em;">Scrapy </span><span class="stl_48 stl_49 stl_206" style="word-spacing:-0.003em;">生成的调试信息非常有用，但是通常太罗嗦。你可以在 </span><span class="stl_51 stl_52 stl_206" style="word-spacing:-0.003em;">Scrapy </span><span class="stl_48 stl_49 stl_206" style="word-spacing:-0.003em;">项目中 &nbsp;</span></div>
					<div class="stl_01" style="top:7.8818em; left:11.3858em;"><span class="stl_48 stl_49 stl_10" style="word-spacing:-0.0005em;">的 </span><span class="stl_51 stl_52 stl_10" style="word-spacing:-0.0005em;">setting.py </span><span class="stl_48 stl_49 stl_10" style="word-spacing:-0.0005em;">文件中设置日志显示层级： &nbsp;</span></div>
					<div class="stl_01" style="top:9.5732em; left:13.1102em;"><span class="stl_116 stl_44 stl_10">LOG_LEVEL = 'ERROR' &nbsp;</span></div>
					<div class="stl_01" style="top:11.0625em; left:11.3386em;"><span class="stl_51 stl_52 stl_10" style="word-spacing:0em;">Scrapy </span><span class="stl_48 stl_49 stl_10" style="word-spacing:0em;">日志有五种层级，按照范围递增顺序排列如下： &nbsp;</span></div>
					<div class="stl_01" style="top:12.9729em; left:12.0472em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:14.2229em; left:12.0472em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:15.4729em; left:12.0472em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:16.7229em; left:12.0472em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:17.9729em; left:12.0472em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:13.0322em; left:13.1102em;"><span class="stl_116 stl_44 stl_10">CRITICAL &nbsp;</span></div>
					<div class="stl_01" style="top:14.2822em; left:13.1102em;"><span class="stl_116 stl_44 stl_10">ERROR &nbsp;</span></div>
					<div class="stl_01" style="top:15.5322em; left:13.1102em;"><span class="stl_116 stl_44 stl_10">WARNING &nbsp;</span></div>
					<div class="stl_01" style="top:16.7822em; left:13.1102em;"><span class="stl_116 stl_44 stl_10">DEBUG &nbsp;</span></div>
					<div class="stl_01" style="top:18.0097em; left:13.1102em;"><span class="stl_188 stl_44 stl_10">INFO &nbsp;</span></div>
					<div class="stl_01" style="top:19.9581em; left:11.3387em;"><span class="stl_48 stl_49 stl_487" style="word-spacing:-0.0713em;">如果日志层级设置为 </span><span class="stl_116 stl_44 stl_562" style="word-spacing:-0.0755em;">ERROR</span><span class="stl_48 stl_49 stl_487" style="word-spacing:-0.0713em;">，那么只有 </span><span class="stl_116 stl_44 stl_562" style="word-spacing:-0.0755em;">CRITICAL</span><span class="stl_48 stl_49 stl_487" style="word-spacing:-0.0713em;">和 </span><span class="stl_116 stl_44 stl_562" style="word-spacing:-0.0755em;">ERROR</span><span class="stl_48 stl_49 stl_487" style="word-spacing:-0.0713em;">日志会显示出来。 &nbsp;</span></div>
					<div class="stl_01" style="top:21.1247em; left:11.3857em;"><span class="stl_48 stl_49 stl_10" style="word-spacing:0.0002em;">如果日志层级设置为 </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0.0002em;">INFO</span><span class="stl_48 stl_49 stl_10" style="word-spacing:0.0002em;">，那么所有信息都会显示出来，其他同理。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.0118em; left:11.3385em;"><span class="stl_48 stl_49 stl_10">日志不仅可以显示在终端，也可以通过下面命令输出到一个独立的文件中： &nbsp;</span></div>
					<div class="stl_01" style="top:24.8665em; left:13.1102em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:24.8665em; left:13.8186em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">scrapy crawl article -s LOG_FILE=wiki.log &nbsp;</span></div>
					<div class="stl_01" style="top:26.3558em; left:11.3386em;"><span class="stl_48 stl_49 stl_394" style="word-spacing:-0.0396em;">如果目录中没有 </span><span class="stl_51 stl_52 stl_394" style="word-spacing:-0.0396em;">wiki.log</span><span class="stl_48 stl_49 stl_394" style="word-spacing:-0.0396em;">，那么运行程序会创建一个新文件，然后把所有的 &nbsp;</span></div>
					<div class="stl_01" style="top:27.5965em; left:11.3858em;"><span class="stl_48 stl_49 stl_10">日志都保存到里面。如果已经存在，会在原文后面加入新的日志内容。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.8537em; left:6.6142em;"><span class="stl_132 stl_52 stl_242" style="word-spacing:-0.0469em;">Scrapy </span><span class="stl_129 stl_49 stl_242" style="word-spacing:-0.0469em;">用 </span><span class="stl_188 stl_44 stl_563" style="word-spacing:-0.0495em;">Item</span><span class="stl_129 stl_49 stl_242" style="word-spacing:-0.0469em;">对象决定要从它浏览的页面中提取哪些信息。</span><span class="stl_132 stl_52 stl_242" style="word-spacing:-0.0469em;">Scrapy </span><span class="stl_129 stl_49 stl_242" style="word-spacing:-0.0469em;">支持用不同的输出格 &nbsp;</span></div>
					<div class="stl_01" style="top:31.1158em; left:6.6139em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0003em;">式来保存这些信息，比如 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0003em;">CSV</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0003em;">、</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0003em;">JSON </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0003em;">或 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0003em;">XML </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0003em;">文件格式，对应命令如下所示： &nbsp;</span></div>
					<div class="stl_01" style="top:33.0843em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:33.9173em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:34.7503em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:33.0843em; left:9.0469em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">scrapy crawl article -o articles.csv -t csv &nbsp;</span></div>
					<div class="stl_01" style="top:33.9173em; left:9.0469em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">scrapy crawl article -o articles.json -t json &nbsp;</span></div>
					<div class="stl_01" style="top:34.7503em; left:9.0469em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">scrapy crawl article -o articles.xml -t xml &nbsp;</span></div>
					<div class="stl_01" style="top:36.5377em; left:6.6142em;"><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0121em;">当然，你也可以自定义 </span><span class="stl_188 stl_44 stl_218" style="word-spacing:-0.0127em;">Item</span><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0121em;">对象，把结果写入你需要的一个文件或数据库中，只要在爬虫 &nbsp;</span></div>
					<div class="stl_01" style="top:37.7877em; left:6.6142em;"><span class="stl_129 stl_49 stl_200" style="word-spacing:-0.0313em;">的 </span><span class="stl_188 stl_44 stl_340" style="word-spacing:-0.033em;">parse</span><span class="stl_129 stl_49 stl_200" style="word-spacing:-0.0313em;">部分增加相应的代码即可。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.6331em; left:6.6145em;"><span class="stl_132 stl_52 stl_564" style="word-spacing:-0.0036em;">Scrapy </span><span class="stl_129 stl_49 stl_564" style="word-spacing:-0.0036em;">是处理网络数据采集相关问题的利器。它可以自动收集所有 </span><span class="stl_132 stl_52 stl_564" style="word-spacing:-0.0036em;">URL</span><span class="stl_129 stl_49 stl_564" style="word-spacing:-0.0036em;">，然后和指定的规 &nbsp;</span></div>
					<div class="stl_01" style="top:40.8835em; left:6.6142em;"><span class="stl_129 stl_49 stl_138" style="word-spacing:-0.0177em;">则进行比较；确保所有的 </span><span class="stl_132 stl_52 stl_138" style="word-spacing:-0.0177em;">URL </span><span class="stl_129 stl_49 stl_138" style="word-spacing:-0.0177em;">是唯一的；根据需求对相关的 </span><span class="stl_132 stl_52 stl_138" style="word-spacing:-0.0177em;">URL </span><span class="stl_129 stl_49 stl_138" style="word-spacing:-0.0177em;">进行标准化；以及到更 &nbsp;</span></div>
					<div class="stl_01" style="top:42.2112em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">深层的页面中递归查找。 &nbsp;</span></div>
					<div class="stl_01" style="top:44.0446em; left:6.6142em;"><span class="stl_129 stl_49 stl_402" style="word-spacing:-0.0347em;">尽管这点内容算只能是碰到了 </span><span class="stl_132 stl_52 stl_402" style="word-spacing:-0.0347em;">Scrapy </span><span class="stl_129 stl_49 stl_402" style="word-spacing:-0.0347em;">强大功能的一角，但我依然鼓励你去学习 </span><span class="stl_132 stl_52 stl_402" style="word-spacing:-0.0347em;">Scrapy </span><span class="stl_129 stl_49 stl_402" style="word-spacing:-0.0347em;">文 &nbsp;</span></div>
					<div class="stl_01" style="top:45.2949em; left:6.6142em;"><span class="stl_129 stl_49 stl_226" style="word-spacing:-0.0036em;">档（</span><span class="stl_132 stl_52 stl_226" style="word-spacing:-0.0036em;">http://doc.scrapy.org/en/latest/</span><span class="stl_129 stl_49 stl_226" style="word-spacing:-0.0036em;">）和其他在线的学习资源。</span><span class="stl_132 stl_52 stl_226" style="word-spacing:-0.0036em;">Scrapy </span><span class="stl_129 stl_49 stl_226" style="word-spacing:-0.0036em;">的内容非常丰富，具有 &nbsp;</span></div>
					<div class="stl_01" style="top:46.5449em; left:6.6142em;"><span class="stl_129 stl_49 stl_402" style="word-spacing:-0.0346em;">很多特性。如果那些你想用 </span><span class="stl_132 stl_52 stl_402" style="word-spacing:-0.0346em;">Scrapy </span><span class="stl_129 stl_49 stl_402" style="word-spacing:-0.0346em;">做的事情在这里没有提到，那么 </span><span class="stl_132 stl_52 stl_402" style="word-spacing:-0.0346em;">Scrapy </span><span class="stl_129 stl_49 stl_402" style="word-spacing:-0.0346em;">很可能有一种 &nbsp;</span></div>
					<div class="stl_01" style="top:47.8726em; left:6.2183em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:47.8726em; left:7.01em;"><span class="stl_129 stl_49 stl_10">或几种）方法可以满足你的需求。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.0178em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">开始采集 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">41 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_74.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_74.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:9.4423em; left:32.1698em;"><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.064em;">第 </span><span class="stl_215 stl_18 stl_10" style="word-spacing:-0.064em;">4 </span><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.064em;">章 &nbsp;</span></div>
					<div class="stl_01 stl_316" style="top:12.4146em; left:29.8701em;"><span class="stl_70 stl_20 stl_198">使用</span><span class="stl_317 stl_318 stl_198">API &nbsp;</span></div>
					<div class="stl_01" style="top:24.5006em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">我和许多参与过大项目的程序员一样，在使用别人的代码时，也曾有过惨痛的经历。从命 &nbsp;</span></div>
					<div class="stl_01" style="top:25.6729em; left:5.6693em;"><span class="stl_129 stl_49 stl_244" style="word-spacing:0.0001em;">名空间问题到函数输出类型的问题，即使像获取指针 </span><span class="stl_132 stl_52 stl_244" style="word-spacing:0.0001em;">A </span><span class="stl_129 stl_49 stl_244" style="word-spacing:0.0001em;">的信息然后传递给方法 </span><span class="stl_132 stl_52 stl_244" style="word-spacing:0.0001em;">B </span><span class="stl_129 stl_49 stl_244" style="word-spacing:0.0001em;">这样简单 &nbsp;</span></div>
					<div class="stl_01" style="top:27.0007em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">的事情，也仿佛一场噩梦。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.834em; left:5.6693em;"><span class="stl_129 stl_49 stl_565" style="word-spacing:0.1151em;">这正是应用编程接口（</span><span class="stl_132 stl_52 stl_565" style="word-spacing:0.1151em;">Application Programming Interface</span><span class="stl_129 stl_49 stl_565" style="word-spacing:0.1151em;">，</span><span class="stl_132 stl_52 stl_565" style="word-spacing:0.1151em;">API</span><span class="stl_129 stl_49 stl_565" style="word-spacing:0.1151em;">）的用处：它们为不同的应 &nbsp;</span></div>
					<div class="stl_01" style="top:30.162em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">用提供了方便友好的接口。不同的开发者用不同的架构，甚至不同的语言编写软件都没问 &nbsp;</span></div>
					<div class="stl_01" style="top:31.3343em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">题——因为 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">API </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">设计的目的就是要成为一种通用语言，让不同的软件进行信息共享。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.2454em; left:5.6693em;"><span class="stl_129 stl_49 stl_510" style="word-spacing:-0.0162em;">尽管目前不同的软件应用都有各自不同的 </span><span class="stl_132 stl_52 stl_510" style="word-spacing:-0.0162em;">API</span><span class="stl_129 stl_49 stl_510" style="word-spacing:-0.0162em;">，但“</span><span class="stl_132 stl_52 stl_510" style="word-spacing:-0.0162em;">API</span><span class="stl_129 stl_49 stl_510" style="word-spacing:-0.0162em;">”经常被看成“网络应用 </span><span class="stl_132 stl_52 stl_510" style="word-spacing:-0.0162em;">API</span><span class="stl_129 stl_49 stl_510" style="word-spacing:-0.0162em;">”。 &nbsp;</span></div>
					<div class="stl_01" style="top:34.4957em; left:5.6693em;"><span class="stl_129 stl_49 stl_198" style="word-spacing:-0.0399em;">一般情况下，程序员可以用 </span><span class="stl_132 stl_52 stl_198" style="word-spacing:-0.0399em;">HTTP </span><span class="stl_129 stl_49 stl_198" style="word-spacing:-0.0399em;">协议向 </span><span class="stl_132 stl_52 stl_198" style="word-spacing:-0.0399em;">API </span><span class="stl_129 stl_49 stl_198" style="word-spacing:-0.0399em;">发起请求以获取某种信息，</span><span class="stl_132 stl_52 stl_198" style="word-spacing:-0.0399em;">API </span><span class="stl_129 stl_49 stl_198" style="word-spacing:-0.0399em;">会用 </span><span class="stl_132 stl_52 stl_198" style="word-spacing:-0.0399em;">XML &nbsp;</span></div>
					<div class="stl_01" style="top:35.8234em; left:5.2735em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:35.7457em; left:6.0651em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.1245em;">eXtensible Markup Language</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.1245em;">，</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0841em;"> 可</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0841em;"> 扩</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0841em;"> 展</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0841em;"> 标</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0841em;"> 记</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0841em;"> 语</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0841em;"> 言</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0841em;"> ）</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0841em;"> 或</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0409em;"> JSON</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0409em;">（</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0409em;">JavaScript</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.1251em;"> Object</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.1251em;"> Notation</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.1251em;">， &nbsp;</span></div>
					<div class="stl_01" style="top:36.9957em; left:5.6693em;"><span class="stl_132 stl_52 stl_367" style="word-spacing:-0.014em;">JavaScript </span><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.014em;">对象表示）格式返回服务器响应的信息。尽管大多数 </span><span class="stl_132 stl_52 stl_367" style="word-spacing:-0.014em;">API </span><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.014em;">仍然在用 </span><span class="stl_132 stl_52 stl_367" style="word-spacing:-0.014em;">XML</span><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.014em;">，但是 &nbsp;</span></div>
					<div class="stl_01" style="top:38.2458em; left:5.6693em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0009em;">JSON </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0009em;">正在快速成为数据编码格式的主流选择。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.2345em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">用这种即开即用的接口获取预先打包好的信息，看起来好像和本书主题没什么关系，但是 &nbsp;</span></div>
					<div class="stl_01" style="top:41.4071em; left:5.6693em;"><span class="stl_129 stl_49 stl_162" style="word-spacing:-0.0123em;">这种看法只对了一半。虽然大多数人通常不会把使用 </span><span class="stl_132 stl_52 stl_162" style="word-spacing:-0.0123em;">API </span><span class="stl_129 stl_49 stl_162" style="word-spacing:-0.0123em;">看成网络数据采集，但是实际上 &nbsp;</span></div>
					<div class="stl_01" style="top:42.6571em; left:5.6693em;"><span class="stl_129 stl_49 stl_136" style="word-spacing:-0.04em;">两者使用的许多技术（都是发送 </span><span class="stl_132 stl_52 stl_136" style="word-spacing:-0.04em;">HTTP </span><span class="stl_129 stl_49 stl_136" style="word-spacing:-0.04em;">请求）和产生的结果（都是获取信息）差不太多； &nbsp;</span></div>
					<div class="stl_01" style="top:43.9849em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">两者经常是相辅相成的关系。 &nbsp;</span></div>
					<div class="stl_01" style="top:45.8183em; left:5.6693em;"><span class="stl_129 stl_49 stl_204" style="word-spacing:-0.0355em;">例如，你可能会把网络爬虫和 </span><span class="stl_132 stl_52 stl_204" style="word-spacing:-0.0355em;">API </span><span class="stl_129 stl_49 stl_204" style="word-spacing:-0.0355em;">获取的信息组合起来，因为这样的信息可能更有意义。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.0686em; left:5.6693em;"><span class="stl_129 stl_49 stl_144" style="word-spacing:-0.0476em;">在本章后面的一个例子中，我们将会介绍如何把维基百科编辑历史（里面有编辑者 </span><span class="stl_132 stl_52 stl_144" style="word-spacing:-0.0476em;">IP </span><span class="stl_129 stl_49 stl_144" style="word-spacing:-0.0476em;">地 &nbsp;</span></div>
					<div class="stl_01" style="top:48.3186em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">址）和一个 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">IP </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">地址解析的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">API </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">组合起来，以获取维基百科词条编辑者的地理位置。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.3099em; left:5.6693em;"><span class="stl_119 stl_22 stl_10">42 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_75.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_75.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:6.6142em;"><span class="stl_129 stl_49 stl_135" style="word-spacing:-0.0177em;">在这一章里，我们将首先概述 </span><span class="stl_132 stl_52 stl_135" style="word-spacing:-0.0177em;">API</span><span class="stl_129 stl_49 stl_135" style="word-spacing:-0.0177em;">，之后介绍 </span><span class="stl_132 stl_52 stl_135" style="word-spacing:-0.0177em;">API </span><span class="stl_129 stl_49 stl_135" style="word-spacing:-0.0177em;">的工作原理，以及几个目前比较流行的 &nbsp;</span></div>
					<div class="stl_01" style="top:6.0849em; left:6.6142em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">API</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">，最后介绍如何在网络爬虫里使用这些 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">API</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:8.5509em; left:6.6142em;"><span class="stl_197 stl_18 stl_10">4</span></div>
					<div class="stl_01" style="top:8.4801em; left:7.4373em;"><span class="stl_197 stl_18 stl_71">.1</span><span class="stl_160 stl_20 stl_71">ꢀ</span><span class="stl_197 stl_18 stl_71">API</span><span class="stl_160 stl_20 stl_71">概述 &nbsp;</span></div>
					<div class="stl_01" style="top:10.9133em; left:6.6142em;"><span class="stl_129 stl_49 stl_566" style="word-spacing:-0.0653em;">虽然 </span><span class="stl_132 stl_52 stl_566" style="word-spacing:-0.0653em;">API </span><span class="stl_129 stl_49 stl_566" style="word-spacing:-0.0653em;">并非随处可见（这正是我写这本书的主要动机，因为即使你找不到 </span><span class="stl_132 stl_52 stl_566" style="word-spacing:-0.0653em;">API</span><span class="stl_129 stl_49 stl_566" style="word-spacing:-0.0653em;">，也可 &nbsp;</span></div>
					<div class="stl_01" style="top:12.1633em; left:6.6142em;"><span class="stl_129 stl_49 stl_186" style="word-spacing:-0.0085em;">以用爬虫采集信息），但是你可以从 </span><span class="stl_132 stl_52 stl_186" style="word-spacing:-0.0085em;">API </span><span class="stl_129 stl_49 stl_186" style="word-spacing:-0.0085em;">里获取许多信息。如果你对音乐感兴趣，有几个 &nbsp;</span></div>
					<div class="stl_01" style="top:13.4133em; left:6.6142em;"><span class="stl_132 stl_52 stl_567" style="word-spacing:-0.0691em;">API </span><span class="stl_129 stl_49 stl_567" style="word-spacing:-0.0691em;">可以为你提供歌曲名称、歌手、专辑，以及歌曲风格和相关歌手的信息。想要体育 &nbsp;</span></div>
					<div class="stl_01" style="top:14.6633em; left:6.6142em;"><span class="stl_129 stl_49 stl_568" style="word-spacing:-0.0436em;">信息？ </span><span class="stl_132 stl_52 stl_568" style="word-spacing:-0.0436em;">ESPN </span><span class="stl_129 stl_49 stl_568" style="word-spacing:-0.0436em;">提供的 </span><span class="stl_132 stl_52 stl_568" style="word-spacing:-0.0436em;">API </span><span class="stl_129 stl_49 stl_568" style="word-spacing:-0.0436em;">包括运动员信息、比赛分数等。</span><span class="stl_132 stl_52 stl_568" style="word-spacing:-0.0436em;">Google </span><span class="stl_129 stl_49 stl_568" style="word-spacing:-0.0436em;">的开发者社区（</span><span class="stl_132 stl_52 stl_568" style="word-spacing:-0.0436em;">https:// &nbsp;</span></div>
					<div class="stl_01" style="top:15.9133em; left:6.6142em;"><span class="stl_132 stl_52 stl_512" style="word-spacing:-0.0098em;">console.developers.google.com/</span><span class="stl_129 stl_49 stl_512" style="word-spacing:-0.0098em;">）也提供了一堆 </span><span class="stl_132 stl_52 stl_512" style="word-spacing:-0.0098em;">API </span><span class="stl_129 stl_49 stl_512" style="word-spacing:-0.0098em;">用于获取语言翻译、分析、地理位置等 &nbsp;</span></div>
					<div class="stl_01" style="top:17.2411em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">信息。 &nbsp;</span></div>
					<div class="stl_01" style="top:19.0745em; left:6.6142em;"><span class="stl_132 stl_52 stl_569" style="word-spacing:-0.093em;">API </span><span class="stl_129 stl_49 stl_569" style="word-spacing:-0.093em;">很容易使用。其实你只要在浏览器里输入下面的网址就可以发起一个简单的 </span><span class="stl_132 stl_52 stl_569" style="word-spacing:-0.093em;">API &nbsp;</span></div>
					<div class="stl_01" style="top:20.3124em; left:9.0842em;"><span class="stl_365 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:20.4022em; left:6.6142em;"><span class="stl_129 stl_49 stl_570">请求： &nbsp;</span></div>
					<div class="stl_01" style="top:22.3335em; left:8.3386em;"><span class="stl_571 stl_44 stl_10">http://freegeoip.net/json/50.78.253.58 &nbsp;</span></div>
					<div class="stl_01" style="top:24.0921em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">应该会出现下面的结果： &nbsp;</span></div>
					<div class="stl_01" style="top:25.983em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">{</span></div>
					<div class="stl_01" style="top:25.983em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">"</span><span class="stl_232 stl_44 stl_10">ip</span><span class="stl_116 stl_44 stl_10">":"50.78.253.58","</span><span class="stl_232 stl_44 stl_10">country_code</span><span class="stl_116 stl_44 stl_10">":"US","</span><span class="stl_232 stl_44 stl_10">country_name</span><span class="stl_116 stl_44 stl_10">":"</span><span class="stl_256 stl_49 stl_10">美国</span><span class="stl_116 stl_44 stl_10">","region_ &nbsp;</span></div>
					<div class="stl_01" style="top:26.816em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">code":"MA","region_name":"Massachusetts","city":"Chelmsford","zipcode":"01824", &nbsp;</span></div>
					<div class="stl_01" style="top:27.649em; left:8.6927em;"><span class="stl_116 stl_44 stl_10">latitude":42.5879,"longitude":-71.3498,"metro_code":"506","area_code":"978"} &nbsp;</span></div>
					<div class="stl_01" style="top:27.649em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:29.3707em; left:6.6142em;"><span class="stl_129 stl_49 stl_495" style="word-spacing:-0.0452em;">你可能会想，这不就是在浏览器窗口输入一个网址，按回车后获取的（只是 </span><span class="stl_132 stl_52 stl_495" style="word-spacing:-0.0452em;">JSON </span><span class="stl_129 stl_49 stl_495" style="word-spacing:-0.0452em;">格式） &nbsp;</span></div>
					<div class="stl_01" style="top:30.6207em; left:6.6142em;"><span class="stl_129 stl_49 stl_84" style="word-spacing:-0.0065em;">信息吗？究竟 </span><span class="stl_132 stl_52 stl_84" style="word-spacing:-0.0065em;">API </span><span class="stl_129 stl_49 stl_84" style="word-spacing:-0.0065em;">和普通的网址访问有什么区别呢？如果不考虑 </span><span class="stl_132 stl_52 stl_84" style="word-spacing:-0.0065em;">API </span><span class="stl_129 stl_49 stl_84" style="word-spacing:-0.0065em;">高大上的名称，其实 &nbsp;</span></div>
					<div class="stl_01" style="top:31.8707em; left:6.6142em;"><span class="stl_129 stl_49 stl_242" style="word-spacing:-0.0457em;">两者没啥区别。</span><span class="stl_132 stl_52 stl_242" style="word-spacing:-0.0457em;">API </span><span class="stl_129 stl_49 stl_242" style="word-spacing:-0.0457em;">可以通过 </span><span class="stl_132 stl_52 stl_242" style="word-spacing:-0.0457em;">HTTP </span><span class="stl_129 stl_49 stl_242" style="word-spacing:-0.0457em;">协议下载文件，和 </span><span class="stl_132 stl_52 stl_242" style="word-spacing:-0.0457em;">URL </span><span class="stl_129 stl_49 stl_242" style="word-spacing:-0.0457em;">访问网站获取数据的协议一 &nbsp;</span></div>
					<div class="stl_01" style="top:33.1207em; left:6.6142em;"><span class="stl_129 stl_49 stl_296" style="word-spacing:-0.0182em;">样，它几乎可以实现所有在网上干的事情。</span><span class="stl_132 stl_52 stl_296" style="word-spacing:-0.0182em;">API </span><span class="stl_129 stl_49 stl_296" style="word-spacing:-0.0182em;">之所以叫 </span><span class="stl_132 stl_52 stl_296" style="word-spacing:-0.0182em;">API </span><span class="stl_129 stl_49 stl_296" style="word-spacing:-0.0182em;">而不是叫网站的原因，其实 &nbsp;</span></div>
					<div class="stl_01" style="top:34.3707em; left:6.6142em;"><span class="stl_129 stl_49 stl_338" style="word-spacing:-0.0246em;">是首先 </span><span class="stl_132 stl_52 stl_338" style="word-spacing:-0.0246em;">API </span><span class="stl_129 stl_49 stl_338" style="word-spacing:-0.0246em;">请求使用非常严谨的语法，其次 </span><span class="stl_132 stl_52 stl_338" style="word-spacing:-0.0246em;">API </span><span class="stl_129 stl_49 stl_338" style="word-spacing:-0.0246em;">用 </span><span class="stl_132 stl_52 stl_338" style="word-spacing:-0.0246em;">JSON </span><span class="stl_129 stl_49 stl_338" style="word-spacing:-0.0246em;">或 </span><span class="stl_132 stl_52 stl_338" style="word-spacing:-0.0246em;">XML </span><span class="stl_129 stl_49 stl_338" style="word-spacing:-0.0246em;">格式表示数据，而不是 &nbsp;</span></div>
					<div class="stl_01" style="top:35.6207em; left:6.6142em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0002em;">HTML </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">格式。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.0867em; left:6.6142em;"><span class="stl_197 stl_18 stl_10">4</span></div>
					<div class="stl_01" style="top:38.0159em; left:7.4373em;"><span class="stl_197 stl_18 stl_71">.2</span><span class="stl_160 stl_20 stl_71">ꢀ</span><span class="stl_197 stl_18 stl_71">API</span><span class="stl_160 stl_20 stl_71">通用规则 &nbsp;</span></div>
					<div class="stl_01" style="top:40.4491em; left:6.6142em;"><span class="stl_129 stl_49 stl_170" style="word-spacing:-0.0238em;">和大多数网络数据采集的方式不同，</span><span class="stl_132 stl_52 stl_170" style="word-spacing:-0.0238em;">API </span><span class="stl_129 stl_49 stl_170" style="word-spacing:-0.0238em;">用一套非常标准的规则生成数据，而且生成的数 &nbsp;</span></div>
					<div class="stl_01" style="top:41.7768em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">据也是按照非常标准的方式组织的。因为规则很标准，所以一些简单、基本的规则很容易 &nbsp;</span></div>
					<div class="stl_01" style="top:42.9491em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">学，可以帮你快速地掌握任意 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">API </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">的用法。 &nbsp;</span></div>
					<div class="stl_01" style="top:44.8602em; left:6.6142em;"><span class="stl_129 stl_49 stl_75" style="word-spacing:-0.0024em;">不过并非所有 </span><span class="stl_132 stl_52 stl_75" style="word-spacing:-0.0024em;">API </span><span class="stl_129 stl_49 stl_75" style="word-spacing:-0.0024em;">都很简单，有些 </span><span class="stl_132 stl_52 stl_75" style="word-spacing:-0.0024em;">API </span><span class="stl_129 stl_49 stl_75" style="word-spacing:-0.0024em;">的规则比较复杂，因此第一次使用一个 </span><span class="stl_132 stl_52 stl_75" style="word-spacing:-0.0024em;">API </span><span class="stl_129 stl_49 stl_75" style="word-spacing:-0.0024em;">时，建 &nbsp;</span></div>
					<div class="stl_01" style="top:46.1106em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">议阅读文档，无论你对以前用过的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">API </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">是多么熟悉。 &nbsp;</span></div>
					<div class="stl_01" style="top:49.0086em; left:6.6142em;"><span class="stl_60 stl_49 stl_128" style="word-spacing:-0.003em;">注 </span><span class="stl_61 stl_52 stl_128" style="word-spacing:-0.003em;">1</span><span class="stl_60 stl_49 stl_128" style="word-spacing:-0.003em;">：这个 </span><span class="stl_61 stl_52 stl_128" style="word-spacing:-0.003em;">API </span><span class="stl_60 stl_49 stl_128" style="word-spacing:-0.003em;">把 </span><span class="stl_61 stl_52 stl_128" style="word-spacing:-0.003em;">IP </span><span class="stl_60 stl_49 stl_128" style="word-spacing:-0.003em;">地址解析成地理位置，在本章的后面还会用到。你可以通过 </span><span class="stl_61 stl_52 stl_128" style="word-spacing:-0.003em;">http://freegeoip.net/ </span><span class="stl_60 stl_49 stl_128" style="word-spacing:-0.003em;">看到更 &nbsp;</span></div>
					<div class="stl_01" style="top:50.074em; left:8.4568em;"><span class="stl_60 stl_49 stl_10">多的信息。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.5062em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">使用</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">API </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">43 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_76.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_76.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8205em; left:5.6693em;"><span class="stl_260 stl_18 stl_10">4</span></div>
					<div class="stl_01" style="top:4.7621em; left:6.3471em;"><span class="stl_260 stl_18 stl_71">.2.1</span><span class="stl_91 stl_20 stl_71">ꢀ方法 &nbsp;</span></div>
					<div class="stl_01" style="top:6.703em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">利用 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">HTTP </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">从网络服务获取信息有四种方式： &nbsp;</span></div>
					<div class="stl_01" style="top:8.6537em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:9.904em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:11.154em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:12.404em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:8.6907em; left:6.7323em;"><span class="stl_188 stl_44 stl_10">GET &nbsp;</span></div>
					<div class="stl_01" style="top:9.9407em; left:6.7323em;"><span class="stl_188 stl_44 stl_10">POST &nbsp;</span></div>
					<div class="stl_01" style="top:11.1908em; left:6.7323em;"><span class="stl_188 stl_44 stl_10">PUT &nbsp;</span></div>
					<div class="stl_01" style="top:12.4408em; left:6.7323em;"><span class="stl_188 stl_44 stl_10">DELETE &nbsp;</span></div>
					<div class="stl_01" style="top:14.2641em; left:5.6695em;"><span class="stl_188 stl_44 stl_572" style="word-spacing:-0.2365em;">GET </span><span class="stl_129 stl_49 stl_573" style="word-spacing:-0.224em;">就是你在浏览器中输入网址浏览网站所做的事情。当你访问 </span><span class="stl_132 stl_52 stl_573" style="word-spacing:-0.224em;">http://freegeoip.net/ &nbsp;</span></div>
					<div class="stl_01" style="top:15.5138em; left:5.6695em;"><span class="stl_132 stl_52 stl_133" style="word-spacing:-0.0188em;">json/50.78.253.58 </span><span class="stl_129 stl_49 stl_133" style="word-spacing:-0.0188em;">时，就会使用 </span><span class="stl_188 stl_44 stl_510" style="word-spacing:-0.0199em;">GET</span><span class="stl_129 stl_49 stl_133" style="word-spacing:-0.0188em;">方法。可以想象成 </span><span class="stl_188 stl_44 stl_510" style="word-spacing:-0.0199em;">GET</span><span class="stl_129 stl_49 stl_133" style="word-spacing:-0.0188em;">在说：“喂，网络服务器，请按 &nbsp;</span></div>
					<div class="stl_01" style="top:16.8536em; left:5.6694em;"><span class="stl_129 stl_49 stl_574">照这个网址给我信息。” &nbsp;</span></div>
					<div class="stl_01" style="top:18.7529em; left:5.6693em;"><span class="stl_188 stl_44 stl_510">POST</span><span class="stl_129 stl_49 stl_133">基本就是当你填写表单或提交信息到网络服务器的后端程序时所做的事情。每次当你 &nbsp;</span></div>
					<div class="stl_01" style="top:20.0029em; left:5.6697em;"><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0129em;">登录网站的时候，就是通过用户名和（有可能加密的）密码发起一个 </span><span class="stl_188 stl_44 stl_218" style="word-spacing:-0.0137em;">POST</span><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0129em;">请求。如果你用 &nbsp;</span></div>
					<div class="stl_01" style="top:21.1752em; left:5.669em;"><span class="stl_132 stl_52 stl_575" style="word-spacing:0.0165em;">API </span><span class="stl_129 stl_49 stl_575" style="word-spacing:0.0165em;">发起一个 </span><span class="stl_188 stl_44 stl_576" style="word-spacing:0.0174em;">POST</span><span class="stl_129 stl_49 stl_575" style="word-spacing:0.0165em;">请求，相当于说“请把信息保存到你的数据库里”。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.0866em; left:5.6693em;"><span class="stl_188 stl_44 stl_577" style="word-spacing:-0.0682em;">PUT</span><span class="stl_129 stl_49 stl_578" style="word-spacing:-0.0646em;">在网站交互过程中不常用，但是在 </span><span class="stl_132 stl_52 stl_578" style="word-spacing:-0.0646em;">API </span><span class="stl_129 stl_49 stl_578" style="word-spacing:-0.0646em;">里面有时会用到。</span><span class="stl_188 stl_44 stl_577" style="word-spacing:-0.0682em;">PUT</span><span class="stl_129 stl_49 stl_578" style="word-spacing:-0.0646em;">请求用来更新一个对象 &nbsp;</span></div>
					<div class="stl_01" style="top:24.3366em; left:5.6693em;"><span class="stl_129 stl_49 stl_209" style="word-spacing:-0.0158em;">或信息。例如，</span><span class="stl_132 stl_52 stl_209" style="word-spacing:-0.0158em;">API </span><span class="stl_129 stl_49 stl_209" style="word-spacing:-0.0158em;">可能会要求用 </span><span class="stl_188 stl_44 stl_140" style="word-spacing:-0.0167em;">POST</span><span class="stl_129 stl_49 stl_209" style="word-spacing:-0.0158em;">请求创建新用户，但是如果你要更新老用户的邮箱 &nbsp;</span></div>
					<div class="stl_01" style="top:25.5864em; left:15.1068em;"><span class="stl_365 stl_52 stl_10">2</span></div>
					<div class="stl_01" style="top:25.6643em; left:5.6692em;"><span class="stl_129 stl_49 stl_266" style="word-spacing:-0.0453em;">地址，就要用 </span><span class="stl_188 stl_44 stl_397" style="word-spacing:-0.0478em;">PUT</span><span class="stl_129 stl_49 stl_266" style="word-spacing:-0.0453em;">请求了。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.4981em; left:5.6693em;"><span class="stl_188 stl_44 stl_90" style="word-spacing:-0.0269em;">DELETE</span><span class="stl_129 stl_49 stl_579" style="word-spacing:-0.0255em;">用于删除一个对象。例如，如果我们向 </span><span class="stl_132 stl_52 stl_579" style="word-spacing:-0.0255em;">http://myapi.com/user/23 </span><span class="stl_129 stl_49 stl_579" style="word-spacing:-0.0255em;">发出一个 </span><span class="stl_188 stl_44 stl_90" style="word-spacing:-0.0269em;">DELETE</span><span class="stl_129 stl_49 stl_579" style="word-spacing:-0.0255em;">请 &nbsp;</span></div>
					<div class="stl_01" style="top:28.7481em; left:5.669em;"><span class="stl_129 stl_49 stl_68" style="word-spacing:-0.0188em;">求，就会删除 </span><span class="stl_132 stl_52 stl_68" style="word-spacing:-0.0188em;">ID </span><span class="stl_129 stl_49 stl_68" style="word-spacing:-0.0188em;">号是 </span><span class="stl_132 stl_52 stl_68" style="word-spacing:-0.0188em;">23 </span><span class="stl_129 stl_49 stl_68" style="word-spacing:-0.0188em;">的用户。</span><span class="stl_188 stl_44 stl_135" style="word-spacing:-0.0198em;">DELETE</span><span class="stl_129 stl_49 stl_68" style="word-spacing:-0.0188em;">方法在公共 </span><span class="stl_132 stl_52 stl_68" style="word-spacing:-0.0188em;">API </span><span class="stl_129 stl_49 stl_68" style="word-spacing:-0.0188em;">里面不常用，它们主要用于创建 &nbsp;</span></div>
					<div class="stl_01" style="top:30.0758em; left:5.6693em;"><span class="stl_129 stl_49 stl_361" style="word-spacing:-0.0284em;">信息，不能随便让一个用户去删掉数据库的信息。但是，和 </span><span class="stl_188 stl_44 stl_580" style="word-spacing:-0.03em;">PUT</span><span class="stl_129 stl_49 stl_361" style="word-spacing:-0.0284em;">方法一样，</span><span class="stl_188 stl_44 stl_580" style="word-spacing:-0.03em;">DELETE</span><span class="stl_129 stl_49 stl_361" style="word-spacing:-0.0284em;">方法也 &nbsp;</span></div>
					<div class="stl_01" style="top:31.3379em; left:5.6691em;"><span class="stl_129 stl_49 stl_10">值得了解一下。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.1712em; left:5.6691em;"><span class="stl_129 stl_49 stl_207" style="word-spacing:-0.0128em;">虽然在 </span><span class="stl_132 stl_52 stl_207" style="word-spacing:-0.0128em;">HTTP </span><span class="stl_129 stl_49 stl_207" style="word-spacing:-0.0128em;">规范里还有一些信息处理方式，但是这四种基本是你使用 </span><span class="stl_132 stl_52 stl_207" style="word-spacing:-0.0128em;">API </span><span class="stl_129 stl_49 stl_207" style="word-spacing:-0.0128em;">过程中可能遇 &nbsp;</span></div>
					<div class="stl_01" style="top:34.4993em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">到的全部。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.909em; left:5.6693em;"><span class="stl_260 stl_18 stl_10">4</span></div>
					<div class="stl_01" style="top:36.8507em; left:6.3471em;"><span class="stl_260 stl_18 stl_71">.2.2</span><span class="stl_91 stl_20 stl_71">ꢀ验证 &nbsp;</span></div>
					<div class="stl_01" style="top:38.7916em; left:5.6693em;"><span class="stl_129 stl_49 stl_581" style="word-spacing:-0.0143em;">虽然有些 </span><span class="stl_132 stl_52 stl_581" style="word-spacing:-0.0143em;">API </span><span class="stl_129 stl_49 stl_581" style="word-spacing:-0.0143em;">不需要验证操作（就是说任何人都可以使用 </span><span class="stl_132 stl_52 stl_581" style="word-spacing:-0.0143em;">API</span><span class="stl_129 stl_49 stl_581" style="word-spacing:-0.0143em;">，不需要注册），但是很多 &nbsp;</span></div>
					<div class="stl_01" style="top:40.0417em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">新式 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">API </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">在使用之前都要求客户验证。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.9527em; left:5.6693em;"><span class="stl_129 stl_49 stl_582" style="word-spacing:-0.0068em;">有些 </span><span class="stl_132 stl_52 stl_582" style="word-spacing:-0.0068em;">API </span><span class="stl_129 stl_49 stl_582" style="word-spacing:-0.0068em;">要求客户验证是为了计算 </span><span class="stl_132 stl_52 stl_582" style="word-spacing:-0.0068em;">API </span><span class="stl_129 stl_49 stl_582" style="word-spacing:-0.0068em;">调用的费用，或者是提供了包月的服务。有些验证 &nbsp;</span></div>
					<div class="stl_01" style="top:43.203em; left:5.6693em;"><span class="stl_129 stl_49 stl_581" style="word-spacing:-0.0135em;">是为了“限制”用户使用 </span><span class="stl_132 stl_52 stl_581" style="word-spacing:-0.0135em;">API</span><span class="stl_129 stl_49 stl_581" style="word-spacing:-0.0135em;">（限制每秒钟、每小时或每天 </span><span class="stl_132 stl_52 stl_581" style="word-spacing:-0.0135em;">API </span><span class="stl_129 stl_49 stl_581" style="word-spacing:-0.0135em;">调用的次数），或者是限 &nbsp;</span></div>
					<div class="stl_01" style="top:44.453em; left:5.6693em;"><span class="stl_129 stl_49 stl_582" style="word-spacing:-0.0068em;">制一部分用户对某种信息或某类 </span><span class="stl_132 stl_52 stl_582" style="word-spacing:-0.0068em;">API </span><span class="stl_129 stl_49 stl_582" style="word-spacing:-0.0068em;">的访问。还有一些 </span><span class="stl_132 stl_52 stl_582" style="word-spacing:-0.0068em;">API </span><span class="stl_129 stl_49 stl_582" style="word-spacing:-0.0068em;">可能不要求验证，但是可能会 &nbsp;</span></div>
					<div class="stl_01" style="top:47.9965em; left:5.6693em;"><span class="stl_60 stl_49 stl_404" style="word-spacing:-0.047em;">注 </span><span class="stl_61 stl_52 stl_404" style="word-spacing:-0.047em;">2</span><span class="stl_60 stl_49 stl_404" style="word-spacing:-0.047em;">：其实，很多 </span><span class="stl_61 stl_52 stl_404" style="word-spacing:-0.047em;">API </span><span class="stl_60 stl_49 stl_404" style="word-spacing:-0.047em;">在更新信息的时候都是用 </span><span class="stl_358 stl_44 stl_583" style="word-spacing:-0.0501em;">POST</span><span class="stl_60 stl_49 stl_404" style="word-spacing:-0.047em;">请求代替 </span><span class="stl_358 stl_44 stl_583" style="word-spacing:-0.0501em;">PUT</span><span class="stl_60 stl_49 stl_404" style="word-spacing:-0.047em;">请求。究竟是创建一个新实体还是更新 &nbsp;</span></div>
					<div class="stl_01" style="top:49.0086em; left:7.5117em;"><span class="stl_60 stl_49 stl_198" style="word-spacing:-0.0419em;">一个旧实体，通常要看 </span><span class="stl_61 stl_52 stl_198" style="word-spacing:-0.0419em;">API </span><span class="stl_60 stl_49 stl_198" style="word-spacing:-0.0419em;">请求本身是如何构建的。不过，掌握两者的差异还是有好处的，用 </span><span class="stl_61 stl_52 stl_198" style="word-spacing:-0.0419em;">API &nbsp;</span></div>
					<div class="stl_01" style="top:50.0619em; left:7.5118em;"><span class="stl_60 stl_49 stl_496" style="word-spacing:-0.0385em;">的时候你经常会遇到 </span><span class="stl_358 stl_44 stl_366" style="word-spacing:-0.041em;">PUT</span><span class="stl_60 stl_49 stl_496" style="word-spacing:-0.0385em;">请求。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">4</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">4 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 4</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_77.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_77.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9126em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">为了市场营销而跟踪用户的使用行为。 &nbsp;</span></div>
					<div class="stl_01" style="top:6.746em; left:6.6142em;"><span class="stl_129 stl_49 stl_403" style="word-spacing:-0.0389em;">通常 </span><span class="stl_132 stl_52 stl_403" style="word-spacing:-0.0389em;">API </span><span class="stl_129 stl_49 stl_403" style="word-spacing:-0.0389em;">验证的方法都是用类似令牌（</span><span class="stl_132 stl_52 stl_403" style="word-spacing:-0.0389em;">token</span><span class="stl_129 stl_49 stl_403" style="word-spacing:-0.0389em;">）的方式调用，每次 </span><span class="stl_132 stl_52 stl_403" style="word-spacing:-0.0389em;">API </span><span class="stl_129 stl_49 stl_403" style="word-spacing:-0.0389em;">调用都会把令牌传 &nbsp;</span></div>
					<div class="stl_01" style="top:8.074em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">递到服务器上。这种令牌要么是用户注册的时候分配给用户，要么就是在用户调用的时候 &nbsp;</span></div>
					<div class="stl_01" style="top:9.3241em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">才提供，可能是长期固定的值，也可能是频繁变化的，通过服务器对用户名和密码的组合 &nbsp;</span></div>
					<div class="stl_01" style="top:10.5741em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">处理后生成。 &nbsp;</span></div>
					<div class="stl_01" style="top:12.3371em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">例如，调用 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">The Echo Nest </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">音乐平台的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">API </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">获取枪与玫瑰乐队（</span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">Guns N</span><span class="stl_134 stl_36 stl_10" style="word-spacing:-0.0001em;">’</span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">Roses</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">）的歌曲： &nbsp;</span></div>
					<div class="stl_01" style="top:14.2344em; left:8.3386em;"><span class="stl_584 stl_44 stl_10">http://developer.echonest.com/api/v4/artist/songs?api_key=&lt;</span><span class="stl_256 stl_49 stl_10">你的</span><span class="stl_584 stl_44 stl_10">api_key&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:15.1078em; left:8.3386em;"><span class="stl_584 stl_44 stl_10">%</span></div>
					<div class="stl_01" style="top:15.1078em; left:8.6927em;"><span class="stl_584 stl_44 stl_10">20&amp;name=guns%20n%27%20roses&amp;format=json&amp;start=0&amp;results=100 &nbsp;</span></div>
					<div class="stl_01" style="top:16.8546em; left:6.6142em;"><span class="stl_129 stl_49 stl_402" style="word-spacing:-0.0415em;">这个链接向服务器提供的 </span><span class="stl_188 stl_44 stl_585" style="word-spacing:-0.0438em;">api_key</span><span class="stl_129 stl_49 stl_402" style="word-spacing:-0.0415em;">是我注册之后得到的，服务器会识别出这个链接发起的 &nbsp;</span></div>
					<div class="stl_01" style="top:18.039em; left:6.6143em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">是 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0002em;">Ryan Mitchell</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">（我）的请求，然后向请求者提供 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0002em;">JSON </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">格式的数据。 &nbsp;</span></div>
					<div class="stl_01" style="top:19.8795em; left:6.6143em;"><span class="stl_129 stl_49 stl_295" style="word-spacing:-0.0318em;">令牌除了在 </span><span class="stl_132 stl_52 stl_295" style="word-spacing:-0.0318em;">URL </span><span class="stl_129 stl_49 stl_295" style="word-spacing:-0.0318em;">链接中传递，还会通过请求头里的 </span><span class="stl_132 stl_52 stl_295" style="word-spacing:-0.0318em;">cookie </span><span class="stl_129 stl_49 stl_295" style="word-spacing:-0.0318em;">把用户信息传递给服务器。我 &nbsp;</span></div>
					<div class="stl_01" style="top:21.1295em; left:6.6142em;"><span class="stl_129 stl_49 stl_394" style="word-spacing:-0.0407em;">们将在本章后面和第 </span><span class="stl_132 stl_52 stl_394" style="word-spacing:-0.0407em;">12 </span><span class="stl_129 stl_49 stl_394" style="word-spacing:-0.0407em;">章更加详细地介绍请求头的内容，这里仅做简单的演示，请求头 &nbsp;</span></div>
					<div class="stl_01" style="top:22.4452em; left:6.6142em;"><span class="stl_129 stl_49 stl_586" style="word-spacing:-0.0263em;">可以用前几章使用的 </span><span class="stl_188 stl_44 stl_170" style="word-spacing:-0.0278em;">urllib</span><span class="stl_129 stl_49 stl_586" style="word-spacing:-0.0263em;">包进行传递。 &nbsp;</span></div>
					<div class="stl_01" style="top:24.3481em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">token = "&lt;your api key&gt;" &nbsp;</span></div>
					<div class="stl_01" style="top:25.1811em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">webRequest = urllib.request.Request("http://myapi.com", headers={"token":token}) &nbsp;</span></div>
					<div class="stl_01" style="top:26.0141em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">html = urlopen(webRequest) &nbsp;</span></div>
					<div class="stl_01" style="top:28.2905em; left:6.6142em;"><span class="stl_197 stl_18 stl_10">4</span></div>
					<div class="stl_01" style="top:28.2196em; left:7.4373em;"><span class="stl_197 stl_18 stl_71">.3</span><span class="stl_160 stl_20 stl_71">ꢀ服务器响应 &nbsp;</span></div>
					<div class="stl_01" style="top:30.6528em; left:6.6142em;"><span class="stl_129 stl_49 stl_491" style="word-spacing:-0.0276em;">和本章前面介绍的 </span><span class="stl_132 stl_52 stl_491" style="word-spacing:-0.0276em;">FreeGeoIP </span><span class="stl_129 stl_49 stl_491" style="word-spacing:-0.0276em;">的例子一样，</span><span class="stl_132 stl_52 stl_491" style="word-spacing:-0.0276em;">API </span><span class="stl_129 stl_49 stl_491" style="word-spacing:-0.0276em;">有一个重要的特征是它们会反馈格式友好 &nbsp;</span></div>
					<div class="stl_01" style="top:31.9029em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">的数据。大多数反馈的数据格式都是 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">XML </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">和 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">JSON</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.8139em; left:6.6142em;"><span class="stl_129 stl_49 stl_319" style="word-spacing:-0.0263em;">这几年，</span><span class="stl_132 stl_52 stl_319" style="word-spacing:-0.0263em;">JSON </span><span class="stl_129 stl_49 stl_319" style="word-spacing:-0.0263em;">比 </span><span class="stl_132 stl_52 stl_319" style="word-spacing:-0.0263em;">XML </span><span class="stl_129 stl_49 stl_319" style="word-spacing:-0.0263em;">更受欢迎，主要有两个原因。首先，</span><span class="stl_132 stl_52 stl_319" style="word-spacing:-0.0263em;">JSON </span><span class="stl_129 stl_49 stl_319" style="word-spacing:-0.0263em;">文件比完整的 </span><span class="stl_132 stl_52 stl_319" style="word-spacing:-0.0263em;">XML </span><span class="stl_129 stl_49 stl_319" style="word-spacing:-0.0263em;">格 &nbsp;</span></div>
					<div class="stl_01" style="top:35.0643em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">式小。比如下面的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">XML </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">数据用了 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">98 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">个字符： &nbsp;</span></div>
					<div class="stl_01" style="top:37.073em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:37.0327em; left:8.6928em;"><span class="stl_232 stl_44 stl_10">user&gt;&lt;firstname&gt;</span><span class="stl_116 stl_44 stl_10">Ryan</span><span class="stl_232 stl_44 stl_10">&lt;/firstname&gt;&lt;lastname&gt;</span><span class="stl_116 stl_44 stl_10">Mitchell</span><span class="stl_232 stl_44 stl_10">&lt;/lastname&gt;&lt;username&gt;</span><span class="stl_116 stl_44 stl_10">Kludgist &nbsp;</span></div>
					<div class="stl_01" style="top:37.906em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">&lt;/username&gt;&lt;/user&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:39.5872em; left:6.6142em;"><span class="stl_129 stl_49 stl_244" style="word-spacing:0.0005em;">同样的 </span><span class="stl_132 stl_52 stl_244" style="word-spacing:0.0005em;">JSON </span><span class="stl_129 stl_49 stl_244" style="word-spacing:0.0005em;">格式数据： &nbsp;</span></div>
					<div class="stl_01" style="top:41.5558em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">{</span></div>
					<div class="stl_01" style="top:41.5558em; left:8.6928em;"><span class="stl_232 stl_44 stl_10">"user"</span><span class="stl_116 stl_44 stl_10">:{</span><span class="stl_232 stl_44 stl_10">"firstname"</span><span class="stl_116 stl_44 stl_10">:"Ryan",</span><span class="stl_232 stl_44 stl_10">"lastname"</span><span class="stl_116 stl_44 stl_10">:"Mitchell",</span><span class="stl_232 stl_44 stl_10">"username"</span><span class="stl_116 stl_44 stl_10">:"Kludgist"}} &nbsp;</span></div>
					<div class="stl_01" style="top:43.2769em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">只要用 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">73 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">个字符，比表述同样内容的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">XML </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">文件要小 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">36%</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:45.1175em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">当然有人可能会说，</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0002em;">XML </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">也可以表示成这种形式： &nbsp;</span></div>
					<div class="stl_01" style="top:47.0553em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:47.0149em; left:8.6928em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">user </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">firstname="ryan" lastname="mitchell" username="Kludgist"</span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">&gt;&lt;/user&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:48.7362em; left:6.6142em;"><span class="stl_129 stl_49 stl_495" style="word-spacing:-0.0386em;">不过这么做并不好，因为它不支持深层嵌入数据。而且它也用了 </span><span class="stl_132 stl_52 stl_495" style="word-spacing:-0.0386em;">71 </span><span class="stl_129 stl_49 stl_495" style="word-spacing:-0.0386em;">个字符，和 </span><span class="stl_132 stl_52 stl_495" style="word-spacing:-0.0386em;">JSON </span><span class="stl_129 stl_49 stl_495" style="word-spacing:-0.0386em;">差 &nbsp;</span></div>
					<div class="stl_01" style="top:50.0639em; left:6.6142em;"><span class="stl_129 stl_49 stl_68">不多。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.5062em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">使用</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">API </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">45 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_78.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_78.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_132 stl_52 stl_587" style="word-spacing:-0.0887em;">JSON </span><span class="stl_129 stl_49 stl_587" style="word-spacing:-0.0887em;">格式比 </span><span class="stl_132 stl_52 stl_587" style="word-spacing:-0.0887em;">XML </span><span class="stl_129 stl_49 stl_587" style="word-spacing:-0.0887em;">更受欢迎的另一个原因是网络技术的改变。过去，服务器端用 </span><span class="stl_132 stl_52 stl_587" style="word-spacing:-0.0887em;">PHP &nbsp;</span></div>
					<div class="stl_01" style="top:6.0849em; left:5.6693em;"><span class="stl_129 stl_49 stl_110" style="word-spacing:-0.0014em;">和 </span><span class="stl_132 stl_52 stl_110" style="word-spacing:-0.0014em;">.NET </span><span class="stl_129 stl_49 stl_110" style="word-spacing:-0.0014em;">这些程序作为 </span><span class="stl_132 stl_52 stl_110" style="word-spacing:-0.0014em;">API </span><span class="stl_129 stl_49 stl_110" style="word-spacing:-0.0014em;">的接收端。现在，服务器端也会用一些 </span><span class="stl_132 stl_52 stl_110" style="word-spacing:-0.0014em;">JavaScript </span><span class="stl_129 stl_49 stl_110" style="word-spacing:-0.0014em;">框架作为 </span><span class="stl_132 stl_52 stl_110" style="word-spacing:-0.0014em;">API &nbsp;</span></div>
					<div class="stl_01" style="top:7.3349em; left:5.6693em;"><span class="stl_129 stl_49 stl_312" style="word-spacing:-0.0041em;">的发送和接收端，像 </span><span class="stl_132 stl_52 stl_312" style="word-spacing:-0.0041em;">Angular </span><span class="stl_129 stl_49 stl_312" style="word-spacing:-0.0041em;">或 </span><span class="stl_132 stl_52 stl_312" style="word-spacing:-0.0041em;">Backbone </span><span class="stl_129 stl_49 stl_312" style="word-spacing:-0.0041em;">等。虽然服务器端的技术无法预测它们即将收到 &nbsp;</span></div>
					<div class="stl_01" style="top:8.585em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">的数据格式，但是像 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0002em;">Backbone </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">之类的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0002em;">JavaScript </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">库处理 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0002em;">JSON </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">比处理 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0002em;">XML </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">要更简单。 &nbsp;</span></div>
					<div class="stl_01" style="top:10.496em; left:5.6693em;"><span class="stl_129 stl_49 stl_461" style="word-spacing:-0.03em;">虽然大多数 </span><span class="stl_132 stl_52 stl_461" style="word-spacing:-0.03em;">API </span><span class="stl_129 stl_49 stl_461" style="word-spacing:-0.03em;">都支持 </span><span class="stl_132 stl_52 stl_461" style="word-spacing:-0.03em;">XML </span><span class="stl_129 stl_49 stl_461" style="word-spacing:-0.03em;">数据格式，但在本书中我们还是用 </span><span class="stl_132 stl_52 stl_461" style="word-spacing:-0.03em;">JSON </span><span class="stl_129 stl_49 stl_461" style="word-spacing:-0.03em;">格式。当然，如果 &nbsp;</span></div>
					<div class="stl_01" style="top:11.8241em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">你还没有把两种格式都掌握，那么现在熟悉它们是个好时机——短期内它们都不会消失。 &nbsp;</span></div>
					<div class="stl_01" style="top:14.1755em; left:5.6693em;"><span class="stl_260 stl_18 stl_71">API</span><span class="stl_91 stl_20 stl_71">调用 &nbsp;</span></div>
					<div class="stl_01" style="top:16.1044em; left:5.6693em;"><span class="stl_129 stl_49 stl_588" style="word-spacing:-0.078em;">不同 </span><span class="stl_132 stl_52 stl_588" style="word-spacing:-0.078em;">API </span><span class="stl_129 stl_49 stl_588" style="word-spacing:-0.078em;">的调用语法大不相同，但是有几条共同准则。当使用 </span><span class="stl_188 stl_44 stl_589" style="word-spacing:-0.0823em;">GET</span><span class="stl_129 stl_49 stl_588" style="word-spacing:-0.078em;">请求获取数据时，用 &nbsp;</span></div>
					<div class="stl_01" style="top:17.3665em; left:5.6691em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0002em;">URL </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">路径描述你要获取的数据范围，查询参数可以作为过滤器或附加请求使用。 &nbsp;</span></div>
					<div class="stl_01" style="top:19.2775em; left:5.6691em;"><span class="stl_129 stl_49 stl_13" style="word-spacing:0.025em;">例如，下面这个虚拟的 </span><span class="stl_132 stl_52 stl_13" style="word-spacing:0.025em;">API</span><span class="stl_129 stl_49 stl_13" style="word-spacing:0.025em;">，可以获取 </span><span class="stl_132 stl_52 stl_13" style="word-spacing:0.025em;">ID </span><span class="stl_129 stl_49 stl_13" style="word-spacing:0.025em;">是 </span><span class="stl_132 stl_52 stl_13" style="word-spacing:0.025em;">1234 </span><span class="stl_129 stl_49 stl_13" style="word-spacing:0.025em;">的用户在 </span><span class="stl_132 stl_52 stl_13" style="word-spacing:0.025em;">2014 </span><span class="stl_129 stl_49 stl_13" style="word-spacing:0.025em;">年 </span><span class="stl_132 stl_52 stl_13" style="word-spacing:0.025em;">8 </span><span class="stl_129 stl_49 stl_13" style="word-spacing:0.025em;">月份发表的所有博文： &nbsp;</span></div>
					<div class="stl_01" style="top:21.2464em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">http://socialmediasite.com/users/1234/posts?from=08012014&amp;to=08312014 &nbsp;</span></div>
					<div class="stl_01" style="top:22.9675em; left:5.6693em;"><span class="stl_129 stl_49 stl_177" style="word-spacing:-0.0384em;">有许多 </span><span class="stl_132 stl_52 stl_177" style="word-spacing:-0.0384em;">API </span><span class="stl_129 stl_49 stl_177" style="word-spacing:-0.0384em;">会通过文件路径（</span><span class="stl_132 stl_52 stl_177" style="word-spacing:-0.0384em;">path</span><span class="stl_129 stl_49 stl_177" style="word-spacing:-0.0384em;">）的形式指定 </span><span class="stl_132 stl_52 stl_177" style="word-spacing:-0.0384em;">API </span><span class="stl_129 stl_49 stl_177" style="word-spacing:-0.0384em;">版本、数据格式和其他属性。例如， &nbsp;</span></div>
					<div class="stl_01" style="top:24.2175em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0003em;">下面的链接会返回同样的结果，但是使用虚拟 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0003em;">API </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0003em;">的第四版，反馈数据为 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0003em;">JSON </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0003em;">格式： &nbsp;</span></div>
					<div class="stl_01" style="top:26.186em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">http://socialmediasite.com/api/v4/json/users/1234/posts?from=08012014&amp;to=08312014 &nbsp;</span></div>
					<div class="stl_01" style="top:27.9071em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">还有一些 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">API </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">会通过请求参数（</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">request parameter</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">）的形式指定数据格式和 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">API </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">版本： &nbsp;</span></div>
					<div class="stl_01" style="top:29.8757em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">http://socialmediasite.com/users/1234/posts?format=json&amp;from=08012014&amp;to=08312014 &nbsp;</span></div>
					<div class="stl_01" style="top:32.1514em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">4</span></div>
					<div class="stl_01" style="top:32.0805em; left:6.4924em;"><span class="stl_197 stl_18 stl_71" style="word-spacing:0.0001em;">.4</span><span class="stl_160 stl_20 stl_71" style="word-spacing:0.0001em;">ꢀ</span><span class="stl_197 stl_18 stl_71" style="word-spacing:0.0001em;">Echo Nest &nbsp;</span></div>
					<div class="stl_01" style="top:34.5014em; left:15.9788em;"><span class="stl_365 stl_52 stl_10">3</span></div>
					<div class="stl_01" style="top:34.5137em; left:5.6693em;"><span class="stl_132 stl_52 stl_439" style="word-spacing:0.0872em;">The Echo Nest</span><span class="stl_129 stl_49 stl_439" style="word-spacing:-0.0417em;"> 音乐数据网站</span><span class="stl_129 stl_49 stl_439" style="word-spacing:0.4987em;"> 是一个用网络爬虫建立的超级给力的企业级案例。虽然像 &nbsp;</span></div>
					<div class="stl_01" style="top:35.7638em; left:5.669em;"><span class="stl_132 stl_52 stl_590" style="word-spacing:-0.0465em;">Pandora </span><span class="stl_129 stl_49 stl_590" style="word-spacing:-0.0465em;">之类的音乐公司都是通过人工干预完成音乐的分类与说明，但是</span><span class="stl_132 stl_52 stl_590" style="word-spacing:-0.0467em;"> The</span><span class="stl_132 stl_52 stl_590" style="word-spacing:0.0794em;"> Echo</span><span class="stl_132 stl_52 stl_590" style="word-spacing:0.0794em;"> Nest &nbsp;</span></div>
					<div class="stl_01" style="top:37.0915em; left:5.669em;"><span class="stl_129 stl_49 stl_68">是通过自动智能技术，以及博客与新闻信息的采集，来完成艺术家、歌曲和专辑的分类工 &nbsp;</span></div>
					<div class="stl_01" style="top:38.3416em; left:5.669em;"><span class="stl_129 stl_49 stl_68">作的。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.1628em; left:24.4593em;"><span class="stl_365 stl_52 stl_10">4</span></div>
					<div class="stl_01" style="top:40.1749em; left:5.669em;"><span class="stl_129 stl_49 stl_591" style="word-spacing:-0.0439em;">更给力的是，它的 </span><span class="stl_132 stl_52 stl_591" style="word-spacing:-0.0439em;">API</span><span class="stl_129 stl_49 stl_591" style="word-spacing:-0.0439em;"> 可以经非商业用途免费使用。</span><span class="stl_129 stl_49 stl_591" style="word-spacing:0.2258em;"> 使用</span><span class="stl_132 stl_52 stl_591" style="word-spacing:-0.0439em;"> API</span><span class="stl_129 stl_49 stl_591" style="word-spacing:-0.0439em;"> 得有一个</span><span class="stl_132 stl_52 stl_591" style="word-spacing:-0.0439em;"> key</span><span class="stl_129 stl_49 stl_591" style="word-spacing:-0.0439em;">，你可以在 &nbsp;</span></div>
					<div class="stl_01" style="top:41.4252em; left:5.6691em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0451em;">The Echo Nest</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;"> 的注册页面（</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">https://developer.echonest.com/account/register</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">）填入名称、邮箱 &nbsp;</span></div>
					<div class="stl_01" style="top:42.7529em; left:5.6691em;"><span class="stl_129 stl_49 stl_10">和用户名来注册账号。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.0086em; left:5.6693em;"><span class="stl_60 stl_49 stl_108" style="word-spacing:-0.0012em;">注 </span><span class="stl_61 stl_52 stl_108" style="word-spacing:-0.0012em;">3</span><span class="stl_60 stl_49 stl_108" style="word-spacing:-0.0012em;">：</span><span class="stl_61 stl_52 stl_108" style="word-spacing:-0.0012em;">2005 </span><span class="stl_60 stl_49 stl_108" style="word-spacing:-0.0012em;">年成立，</span><span class="stl_61 stl_52 stl_108" style="word-spacing:-0.0012em;">2014 </span><span class="stl_60 stl_49 stl_108" style="word-spacing:-0.0012em;">年被 </span><span class="stl_61 stl_52 stl_108" style="word-spacing:-0.0012em;">Spotify </span><span class="stl_60 stl_49 stl_108" style="word-spacing:-0.0012em;">以 </span><span class="stl_61 stl_52 stl_108" style="word-spacing:-0.0012em;">1 </span><span class="stl_60 stl_49 stl_108" style="word-spacing:-0.0012em;">亿美元收购。 &nbsp;</span></div>
					<div class="stl_01" style="top:49.0086em; left:5.6693em;"><span class="stl_60 stl_49 stl_179" style="word-spacing:-0.0105em;">注 </span><span class="stl_61 stl_52 stl_179" style="word-spacing:-0.0105em;">4</span><span class="stl_60 stl_49 stl_179" style="word-spacing:-0.0105em;">：请看</span><span class="stl_61 stl_52 stl_179" style="word-spacing:-0.0045em;"> The</span><span class="stl_61 stl_52 stl_179" style="word-spacing:0.0715em;"> Echo Nest</span><span class="stl_60 stl_49 stl_179" style="word-spacing:-0.0044em;"> 的授权页面（</span><span class="stl_61 stl_52 stl_179" style="word-spacing:-0.0044em;">http://developer.echonest.com/licensing.html</span><span class="stl_60 stl_49 stl_179" style="word-spacing:-0.0044em;">）中关于请求限制的相关 &nbsp;</span></div>
					<div class="stl_01" style="top:50.074em; left:7.512em;"><span class="stl_60 stl_49 stl_10">细节。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">4</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">6 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 4</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_79.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_79.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9154em; left:6.6142em;"><span class="stl_91 stl_20 stl_71">几个示例 &nbsp;</span></div>
					<div class="stl_01" style="top:6.703em; left:6.6142em;"><span class="stl_132 stl_52 stl_419" style="word-spacing:0.1295em;">The Echo Nest</span><span class="stl_129 stl_49 stl_419" style="word-spacing:0.1295em;"> 的 </span><span class="stl_132 stl_52 stl_419" style="word-spacing:0.0175em;">API</span><span class="stl_129 stl_49 stl_419" style="word-spacing:0.0175em;"> 的响应结果由四个部分组成：艺术家（</span><span class="stl_132 stl_52 stl_419" style="word-spacing:0.0175em;">artist</span><span class="stl_129 stl_49 stl_419" style="word-spacing:0.0175em;">）、歌曲（</span><span class="stl_132 stl_52 stl_419" style="word-spacing:0.0175em;">song</span><span class="stl_129 stl_49 stl_419" style="word-spacing:0.0175em;">）、专辑 &nbsp;</span></div>
					<div class="stl_01" style="top:8.0308em; left:6.2183em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:7.953em; left:7.01em;"><span class="stl_132 stl_52 stl_349" style="word-spacing:0.006em;">track</span><span class="stl_129 stl_49 stl_349" style="word-spacing:0.006em;">）和风格（</span><span class="stl_132 stl_52 stl_349" style="word-spacing:0.006em;">genre</span><span class="stl_129 stl_49 stl_349" style="word-spacing:0.006em;">）。除了风格之外，所有信息都带有唯一的 </span><span class="stl_132 stl_52 stl_349" style="word-spacing:0.006em;">ID </span><span class="stl_129 stl_49 stl_349" style="word-spacing:0.006em;">号，可以通过 </span><span class="stl_132 stl_52 stl_349" style="word-spacing:0.006em;">API </span><span class="stl_129 stl_49 stl_349" style="word-spacing:0.006em;">调 &nbsp;</span></div>
					<div class="stl_01" style="top:9.2031em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.006em;">用把信息展示成不同的形式。假如我想获取 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.006em;">Monty</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.125em;"> Python</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;"> 喜剧乐团的歌曲，可以用下面的 &nbsp;</span></div>
					<div class="stl_01" style="top:10.441em; left:6.6142em;"><span class="stl_129 stl_49 stl_186" style="word-spacing:-0.0143em;">链接获取歌曲的 </span><span class="stl_132 stl_52 stl_186" style="word-spacing:-0.0143em;">ID</span><span class="stl_129 stl_49 stl_186" style="word-spacing:-0.0143em;">（记得把 </span><span class="stl_188 stl_44 stl_283" style="word-spacing:-0.0151em;">&lt;</span><span class="stl_48 stl_49 stl_283" style="word-spacing:-0.0151em;">你的 </span><span class="stl_188 stl_44 stl_283" style="word-spacing:-0.0151em;">api_key&gt;</span><span class="stl_129 stl_49 stl_186" style="word-spacing:-0.0143em;">替换成你自己的 </span><span class="stl_132 stl_52 stl_186" style="word-spacing:-0.0143em;">API key</span><span class="stl_129 stl_49 stl_186" style="word-spacing:-0.0143em;">）： &nbsp;</span></div>
					<div class="stl_01" style="top:12.4216em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">http://developer.echonest.com/api/v4/artist/search?api_key=&lt;</span><span class="stl_256 stl_49 stl_10">你的</span><span class="stl_116 stl_44 stl_10">api_ &nbsp;</span></div>
					<div class="stl_01" style="top:13.2546em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">key&gt;&amp;name=monty%20python &nbsp;</span></div>
					<div class="stl_01" style="top:15.0537em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">响应的结果是： &nbsp;</span></div>
					<div class="stl_01" style="top:16.9446em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">{</span></div>
					<div class="stl_01" style="top:16.9446em; left:8.6928em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">"response"</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">: {</span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">"status"</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">: {</span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">"version"</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">: "4.2", </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">"code"</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">: 0, </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">"message"</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">: "Suc &nbsp;</span></div>
					<div class="stl_01" style="top:17.7776em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">cess"}, </span><span class="stl_232 stl_44 stl_10">"artists"</span><span class="stl_116 stl_44 stl_10">: [{</span><span class="stl_232 stl_44 stl_10">"id"</span><span class="stl_116 stl_44 stl_10">: "AR5HF791187B9ABAF4", </span><span class="stl_232 stl_44 stl_10">"name"</span><span class="stl_116 stl_44 stl_10">: "Monty Pytho &nbsp;</span></div>
					<div class="stl_01" style="top:18.6106em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">n"}, {</span><span class="stl_232 stl_44 stl_10">"id"</span><span class="stl_116 stl_44 stl_10">: "ARWCIDE13925F19A33", </span><span class="stl_232 stl_44 stl_10">"name"</span><span class="stl_116 stl_44 stl_10">: "Monty Python's SPAMALOT"}, &nbsp;</span></div>
					<div class="stl_01" style="top:19.4436em; left:8.6927em;"><span class="stl_116 stl_44 stl_10">{</span><span class="stl_232 stl_44 stl_10">"id"</span><span class="stl_116 stl_44 stl_10">: "ARVPRCC12FE0862033", </span><span class="stl_232 stl_44 stl_10">"name"</span><span class="stl_116 stl_44 stl_10">: "Monty Python's Graham Chapman" &nbsp;</span></div>
					<div class="stl_01" style="top:20.2766em; left:8.6927em;"><span class="stl_116 stl_44 stl_10">]}} &nbsp;</span></div>
					<div class="stl_01" style="top:20.2766em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">}</span></div>
					<div class="stl_01" style="top:21.999em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">还可以用歌曲的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">ID </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">号查询歌曲名称： &nbsp;</span></div>
					<div class="stl_01" style="top:23.9675em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">http://developer.echonest.com/api/v4/artist/songs?api_key=&lt;</span><span class="stl_256 stl_49 stl_10">你的</span><span class="stl_116 stl_44 stl_10">api_key&gt;&amp;id= &nbsp;</span></div>
					<div class="stl_01" style="top:24.8005em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">AR5HF791187B9ABAF4&amp;format=json&amp;start=0&amp;results=10 &nbsp;</span></div>
					<div class="stl_01" style="top:26.5219em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">这样就会响应 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Monty Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">的歌曲查询结果，都是一些不太流行的歌曲： &nbsp;</span></div>
					<div class="stl_01" style="top:28.4905em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">{</span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">"response"</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">: {</span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">"status"</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">: {</span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">"version"</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">: "4.2", </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">"code"</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">: 0, </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">"message"</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">: "Success"}, &nbsp;</span></div>
					<div class="stl_01" style="top:29.3639em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:29.3235em; left:8.6927em;"><span class="stl_232 stl_44 stl_10">start"</span><span class="stl_116 stl_44 stl_10">: 0, </span><span class="stl_232 stl_44 stl_10">"total"</span><span class="stl_116 stl_44 stl_10">: 476, </span><span class="stl_232 stl_44 stl_10">"songs"</span><span class="stl_116 stl_44 stl_10">: [{</span><span class="stl_232 stl_44 stl_10">"id"</span><span class="stl_116 stl_44 stl_10">: "SORDAUE12AF72AC547", </span><span class="stl_232 stl_44 stl_10">"title"</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:30.1565em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">"Neville Shunt"}, {</span><span class="stl_232 stl_44 stl_10">"id"</span><span class="stl_116 stl_44 stl_10">: "SORBMPW13129A9174D", </span><span class="stl_232 stl_44 stl_10">"title"</span><span class="stl_116 stl_44 stl_10">: "Classic (Silbury Hill) &nbsp;</span></div>
					<div class="stl_01" style="top:30.9895em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">(Part 2)"}, {</span><span class="stl_232 stl_44 stl_10">"id"</span><span class="stl_116 stl_44 stl_10">: "SOQXAYQ1316771628E", </span><span class="stl_232 stl_44 stl_10">"title"</span><span class="stl_116 stl_44 stl_10">: "Famous Person Quiz (The &nbsp;</span></div>
					<div class="stl_01" style="top:31.8225em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Final Rip Off Remix)"}, {</span><span class="stl_232 stl_44 stl_10">"id"</span><span class="stl_116 stl_44 stl_10">: "SOUMAYZ133EB4E17E8", </span><span class="stl_232 stl_44 stl_10">"title"</span><span class="stl_116 stl_44 stl_10">: "Always Look On &nbsp;</span></div>
					<div class="stl_01" style="top:32.6555em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">The Bright Side Of Life - Monty Python"}, ...]}} &nbsp;</span></div>
					<div class="stl_01" style="top:34.3662em; left:6.6142em;"><span class="stl_129 stl_49 stl_199" style="word-spacing:-0.025em;">另外，我也可以用 </span><span class="stl_188 stl_44 stl_586" style="word-spacing:-0.0264em;">name</span><span class="stl_129 stl_49 stl_199" style="word-spacing:-0.025em;">是 </span><span class="stl_188 stl_44 stl_586" style="word-spacing:-0.0264em;">monty%20python</span><span class="stl_129 stl_49 stl_199" style="word-spacing:-0.025em;">来替换唯一的 </span><span class="stl_132 stl_52 stl_199" style="word-spacing:-0.025em;">ID </span><span class="stl_129 stl_49 stl_199" style="word-spacing:-0.025em;">号来获取同样的信息： &nbsp;</span></div>
					<div class="stl_01" style="top:36.3468em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">http://developer.echonest.com/api/v4/artist/songs?api_key=&lt;</span><span class="stl_256 stl_49 stl_10">你的</span><span class="stl_116 stl_44 stl_10">api_key&gt;2&amp;name= &nbsp;</span></div>
					<div class="stl_01" style="top:37.1798em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">monty%20python&amp;format=json&amp;start=0&amp;results=10 &nbsp;</span></div>
					<div class="stl_01" style="top:38.9012em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">用同样的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">ID </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">号，我也可以请求与 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Monty Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">风格相似的艺术家： &nbsp;</span></div>
					<div class="stl_01" style="top:40.8698em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">http://developer.echonest.com/api/v4/artist/similar?api_key=&lt;</span><span class="stl_256 stl_49 stl_10">你的</span><span class="stl_116 stl_44 stl_10">api_key&gt;&amp;id= &nbsp;</span></div>
					<div class="stl_01" style="top:41.7028em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">AR5HF791187B9ABAF4&amp;format=json&amp;results=10&amp;start=0 &nbsp;</span></div>
					<div class="stl_01" style="top:43.4242em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">响应的结果包括像 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">Eric Idle </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">那样的喜剧艺术家，他是 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">Monty Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">的一员： &nbsp;</span></div>
					<div class="stl_01" style="top:45.3927em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">{</span></div>
					<div class="stl_01" style="top:45.3927em; left:8.6928em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">"response"</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">: {</span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">"status"</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">: {</span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">"version"</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">: "4.2", </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">"code"</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">: 0, </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">"message"</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">: "Suc &nbsp;</span></div>
					<div class="stl_01" style="top:46.2257em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">cess"}, </span><span class="stl_232 stl_44 stl_10">"artists"</span><span class="stl_116 stl_44 stl_10">: [{</span><span class="stl_232 stl_44 stl_10">"name"</span><span class="stl_116 stl_44 stl_10">: "Life of Brian", </span><span class="stl_232 stl_44 stl_10">"id"</span><span class="stl_116 stl_44 stl_10">: "ARNZYOS1272BA7FF &nbsp;</span></div>
					<div class="stl_01" style="top:47.0587em; left:8.6927em;"><span class="stl_116 stl_44 stl_10">8"}, {</span><span class="stl_232 stl_44 stl_10">"name"</span><span class="stl_116 stl_44 stl_10">: "Eric Idle", </span><span class="stl_232 stl_44 stl_10">"id"</span><span class="stl_116 stl_44 stl_10">: "ARELDIS1187B9ABC79"}, {</span><span class="stl_232 stl_44 stl_10">"name"</span><span class="stl_116 stl_44 stl_10">: "Th &nbsp;</span></div>
					<div class="stl_01" style="top:47.8917em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">e Simpsons", </span><span class="stl_232 stl_44 stl_10">"id"</span><span class="stl_116 stl_44 stl_10">: "ARNR4B91187FB5027C"}, {</span><span class="stl_232 stl_44 stl_10">"name"</span><span class="stl_116 stl_44 stl_10">: "Tom Lehrer", </span><span class="stl_232 stl_44 stl_10">"id" &nbsp;</span></div>
					<div class="stl_01" style="top:48.7256em; left:9.0469em;"><span class="stl_116 stl_44 stl_10">"ARJMYTZ1187FB54669"}, ...]}} &nbsp;</span></div>
					<div class="stl_01" style="top:47.0587em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">3</span></div>
					<div class="stl_01" style="top:48.7256em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">:</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.5062em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">使用</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">API </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">47 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_80.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_80.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8226em; left:31.3091em;"><span class="stl_365 stl_52 stl_10">5</span></div>
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_129 stl_49 stl_565" style="word-spacing:0.1157em;">你会发现这些相似艺术家包含一些很有趣的信息（比如，“</span><span class="stl_132 stl_52 stl_565" style="word-spacing:0.1157em;">Tom Lehrer</span><span class="stl_129 stl_49 stl_565" style="word-spacing:0.1157em;">”</span><span class="stl_129 stl_49 stl_565" style="word-spacing:0.0123em;"> ），第一个结果 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1627em; left:5.2732em;"><span class="stl_129 stl_49 stl_10">“</span></div>
					<div class="stl_01" style="top:6.0849em; left:6.0649em;"><span class="stl_132 stl_52 stl_282" style="word-spacing:0.12em;">The Life of Brian</span><span class="stl_129 stl_49 stl_282" style="word-spacing:0.12em;">”是</span><span class="stl_132 stl_52 stl_282" style="word-spacing:-0.0042em;"> Monty</span><span class="stl_132 stl_52 stl_282" style="word-spacing:0.1198em;"> Python</span><span class="stl_129 stl_49 stl_282" style="word-spacing:-0.0042em;"> 乐团演奏的电影配乐。使用这类取材丰富但人工干预 &nbsp;</span></div>
					<div class="stl_01" style="top:7.3349em; left:5.6693em;"><span class="stl_129 stl_49 stl_162" style="word-spacing:-0.0122em;">很少的数据库时，比较痛苦的是有时候会遇到一些无厘头的结果。这在使用第三方 </span><span class="stl_132 stl_52 stl_162" style="word-spacing:-0.0122em;">API </span><span class="stl_129 stl_49 stl_162" style="word-spacing:-0.0122em;">创 &nbsp;</span></div>
					<div class="stl_01" style="top:8.6627em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">建应用时需要格外注意。 &nbsp;</span></div>
					<div class="stl_01" style="top:10.4961em; left:5.6693em;"><span class="stl_129 stl_49 stl_463" style="word-spacing:-0.037em;">我就介绍这几个 </span><span class="stl_132 stl_52 stl_463" style="word-spacing:-0.037em;">The</span><span class="stl_132 stl_52 stl_463" style="word-spacing:0.0741em;"> Echo Nest API</span><span class="stl_129 stl_49 stl_463" style="word-spacing:-0.036em;"> 的小例子。具体文档请参考</span><span class="stl_132 stl_52 stl_463" style="word-spacing:-0.037em;"> The</span><span class="stl_132 stl_52 stl_463" style="word-spacing:0.0741em;"> Echo Nest API</span><span class="stl_129 stl_49 stl_463" style="word-spacing:-0.036em;"> 概述 &nbsp;</span></div>
					<div class="stl_01" style="top:11.8241em; left:5.2735em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:11.7464em; left:6.0651em;"><span class="stl_132 stl_52 stl_592">http://developer.echonest.com/docs/v4</span><span class="stl_129 stl_49 stl_592">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.6574em; left:5.6693em;"><span class="stl_132 stl_52 stl_593" style="word-spacing:0.0876em;">The Echo Nest</span><span class="stl_129 stl_49 stl_593" style="word-spacing:-0.0293em;"> 资助了很多技术与音乐交叉领域的黑客松项目（</span><span class="stl_132 stl_52 stl_593" style="word-spacing:-0.0293em;">hackathon</span><span class="stl_129 stl_49 stl_593" style="word-spacing:-0.0293em;">，也叫黑客马拉 &nbsp;</span></div>
					<div class="stl_01" style="top:14.9078em; left:5.6693em;"><span class="stl_129 stl_49 stl_302" style="word-spacing:0.0999em;">松、编程马拉松）和编程项目。如果你想从中获取灵感，</span><span class="stl_132 stl_52 stl_302" style="word-spacing:0.0999em;">The Echo Nest</span><span class="stl_129 stl_49 stl_302" style="word-spacing:-0.019em;"> 示例页面（</span><span class="stl_132 stl_52 stl_302" style="word-spacing:-0.019em;">http:// &nbsp;</span></div>
					<div class="stl_01" style="top:16.1578em; left:5.6693em;"><span class="stl_132 stl_52 stl_10">static.echonest.com/labs/demo.html</span><span class="stl_129 stl_49 stl_10">）是一个好的起点。 &nbsp;</span></div>
					<div class="stl_01" style="top:18.6238em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">4</span></div>
					<div class="stl_01" style="top:18.553em; left:6.4924em;"><span class="stl_197 stl_18 stl_71" style="word-spacing:0.0002em;">.5</span><span class="stl_160 stl_20 stl_71" style="word-spacing:0.0002em;">ꢀ</span><span class="stl_197 stl_18 stl_71" style="word-spacing:0.0002em;">Twitter API &nbsp;</span></div>
					<div class="stl_01" style="top:20.9862em; left:5.6693em;"><span class="stl_129 stl_49 stl_594" style="word-spacing:-0.0322em;">众所周知，</span><span class="stl_132 stl_52 stl_594" style="word-spacing:-0.0322em;">Twitter </span><span class="stl_129 stl_49 stl_594" style="word-spacing:-0.0322em;">非常保护自己的 </span><span class="stl_132 stl_52 stl_594" style="word-spacing:-0.0322em;">API</span><span class="stl_129 stl_49 stl_594" style="word-spacing:-0.0322em;">，这也是理所当然的。这家公司平均每月拥有 </span><span class="stl_132 stl_52 stl_594" style="word-spacing:-0.0322em;">2.3 &nbsp;</span></div>
					<div class="stl_01" style="top:22.2362em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">亿活跃用户和超过 </span><span class="stl_132 stl_52 stl_10">1 </span><span class="stl_129 stl_49 stl_10">亿美元的收入，是不会愿意让用户随意获取信息的。 &nbsp;</span></div>
					<div class="stl_01" style="top:24.1473em; left:5.6693em;"><span class="stl_132 stl_52 stl_208" style="word-spacing:-0.0233em;">Twitter </span><span class="stl_129 stl_49 stl_208" style="word-spacing:-0.0233em;">的 </span><span class="stl_132 stl_52 stl_208" style="word-spacing:-0.0233em;">API </span><span class="stl_129 stl_49 stl_208" style="word-spacing:-0.0233em;">请求限制有两种方法：每 </span><span class="stl_132 stl_52 stl_208" style="word-spacing:-0.0233em;">15 </span><span class="stl_129 stl_49 stl_208" style="word-spacing:-0.0233em;">分钟 </span><span class="stl_132 stl_52 stl_208" style="word-spacing:-0.0233em;">15 </span><span class="stl_129 stl_49 stl_208" style="word-spacing:-0.0233em;">次和每 </span><span class="stl_132 stl_52 stl_208" style="word-spacing:-0.0233em;">15 </span><span class="stl_129 stl_49 stl_208" style="word-spacing:-0.0233em;">分钟 </span><span class="stl_132 stl_52 stl_208" style="word-spacing:-0.0233em;">180 </span><span class="stl_129 stl_49 stl_208" style="word-spacing:-0.0233em;">次，由请求类型决 &nbsp;</span></div>
					<div class="stl_01" style="top:25.3976em; left:5.6693em;"><span class="stl_129 stl_49 stl_483" style="word-spacing:-0.0077em;">定。比如你可以 </span><span class="stl_132 stl_52 stl_483" style="word-spacing:-0.0077em;">1 </span><span class="stl_129 stl_49 stl_483" style="word-spacing:-0.0077em;">分钟获取 </span><span class="stl_132 stl_52 stl_483" style="word-spacing:-0.0077em;">12 </span><span class="stl_129 stl_49 stl_483" style="word-spacing:-0.0077em;">次（每 </span><span class="stl_132 stl_52 stl_483" style="word-spacing:-0.0077em;">15 </span><span class="stl_129 stl_49 stl_483" style="word-spacing:-0.0077em;">分钟 </span><span class="stl_132 stl_52 stl_483" style="word-spacing:-0.0077em;">180 </span><span class="stl_129 stl_49 stl_483" style="word-spacing:-0.0077em;">次的平均数）</span><span class="stl_132 stl_52 stl_483" style="word-spacing:-0.0077em;">Twitter </span><span class="stl_129 stl_49 stl_483" style="word-spacing:-0.0077em;">用户基本信息，但 &nbsp;</span></div>
					<div class="stl_01" style="top:26.6353em; left:34.8721em;"><span class="stl_365 stl_52 stl_10">6</span></div>
					<div class="stl_01" style="top:26.6476em; left:5.6693em;"><span class="stl_129 stl_49 stl_595" style="word-spacing:0.0294em;">是 </span><span class="stl_132 stl_52 stl_595" style="word-spacing:0.0294em;">1 </span><span class="stl_129 stl_49 stl_595" style="word-spacing:0.0294em;">分钟只能获取 </span><span class="stl_132 stl_52 stl_595" style="word-spacing:0.0294em;">1 </span><span class="stl_129 stl_49 stl_595" style="word-spacing:0.0294em;">次（每 </span><span class="stl_132 stl_52 stl_595" style="word-spacing:0.0294em;">15 </span><span class="stl_129 stl_49 stl_595" style="word-spacing:0.0294em;">分钟 </span><span class="stl_132 stl_52 stl_595" style="word-spacing:0.0294em;">15 </span><span class="stl_129 stl_49 stl_595" style="word-spacing:0.0294em;">次的平均数）这些用户的关注者（</span><span class="stl_132 stl_52 stl_595" style="word-spacing:0.0294em;">follower</span><span class="stl_129 stl_49 stl_595" style="word-spacing:0.0294em;">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.1351em; left:5.6693em;"><span class="stl_260 stl_18 stl_10">4</span></div>
					<div class="stl_01" style="top:29.0768em; left:6.3471em;"><span class="stl_260 stl_18 stl_71">.5.1</span><span class="stl_91 stl_20 stl_71">ꢀ开始 &nbsp;</span></div>
					<div class="stl_01" style="top:31.0177em; left:5.6693em;"><span class="stl_129 stl_49 stl_455" style="word-spacing:-0.0343em;">除了流量限制，</span><span class="stl_132 stl_52 stl_455" style="word-spacing:-0.0343em;">Twitter </span><span class="stl_129 stl_49 stl_455" style="word-spacing:-0.0343em;">的</span><span class="stl_132 stl_52 stl_455" style="word-spacing:-0.0333em;"> API</span><span class="stl_129 stl_49 stl_455" style="word-spacing:-0.0333em;"> 验证方式也比</span><span class="stl_132 stl_52 stl_455" style="word-spacing:-0.0333em;"> The</span><span class="stl_132 stl_52 stl_455" style="word-spacing:0.0758em;"> Echo Nest</span><span class="stl_129 stl_49 stl_455" style="word-spacing:-0.0331em;"> 要复杂，既要有</span><span class="stl_132 stl_52 stl_455" style="word-spacing:-0.0333em;"> API</span><span class="stl_129 stl_49 stl_455" style="word-spacing:-0.0333em;"> 的</span><span class="stl_132 stl_52 stl_455" style="word-spacing:-0.0333em;"> key</span><span class="stl_129 stl_49 stl_455" style="word-spacing:-0.0333em;">， &nbsp;</span></div>
					<div class="stl_01" style="top:32.2677em; left:5.6693em;"><span class="stl_129 stl_49 stl_596" style="word-spacing:-0.0979em;">也要用其他 </span><span class="stl_132 stl_52 stl_596" style="word-spacing:-0.0979em;">key</span><span class="stl_129 stl_49 stl_596" style="word-spacing:-0.0979em;">。要获取 </span><span class="stl_132 stl_52 stl_596" style="word-spacing:-0.0979em;">API </span><span class="stl_129 stl_49 stl_596" style="word-spacing:-0.0979em;">的 </span><span class="stl_132 stl_52 stl_596" style="word-spacing:-0.0979em;">key</span><span class="stl_129 stl_49 stl_596" style="word-spacing:-0.0979em;">，你需要注册一个 </span><span class="stl_132 stl_52 stl_596" style="word-spacing:-0.0979em;">Twitter </span><span class="stl_129 stl_49 stl_596" style="word-spacing:-0.0979em;">账号；可以在注册页面 &nbsp;</span></div>
					<div class="stl_01" style="top:33.5954em; left:5.2735em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:33.5177em; left:6.0651em;"><span class="stl_132 stl_52 stl_168" style="word-spacing:-0.0046em;">https://twitter.com/signup</span><span class="stl_129 stl_49 stl_168" style="word-spacing:-0.0046em;">）直接注册。另外，还需要在 </span><span class="stl_132 stl_52 stl_168" style="word-spacing:-0.0046em;">Twitter </span><span class="stl_129 stl_49 stl_168" style="word-spacing:-0.0046em;">的开发者网站（</span><span class="stl_132 stl_52 stl_168" style="word-spacing:-0.0046em;">https://apps. &nbsp;</span></div>
					<div class="stl_01" style="top:34.7677em; left:5.6693em;"><span class="stl_132 stl_52 stl_10">twitter.com/app/new</span><span class="stl_129 stl_49 stl_10">）注册一个新应用。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.6788em; left:5.6693em;"><span class="stl_129 stl_49 stl_597" style="word-spacing:0.0256em;">完成注册之后，你会在一个新页面看到你应用的基本信息，包括自定义的 </span><span class="stl_132 stl_52 stl_597" style="word-spacing:0.0256em;">key</span><span class="stl_129 stl_49 stl_597" style="word-spacing:0.0256em;">（图 </span><span class="stl_132 stl_52 stl_597" style="word-spacing:0.0256em;">4-1</span><span class="stl_129 stl_49 stl_597" style="word-spacing:0.0256em;">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:49.0086em; left:5.6693em;"><span class="stl_60 stl_49 stl_386" style="word-spacing:-0.0004em;">注 </span><span class="stl_61 stl_52 stl_386" style="word-spacing:-0.0004em;">5</span><span class="stl_60 stl_49 stl_386" style="word-spacing:-0.0004em;">：美国歌手、数学家、曲风简洁幽默，</span><span class="stl_61 stl_52 stl_386" style="word-spacing:-0.0004em;">https://en.wikipedia.org/wiki/Tom_Lehrer</span><span class="stl_60 stl_49 stl_386" style="word-spacing:-0.0004em;">。——译者注 &nbsp;</span></div>
					<div class="stl_01" style="top:50.0086em; left:5.6693em;"><span class="stl_60 stl_49 stl_386" style="word-spacing:-0.0005em;">注 </span><span class="stl_61 stl_52 stl_386" style="word-spacing:-0.0005em;">6</span><span class="stl_60 stl_49 stl_386" style="word-spacing:-0.0005em;">：完整的流量限制列表，请查看 </span><span class="stl_61 stl_52 stl_386" style="word-spacing:-0.0005em;">https://dev.twitter.com/rest/public/rate-limits</span><span class="stl_60 stl_49 stl_386" style="word-spacing:-0.0005em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">4</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">8 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 4</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_83.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_83.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01 stl_382" style="top:25.1339em; left:6.6142em;"><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0139em;">图 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0139em;">4-1</span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0139em;">：</span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0139em;">Twitter </span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0139em;">的应用设置页面提供了新应用的基本信息 &nbsp;</span></div>
					<div class="stl_01" style="top:26.9878em; left:6.6142em;"><span class="stl_129 stl_49 stl_186" style="word-spacing:0.1103em;">如果你单击“</span><span class="stl_132 stl_52 stl_186" style="word-spacing:0.1103em;">manage keys and access tokens</span><span class="stl_129 stl_49 stl_186" style="word-spacing:0.1103em;">”页面，就会跳转到一个包含更多信息的页面 &nbsp;</span></div>
					<div class="stl_01" style="top:28.2379em; left:6.6142em;"><span class="stl_129 stl_49 stl_412" style="word-spacing:0.1667em;">上（图 </span><span class="stl_132 stl_52 stl_412" style="word-spacing:0.1667em;">4-2</span><span class="stl_129 stl_49 stl_412" style="word-spacing:0.1667em;">）。 &nbsp;</span></div>
					<div class="stl_01 stl_382" style="top:49.9848em; left:6.6142em;"><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0092em;">图 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0092em;">4-2</span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0092em;">：使用 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0092em;">Twitter </span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0092em;">的 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0092em;">API </span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0092em;">需要用加密 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0092em;">key &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.5062em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">使用</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">API </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">49 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_85.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_85.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_129 stl_49 stl_211" style="word-spacing:-0.0212em;">这个页面还包括一个自动生成加密 </span><span class="stl_132 stl_52 stl_211" style="word-spacing:-0.0212em;">key </span><span class="stl_129 stl_49 stl_211" style="word-spacing:-0.0212em;">的按钮，可以使得应用被公开访问（比如，你打算 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1627em; left:5.6693em;"><span class="stl_129 stl_49 stl_438">把这个应用作为一本书里的例子使用时）。 &nbsp;</span></div>
					<div class="stl_01" style="top:8.5724em; left:5.6693em;"><span class="stl_260 stl_18 stl_10">4</span></div>
					<div class="stl_01" style="top:8.5141em; left:6.3471em;"><span class="stl_260 stl_18 stl_71">.5.2</span><span class="stl_91 stl_20 stl_71">ꢀ几个示例 &nbsp;</span></div>
					<div class="stl_01" style="top:10.455em; left:5.6693em;"><span class="stl_132 stl_52 stl_464" style="word-spacing:-0.0045em;">Twitter </span><span class="stl_129 stl_49 stl_464" style="word-spacing:-0.0045em;">的验证系统用 </span><span class="stl_132 stl_52 stl_464" style="word-spacing:-0.0045em;">OAuth </span><span class="stl_129 stl_49 stl_464" style="word-spacing:-0.0045em;">验证，非常复杂；最好找一个成熟稳定的 </span><span class="stl_132 stl_52 stl_464" style="word-spacing:-0.0045em;">Python </span><span class="stl_129 stl_49 stl_464" style="word-spacing:-0.0045em;">库来处理它， &nbsp;</span></div>
					<div class="stl_01" style="top:11.705em; left:5.6693em;"><span class="stl_129 stl_49 stl_165" style="word-spacing:-0.0358em;">不要自己从头写代码来实现。因为手工处理 </span><span class="stl_132 stl_52 stl_165" style="word-spacing:-0.0358em;">Twitter </span><span class="stl_129 stl_49 stl_165" style="word-spacing:-0.0358em;">的 </span><span class="stl_132 stl_52 stl_165" style="word-spacing:-0.0358em;">API </span><span class="stl_129 stl_49 stl_165" style="word-spacing:-0.0358em;">是非常复杂的工作，所以本节 &nbsp;</span></div>
					<div class="stl_01" style="top:12.955em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">内容的重点是用 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">代码来实现 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">API </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">的交互，不是亲手实现这个 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">API</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:14.8661em; left:5.6693em;"><span class="stl_129 stl_49 stl_106" style="word-spacing:-0.001em;">在编写本书时，有很多 </span><span class="stl_132 stl_52 stl_106" style="word-spacing:-0.001em;">Python</span><span class="stl_132 stl_52 stl_106" style="word-spacing:0.124em;"> 2.x</span><span class="stl_129 stl_49 stl_106" style="word-spacing:-0.001em;"> 版本的库可以与</span><span class="stl_132 stl_52 stl_106" style="word-spacing:-0.001em;"> Twitter</span><span class="stl_129 stl_49 stl_106" style="word-spacing:-0.001em;"> 进行交互，但是</span><span class="stl_132 stl_52 stl_106" style="word-spacing:-0.001em;"> Python</span><span class="stl_132 stl_52 stl_106" style="word-spacing:0.124em;"> 3.x</span><span class="stl_129 stl_49 stl_106" style="word-spacing:-0.001em;"> 版本 &nbsp;</span></div>
					<div class="stl_01" style="top:16.1164em; left:5.6693em;"><span class="stl_129 stl_49 stl_401" style="word-spacing:-0.016em;">的库比较少。好在最好的一个 </span><span class="stl_132 stl_52 stl_401" style="word-spacing:-0.016em;">Python</span><span class="stl_132 stl_52 stl_401" style="word-spacing:0.101em;"> Twitter</span><span class="stl_129 stl_49 stl_401" style="word-spacing:-0.017em;"> 库（名字也叫</span><span class="stl_132 stl_52 stl_401" style="word-spacing:-0.016em;"> Twitter</span><span class="stl_129 stl_49 stl_401" style="word-spacing:-0.016em;">）也支持</span><span class="stl_132 stl_52 stl_401" style="word-spacing:-0.016em;"> Python</span><span class="stl_132 stl_52 stl_401" style="word-spacing:0.101em;"> 3.x</span><span class="stl_129 stl_49 stl_401" style="word-spacing:0.101em;"> 版 &nbsp;</span></div>
					<div class="stl_01" style="top:17.3664em; left:5.6693em;"><span class="stl_129 stl_49 stl_152" style="word-spacing:0.0065em;">本。你可以从 </span><span class="stl_132 stl_52 stl_152" style="word-spacing:0.0065em;">Python</span><span class="stl_132 stl_52 stl_152" style="word-spacing:0.109em;"> Twitter</span><span class="stl_132 stl_52 stl_152" style="word-spacing:0.109em;"> Tools</span><span class="stl_129 stl_49 stl_152" style="word-spacing:0.109em;">（</span><span class="stl_132 stl_52 stl_152" style="word-spacing:0.109em;">PTT</span><span class="stl_129 stl_49 stl_152" style="word-spacing:0.109em;">，</span><span class="stl_132 stl_52 stl_152" style="word-spacing:0.109em;">http://mike.verdone.ca/twitter/#downloads</span><span class="stl_129 stl_49 stl_152" style="word-spacing:0.109em;">）网站 &nbsp;</span></div>
					<div class="stl_01" style="top:18.6044em; left:5.6693em;"><span class="stl_129 stl_49 stl_598" style="word-spacing:0.0152em;">下载并安装这个库（</span><span class="stl_132 stl_52 stl_598" style="word-spacing:0.0152em;">pip </span><span class="stl_129 stl_49 stl_598" style="word-spacing:0.0152em;">安装也可以，</span><span class="stl_188 stl_44 stl_599" style="word-spacing:0.016em;">pip install twitter</span><span class="stl_129 stl_49 stl_598" style="word-spacing:0.0152em;">）： &nbsp;</span></div>
					<div class="stl_01" style="top:20.585em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:21.418em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:20.585em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">cd twitter-x.xx.x &nbsp;</span></div>
					<div class="stl_01" style="top:21.418em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">python setup.py install &nbsp;</span></div>
					<div class="stl_01" style="top:23.8318em; left:10.3937em;"><span class="stl_243 stl_18 stl_10" style="word-spacing:-0.0278em;">Twitter </span><span class="stl_245 stl_20 stl_10" style="word-spacing:-0.0278em;">访问权限 &nbsp;</span></div>
					<div class="stl_01" style="top:25.7279em; left:10.3937em;"><span class="stl_48 stl_49 stl_153" style="word-spacing:0.1049em;">应用的默认访问权限（</span><span class="stl_51 stl_52 stl_153" style="word-spacing:0.1049em;">credential permissions</span><span class="stl_48 stl_49 stl_153" style="word-spacing:0.1049em;">）是只读（</span><span class="stl_51 stl_52 stl_153" style="word-spacing:0.1049em;">read-only</span><span class="stl_48 stl_49 stl_153" style="word-spacing:0.1049em;">）模式，除 &nbsp;</span></div>
					<div class="stl_01" style="top:26.9685em; left:10.441em;"><span class="stl_48 stl_49 stl_10">了让你的应用发推文之外，这样的权限可以满足大部分需求。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.7699em; left:10.3937em;"><span class="stl_48 stl_49 stl_600" style="word-spacing:-0.005em;">如果想把令牌的权限改成读 </span><span class="stl_51 stl_52 stl_600" style="word-spacing:-0.005em;">/ </span><span class="stl_48 stl_49 stl_600" style="word-spacing:-0.005em;">写（</span><span class="stl_51 stl_52 stl_600" style="word-spacing:-0.005em;">read/write</span><span class="stl_48 stl_49 stl_600" style="word-spacing:-0.005em;">）模式，你可以在 </span><span class="stl_51 stl_52 stl_600" style="word-spacing:-0.005em;">Twitter </span><span class="stl_48 stl_49 stl_600" style="word-spacing:-0.005em;">的应用 &nbsp;</span></div>
					<div class="stl_01" style="top:30.0105em; left:10.441em;"><span class="stl_48 stl_49 stl_10">控制面板的权限栏进行修改。改变权限后令牌会重新生成。 &nbsp;</span></div>
					<div class="stl_01" style="top:31.8119em; left:10.3937em;"><span class="stl_48 stl_49 stl_479" style="word-spacing:-0.0483em;">如果有需要你也可以更新应用的令牌权限，用它登录你的 </span><span class="stl_51 stl_52 stl_479" style="word-spacing:-0.0483em;">Twitter </span><span class="stl_48 stl_49 stl_479" style="word-spacing:-0.0483em;">账号直接 &nbsp;</span></div>
					<div class="stl_01" style="top:33.0525em; left:10.441em;"><span class="stl_48 stl_49 stl_601">收发推文。不过要注意信息安全。通常，应该对不同的应用授予不同的权 &nbsp;</span></div>
					<div class="stl_01" style="top:34.2195em; left:10.441em;"><span class="stl_48 stl_49 stl_10">限，而不是给那些不需要太多权限的应用过多的访问权限。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.4885em; left:5.6693em;"><span class="stl_129 stl_49 stl_602" style="word-spacing:-0.0401em;">我们的第一个练习是搜索某个推文。下面的代码连接 </span><span class="stl_132 stl_52 stl_602" style="word-spacing:-0.0401em;">Twitter API</span><span class="stl_129 stl_49 stl_602" style="word-spacing:-0.0401em;">，然后打印一个包含 &nbsp;</span></div>
					<div class="stl_01" style="top:37.8148em; left:5.6693em;"><span class="stl_188 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:37.7264em; left:6.0443em;"><span class="stl_188 stl_44 stl_210" style="word-spacing:-0.0129em;">python</span><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0123em;">标签的推文 </span><span class="stl_132 stl_52 stl_301" style="word-spacing:-0.0123em;">JSON </span><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0123em;">列表。记得用的时候把对应的信息替换成你的 </span><span class="stl_132 stl_52 stl_301" style="word-spacing:-0.0123em;">OAuth </span><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0123em;">验证信息： &nbsp;</span></div>
					<div class="stl_01" style="top:39.7069em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">twitter </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Twitter &nbsp;</span></div>
					<div class="stl_01" style="top:41.3729em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">t = Twitter(auth=OAuth(&lt;Access Token&gt;,&lt;Access Token Secret&gt;, &nbsp;</span></div>
					<div class="stl_01" style="top:42.2059em; left:15.5395em;"><span class="stl_116 stl_44 stl_10">&lt;Consumer Key&gt;,&lt;Consumer Secret&gt;)) &nbsp;</span></div>
					<div class="stl_01" style="top:43.0389em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">pythonTweets = t.search.tweets(q = "#python") &nbsp;</span></div>
					<div class="stl_01" style="top:43.8719em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(pythonTweets) &nbsp;</span></div>
					<div class="stl_01" style="top:45.6725em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">虽然这个程序的打印结果可能会很长，但是你可以获得推文的所有信息，包括：推文的发 &nbsp;</span></div>
					<div class="stl_01" style="top:46.9225em; left:5.6693em;"><span class="stl_129 stl_49 stl_139">表日期和具体时间，转发或收藏的信息，用户账号和简介图片的信息，等等。虽然你只想 &nbsp;</span></div>
					<div class="stl_01" style="top:48.0948em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">看这些推文的部分内容，但是 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Twitter</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.081em;"> API</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;"> 是为那些想在自己网站上显示完整推文的开发者 &nbsp;</span></div>
					<div class="stl_01" style="top:49.4226em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">设计的，因此会包含许多内容。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">5</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">0 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 4</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_86.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_86.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">你也可以通过 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">API </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">发一篇推文来看看效果： &nbsp;</span></div>
					<div class="stl_01" style="top:6.7794em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">twitter </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_358 stl_44 stl_10">* &nbsp;</span></div>
					<div class="stl_01" style="top:8.5743em; left:8.3387em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">t = Twitter(auth=OAuth(&lt;Access Token&gt;, &lt;Access Token Secret&gt;, &nbsp;</span></div>
					<div class="stl_01" style="top:9.4073em; left:16.4845em;"><span class="stl_116 stl_44 stl_10">&lt;Consumer Key&gt;, &lt;Consumer Secret&gt;)) &nbsp;</span></div>
					<div class="stl_01" style="top:10.2403em; left:8.3387em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">statusUpdate = t.statuses.update(status='Hello, world!') &nbsp;</span></div>
					<div class="stl_01" style="top:11.0733em; left:8.3387em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(statusUpdate) &nbsp;</span></div>
					<div class="stl_01" style="top:12.7954em; left:6.6142em;"><span class="stl_129 stl_49 stl_586" style="word-spacing:-0.0211em;">推文的 </span><span class="stl_132 stl_52 stl_586" style="word-spacing:-0.0211em;">JSON </span><span class="stl_129 stl_49 stl_586" style="word-spacing:-0.0211em;">格式数据（</span><span class="stl_132 stl_52 stl_586" style="word-spacing:-0.0211em;">JSON </span><span class="stl_129 stl_49 stl_586" style="word-spacing:-0.0211em;">字段和内容都用双引号，这是 </span><span class="stl_132 stl_52 stl_586" style="word-spacing:-0.0211em;">Python </span><span class="stl_129 stl_49 stl_586" style="word-spacing:-0.0211em;">字符串打印形式的内 &nbsp;</span></div>
					<div class="stl_01" style="top:14.1231em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">容）如下所示： &nbsp;</span></div>
					<div class="stl_01" style="top:16.014em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">{</span></div>
					<div class="stl_01" style="top:16.014em; left:8.6928em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">'created_at': 'Sun Nov 30 07:23:39 +0000 2014', 'place': None, 'in_reply_to_scr &nbsp;</span></div>
					<div class="stl_01" style="top:16.847em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">een_name': None, 'id_str': '538956506478428160', 'in_reply_to_user_id: None,'lan &nbsp;</span></div>
					<div class="stl_01" style="top:17.68em; left:8.3386em;"><span class="stl_116 stl_44 stl_290" style="word-spacing:0em;">g': 'en', 'in_reply_to_user_id_str': None, 'user': {'profile_sidebar_border_colo &nbsp;</span></div>
					<div class="stl_01" style="top:18.513em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">r': '000000', 'profile_background_image_url': 'http://pbs.twimg.com/profile_back &nbsp;</span></div>
					<div class="stl_01" style="top:19.346em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">ground_images/497094351076347904/RXn8MUlD.png', 'description':'Software Engine &nbsp;</span></div>
					<div class="stl_01" style="top:20.179em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">er@LinkeDrive, Masters student @HarvardEXT, @OlinCollege graduate, writer @OReil &nbsp;</span></div>
					<div class="stl_01" style="top:21.012em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">lyMedia. Really tall. Has pink hair. Female, despite the name.','time_zone': 'Ea &nbsp;</span></div>
					<div class="stl_01" style="top:21.845em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">stern Time (US &amp; Canada)', 'location': 'Boston, MA', 'lang': 'en', 'url': 'http: &nbsp;</span></div>
					<div class="stl_01" style="top:22.678em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">//t.co/FM6dHXloIw', 'profile_location': None, 'name': 'Ryan Mitchell', 'screen_n &nbsp;</span></div>
					<div class="stl_01" style="top:23.511em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">ame': 'Kludgist', 'protected': False, 'default_profile_image': False, 'id_str': &nbsp;</span></div>
					<div class="stl_01" style="top:24.344em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">'</span></div>
					<div class="stl_01" style="top:25.177em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">_</span></div>
					<div class="stl_01" style="top:24.344em; left:8.6927em;"><span class="stl_116 stl_44 stl_10">14983299', 'favourites_count': 140, 'contributors_enabled': False, 'profile_use &nbsp;</span></div>
					<div class="stl_01" style="top:25.177em; left:8.6927em;"><span class="stl_116 stl_44 stl_10">background_image': True, 'profile_background_image_url_https': 'https://pbs.twi &nbsp;</span></div>
					<div class="stl_01" style="top:26.01em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">mg.com/profile_background_images/497094351076347904/RXn8MUlD.png', 'profile_side &nbsp;</span></div>
					<div class="stl_01" style="top:26.843em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">bar_fill_color': '889654', 'profile_link_color': '0021B3', 'default_profile': Fa &nbsp;</span></div>
					<div class="stl_01" style="top:27.676em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">lse, 'statuses_count': 3344, 'profile_background_color': 'FFFFFF', 'profile_imag &nbsp;</span></div>
					<div class="stl_01" style="top:28.509em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">e_url': 'http://pbs.twimg.com/profile_images/496692905335984128/XJh_d5f5_normal. &nbsp;</span></div>
					<div class="stl_01" style="top:29.342em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">jpeg', 'profile_background_tile': True, 'id': 14983299, 'friends_count': 409, 'p &nbsp;</span></div>
					<div class="stl_01" style="top:30.175em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">rofile_image_url_https': 'https://pbs.twimg.com/profile_images/49669290533598412 &nbsp;</span></div>
					<div class="stl_01" style="top:31.008em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">8</span></div>
					<div class="stl_01" style="top:31.841em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">8</span></div>
					<div class="stl_01" style="top:31.008em; left:8.6927em;"><span class="stl_116 stl_44 stl_10">/XJh_d5f5_normal.jpeg', 'following': False, 'created_at': 'Mon Jun 02 18:35:1 &nbsp;</span></div>
					<div class="stl_01" style="top:31.841em; left:9.0469em;"><span class="stl_116 stl_44 stl_10">+0000 2008', 'is_translator': False, 'geo_enabled': True, 'is_translation_enabl &nbsp;</span></div>
					<div class="stl_01" style="top:32.674em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">ed': False, 'follow_request_sent': False, 'followers_count': 2085, 'utc_offset' &nbsp;</span></div>
					<div class="stl_01" style="top:33.507em; left:9.0469em;"><span class="stl_116 stl_44 stl_10">-18000, 'verified': False, 'profile_text_color': '383838', 'notifications': F &nbsp;</span></div>
					<div class="stl_01" style="top:34.34em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">alse, 'entities': {'description': {'urls': []}, 'url': {'urls': [{'indices': [ &nbsp;</span></div>
					<div class="stl_01" style="top:35.173em; left:8.6927em;"><span class="stl_116 stl_44 stl_10">, 22], 'url': 'http://t.co/FM6dHXloIw', 'expanded_url': 'http://ryanemitchell. &nbsp;</span></div>
					<div class="stl_01" style="top:33.507em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">:</span></div>
					<div class="stl_01" style="top:35.173em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">0</span></div>
					<div class="stl_01" style="top:36.006em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">com', 'display_url': 'ryanemitchell.com'}]}}, 'listed_count': 22, 'profile_banne &nbsp;</span></div>
					<div class="stl_01" style="top:36.839em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">r_url': 'https://pbs.twimg.com/profile_banners/14983299/1412961553'}, 'retweeted &nbsp;</span></div>
					<div class="stl_01" style="top:37.672em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">'</span></div>
					<div class="stl_01" style="top:37.672em; left:8.6927em;"><span class="stl_116 stl_44 stl_10">: False, 'in_reply_to_status_id_str': None, 'source': '&lt;a href="http://ryanemit &nbsp;</span></div>
					<div class="stl_01" style="top:38.505em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">chell.com" rel="nofollow"&gt;PythonScraping&lt;/a&gt;', 'favorite_count': 0, 'text': 'Hell &nbsp;</span></div>
					<div class="stl_01" style="top:39.338em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">o,world!', 'truncated': False, 'id': 538956506478428160, 'retweet_count': 0, 'fa &nbsp;</span></div>
					<div class="stl_01" style="top:40.171em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">vorited': False, 'in_reply_to_status_id': None, 'geo': None, 'entities': {'user_m &nbsp;</span></div>
					<div class="stl_01" style="top:41.004em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">entions': [], 'hashtags': [], 'urls': [], 'symbols': []}, 'coordinates': None, ' &nbsp;</span></div>
					<div class="stl_01" style="top:41.837em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">contributors': None} &nbsp;</span></div>
					<div class="stl_01" style="top:43.5684em; left:6.6142em;"><span class="stl_129 stl_49 stl_165" style="word-spacing:-0.0358em;">这就是发了一篇推文的结果。我有时觉得 </span><span class="stl_132 stl_52 stl_165" style="word-spacing:-0.0358em;">Twitter </span><span class="stl_129 stl_49 stl_165" style="word-spacing:-0.0358em;">之所以要限制 </span><span class="stl_132 stl_52 stl_165" style="word-spacing:-0.0358em;">API </span><span class="stl_129 stl_49 stl_165" style="word-spacing:-0.0358em;">访问次数，是因为每 &nbsp;</span></div>
					<div class="stl_01" style="top:44.8961em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">个推文的字节很多，请求响应实在太费流量。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.8072em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">对于获取一组推文的请求，你可以通过设置推文数量来限制条数： &nbsp;</span></div>
					<div class="stl_01" style="top:48.6983em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">pythonStatuses = t.statuses.user_timeline(screen_name="montypython", count=5) &nbsp;</span></div>
					<div class="stl_01" style="top:49.5313em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(pythonStatuses) &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.5062em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">使用</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">API </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">51 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_87.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_87.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_129 stl_49 stl_603" style="word-spacing:-0.0246em;">这个例子中，我们请求 </span><span class="stl_132 stl_52 stl_603" style="word-spacing:-0.0246em;">@montypython </span><span class="stl_129 stl_49 stl_603" style="word-spacing:-0.0246em;">推文中（也包括转发的推文）按时间排序最靠前的 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1246em; left:5.6693em;"><span class="stl_132 stl_52 stl_10">5</span></div>
					<div class="stl_01" style="top:6.1627em; left:6.263em;"><span class="stl_129 stl_49 stl_10">条推文。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.996em; left:5.6693em;"><span class="stl_129 stl_49 stl_486" style="word-spacing:-0.0408em;">尽管这三个例子介绍了 </span><span class="stl_132 stl_52 stl_486" style="word-spacing:-0.0408em;">Twitter</span><span class="stl_132 stl_52 stl_486" style="word-spacing:0.0752em;"> API</span><span class="stl_129 stl_49 stl_486" style="word-spacing:-0.0398em;"> 的许多功能（搜索推文，获取任意用户的推文，用自 &nbsp;</span></div>
					<div class="stl_01" style="top:9.2463em; left:5.6693em;"><span class="stl_129 stl_49 stl_424" style="word-spacing:0.0199em;">己的账号发推文），但是 </span><span class="stl_132 stl_52 stl_424" style="word-spacing:0.0199em;">Twitter</span><span class="stl_132 stl_52 stl_424" style="word-spacing:0.1438em;"> Python</span><span class="stl_129 stl_49 stl_424" style="word-spacing:0.0198em;"> 库的能力远不止这些。你还可以搜索和操作</span><span class="stl_132 stl_52 stl_424" style="word-spacing:0.0198em;"> Twitter &nbsp;</span></div>
					<div class="stl_01" style="top:10.574em; left:5.6693em;"><span class="stl_129 stl_49 stl_139">的信息列表，已关注和未关注的用户，以及查看用户的简介信息，等等。完整的文档请在 &nbsp;</span></div>
					<div class="stl_01" style="top:11.7464em; left:5.6693em;"><span class="stl_132 stl_52 stl_10">GitHub</span><span class="stl_129 stl_49 stl_10">（</span><span class="stl_132 stl_52 stl_10">https://github.com/sixohsix/twitter</span><span class="stl_129 stl_49 stl_10">）上查看。 &nbsp;</span></div>
					<div class="stl_01" style="top:14.2124em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">4</span></div>
					<div class="stl_01" style="top:14.1415em; left:6.4924em;"><span class="stl_197 stl_18 stl_71" style="word-spacing:0.0001em;">.6</span><span class="stl_160 stl_20 stl_71" style="word-spacing:0.0001em;">ꢀ</span><span class="stl_197 stl_18 stl_71" style="word-spacing:0.0001em;">Google API &nbsp;</span></div>
					<div class="stl_01" style="top:16.5748em; left:5.6693em;"><span class="stl_132 stl_52 stl_395" style="word-spacing:-0.0381em;">Google </span><span class="stl_129 stl_49 stl_395" style="word-spacing:-0.0381em;">是目前为网民提供最全面、最好用的网络 </span><span class="stl_132 stl_52 stl_395" style="word-spacing:-0.0381em;">API </span><span class="stl_129 stl_49 stl_395" style="word-spacing:-0.0381em;">套件（</span><span class="stl_132 stl_52 stl_395" style="word-spacing:-0.0381em;">collection</span><span class="stl_129 stl_49 stl_395" style="word-spacing:-0.0381em;">）的公司之一。无 &nbsp;</span></div>
					<div class="stl_01" style="top:17.8248em; left:5.6693em;"><span class="stl_129 stl_49 stl_484" style="word-spacing:-0.008em;">论你想处理哪种信息，包括语言翻译、地理位置、日历，甚至基因数据，</span><span class="stl_132 stl_52 stl_484" style="word-spacing:-0.008em;">Google </span><span class="stl_129 stl_49 stl_484" style="word-spacing:-0.008em;">都提供了 &nbsp;</span></div>
					<div class="stl_01" style="top:19.0748em; left:5.6693em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">API</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">。</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Google </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">还为它的一些知名应用提供 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">API</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">，比如 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Gmail</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">、</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">YouTube </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">和 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Blogger </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">等。 &nbsp;</span></div>
					<div class="stl_01" style="top:20.9859em; left:5.6693em;"><span class="stl_129 stl_49 stl_604" style="word-spacing:-0.0327em;">查看 </span><span class="stl_132 stl_52 stl_604" style="word-spacing:-0.0327em;">Google</span><span class="stl_132 stl_52 stl_604" style="word-spacing:0.0675em;"> API</span><span class="stl_129 stl_49 stl_604" style="word-spacing:-0.0327em;"> 有两种方式。一种方式是通过产品页面（</span><span class="stl_132 stl_52 stl_604" style="word-spacing:-0.0327em;">https://developers.google.com/ &nbsp;</span></div>
					<div class="stl_01" style="top:22.2362em; left:5.6693em;"><span class="stl_132 stl_52 stl_210" style="word-spacing:-0.0102em;">products/</span><span class="stl_129 stl_49 stl_210" style="word-spacing:-0.0102em;">）查看，里面有许多 </span><span class="stl_132 stl_52 stl_210" style="word-spacing:-0.0102em;">API</span><span class="stl_129 stl_49 stl_210" style="word-spacing:-0.0102em;">、软件开发工具包，以及其他软件开发者感兴趣的项目。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.4862em; left:5.6693em;"><span class="stl_129 stl_49 stl_393" style="word-spacing:0.0141em;">另一种方式是 </span><span class="stl_132 stl_52 stl_393" style="word-spacing:0.0141em;">API </span><span class="stl_129 stl_49 stl_393" style="word-spacing:0.0141em;">控制台（</span><span class="stl_132 stl_52 stl_393" style="word-spacing:0.0141em;">https://console.developers.google.com/</span><span class="stl_129 stl_49 stl_393" style="word-spacing:0.0141em;">），里面提供了方便的接口 &nbsp;</span></div>
					<div class="stl_01" style="top:24.7362em; left:5.6693em;"><span class="stl_129 stl_49 stl_585" style="word-spacing:-0.0368em;">来开启和关闭 </span><span class="stl_132 stl_52 stl_585" style="word-spacing:-0.0368em;">API </span><span class="stl_129 stl_49 stl_585" style="word-spacing:-0.0368em;">服务，查看流量限制和使用情况，还可以和 </span><span class="stl_132 stl_52 stl_585" style="word-spacing:-0.0368em;">Google </span><span class="stl_129 stl_49 stl_585" style="word-spacing:-0.0368em;">强大的云计算平台 &nbsp;</span></div>
					<div class="stl_01" style="top:26.0639em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">的开发实例结合使用。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.8973em; left:5.6693em;"><span class="stl_132 stl_52 stl_605" style="word-spacing:-0.07em;">Google </span><span class="stl_129 stl_49 stl_605" style="word-spacing:-0.07em;">的大多数 </span><span class="stl_132 stl_52 stl_605" style="word-spacing:-0.07em;">API </span><span class="stl_129 stl_49 stl_605" style="word-spacing:-0.07em;">都是免费的，不过有些需要付费，比如搜索 </span><span class="stl_132 stl_52 stl_605" style="word-spacing:-0.07em;">API </span><span class="stl_129 stl_49 stl_605" style="word-spacing:-0.07em;">需要一个付费的 &nbsp;</span></div>
					<div class="stl_01" style="top:29.1473em; left:5.6693em;"><span class="stl_129 stl_49 stl_343" style="word-spacing:-0.0301em;">授权。</span><span class="stl_132 stl_52 stl_343" style="word-spacing:-0.0301em;">Google </span><span class="stl_129 stl_49 stl_343" style="word-spacing:-0.0301em;">的免费 </span><span class="stl_132 stl_52 stl_343" style="word-spacing:-0.0301em;">API </span><span class="stl_129 stl_49 stl_343" style="word-spacing:-0.0301em;">套件对普通版的账号也是非常慷慨的，允许每天进行 </span><span class="stl_132 stl_52 stl_343" style="word-spacing:-0.0301em;">250 </span><span class="stl_129 stl_49 stl_343" style="word-spacing:-0.0301em;">次到 &nbsp;</span></div>
					<div class="stl_01" style="top:30.437em; left:5.6693em;"><span class="stl_132 stl_52 stl_10">2</span></div>
					<div class="stl_01" style="top:30.3974em; left:6.081em;"><span class="stl_132 stl_52 stl_272" style="word-spacing:0.1019em;">0 000 000</span><span class="stl_129 stl_49 stl_272" style="word-spacing:-0.0391em;"> 次的访问。还有一些</span><span class="stl_132 stl_52 stl_272" style="word-spacing:-0.0391em;"> API</span><span class="stl_129 stl_49 stl_272" style="word-spacing:-0.0391em;"> 可以通过验证信用卡提高流量上限（不需要支付费 &nbsp;</span></div>
					<div class="stl_01" style="top:31.6474em; left:5.6693em;"><span class="stl_129 stl_49 stl_606" style="word-spacing:-0.0215em;">用）。比如，</span><span class="stl_132 stl_52 stl_606" style="word-spacing:-0.0215em;">Google </span><span class="stl_129 stl_49 stl_606" style="word-spacing:-0.0215em;">的地点查询 </span><span class="stl_132 stl_52 stl_606" style="word-spacing:-0.0215em;">API </span><span class="stl_129 stl_49 stl_606" style="word-spacing:-0.0215em;">每 </span><span class="stl_132 stl_52 stl_606" style="word-spacing:-0.0215em;">24 </span><span class="stl_129 stl_49 stl_606" style="word-spacing:-0.0215em;">小时的流量限制是 </span><span class="stl_132 stl_52 stl_606" style="word-spacing:-0.0215em;">1000 </span><span class="stl_129 stl_49 stl_606" style="word-spacing:-0.0215em;">次，但是如果你通过 &nbsp;</span></div>
					<div class="stl_01" style="top:32.8975em; left:5.6693em;"><span class="stl_129 stl_49 stl_585" style="word-spacing:-0.0228em;">了信用卡验证，就可以提高到 </span><span class="stl_132 stl_52 stl_585" style="word-spacing:-0.0228em;">150</span><span class="stl_132 stl_52 stl_585" style="word-spacing:0.1212em;"> 000</span><span class="stl_129 stl_49 stl_585" style="word-spacing:-0.0228em;"> 次。更多的信息请参考</span><span class="stl_132 stl_52 stl_585" style="word-spacing:-0.0228em;"> Google</span><span class="stl_129 stl_49 stl_585" style="word-spacing:-0.0227em;"> 的</span><span class="stl_132 stl_52 stl_585" style="word-spacing:-0.0228em;"> API</span><span class="stl_129 stl_49 stl_585" style="word-spacing:-0.0228em;"> 使用限额和 &nbsp;</span></div>
					<div class="stl_01" style="top:34.1475em; left:5.6693em;"><span class="stl_129 stl_49 stl_85">计费方式页面（</span><span class="stl_132 stl_52 stl_85">https://developers.google.com/places/webservice/usage</span><span class="stl_129 stl_49 stl_85">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.6351em; left:5.6693em;"><span class="stl_260 stl_18 stl_10">4</span></div>
					<div class="stl_01" style="top:36.5768em; left:6.3471em;"><span class="stl_260 stl_18 stl_71">.6.1</span><span class="stl_91 stl_20 stl_71">ꢀ开始 &nbsp;</span></div>
					<div class="stl_01" style="top:38.5177em; left:5.6693em;"><span class="stl_129 stl_49 stl_607" style="word-spacing:-0.0994em;">如果你有 </span><span class="stl_132 stl_52 stl_607" style="word-spacing:-0.0994em;">Google </span><span class="stl_129 stl_49 stl_607" style="word-spacing:-0.0994em;">账号，可以查看自己可用的 </span><span class="stl_132 stl_52 stl_607" style="word-spacing:-0.0994em;">API </span><span class="stl_129 stl_49 stl_607" style="word-spacing:-0.0994em;">列表，并通过 </span><span class="stl_132 stl_52 stl_607" style="word-spacing:-0.0994em;">Google </span><span class="stl_129 stl_49 stl_607" style="word-spacing:-0.0994em;">开发者控制台 &nbsp;</span></div>
					<div class="stl_01" style="top:39.8454em; left:5.2735em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:39.7677em; left:6.0651em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0002em;">https://console.developers.google.com/</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">）创建 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0002em;">API </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0002em;">key</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">。如果你没有 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0002em;">Google </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">账号，请在创 &nbsp;</span></div>
					<div class="stl_01" style="top:41.0178em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">建 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">Google </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">账号页面（</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">https://accounts.google.com/SignUp</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">）建立自己的账号。 &nbsp;</span></div>
					<div class="stl_01" style="top:42.9288em; left:5.6693em;"><span class="stl_129 stl_49 stl_608" style="word-spacing:-0.0677em;">当你登录账号或账号创建完成后，就能在 </span><span class="stl_132 stl_52 stl_608" style="word-spacing:-0.0677em;">API </span><span class="stl_129 stl_49 stl_608" style="word-spacing:-0.0677em;">控制台页面（</span><span class="stl_132 stl_52 stl_608" style="word-spacing:-0.0677em;">https://console.developers. &nbsp;</span></div>
					<div class="stl_01" style="top:44.1791em; left:5.6693em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0003em;">google.com/project/201151233021/apiui/</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0003em;">）看到一些账号信息，包含 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0003em;">API </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0003em;">的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0003em;">key</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0003em;">。单击左边菜 &nbsp;</span></div>
					<div class="stl_01" style="top:45.4291em; left:5.6693em;"><span class="stl_129 stl_49 stl_609" style="word-spacing:0.0577em;">单的“</span><span class="stl_132 stl_52 stl_609" style="word-spacing:0.0577em;">Credentials</span><span class="stl_129 stl_49 stl_609" style="word-spacing:0.0577em;">”（凭证）选项（图 </span><span class="stl_132 stl_52 stl_609" style="word-spacing:0.0577em;">4-3</span><span class="stl_129 stl_49 stl_609" style="word-spacing:0.0577em;">）： &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">5</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">2 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 4</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_89.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_89.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01 stl_382" style="top:25.4663em; left:6.6142em;"><span class="stl_383 stl_20 stl_244" style="word-spacing:-0.0136em;">图 </span><span class="stl_384 stl_18 stl_244" style="word-spacing:-0.0136em;">4-3</span><span class="stl_383 stl_20 stl_244" style="word-spacing:-0.0136em;">：</span><span class="stl_384 stl_18 stl_244" style="word-spacing:-0.0136em;">Google </span><span class="stl_383 stl_20 stl_244" style="word-spacing:-0.0136em;">的 </span><span class="stl_384 stl_18 stl_244" style="word-spacing:-0.0136em;">API </span><span class="stl_383 stl_20 stl_244" style="word-spacing:-0.0136em;">凭证页面 &nbsp;</span></div>
					<div class="stl_01" style="top:27.3202em; left:6.6142em;"><span class="stl_129 stl_49 stl_211" style="word-spacing:0.1004em;">在凭证页面，你可以单击“</span><span class="stl_132 stl_52 stl_211" style="word-spacing:0.1004em;">Create new Key</span><span class="stl_129 stl_49 stl_211" style="word-spacing:0.1004em;">”按钮创建新的</span><span class="stl_132 stl_52 stl_211" style="word-spacing:-0.0181em;"> API</span><span class="stl_132 stl_52 stl_211" style="word-spacing:0.1009em;"> key</span><span class="stl_129 stl_49 stl_211" style="word-spacing:0.1009em;">。为了你的账号安全， &nbsp;</span></div>
					<div class="stl_01" style="top:28.5702em; left:6.6142em;"><span class="stl_129 stl_49 stl_610" style="word-spacing:-0.0358em;">建议限制 </span><span class="stl_132 stl_52 stl_610" style="word-spacing:-0.0358em;">API </span><span class="stl_129 stl_49 stl_610" style="word-spacing:-0.0358em;">使用的 </span><span class="stl_132 stl_52 stl_610" style="word-spacing:-0.0358em;">IP </span><span class="stl_129 stl_49 stl_610" style="word-spacing:-0.0358em;">地址或 </span><span class="stl_132 stl_52 stl_610" style="word-spacing:-0.0358em;">URL </span><span class="stl_129 stl_49 stl_610" style="word-spacing:-0.0358em;">链接。你也可以创建一个可用于任意 </span><span class="stl_132 stl_52 stl_610" style="word-spacing:-0.0358em;">IP </span><span class="stl_129 stl_49 stl_610" style="word-spacing:-0.0358em;">地址或 </span><span class="stl_132 stl_52 stl_610" style="word-spacing:-0.0358em;">URL &nbsp;</span></div>
					<div class="stl_01" style="top:29.8202em; left:6.6142em;"><span class="stl_129 stl_49 stl_344" style="word-spacing:0.0192em;">的 </span><span class="stl_132 stl_52 stl_344" style="word-spacing:0.0192em;">API</span><span class="stl_132 stl_52 stl_344" style="word-spacing:0.0872em;"> key</span><span class="stl_129 stl_49 stl_344" style="word-spacing:0.0872em;">，只要把“</span><span class="stl_132 stl_52 stl_344" style="word-spacing:0.0872em;">Accept Request From These Server IP Addresses</span><span class="stl_129 stl_49 stl_344" style="word-spacing:0.0872em;">”（接受这些服务器</span><span class="stl_132 stl_52 stl_344" style="word-spacing:0.0192em;"> IP &nbsp;</span></div>
					<div class="stl_01" style="top:31.0702em; left:6.6142em;"><span class="stl_129 stl_49 stl_558" style="word-spacing:-0.0194em;">地址发出的请求）这一栏空着就行了。但是，请记住保证 </span><span class="stl_132 stl_52 stl_558" style="word-spacing:-0.0194em;">API</span><span class="stl_132 stl_52 stl_558" style="word-spacing:0.1015em;"> key</span><span class="stl_129 stl_49 stl_558" style="word-spacing:-0.0204em;"> 的安全性是非常重要的 &nbsp;</span></div>
					<div class="stl_01" style="top:32.3202em; left:6.6142em;"><span class="stl_129 stl_49 stl_454" style="word-spacing:-0.0376em;">事情，如果你不限制允许使用 </span><span class="stl_132 stl_52 stl_454" style="word-spacing:-0.0376em;">API</span><span class="stl_129 stl_49 stl_454" style="word-spacing:-0.0376em;"> 的</span><span class="stl_132 stl_52 stl_454" style="word-spacing:-0.0376em;"> IP</span><span class="stl_129 stl_49 stl_454" style="word-spacing:-0.0378em;"> 地址——任何使用你的</span><span class="stl_132 stl_52 stl_454" style="word-spacing:-0.0376em;"> API</span><span class="stl_132 stl_52 stl_454" style="word-spacing:0.0784em;"> key</span><span class="stl_129 stl_49 stl_454" style="word-spacing:-0.0376em;"> 调用你的</span><span class="stl_132 stl_52 stl_454" style="word-spacing:-0.0376em;"> API</span><span class="stl_129 stl_49 stl_454" style="word-spacing:-0.0376em;"> 都 &nbsp;</span></div>
					<div class="stl_01" style="top:33.6479em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">算成是你的消费，即使你并不知情。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.4813em; left:6.6142em;"><span class="stl_129 stl_49 stl_118" style="word-spacing:-0.0014em;">你也可以建立多个 </span><span class="stl_132 stl_52 stl_118" style="word-spacing:-0.0014em;">API</span><span class="stl_132 stl_52 stl_118" style="word-spacing:0.1236em;"> key</span><span class="stl_129 stl_49 stl_118" style="word-spacing:0.1236em;">。比如，你可以为每个项目都分配一个单独的</span><span class="stl_132 stl_52 stl_118" style="word-spacing:-0.0014em;"> API</span><span class="stl_132 stl_52 stl_118" style="word-spacing:0.1236em;"> key</span><span class="stl_129 stl_49 stl_118" style="word-spacing:0.1236em;">，也可以 &nbsp;</span></div>
					<div class="stl_01" style="top:36.7316em; left:6.6142em;"><span class="stl_129 stl_49 stl_580" style="word-spacing:-0.0353em;">为每个网站域名都分配一个 </span><span class="stl_132 stl_52 stl_580" style="word-spacing:-0.0353em;">API</span><span class="stl_132 stl_52 stl_580" style="word-spacing:0.0807em;"> key</span><span class="stl_129 stl_49 stl_580" style="word-spacing:0.0807em;">。但是，</span><span class="stl_132 stl_52 stl_580" style="word-spacing:0.0807em;">Google</span><span class="stl_129 stl_49 stl_580" style="word-spacing:-0.0351em;"> 的</span><span class="stl_132 stl_52 stl_580" style="word-spacing:-0.0353em;"> API</span><span class="stl_129 stl_49 stl_580" style="word-spacing:-0.0353em;"> 流量是按照每个账号分配的， &nbsp;</span></div>
					<div class="stl_01" style="top:37.9816em; left:6.6142em;"><span class="stl_129 stl_49 stl_611" style="word-spacing:-0.0153em;">不是按照每个 </span><span class="stl_132 stl_52 stl_611" style="word-spacing:-0.0153em;">key </span><span class="stl_129 stl_49 stl_611" style="word-spacing:-0.0153em;">分配的，所以这样做虽然可以方便地管理 </span><span class="stl_132 stl_52 stl_611" style="word-spacing:-0.0153em;">API </span><span class="stl_129 stl_49 stl_611" style="word-spacing:-0.0153em;">权限，但是并不会提高你 &nbsp;</span></div>
					<div class="stl_01" style="top:39.3094em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">的可用流量！ &nbsp;</span></div>
					<div class="stl_01" style="top:41.7191em; left:6.6142em;"><span class="stl_260 stl_18 stl_10">4</span></div>
					<div class="stl_01" style="top:41.6608em; left:7.292em;"><span class="stl_260 stl_18 stl_71">.6.2</span><span class="stl_91 stl_20 stl_71">ꢀ几个示例 &nbsp;</span></div>
					<div class="stl_01" style="top:43.6017em; left:6.6142em;"><span class="stl_132 stl_52 stl_612" style="word-spacing:-0.0288em;">Google </span><span class="stl_129 stl_49 stl_612" style="word-spacing:-0.0288em;">最受欢迎的（个人认为也是最有趣的）</span><span class="stl_132 stl_52 stl_612" style="word-spacing:-0.0288em;">API </span><span class="stl_129 stl_49 stl_612" style="word-spacing:-0.0288em;">都在 </span><span class="stl_132 stl_52 stl_612" style="word-spacing:-0.0288em;">Google </span><span class="stl_129 stl_49 stl_612" style="word-spacing:-0.0288em;">地图 </span><span class="stl_132 stl_52 stl_612" style="word-spacing:-0.0288em;">API </span><span class="stl_129 stl_49 stl_612" style="word-spacing:-0.0288em;">套件中。你可能 &nbsp;</span></div>
					<div class="stl_01" style="top:44.8517em; left:6.6142em;"><span class="stl_129 stl_49 stl_235" style="word-spacing:-0.0469em;">见过很多网站都在用嵌入式 </span><span class="stl_132 stl_52 stl_235" style="word-spacing:-0.0469em;">Google </span><span class="stl_129 stl_49 stl_235" style="word-spacing:-0.0469em;">地图，觉得自己对这类功能很熟悉。但是，地图 </span><span class="stl_132 stl_52 stl_235" style="word-spacing:-0.0469em;">API &nbsp;</span></div>
					<div class="stl_01" style="top:46.1017em; left:6.6142em;"><span class="stl_129 stl_49 stl_110" style="word-spacing:-0.0022em;">远比嵌入式地图的功能丰富得多——你可以把街道地址解析成经 </span><span class="stl_132 stl_52 stl_110" style="word-spacing:-0.0022em;">/ </span><span class="stl_129 stl_49 stl_110" style="word-spacing:-0.0022em;">纬度（</span><span class="stl_132 stl_52 stl_110" style="word-spacing:-0.0022em;">longitude/latitude</span><span class="stl_129 stl_49 stl_110" style="word-spacing:-0.0022em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:47.4294em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">坐标值，地球上任意点的海拔高度，做出基于位置的可视化图形，获取任意位置的时区信 &nbsp;</span></div>
					<div class="stl_01" style="top:48.6795em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">息，以及其他一些地图相关的事情。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.5062em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">使用</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">API </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">53 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_90.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_90.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_129 stl_49 stl_612" style="word-spacing:-0.0288em;">在你自己尝试这些例子的时候，请从 </span><span class="stl_132 stl_52 stl_612" style="word-spacing:-0.0288em;">Google </span><span class="stl_129 stl_49 stl_612" style="word-spacing:-0.0288em;">的 </span><span class="stl_132 stl_52 stl_612" style="word-spacing:-0.0288em;">API </span><span class="stl_129 stl_49 stl_612" style="word-spacing:-0.0288em;">控制台里把对应的 </span><span class="stl_132 stl_52 stl_612" style="word-spacing:-0.0288em;">API </span><span class="stl_129 stl_49 stl_612" style="word-spacing:-0.0288em;">激活。</span><span class="stl_132 stl_52 stl_612" style="word-spacing:-0.0288em;">Google &nbsp;</span></div>
					<div class="stl_01" style="top:6.0849em; left:5.6693em;"><span class="stl_129 stl_49 stl_613" style="word-spacing:0.0169em;">会把这些 </span><span class="stl_132 stl_52 stl_613" style="word-spacing:0.0169em;">API </span><span class="stl_129 stl_49 stl_613" style="word-spacing:0.0169em;">的激活量作为应用量度（</span><span class="stl_132 stl_52 stl_613" style="word-spacing:0.0169em;">metric</span><span class="stl_129 stl_49 stl_613" style="word-spacing:0.0169em;">，即“统计多少用户在使用这个 </span><span class="stl_132 stl_52 stl_613" style="word-spacing:0.0169em;">API</span><span class="stl_129 stl_49 stl_613" style="word-spacing:0.0169em;">”），所 &nbsp;</span></div>
					<div class="stl_01" style="top:7.335em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">以在使用这些 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">API </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">之前你需要激活它们。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.2343em; left:5.6693em;"><span class="stl_129 stl_49 stl_308" style="word-spacing:-0.0402em;">用 </span><span class="stl_132 stl_52 stl_308" style="word-spacing:-0.0402em;">Google </span><span class="stl_129 stl_49 stl_308" style="word-spacing:-0.0402em;">的 </span><span class="stl_132 stl_52 stl_308" style="word-spacing:-0.0402em;">Geocode</span><span class="stl_129 stl_49 stl_308" style="word-spacing:-0.0402em;">（地理位置信息）</span><span class="stl_132 stl_52 stl_308" style="word-spacing:-0.0402em;">API </span><span class="stl_129 stl_49 stl_308" style="word-spacing:-0.0402em;">你可以在浏览器里实现一个简单的 </span><span class="stl_188 stl_44 stl_614" style="word-spacing:-0.0425em;">GET</span><span class="stl_129 stl_49 stl_308" style="word-spacing:-0.0402em;">请求， &nbsp;</span></div>
					<div class="stl_01" style="top:10.4963em; left:5.6695em;"><span class="stl_129 stl_49 stl_465" style="word-spacing:-0.0049em;">把街道地址（这里用的是 </span><span class="stl_132 stl_52 stl_465" style="word-spacing:-0.0049em;">Boston</span><span class="stl_132 stl_52 stl_465" style="word-spacing:0.1182em;"> Museum of Science</span><span class="stl_129 stl_49 stl_465" style="word-spacing:0.1182em;">，里面有</span><span class="stl_132 stl_52 stl_465" style="word-spacing:-0.0049em;"> Science</span><span class="stl_132 stl_52 stl_465" style="word-spacing:0.1173em;"> Park</span><span class="stl_129 stl_49 stl_465" style="word-spacing:0.1173em;">）解析成纬度和 &nbsp;</span></div>
					<div class="stl_01" style="top:11.8241em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">经度： &nbsp;</span></div>
					<div class="stl_01" style="top:13.7149em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">https://maps.googleapis.com/maps/api/geocode/json?address=1+Science+Park+Boston+MA+ &nbsp;</span></div>
					<div class="stl_01" style="top:14.5479em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">02114&amp;key=&lt;</span><span class="stl_256 stl_49 stl_10" style="word-spacing:0em;">你的</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">API key&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:16.347em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">服务器响应的结果是： &nbsp;</span></div>
					<div class="stl_01" style="top:18.2379em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:18.2379em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">results" : [ { </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">"address_components" </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">: [ { </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">"long_name" </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">: "Museum Of Science Drive &nbsp;</span></div>
					<div class="stl_01" style="top:19.0709em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">way", </span><span class="stl_232 stl_44 stl_10">"short_name" </span><span class="stl_116 stl_44 stl_10">: "Museum Of Science Driveway", </span><span class="stl_232 stl_44 stl_10">"types" </span><span class="stl_116 stl_44 stl_10">: [ "route" ] }, { </span><span class="stl_232 stl_44 stl_10">"l &nbsp;</span></div>
					<div class="stl_01" style="top:19.9039em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">ong_name" </span><span class="stl_116 stl_44 stl_10">: "Boston", </span><span class="stl_232 stl_44 stl_10">"short_name" </span><span class="stl_116 stl_44 stl_10">: "Boston", </span><span class="stl_232 stl_44 stl_10">"types" </span><span class="stl_116 stl_44 stl_10">: [ "locality", "politica &nbsp;</span></div>
					<div class="stl_01" style="top:20.7369em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">l" ] }, { </span><span class="stl_232 stl_44 stl_10">"long_name" </span><span class="stl_116 stl_44 stl_10">: "Massachusetts", </span><span class="stl_232 stl_44 stl_10">"short_name" </span><span class="stl_116 stl_44 stl_10">: "MA", </span><span class="stl_232 stl_44 stl_10">"types" </span><span class="stl_116 stl_44 stl_10">: [ "admin &nbsp;</span></div>
					<div class="stl_01" style="top:21.5699em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">istrative_area_level_1", "political" ] }, { </span><span class="stl_232 stl_44 stl_10">"long_name" </span><span class="stl_116 stl_44 stl_10">: "United States", </span><span class="stl_232 stl_44 stl_10">"shor &nbsp;</span></div>
					<div class="stl_01" style="top:22.4029em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">t_name" </span><span class="stl_116 stl_44 stl_10">: "US", </span><span class="stl_232 stl_44 stl_10">"types" </span><span class="stl_116 stl_44 stl_10">: [ "country", "political" ] }, { </span><span class="stl_232 stl_44 stl_10">"long_name" </span><span class="stl_116 stl_44 stl_10">: "0211 &nbsp;</span></div>
					<div class="stl_01" style="top:23.2359em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">4</span></div>
					<div class="stl_01" style="top:24.0689em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">:</span></div>
					<div class="stl_01" style="top:24.9019em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">{</span></div>
					<div class="stl_01" style="top:25.7349em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">{</span></div>
					<div class="stl_01" style="top:26.5679em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">,</span></div>
					<div class="stl_01" style="top:23.2359em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">", </span><span class="stl_232 stl_44 stl_10">"short_name" </span><span class="stl_116 stl_44 stl_10">: "02114", </span><span class="stl_232 stl_44 stl_10">"types" </span><span class="stl_116 stl_44 stl_10">: [ "postal_code" ] } ], </span><span class="stl_232 stl_44 stl_10">"formatted_address" &nbsp;</span></div>
					<div class="stl_01" style="top:24.0689em; left:8.102em;"><span class="stl_116 stl_44 stl_10">"Museum Of Science Driveway, Boston, MA 02114, USA", </span><span class="stl_232 stl_44 stl_10">"geometry" </span><span class="stl_116 stl_44 stl_10">: { </span><span class="stl_232 stl_44 stl_10">"bounds" </span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:24.9019em; left:8.102em;"><span class="stl_232 stl_44 stl_10">"northeast" </span><span class="stl_116 stl_44 stl_10">: { </span><span class="stl_232 stl_44 stl_10">"lat" </span><span class="stl_116 stl_44 stl_10">: 42.368454, </span><span class="stl_232 stl_44 stl_10">"lng" </span><span class="stl_116 stl_44 stl_10">: -71.06961339999999 }, </span><span class="stl_232 stl_44 stl_10">"southwest" </span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:25.7349em; left:8.102em;"><span class="stl_232 stl_44 stl_10">"lat" </span><span class="stl_116 stl_44 stl_10">: 42.3672568, </span><span class="stl_232 stl_44 stl_10">"lng" </span><span class="stl_116 stl_44 stl_10">: -71.0719624 } }, </span><span class="stl_232 stl_44 stl_10">"location" </span><span class="stl_116 stl_44 stl_10">: { </span><span class="stl_232 stl_44 stl_10">"lat" </span><span class="stl_116 stl_44 stl_10">: 42.3677994 &nbsp;</span></div>
					<div class="stl_01" style="top:26.5679em; left:8.102em;"><span class="stl_232 stl_44 stl_10">"lng" </span><span class="stl_116 stl_44 stl_10">: -71.0708078 }, </span><span class="stl_232 stl_44 stl_10">"location_type" </span><span class="stl_116 stl_44 stl_10">: "GEOMETRIC_CENTER", </span><span class="stl_232 stl_44 stl_10">"viewport" </span><span class="stl_116 stl_44 stl_10">: { </span><span class="stl_232 stl_44 stl_10">"n &nbsp;</span></div>
					<div class="stl_01" style="top:27.4009em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">ortheast" </span><span class="stl_116 stl_44 stl_10">: { </span><span class="stl_232 stl_44 stl_10">"lat" </span><span class="stl_116 stl_44 stl_10">: 42.3692043802915, </span><span class="stl_232 stl_44 stl_10">"lng" </span><span class="stl_116 stl_44 stl_10">: -71.06943891970849 }, </span><span class="stl_232 stl_44 stl_10">"southwest &nbsp;</span></div>
					<div class="stl_01" style="top:28.2743em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:28.2339em; left:8.102em;"><span class="stl_116 stl_44 stl_10">: { </span><span class="stl_232 stl_44 stl_10">"lat" </span><span class="stl_116 stl_44 stl_10">: 42.3665064197085, </span><span class="stl_232 stl_44 stl_10">"lng" </span><span class="stl_116 stl_44 stl_10">: -71.0721368802915 } } }, </span><span class="stl_232 stl_44 stl_10">"types" </span><span class="stl_116 stl_44 stl_10">: [ "ro &nbsp;</span></div>
					<div class="stl_01" style="top:29.0669em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">ute" ] } ], "status" : "OK" } &nbsp;</span></div>
					<div class="stl_01" style="top:30.7923em; left:5.6693em;"><span class="stl_129 stl_49 stl_615" style="word-spacing:0.0006em;">其实我们在 </span><span class="stl_132 stl_52 stl_615" style="word-spacing:0.0006em;">API</span><span class="stl_129 stl_49 stl_615" style="word-spacing:0.0016em;"> 里发送的地址格式并不好。但是 </span><span class="stl_132 stl_52 stl_615" style="word-spacing:0.0016em;">Google</span><span class="stl_129 stl_49 stl_615" style="word-spacing:0.0017em;"> 就是 </span><span class="stl_132 stl_52 stl_615" style="word-spacing:0.0017em;">Google</span><span class="stl_129 stl_49 stl_615" style="word-spacing:0.0017em;">，</span><span class="stl_132 stl_52 stl_615" style="word-spacing:0.0017em;">Geocode</span><span class="stl_132 stl_52 stl_615" style="word-spacing:0.1207em;"> API</span><span class="stl_129 stl_49 stl_615" style="word-spacing:0.0016em;"> 会自动 &nbsp;</span></div>
					<div class="stl_01" style="top:32.12em; left:5.6693em;"><span class="stl_129 stl_49 stl_341">处理这些没有邮政编码或者州信息（甚至写错了）的地址，然后给你反馈标准的地址信息。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.3579em; left:5.6693em;"><span class="stl_129 stl_49 stl_616" style="word-spacing:0.0047em;">例如，用错误的参数 </span><span class="stl_188 stl_44 stl_617" style="word-spacing:0.005em;">1+Skience+Park+Bostton+MA</span><span class="stl_129 stl_49 stl_616" style="word-spacing:0.0047em;">（甚至没邮编）也会反馈同样的结果。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.2034em; left:5.669em;"><span class="stl_129 stl_49 stl_618" style="word-spacing:0.0085em;">我曾经在一些任务中使用过 </span><span class="stl_132 stl_52 stl_618" style="word-spacing:0.0085em;">Geocode</span><span class="stl_132 stl_52 stl_618" style="word-spacing:0.1237em;"> API</span><span class="stl_129 stl_49 stl_618" style="word-spacing:0.1237em;">，不仅是对用户在网站上填的地址进行标准化，还 &nbsp;</span></div>
					<div class="stl_01" style="top:36.4534em; left:5.669em;"><span class="stl_129 stl_49 stl_290" style="word-spacing:0.01em;">有采集网站上看着像地址的信息，用 </span><span class="stl_132 stl_52 stl_290" style="word-spacing:0.01em;">API </span><span class="stl_129 stl_49 stl_290" style="word-spacing:0.01em;">对它们重新处理，形成更容易存储和搜索的数据。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.3645em; left:5.669em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">你还可以用 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">Time zone</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">（时区）</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">API </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">获取任意经纬度的时区信息： &nbsp;</span></div>
					<div class="stl_01" style="top:40.3337em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">https://maps.googleapis.com/maps/api/timezone/json?location=42.3677994,-71.0708 &nbsp;</span></div>
					<div class="stl_01" style="top:41.1667em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0.25em;">078&amp;timestamp=1412649030&amp;key=&lt;</span><span class="stl_256 stl_49 stl_10" style="word-spacing:0.25em;">你的 </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0.25em;">API</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;"> key&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:42.9658em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">服务器响应的结果是： &nbsp;</span></div>
					<div class="stl_01" style="top:44.8566em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">{</span></div>
					<div class="stl_01" style="top:44.8566em; left:8.102em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">"dstOffset" </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">: 3600, </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">"rawOffset" </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">: -18000, </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">"status" </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">: "OK", </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">"timeZon &nbsp;</span></div>
					<div class="stl_01" style="top:45.6896em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">eId" </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">: "America/New_York", </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">"timeZoneName" </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">: "Eastern Daylight Time" } &nbsp;</span></div>
					<div class="stl_01" style="top:47.411em; left:5.6693em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0411em;">Time zone API</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;"> 需要用一个</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;"> Unix</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;"> 时间戳才能发出请求。它可以让</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;"> Google</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;"> 为你提供一个经过 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">5</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">4 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 4</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_91.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_91.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.7952em; left:36.7728em;"><span class="stl_619 stl_52 stl_10">7</span></div>
					<div class="stl_01" style="top:4.9126em; left:6.6142em;"><span class="stl_620 stl_49 stl_219" style="word-spacing:0.3261em;">时区调整的夏令时。即使在那些时区不受夏令时影响的地区（比如凤凰城不实行夏令时 ）， &nbsp;</span></div>
					<div class="stl_01" style="top:6.085em; left:6.6139em;"><span class="stl_621 stl_52 stl_10" style="word-spacing:0em;">API </span><span class="stl_620 stl_49 stl_10" style="word-spacing:0em;">请求也是需要时间戳的。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.9961em; left:6.6139em;"><span class="stl_620 stl_49 stl_10" style="word-spacing:0.0001em;">你可以用地点经纬度获取对应的海拔高度，来结束我们短暂的 </span><span class="stl_621 stl_52 stl_10" style="word-spacing:0.0001em;">Google </span><span class="stl_620 stl_49 stl_10" style="word-spacing:0.0001em;">地图 </span><span class="stl_621 stl_52 stl_10" style="word-spacing:0.0001em;">API </span><span class="stl_620 stl_49 stl_10" style="word-spacing:0.0001em;">旅程： &nbsp;</span></div>
					<div class="stl_01" style="top:9.9649em; left:8.3386em;"><span class="stl_622 stl_44 stl_10">https://maps.googleapis.com/maps/api/elevation/json?locations=42.3677994,-71.070 &nbsp;</span></div>
					<div class="stl_01" style="top:10.7979em; left:8.3386em;"><span class="stl_622 stl_44 stl_10">8</span></div>
					<div class="stl_01" style="top:10.7979em; left:8.6928em;"><span class="stl_622 stl_44 stl_10" style="word-spacing:0.25em;">078&amp;key=&lt;</span><span class="stl_623 stl_49 stl_10" style="word-spacing:0.25em;">你的 </span><span class="stl_622 stl_44 stl_10" style="word-spacing:0.25em;">API</span><span class="stl_622 stl_44 stl_10" style="word-spacing:0.25em;"> key&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:12.5193em; left:6.6142em;"><span class="stl_620 stl_49 stl_164">返回的结果是该地点海平面以上的海拔高度（单位是米），其中一个参数“</span><span class="stl_621 stl_52 stl_164">resolution</span><span class="stl_620 stl_49 stl_164">”（分 &nbsp;</span></div>
					<div class="stl_01" style="top:13.847em; left:6.6165em;"><span class="stl_620 stl_49 stl_185">辨率）的数值表示对这个点进行插值计算的海拔高度的样本数据中与这个点最远的距离 &nbsp;</span></div>
					<div class="stl_01" style="top:15.0971em; left:6.2065em;"><span class="stl_620 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:15.0971em; left:6.9981em;"><span class="stl_620 stl_49 stl_515">单位是米）。这个值越小，表示计算出的海拔高度的值越精确。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.9879em; left:8.3386em;"><span class="stl_622 stl_44 stl_10">{</span></div>
					<div class="stl_01" style="top:16.9879em; left:9.0469em;"><span class="stl_624 stl_44 stl_10" style="word-spacing:0.25em;">"results" </span><span class="stl_622 stl_44 stl_10" style="word-spacing:0.25em;">:</span><span class="stl_622 stl_44 stl_10" style="word-spacing:0em;"> [ { </span><span class="stl_624 stl_44 stl_10" style="word-spacing:0em;">"elevation"</span><span class="stl_622 stl_44 stl_10" style="word-spacing:0.25em;"> :</span><span class="stl_622 stl_44 stl_10" style="word-spacing:0em;"> 5.127755641937256, </span><span class="stl_624 stl_44 stl_10" style="word-spacing:0em;">"location"</span><span class="stl_622 stl_44 stl_10" style="word-spacing:0.25em;"> :</span><span class="stl_622 stl_44 stl_10" style="word-spacing:0em;"> {</span><span class="stl_624 stl_44 stl_10" style="word-spacing:0em;"> "la &nbsp;</span></div>
					<div class="stl_01" style="top:17.8209em; left:8.3386em;"><span class="stl_624 stl_44 stl_10" style="word-spacing:0.25em;">t" </span><span class="stl_622 stl_44 stl_10" style="word-spacing:0.25em;">:</span><span class="stl_622 stl_44 stl_10"> 42.3677994,</span><span class="stl_624 stl_44 stl_10"> "lng"</span><span class="stl_622 stl_44 stl_10" style="word-spacing:0.25em;"> :</span><span class="stl_622 stl_44 stl_10"> -71.0708078</span><span class="stl_622 stl_44 stl_10"> },</span><span class="stl_624 stl_44 stl_10"> "resolution"</span><span class="stl_622 stl_44 stl_10" style="word-spacing:0.25em;"> :</span><span class="stl_622 stl_44 stl_10" style="word-spacing:0.25em;"> 9.543951988220 &nbsp;</span></div>
					<div class="stl_01" style="top:18.6539em; left:8.6927em;"><span class="stl_622 stl_44 stl_10" style="word-spacing:NaNem;">15</span><span class="stl_622 stl_44 stl_10"> }</span><span class="stl_622 stl_44 stl_10"> ],</span><span class="stl_624 stl_44 stl_10"> "status"</span><span class="stl_622 stl_44 stl_10" style="word-spacing:0.25em;"> :</span><span class="stl_622 stl_44 stl_10"> "OK"</span><span class="stl_622 stl_44 stl_10"> } &nbsp;</span></div>
					<div class="stl_01" style="top:18.6539em; left:8.3386em;"><span class="stl_622 stl_44 stl_10">2</span></div>
					<div class="stl_01" style="top:20.9302em; left:6.6142em;"><span class="stl_625 stl_18 stl_10">4</span></div>
					<div class="stl_01" style="top:20.8594em; left:7.4373em;"><span class="stl_625 stl_18 stl_71">.7</span><span class="stl_626 stl_20 stl_71">ꢀ解析</span><span class="stl_625 stl_18 stl_71">JSON</span><span class="stl_626 stl_20 stl_71">数据 &nbsp;</span></div>
					<div class="stl_01" style="top:23.2926em; left:6.6142em;"><span class="stl_620 stl_49 stl_582" style="word-spacing:-0.0068em;">在本章中，我们介绍了许多不同类型的 </span><span class="stl_621 stl_52 stl_582" style="word-spacing:-0.0068em;">API </span><span class="stl_620 stl_49 stl_582" style="word-spacing:-0.0068em;">以及它们的使用方法，也介绍了这些 </span><span class="stl_621 stl_52 stl_582" style="word-spacing:-0.0068em;">API </span><span class="stl_620 stl_49 stl_582" style="word-spacing:-0.0068em;">反馈 &nbsp;</span></div>
					<div class="stl_01" style="top:24.5426em; left:6.607em;"><span class="stl_620 stl_49 stl_10" style="word-spacing:0.0004em;">的一些简单的 </span><span class="stl_621 stl_52 stl_10" style="word-spacing:0.0004em;">JSON </span><span class="stl_620 stl_49 stl_10" style="word-spacing:0.0004em;">格式数据。现在让我们看看如何解析和使用这些信息。 &nbsp;</span></div>
					<div class="stl_01" style="top:26.4537em; left:6.607em;"><span class="stl_620 stl_49 stl_315" style="word-spacing:-0.0325em;">本章开始的时候，我用过 </span><span class="stl_621 stl_52 stl_315" style="word-spacing:-0.0325em;">freegeoip.net </span><span class="stl_620 stl_49 stl_315" style="word-spacing:-0.0325em;">网站 </span><span class="stl_621 stl_52 stl_315" style="word-spacing:-0.0325em;">IP </span><span class="stl_620 stl_49 stl_315" style="word-spacing:-0.0325em;">查询的例子，可以把 </span><span class="stl_621 stl_52 stl_315" style="word-spacing:-0.0325em;">IP </span><span class="stl_620 stl_49 stl_315" style="word-spacing:-0.0325em;">地址解析转换成地 &nbsp;</span></div>
					<div class="stl_01" style="top:26.7679em; left:1.9731em;"><span class="stl_627 stl_20 stl_10">邮</span></div>
					<div class="stl_01" style="top:27.7679em; left:1.9731em;"><span class="stl_627 stl_20 stl_10">ꢀ</span></div>
					<div class="stl_01" style="top:28.7679em; left:1.8898em;"><span class="stl_627 stl_20 stl_10">电</span></div>
					<div class="stl_01" style="top:27.7815em; left:6.611em;"><span class="stl_620 stl_49 stl_10">理位置： &nbsp;</span></div>
					<div class="stl_01" style="top:29.6726em; left:8.3386em;"><span class="stl_622 stl_44 stl_10">http://freegeoip.net/json/50.78.253.58 &nbsp;</span></div>
					<div class="stl_01" style="top:31.3937em; left:6.6142em;"><span class="stl_620 stl_49 stl_10" style="word-spacing:0.0002em;">我可以获取这个请求的反馈数据，然后用 </span><span class="stl_621 stl_52 stl_10" style="word-spacing:0.0002em;">Python </span><span class="stl_620 stl_49 stl_10" style="word-spacing:0.0002em;">的 </span><span class="stl_621 stl_52 stl_10" style="word-spacing:0.0002em;">JSON </span><span class="stl_620 stl_49 stl_10" style="word-spacing:0.0002em;">解析函数来解码： &nbsp;</span></div>
					<div class="stl_01" style="top:33.3621em; left:8.3386em;"><span class="stl_624 stl_44 stl_10" style="word-spacing:0.25em;">import </span><span class="stl_622 stl_44 stl_10" style="word-spacing:0.25em;">json &nbsp;</span></div>
					<div class="stl_01" style="top:34.1951em; left:8.3386em;"><span class="stl_624 stl_44 stl_10" style="word-spacing:0.25em;">from </span><span class="stl_622 stl_44 stl_10" style="word-spacing:0.25em;">urllib.request</span><span class="stl_624 stl_44 stl_10"> import</span><span class="stl_622 stl_44 stl_10" style="word-spacing:0.25em;"> urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:35.8611em; left:8.3386em;"><span class="stl_624 stl_44 stl_10" style="word-spacing:0.25em;">def </span><span class="stl_622 stl_44 stl_10" style="word-spacing:0.25em;">getCountry(ipAddress): &nbsp;</span></div>
					<div class="stl_01" style="top:36.6941em; left:9.7553em;"><span class="stl_622 stl_44 stl_10" style="word-spacing:0em;">response = urlopen("http://freegeoip.net/json/"+ipAddress).read() &nbsp;</span></div>
					<div class="stl_01" style="top:37.5271em; left:16.1303em;"><span class="stl_622 stl_44 stl_10">.decode('utf-8') &nbsp;</span></div>
					<div class="stl_01" style="top:38.3622em; left:9.7553em;"><span class="stl_622 stl_44 stl_10" style="word-spacing:0em;">responseJson = json.loads(response) &nbsp;</span></div>
					<div class="stl_01" style="top:39.1952em; left:9.7553em;"><span class="stl_624 stl_44 stl_10" style="word-spacing:0.25em;">return </span><span class="stl_622 stl_44 stl_10" style="word-spacing:0.25em;">responseJson.get("country_code") &nbsp;</span></div>
					<div class="stl_01" style="top:40.8612em; left:8.3386em;"><span class="stl_624 stl_44 stl_10">print</span><span class="stl_622 stl_44 stl_10">(getCountry("50.78.253.58")) &nbsp;</span></div>
					<div class="stl_01" style="top:42.5833em; left:6.6142em;"><span class="stl_620 stl_49 stl_10" style="word-spacing:0em;">这段代码可以打印出 </span><span class="stl_621 stl_52 stl_10" style="word-spacing:0em;">IP </span><span class="stl_620 stl_49 stl_10" style="word-spacing:0em;">地址为 </span><span class="stl_621 stl_52 stl_10" style="word-spacing:0em;">50.78.253.58 </span><span class="stl_620 stl_49 stl_10" style="word-spacing:0em;">的国家代码。 &nbsp;</span></div>
					<div class="stl_01" style="top:44.4826em; left:6.6142em;"><span class="stl_620 stl_49 stl_417" style="word-spacing:-0.0362em;">这里用的 </span><span class="stl_621 stl_52 stl_417" style="word-spacing:-0.0362em;">JSON</span><span class="stl_620 stl_49 stl_417" style="word-spacing:-0.0353em;"> 解析库是</span><span class="stl_621 stl_52 stl_417" style="word-spacing:-0.0362em;"> Python</span><span class="stl_620 stl_49 stl_417" style="word-spacing:-0.0362em;"> 标准库的一部分。只需要在代码开头写上</span><span class="stl_628 stl_44 stl_486" style="word-spacing:-0.0474em;"> import</span><span class="stl_628 stl_44 stl_486" style="word-spacing:0.2013em;"> json</span><span class="stl_620 stl_49 stl_417" style="word-spacing:0.1907em;">， &nbsp;</span></div>
					<div class="stl_01" style="top:45.7447em; left:6.6139em;"><span class="stl_620 stl_49 stl_496" style="word-spacing:-0.0316em;">你就可以使用它了！不同于那些需要先把 </span><span class="stl_621 stl_52 stl_496" style="word-spacing:-0.0316em;">JSON </span><span class="stl_620 stl_49 stl_496" style="word-spacing:-0.0316em;">解析成一种 </span><span class="stl_621 stl_52 stl_496" style="word-spacing:-0.0316em;">JSON </span><span class="stl_620 stl_49 stl_496" style="word-spacing:-0.0316em;">对象或 </span><span class="stl_621 stl_52 stl_496" style="word-spacing:-0.0316em;">JSON </span><span class="stl_620 stl_49 stl_496" style="word-spacing:-0.0316em;">节点的语 &nbsp;</span></div>
					<div class="stl_01" style="top:46.9948em; left:6.6115em;"><span class="stl_620 stl_49 stl_629" style="word-spacing:-0.0481em;">言，</span><span class="stl_621 stl_52 stl_629" style="word-spacing:-0.0481em;">Python </span><span class="stl_620 stl_49 stl_629" style="word-spacing:-0.0481em;">使用了一种更加灵活的方式，把 </span><span class="stl_621 stl_52 stl_629" style="word-spacing:-0.0481em;">JSON </span><span class="stl_620 stl_49 stl_629" style="word-spacing:-0.0481em;">转换成字典，</span><span class="stl_621 stl_52 stl_629" style="word-spacing:-0.0481em;">JSON </span><span class="stl_620 stl_49 stl_629" style="word-spacing:-0.0481em;">数组转换成列表， &nbsp;</span></div>
					<div class="stl_01" style="top:50.0086em; left:6.6142em;"><span class="stl_630 stl_49 stl_106" style="word-spacing:-0.001em;">注 </span><span class="stl_631 stl_52 stl_106" style="word-spacing:-0.001em;">7</span><span class="stl_630 stl_49 stl_106" style="word-spacing:-0.001em;">：美国亚利桑那州全州不用夏令时，凤凰城是其州府。——译者注 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.5062em;"><span class="stl_632 stl_20 stl_10" style="word-spacing:0.405em;">使用</span><span class="stl_633 stl_22 stl_10" style="word-spacing:0.405em;">API </span><span class="stl_632 stl_20 stl_10" style="word-spacing:0.405em;">｜ </span><span class="stl_633 stl_22 stl_10" style="word-spacing:0.405em;">55 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_92.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_92.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_132 stl_52 stl_510" style="word-spacing:-0.0209em;">JSON </span><span class="stl_129 stl_49 stl_510" style="word-spacing:-0.0209em;">字符串转换成 </span><span class="stl_132 stl_52 stl_510" style="word-spacing:-0.0209em;">Python </span><span class="stl_129 stl_49 stl_510" style="word-spacing:-0.0209em;">字符串。通过这种方式，就可以让 </span><span class="stl_132 stl_52 stl_510" style="word-spacing:-0.0209em;">JSON </span><span class="stl_129 stl_49 stl_510" style="word-spacing:-0.0209em;">的获取和操作变得非 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1627em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">常简单。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.996em; left:5.6693em;"><span class="stl_129 stl_49 stl_115" style="word-spacing:-0.0105em;">下面的例子演示了如何使用 </span><span class="stl_132 stl_52 stl_115" style="word-spacing:-0.0105em;">Python </span><span class="stl_129 stl_49 stl_115" style="word-spacing:-0.0105em;">的 </span><span class="stl_132 stl_52 stl_115" style="word-spacing:-0.0105em;">JSON </span><span class="stl_129 stl_49 stl_115" style="word-spacing:-0.0105em;">解析库，处理 </span><span class="stl_132 stl_52 stl_115" style="word-spacing:-0.0105em;">JSON </span><span class="stl_129 stl_49 stl_115" style="word-spacing:-0.0105em;">字符串中可能出现的不同 &nbsp;</span></div>
					<div class="stl_01" style="top:9.3241em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">数据类型： &nbsp;</span></div>
					<div class="stl_01" style="top:11.2148em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">json &nbsp;</span></div>
					<div class="stl_01" style="top:12.8808em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">jsonString = '{"arrayOfNums":[{"number":0},{"number":1},{"number":2}], &nbsp;</span></div>
					<div class="stl_01" style="top:13.7138em; left:12.7062em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:13.7138em; left:13.0604em;"><span class="stl_116 stl_44 stl_10">arrayOfFruits":[{"fruit":"apple"},{"fruit":"banana"}, &nbsp;</span></div>
					<div class="stl_01" style="top:14.5468em; left:18.727em;"><span class="stl_116 stl_44 stl_10">"fruit":"pear"}]}' &nbsp;</span></div>
					<div class="stl_01" style="top:15.3798em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">jsonObj = json.loads(jsonString) &nbsp;</span></div>
					<div class="stl_01" style="top:14.5468em; left:18.3729em;"><span class="stl_116 stl_44 stl_10">{</span></div>
					<div class="stl_01" style="top:17.0458em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(jsonObj.get("arrayOfNums")) &nbsp;</span></div>
					<div class="stl_01" style="top:17.8788em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(jsonObj.get("arrayOfNums")[1]) &nbsp;</span></div>
					<div class="stl_01" style="top:18.7118em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(jsonObj.get("arrayOfNums")[1].get("number")+ &nbsp;</span></div>
					<div class="stl_01" style="top:19.5448em; left:9.5187em;"><span class="stl_116 stl_44 stl_10">jsonObj.get("arrayOfNums")[2].get("number")) &nbsp;</span></div>
					<div class="stl_01" style="top:20.3778em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(jsonObj.get("arrayOfFruits")[2].get("fruit")) &nbsp;</span></div>
					<div class="stl_01" style="top:22.1803em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">输出的结果是： &nbsp;</span></div>
					<div class="stl_01" style="top:24.0712em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">[</span></div>
					<div class="stl_01" style="top:24.9042em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">{</span></div>
					<div class="stl_01" style="top:24.0712em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">{'number': 0}, {'number': 1}, {'number': 2}] &nbsp;</span></div>
					<div class="stl_01" style="top:24.9042em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">'number': 1} &nbsp;</span></div>
					<div class="stl_01" style="top:25.7372em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">3</span></div>
					<div class="stl_01" style="top:26.5702em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">pear &nbsp;</span></div>
					<div class="stl_01" style="top:28.37em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">第一行是一个组词典构成的列表对象，第二行是一个词典对象，第三行是一个整数（第一 &nbsp;</span></div>
					<div class="stl_01" style="top:29.62em; left:5.6693em;"><span class="stl_129 stl_49 stl_634">行词典列表里整数的和），第四行是一个字符串。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.0083em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">4</span></div>
					<div class="stl_01" style="top:31.9375em; left:6.4924em;"><span class="stl_197 stl_18 stl_71">.8</span><span class="stl_160 stl_20 stl_71">ꢀ回到主题 &nbsp;</span></div>
					<div class="stl_01" style="top:34.3707em; left:5.6693em;"><span class="stl_129 stl_49 stl_179" style="word-spacing:0.1143em;">虽然，有一些新式的网络应用存在的理由（</span><span class="stl_132 stl_52 stl_179" style="word-spacing:0.1143em;">raison d</span><span class="stl_134 stl_36 stl_179" style="word-spacing:0.1143em;">’</span><span class="stl_132 stl_52 stl_179" style="word-spacing:0.1143em;">être</span><span class="stl_129 stl_49 stl_179" style="word-spacing:0.1143em;">）就是采集现有的数据，再用更好 &nbsp;</span></div>
					<div class="stl_01" style="top:35.6207em; left:5.6695em;"><span class="stl_129 stl_49 stl_204" style="word-spacing:-0.0355em;">看的形式展现出来，但是我觉得这些应用没什么意义。如果你用 </span><span class="stl_132 stl_52 stl_204" style="word-spacing:-0.0355em;">API </span><span class="stl_129 stl_49 stl_204" style="word-spacing:-0.0355em;">作为唯一的数据源， &nbsp;</span></div>
					<div class="stl_01" style="top:36.9484em; left:5.6693em;"><span class="stl_129 stl_49 stl_140">那么你最多就是复制别人数据库里的数据，不过都是些已经公布过的“黄花菜”。真正有 &nbsp;</span></div>
					<div class="stl_01" style="top:38.1207em; left:5.6693em;"><span class="stl_129 stl_49 stl_285" style="word-spacing:-0.0118em;">意思的事情，是把多个数据源组合成新的形式，或者把 </span><span class="stl_132 stl_52 stl_285" style="word-spacing:-0.0118em;">API </span><span class="stl_129 stl_49 stl_285" style="word-spacing:-0.0118em;">作为一种工具，从全新的视角 &nbsp;</span></div>
					<div class="stl_01" style="top:39.4484em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">对采集到的数据进行解释。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.2818em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">下面介绍如何把 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">API </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">和网络数据采集结合起来：看看维基百科的贡献者们大都在哪里。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.2706em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">如果你经常用维基百科，可能会注意到词条的编辑历史页面，里面是一列编辑记录。如果 &nbsp;</span></div>
					<div class="stl_01" style="top:44.5212em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">用户先登入维基百科再编辑词条，他们的用户名就会显示出来。如果不先登录就对词条进 &nbsp;</span></div>
					<div class="stl_01" style="top:45.6936em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">行编辑，他们的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">IP </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">地址就会显示在编辑历史中，如图 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">4-4 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">所示。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">5</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">6 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 4</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_95.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_95.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01 stl_382" style="top:18.4996em; left:6.6142em;"><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0111em;">图 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0111em;">4-4</span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0111em;">：维基百科 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0111em;">Python </span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0111em;">词条的编辑历史页面的匿名编辑者的 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0111em;">IP </span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0111em;">地址 &nbsp;</span></div>
					<div class="stl_01" style="top:20.3535em; left:6.6142em;"><span class="stl_129 stl_49 stl_635" style="word-spacing:-0.048em;">上图中我们标注的 </span><span class="stl_132 stl_52 stl_635" style="word-spacing:-0.048em;">IP </span><span class="stl_129 stl_49 stl_635" style="word-spacing:-0.048em;">地址是 </span><span class="stl_132 stl_52 stl_635" style="word-spacing:-0.048em;">121.97.110.145</span><span class="stl_129 stl_49 stl_635" style="word-spacing:-0.048em;">。用 </span><span class="stl_132 stl_52 stl_635" style="word-spacing:-0.048em;">freegeoip.net </span><span class="stl_129 stl_49 stl_635" style="word-spacing:-0.048em;">的 </span><span class="stl_132 stl_52 stl_635" style="word-spacing:-0.048em;">API</span><span class="stl_129 stl_49 stl_635" style="word-spacing:-0.048em;">，我们可以查出这 &nbsp;</span></div>
					<div class="stl_01" style="top:21.6035em; left:6.6142em;"><span class="stl_129 stl_49 stl_636" style="word-spacing:-0.021em;">个 </span><span class="stl_132 stl_52 stl_636" style="word-spacing:-0.021em;">IP </span><span class="stl_129 stl_49 stl_636" style="word-spacing:-0.021em;">地址的地理位置（</span><span class="stl_132 stl_52 stl_636" style="word-spacing:-0.021em;">IP </span><span class="stl_129 stl_49 stl_636" style="word-spacing:-0.021em;">地址有时会改变地理位置）是在菲律宾（</span><span class="stl_132 stl_52 stl_636" style="word-spacing:-0.021em;">Phillipines</span><span class="stl_129 stl_49 stl_636" style="word-spacing:-0.021em;">）的奎松市 &nbsp;</span></div>
					<div class="stl_01" style="top:22.9313em; left:6.2183em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:22.8536em; left:7.01em;"><span class="stl_132 stl_52 stl_637">Quezon</span><span class="stl_129 stl_49 stl_637">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:24.7646em; left:6.6142em;"><span class="stl_129 stl_49 stl_444" style="word-spacing:-0.0479em;">一个这样的 </span><span class="stl_132 stl_52 stl_444" style="word-spacing:-0.0479em;">IP </span><span class="stl_129 stl_49 stl_444" style="word-spacing:-0.0479em;">地址并没什么意义，但是如果我们可以收集大量维基百科编辑者的地理数 &nbsp;</span></div>
					<div class="stl_01" style="top:26.0149em; left:6.6142em;"><span class="stl_129 stl_49 stl_638" style="word-spacing:-0.038em;">据呢？几年前我做过这件事儿，当时用 </span><span class="stl_132 stl_52 stl_638" style="word-spacing:-0.038em;">Google</span><span class="stl_129 stl_49 stl_638" style="word-spacing:-0.0379em;"> 的地理图形库（</span><span class="stl_132 stl_52 stl_638" style="word-spacing:-0.0379em;">Geochart</span><span class="stl_132 stl_52 stl_638" style="word-spacing:0.0681em;"> library</span><span class="stl_129 stl_49 stl_638" style="word-spacing:0.0681em;">，</span><span class="stl_132 stl_52 stl_638" style="word-spacing:0.0681em;">https:// &nbsp;</span></div>
					<div class="stl_01" style="top:27.265em; left:6.6142em;"><span class="stl_132 stl_52 stl_452">developers.google.com/chart/interactive/docs/gallery/geochart</span><span class="stl_129 stl_49 stl_452">）做了一个显示维基百科英文版 &nbsp;</span></div>
					<div class="stl_01" style="top:28.515em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">的编辑者所在位置的可视图，后来又做了其他语言的版本，如图 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">4-5 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">所示。 &nbsp;</span></div>
					<div class="stl_01 stl_382" style="top:48.1744em; left:6.6142em;"><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0109em;">图 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0109em;">4-5</span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0109em;">：用 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0109em;">Google </span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0109em;">的 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0109em;">Geochart </span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0109em;">库创建的维基百科编辑者地理位置可视化 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.5062em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">使用</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">API </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">57 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_96.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_96.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_129 stl_49 stl_244" style="word-spacing:0em;">首先做一个采集维基百科的基本程序，寻找编辑历史页面，然后把编辑历史里面的 </span><span class="stl_132 stl_52 stl_244" style="word-spacing:0em;">IP </span><span class="stl_129 stl_49 stl_244" style="word-spacing:0em;">地址 &nbsp;</span></div>
					<div class="stl_01" style="top:6.085em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">找出来，这并不难。只要对第 </span><span class="stl_132 stl_52 stl_10">3 </span><span class="stl_129 stl_49 stl_10">章的代码做些修改就可以，代码如下所示： &nbsp;</span></div>
					<div class="stl_01" style="top:8.0533em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urllib.request </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:8.8863em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">bs4 </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:9.7193em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">datetime &nbsp;</span></div>
					<div class="stl_01" style="top:10.5523em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">random &nbsp;</span></div>
					<div class="stl_01" style="top:11.3853em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">re &nbsp;</span></div>
					<div class="stl_01" style="top:13.0513em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">random.seed(datetime.datetime.now()) &nbsp;</span></div>
					<div class="stl_01" style="top:13.8843em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">getLinks(articleUrl): &nbsp;</span></div>
					<div class="stl_01" style="top:14.7173em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">html = urlopen("http://en.wikipedia.org"+articleUrl) &nbsp;</span></div>
					<div class="stl_01" style="top:15.5503em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">bsObj = BeautifulSoup(html) &nbsp;</span></div>
					<div class="stl_01" style="top:16.3833em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">bsObj.find("div", {"id":"bodyContent"}).findAll("a", &nbsp;</span></div>
					<div class="stl_01" style="top:17.2163em; left:14.8312em;"><span class="stl_116 stl_44 stl_10">href=re.compile("^(/wiki/)((?!:).)*$")) &nbsp;</span></div>
					<div class="stl_01" style="top:18.8823em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">getHistoryIPs(pageUrl): &nbsp;</span></div>
					<div class="stl_01" style="top:19.7153em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:20.5483em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:19.7153em; left:9.5187em;"><span class="stl_256 stl_49 stl_10">编辑历史页面</span><span class="stl_116 stl_44 stl_10">URL</span><span class="stl_256 stl_49 stl_10">链接格式是： &nbsp;</span></div>
					<div class="stl_01" style="top:20.5483em; left:9.5187em;"><span class="stl_116 stl_44 stl_10">http://en.wikipedia.org/w/index.php?title=Title_in_URL&amp;action=history &nbsp;</span></div>
					<div class="stl_01" style="top:21.3813em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">pageUrl = pageUrl.replace("/wiki/", "") &nbsp;</span></div>
					<div class="stl_01" style="top:22.2143em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">historyUrl = "http://en.wikipedia.org/w/index.php?title=" &nbsp;</span></div>
					<div class="stl_01" style="top:23.0473em; left:13.4145em;"><span class="stl_116 stl_44 stl_10">+</span></div>
					<div class="stl_01" style="top:23.0473em; left:13.7687em;"><span class="stl_116 stl_44 stl_10">pageUrl+"&amp;action=history" &nbsp;</span></div>
					<div class="stl_01" style="top:23.8803em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">("history url is: "+historyUrl) &nbsp;</span></div>
					<div class="stl_01" style="top:24.7133em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">html = urlopen(historyUrl) &nbsp;</span></div>
					<div class="stl_01" style="top:25.5463em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">bsObj = BeautifulSoup(html) &nbsp;</span></div>
					<div class="stl_01" style="top:26.3793em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:27.2123em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:26.3793em; left:9.5187em;"><span class="stl_256 stl_49 stl_10">找出</span><span class="stl_116 stl_44 stl_10">class</span><span class="stl_256 stl_49 stl_10">属性是</span><span class="stl_116 stl_44 stl_10">"mw-anonuserlink"</span><span class="stl_256 stl_49 stl_10">的链接 &nbsp;</span></div>
					<div class="stl_01" style="top:27.2123em; left:9.5187em;"><span class="stl_256 stl_49 stl_10">它们用</span><span class="stl_116 stl_44 stl_10">IP</span><span class="stl_256 stl_49 stl_10">地址代替用户名 &nbsp;</span></div>
					<div class="stl_01" style="top:28.0453em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">ipAddresses = bsObj.findAll("a", {"class":"mw-anonuserlink"}) &nbsp;</span></div>
					<div class="stl_01" style="top:28.8783em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">addressList = set() &nbsp;</span></div>
					<div class="stl_01" style="top:29.7113em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">ipAddress </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">ipAddresses: &nbsp;</span></div>
					<div class="stl_01" style="top:30.5443em; left:10.227em;"><span class="stl_116 stl_44 stl_10">addressList.add(ipAddress.get_text()) &nbsp;</span></div>
					<div class="stl_01" style="top:31.3773em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">addressList &nbsp;</span></div>
					<div class="stl_01" style="top:33.0433em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">links = getLinks("/wiki/Python_(programming_language)") &nbsp;</span></div>
					<div class="stl_01" style="top:34.7093em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">while</span><span class="stl_116 stl_44 stl_10">(len(links) &gt; 0): &nbsp;</span></div>
					<div class="stl_01" style="top:35.5423em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">link </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">links: &nbsp;</span></div>
					<div class="stl_01" style="top:36.3753em; left:10.227em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">("-------------------") &nbsp;</span></div>
					<div class="stl_01" style="top:37.2083em; left:10.227em;"><span class="stl_116 stl_44 stl_10">historyIPs = getHistoryIPs(link.attrs["href"]) &nbsp;</span></div>
					<div class="stl_01" style="top:38.0413em; left:10.227em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">historyIP </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">historyIPs: &nbsp;</span></div>
					<div class="stl_01" style="top:38.8743em; left:11.6437em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(historyIP) &nbsp;</span></div>
					<div class="stl_01" style="top:40.5403em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">newLink = links[random.randint(0, len(links)-1)].attrs["href"] &nbsp;</span></div>
					<div class="stl_01" style="top:41.3733em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">links = getLinks(newLink) &nbsp;</span></div>
					<div class="stl_01" style="top:43.0958em; left:5.6693em;"><span class="stl_129 stl_49 stl_404" style="word-spacing:-0.0339em;">这个程序包括两个函数：</span><span class="stl_188 stl_44 stl_189" style="word-spacing:-0.0357em;">getLinks</span><span class="stl_129 stl_49 stl_404" style="word-spacing:-0.0339em;">（第 </span><span class="stl_132 stl_52 stl_404" style="word-spacing:-0.0339em;">3 </span><span class="stl_129 stl_49 stl_404" style="word-spacing:-0.0339em;">章里用过）和新的函数 </span><span class="stl_188 stl_44 stl_189" style="word-spacing:-0.0357em;">getHistoryIPs</span><span class="stl_129 stl_49 stl_404" style="word-spacing:-0.0339em;">，搜索所 &nbsp;</span></div>
					<div class="stl_01" style="top:44.3458em; left:5.669em;"><span class="stl_129 stl_49 stl_310" style="word-spacing:-0.0313em;">有 </span><span class="stl_188 stl_44 stl_311" style="word-spacing:-0.0331em;">mw-anonuserlin</span><span class="stl_129 stl_49 stl_310" style="word-spacing:-0.0313em;">类里面的链接信息（匿名用户的 </span><span class="stl_132 stl_52 stl_310" style="word-spacing:-0.0313em;">IP </span><span class="stl_129 stl_49 stl_310" style="word-spacing:-0.0313em;">地址，不是用户名），返回一个链 &nbsp;</span></div>
					<div class="stl_01" style="top:45.6856em; left:5.669em;"><span class="stl_129 stl_49 stl_68">接列表。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">5</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">8 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 4</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_97.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_97.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:5.5297em; left:17.4549em;"><span class="stl_469 stl_18 stl_10" style="word-spacing:-0.028em;">Python </span><span class="stl_268 stl_20 stl_10" style="word-spacing:-0.028em;">的集合类型简介 &nbsp;</span></div>
					<div class="stl_01" style="top:7.1788em; left:7.3478em;"><span class="stl_269 stl_49 stl_270" style="word-spacing:-0.0094em;">到现在为止，我用已经用过两个 </span><span class="stl_132 stl_52 stl_270" style="word-spacing:-0.0094em;">Python </span><span class="stl_269 stl_49 stl_270" style="word-spacing:-0.0094em;">的数据结构来储存不同类型的数据：列表和词 &nbsp;</span></div>
					<div class="stl_01" style="top:8.3037em; left:7.3597em;"><span class="stl_269 stl_49 stl_10">典。已经有了两种数据类型，为什么还要用集合（</span><span class="stl_132 stl_52 stl_10">set</span><span class="stl_269 stl_49 stl_10">）？ &nbsp;</span></div>
					<div class="stl_01" style="top:9.9013em; left:7.3597em;"><span class="stl_132 stl_52 stl_400" style="word-spacing:-0.0188em;">Python </span><span class="stl_269 stl_49 stl_400" style="word-spacing:-0.0188em;">的集合是无序的，就是说你不能用位置来获得集合元素对应的值。数据加入集 &nbsp;</span></div>
					<div class="stl_01" style="top:11.104em; left:7.351em;"><span class="stl_269 stl_49 stl_208">合的顺序，和你重新获取它们的顺序，很可能是不一样的。在上面的示例代码中，使 &nbsp;</span></div>
					<div class="stl_01" style="top:12.2289em; left:7.3597em;"><span class="stl_269 stl_49 stl_208">用集合的一个好处就是它不会储存重复值。如果你要存储一个已有的值到集合中，集 &nbsp;</span></div>
					<div class="stl_01" style="top:13.2762em; left:7.3684em;"><span class="stl_269 stl_49 stl_639" style="word-spacing:-0.0079em;">合会自动忽略它。因此，我们可以快速地获取历史编辑页面中独立的 </span><span class="stl_132 stl_52 stl_639" style="word-spacing:-0.0079em;">IP </span><span class="stl_269 stl_49 stl_639" style="word-spacing:-0.0079em;">地址，不需要 &nbsp;</span></div>
					<div class="stl_01" style="top:14.4789em; left:7.3787em;"><span class="stl_269 stl_49 stl_10">考虑同一个编辑者多次编辑历史的情况。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.0764em; left:7.3787em;"><span class="stl_269 stl_49 stl_479">对于未来可能需要扩展的代码，在决定使用集合还是列表时，有两件事情需要考虑： &nbsp;</span></div>
					<div class="stl_01" style="top:17.2014em; left:7.3708em;"><span class="stl_269 stl_49 stl_208">虽然列表迭代速度比集合稍微快一点儿，但集合查找速度更快（确定一个对象是否在 &nbsp;</span></div>
					<div class="stl_01" style="top:18.2118em; left:7.3795em;"><span class="stl_269 stl_49 stl_640" style="word-spacing:-0.0592em;">集合中），因为 </span><span class="stl_132 stl_52 stl_640" style="word-spacing:-0.0592em;">Python </span><span class="stl_269 stl_49 stl_640" style="word-spacing:-0.0592em;">集合就是值为 </span><span class="stl_116 stl_44 stl_552" style="word-spacing:-0.0662em;">None</span><span class="stl_269 stl_49 stl_640" style="word-spacing:-0.0592em;">的词典，用的是哈希表结构，查询速度为 &nbsp;</span></div>
					<div class="stl_01" style="top:19.3736em; left:7.3454em;"><span class="stl_357 stl_36 stl_10">O</span><span class="stl_132 stl_52 stl_10">(1)</span><span class="stl_269 stl_49 stl_10">。 &nbsp;</span></div>
					<div class="stl_01" style="top:21.603em; left:6.6142em;"><span class="stl_129 stl_49 stl_172">上面的代码还用了一些随机的（不过对这个示例是有效的）搜索模式来查找词条的编 &nbsp;</span></div>
					<div class="stl_01" style="top:22.7754em; left:6.6142em;"><span class="stl_129 stl_49 stl_641" style="word-spacing:-0.055em;">辑历史。首先获取起始词条连接的所有词条的编辑历史（示例中是 </span><span class="stl_132 stl_52 stl_641" style="word-spacing:-0.055em;">Python</span><span class="stl_132 stl_52 stl_641" style="word-spacing:0.056em;"> programming &nbsp;</span></div>
					<div class="stl_01" style="top:24.0253em; left:6.6142em;"><span class="stl_132 stl_52 stl_516" style="word-spacing:0.0224em;">language </span><span class="stl_129 stl_49 stl_516" style="word-spacing:0.0224em;">词条）。然后，随机选择一个词条作为起始点，再获取这个页面连接的所有词条的 &nbsp;</span></div>
					<div class="stl_01" style="top:25.3531em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">编辑历史。重复这个过程直到页面没有连接维基词条为止。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.1747em; left:6.6142em;"><span class="stl_129 stl_49 stl_211" style="word-spacing:-0.0196em;">现在，我们获得了编辑历史的 </span><span class="stl_132 stl_52 stl_211" style="word-spacing:-0.0196em;">IP </span><span class="stl_129 stl_49 stl_211" style="word-spacing:-0.0196em;">地址数据，把它们与上一节的 </span><span class="stl_188 stl_44 stl_472" style="word-spacing:-0.0207em;">getCountry</span><span class="stl_129 stl_49 stl_211" style="word-spacing:-0.0196em;">函数结合起来， &nbsp;</span></div>
					<div class="stl_01" style="top:28.4247em; left:6.6143em;"><span class="stl_129 stl_49 stl_455" style="word-spacing:-0.0416em;">就可以查询 </span><span class="stl_132 stl_52 stl_455" style="word-spacing:-0.0416em;">IP </span><span class="stl_129 stl_49 stl_455" style="word-spacing:-0.0416em;">地址所属的国家和地区了。我对 </span><span class="stl_188 stl_44 stl_391" style="word-spacing:-0.0439em;">getCountry</span><span class="stl_129 stl_49 stl_455" style="word-spacing:-0.0416em;">函数做了一点儿修改，处理了 &nbsp;</span></div>
					<div class="stl_01" style="top:29.6868em; left:6.614em;"><span class="stl_129 stl_49 stl_504" style="word-spacing:-0.0049em;">无效或错误的 </span><span class="stl_132 stl_52 stl_504" style="word-spacing:-0.0049em;">IP</span><span class="stl_129 stl_49 stl_504" style="word-spacing:-0.005em;"> 地址引起的“</span><span class="stl_132 stl_52 stl_504" style="word-spacing:-0.005em;">404</span><span class="stl_132 stl_52 stl_504" style="word-spacing:0.1172em;"> Not Found</span><span class="stl_129 stl_49 stl_504" style="word-spacing:0.1172em;">”异常（比如，写到这里时，</span><span class="stl_132 stl_52 stl_504" style="word-spacing:0.1172em;">freegeoip.net</span><span class="stl_129 stl_49 stl_504" style="word-spacing:0.1172em;"> 不 &nbsp;</span></div>
					<div class="stl_01" style="top:30.9368em; left:6.6142em;"><span class="stl_129 stl_49 stl_595" style="word-spacing:0.0294em;">能查询 </span><span class="stl_132 stl_52 stl_595" style="word-spacing:0.0294em;">IPv6 </span><span class="stl_129 stl_49 stl_595" style="word-spacing:0.0294em;">地址，可能会引起 </span><span class="stl_132 stl_52 stl_595" style="word-spacing:0.0294em;">404 </span><span class="stl_129 stl_49 stl_595" style="word-spacing:0.0294em;">错误）： &nbsp;</span></div>
					<div class="stl_01" style="top:32.9052em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">getCountry(ipAddress): &nbsp;</span></div>
					<div class="stl_01" style="top:33.7382em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">try</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:34.5712em; left:11.1719em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">response = urlopen("http://freegeoip.net/json/" &nbsp;</span></div>
					<div class="stl_01" style="top:35.4042em; left:18.2553em;"><span class="stl_116 stl_44 stl_10">ipAddress).read().decode('utf-8') &nbsp;</span></div>
					<div class="stl_01" style="top:35.4042em; left:17.9011em;"><span class="stl_116 stl_44 stl_10">+</span></div>
					<div class="stl_01" style="top:36.2372em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">except </span><span class="stl_116 stl_44 stl_10">HTTPError: &nbsp;</span></div>
					<div class="stl_01" style="top:37.0702em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">None &nbsp;</span></div>
					<div class="stl_01" style="top:37.9032em; left:9.7553em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">responseJson = json.loads(response) &nbsp;</span></div>
					<div class="stl_01" style="top:38.7362em; left:9.7553em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">return </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">responseJson.get("country_code") &nbsp;</span></div>
					<div class="stl_01" style="top:40.4022em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">links = getLinks("/wiki/Python_(programming_language)") &nbsp;</span></div>
					<div class="stl_01" style="top:42.9012em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">while</span><span class="stl_116 stl_44 stl_10">(len(links) &gt; 0): &nbsp;</span></div>
					<div class="stl_01" style="top:43.7342em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">link </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">links: &nbsp;</span></div>
					<div class="stl_01" style="top:44.5672em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">("-------------------") &nbsp;</span></div>
					<div class="stl_01" style="top:45.4002em; left:11.1719em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">historyIPs = getHistoryIPs(link.attrs["href"]) &nbsp;</span></div>
					<div class="stl_01" style="top:46.2332em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">historyIP </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">historyIPs: &nbsp;</span></div>
					<div class="stl_01" style="top:47.0662em; left:12.5886em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">country = getCountry(historyIP) &nbsp;</span></div>
					<div class="stl_01" style="top:47.8992em; left:12.5886em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">country </span><span class="stl_232 stl_44 stl_10">is not </span><span class="stl_116 stl_44 stl_10">None: &nbsp;</span></div>
					<div class="stl_01" style="top:48.7322em; left:14.0053em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">print</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">(historyIP+" is from "+country) &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.5062em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">使用</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">API </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">59 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_98.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_98.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8921em; left:8.8104em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">newLink = links[random.randint(0, len(links)-1)].attrs["href"] &nbsp;</span></div>
					<div class="stl_01" style="top:5.7251em; left:8.8104em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">links = getLinks(newLink) &nbsp;</span></div>
					<div class="stl_01" style="top:7.4465em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">完整代码在 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">http://www.pythonscraping.com/code/6-3.txt</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">。下面是部分输出结果： &nbsp;</span></div>
					<div class="stl_01" style="top:9.415em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">-</span></div>
					<div class="stl_01" style="top:9.415em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">------------------ &nbsp;</span></div>
					<div class="stl_01" style="top:10.248em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">history url is: http://en.wikipedia.org/w/index.php?title=Programming_ &nbsp;</span></div>
					<div class="stl_01" style="top:11.081em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">paradigm&amp;action=history &nbsp;</span></div>
					<div class="stl_01" style="top:11.914em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">6</span></div>
					<div class="stl_01" style="top:12.747em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">8</span></div>
					<div class="stl_01" style="top:13.58em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">1</span></div>
					<div class="stl_01" style="top:14.413em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">1</span></div>
					<div class="stl_01" style="top:15.246em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">1</span></div>
					<div class="stl_01" style="top:16.079em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">7</span></div>
					<div class="stl_01" style="top:16.912em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">1</span></div>
					<div class="stl_01" style="top:17.745em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">2</span></div>
					<div class="stl_01" style="top:18.578em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">7</span></div>
					<div class="stl_01" style="top:19.411em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">4</span></div>
					<div class="stl_01" style="top:20.244em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">2</span></div>
					<div class="stl_01" style="top:21.077em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">1</span></div>
					<div class="stl_01" style="top:11.914em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">8.183.108.13 is from US &nbsp;</span></div>
					<div class="stl_01" style="top:12.747em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">6.155.0.186 is from GB &nbsp;</span></div>
					<div class="stl_01" style="top:13.58em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">88.55.200.254 is from SA &nbsp;</span></div>
					<div class="stl_01" style="top:14.413em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">08.221.18.208 is from US &nbsp;</span></div>
					<div class="stl_01" style="top:15.246em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">41.117.232.168 is from CA &nbsp;</span></div>
					<div class="stl_01" style="top:16.079em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">6.105.209.39 is from US &nbsp;</span></div>
					<div class="stl_01" style="top:16.912em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">82.184.123.106 is from PK &nbsp;</span></div>
					<div class="stl_01" style="top:17.745em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">12.219.47.52 is from GB &nbsp;</span></div>
					<div class="stl_01" style="top:18.578em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">2.27.184.57 is from JM &nbsp;</span></div>
					<div class="stl_01" style="top:19.411em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">9.147.183.43 is from PH &nbsp;</span></div>
					<div class="stl_01" style="top:20.244em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">09.197.41.132 is from US &nbsp;</span></div>
					<div class="stl_01" style="top:21.077em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">74.66.150.151 is from US &nbsp;</span></div>
					<div class="stl_01" style="top:23.3574em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">4</span></div>
					<div class="stl_01" style="top:23.2866em; left:6.4924em;"><span class="stl_197 stl_18 stl_71">.9</span><span class="stl_160 stl_20 stl_71">ꢀ再说一点</span><span class="stl_197 stl_18 stl_71">API &nbsp;</span></div>
					<div class="stl_01" style="top:25.7198em; left:5.6693em;"><span class="stl_129 stl_49 stl_286" style="word-spacing:-0.0127em;">本章我们介绍了几个新式 </span><span class="stl_132 stl_52 stl_286" style="word-spacing:-0.0127em;">API </span><span class="stl_129 stl_49 stl_286" style="word-spacing:-0.0127em;">常用的获取网络数据的方式，重点介绍了有助于网络数据采 &nbsp;</span></div>
					<div class="stl_01" style="top:26.9698em; left:5.6693em;"><span class="stl_129 stl_49 stl_610" style="word-spacing:-0.035em;">集工作的 </span><span class="stl_132 stl_52 stl_610" style="word-spacing:-0.035em;">API </span><span class="stl_129 stl_49 stl_610" style="word-spacing:-0.035em;">用法。但是，对 </span><span class="stl_132 stl_52 stl_610" style="word-spacing:-0.035em;">API </span><span class="stl_129 stl_49 stl_610" style="word-spacing:-0.035em;">的这点儿介绍还是远远不够的，</span><span class="stl_132 stl_52 stl_610" style="word-spacing:-0.035em;">API </span><span class="stl_129 stl_49 stl_610" style="word-spacing:-0.035em;">的内容非常丰富， &nbsp;</span></div>
					<div class="stl_01" style="top:28.2198em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">这里并没有体现出 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">API </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">具有“许多不同的软件都可以通过相同的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">API </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">分享数据”的特点。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.2086em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">由于本书的主题是网络数据采集，因此无意成为数据收集的百科全书，如果你需要，我只 &nbsp;</span></div>
					<div class="stl_01" style="top:31.4589em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">能为你推荐一些优质的资源，帮助你对这个主题进行深入的研究。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.2923em; left:5.6693em;"><span class="stl_132 stl_52 stl_642" style="word-spacing:0.1083em;">Leonard Richardson</span><span class="stl_129 stl_49 stl_642" style="word-spacing:0.1083em;">、</span><span class="stl_132 stl_52 stl_642" style="word-spacing:0.1083em;">Mike Amundsen</span><span class="stl_129 stl_49 stl_642" style="word-spacing:0.1083em;"> 和 </span><span class="stl_132 stl_52 stl_642" style="word-spacing:0.0028em;">Sam</span><span class="stl_132 stl_52 stl_642" style="word-spacing:0.1089em;"> Ruby</span><span class="stl_129 stl_49 stl_642" style="word-spacing:0.0028em;"> 的</span><span class="stl_194 stl_36 stl_642" style="word-spacing:0.0018em;"> RESTful</span><span class="stl_194 stl_36 stl_642" style="word-spacing:0.1079em;"> Web</span><span class="stl_194 stl_36 stl_642" style="word-spacing:0.0898em;"> APIs</span><span class="stl_129 stl_49 stl_642" style="word-spacing:0.0898em;">（</span><span class="stl_132 stl_52 stl_642" style="word-spacing:0.0898em;">http://shop.oreilly. &nbsp;</span></div>
					<div class="stl_01" style="top:34.5426em; left:5.6693em;"><span class="stl_132 stl_52 stl_480" style="word-spacing:-0.0048em;">com/product/0636920028468.do</span><span class="stl_129 stl_49 stl_480" style="word-spacing:-0.0048em;">）为网络 </span><span class="stl_132 stl_52 stl_480" style="word-spacing:-0.0048em;">API </span><span class="stl_129 stl_49 stl_480" style="word-spacing:-0.0048em;">的用法提供了非常全面的理论与实践指导。另 &nbsp;</span></div>
					<div class="stl_01" style="top:35.7926em; left:5.6693em;"><span class="stl_129 stl_49 stl_485" style="word-spacing:0.0994em;">外，</span><span class="stl_132 stl_52 stl_485" style="word-spacing:0.0994em;">Mike Amundsen</span><span class="stl_129 stl_49 stl_485" style="word-spacing:-0.0027em;"> 的精彩视频教学课程</span><span class="stl_132 stl_52 stl_485" style="word-spacing:-0.0027em;"> Designing</span><span class="stl_132 stl_52 stl_485" style="word-spacing:0.0993em;"> APIs for the</span><span class="stl_132 stl_52 stl_485" style="word-spacing:0.0993em;"> Web</span><span class="stl_129 stl_49 stl_485" style="word-spacing:0.0993em;">（</span><span class="stl_132 stl_52 stl_485" style="word-spacing:0.0993em;">http://shop.oreilly. &nbsp;</span></div>
					<div class="stl_01" style="top:37.0426em; left:5.6693em;"><span class="stl_132 stl_52 stl_643" style="word-spacing:-0.0074em;">com/product/110000125.do</span><span class="stl_129 stl_49 stl_643" style="word-spacing:-0.0074em;">），也可以教你创建自己的 </span><span class="stl_132 stl_52 stl_643" style="word-spacing:-0.0074em;">API</span><span class="stl_129 stl_49 stl_643" style="word-spacing:-0.0074em;">。如果你想把自己采集的数据用 &nbsp;</span></div>
					<div class="stl_01" style="top:38.3703em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">一种便捷的方式分享出来，他的视频非常有用。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.2037em; left:5.6693em;"><span class="stl_129 stl_49 stl_396" style="word-spacing:-0.0596em;">虽然初看网络数据采集和网络 </span><span class="stl_132 stl_52 stl_396" style="word-spacing:-0.0596em;">API </span><span class="stl_129 stl_49 stl_396" style="word-spacing:-0.0596em;">好像完全是两个不同的主题，但是希望这一章的内容 &nbsp;</span></div>
					<div class="stl_01" style="top:41.5317em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">可以为你呈现出两者在网络数据收集这个领域中相互补充的能力。从某种意义上看，网络 &nbsp;</span></div>
					<div class="stl_01" style="top:42.704em; left:5.6693em;"><span class="stl_132 stl_52 stl_121" style="word-spacing:-0.0007em;">API </span><span class="stl_129 stl_49 stl_121" style="word-spacing:-0.0007em;">的使用可以作为网络数据采集的一个子集。毕竟，最终都是要从网络服务器收集数据， &nbsp;</span></div>
					<div class="stl_01" style="top:44.0318em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">然后把它们解析成可用的数据格式，这和你用任何网络爬虫做的事情一模一样。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">6</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">0 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 4</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_100.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_100.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:9.4423em; left:33.1147em;"><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.064em;">第 </span><span class="stl_215 stl_18 stl_10" style="word-spacing:-0.064em;">5 </span><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.064em;">章 &nbsp;</span></div>
					<div class="stl_01 stl_69" style="top:12.7975em; left:29.6453em;"><span class="stl_70 stl_20 stl_71">存储数据 &nbsp;</span></div>
					<div class="stl_01" style="top:24.5006em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">虽然在命令行里显示运行结果很有意思，但是随着数据不断增多，并且需要进行数据分析 &nbsp;</span></div>
					<div class="stl_01" style="top:25.7506em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">时，将数据打印到命令行就不是办法了。为了可以远程使用大部分网络爬虫，你还需要把 &nbsp;</span></div>
					<div class="stl_01" style="top:27.0006em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">采集到的数据存储起来。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.9117em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">本章将介绍三种主要的数据管理方法，对绝大多数应用都适用。如果你准备创建一个网站 &nbsp;</span></div>
					<div class="stl_01" style="top:30.0843em; left:6.6142em;"><span class="stl_129 stl_49 stl_348" style="word-spacing:-0.0228em;">的后端服务或者创建自己的 </span><span class="stl_132 stl_52 stl_348" style="word-spacing:-0.0228em;">API</span><span class="stl_129 stl_49 stl_348" style="word-spacing:-0.0228em;">，那么可能都需要让爬虫把数据写入数据库。如果你需要 &nbsp;</span></div>
					<div class="stl_01" style="top:31.412em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">一个快速简单的方法收集网上的文档，然后存到你的硬盘里，那么可能需要创建一个文件 &nbsp;</span></div>
					<div class="stl_01" style="top:32.5843em; left:6.6142em;"><span class="stl_129 stl_49 stl_125" style="word-spacing:0.1223em;">流（</span><span class="stl_148 stl_52 stl_125" style="word-spacing:0.1223em;">ﬁ</span><span class="stl_132 stl_52 stl_125" style="word-spacing:0.1223em;">le stream</span><span class="stl_129 stl_49 stl_125" style="word-spacing:0.1223em;">）来实现。如果还要为偶然事件提个醒儿，或者每天定时收集当天累计的数 &nbsp;</span></div>
					<div class="stl_01" style="top:33.912em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">据，就给自己发一封邮件吧！ &nbsp;</span></div>
					<div class="stl_01" style="top:35.8231em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">抛开与网络数据采集的关系，大数据存储和与数据交互的能力，在新式的程序开发中也已 &nbsp;</span></div>
					<div class="stl_01" style="top:37.0734em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">经是重中之重了。这一章的内容其实是实现第二部分许多示例的基础。如果你对自动数据 &nbsp;</span></div>
					<div class="stl_01" style="top:38.3234em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">存储相关的知识不太了解，我非常希望你至少能浏览一下。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.7117em; left:6.6142em;"><span class="stl_197 stl_18 stl_10">5</span></div>
					<div class="stl_01" style="top:40.6409em; left:7.4373em;"><span class="stl_197 stl_18 stl_71">.1</span><span class="stl_160 stl_20 stl_71">ꢀ媒体文件 &nbsp;</span></div>
					<div class="stl_01" style="top:43.0741em; left:6.6142em;"><span class="stl_129 stl_49 stl_644" style="word-spacing:-0.0647em;">存储媒体文件有两种主要的方式：只获取文件 </span><span class="stl_132 stl_52 stl_644" style="word-spacing:-0.0647em;">URL </span><span class="stl_129 stl_49 stl_644" style="word-spacing:-0.0647em;">链接，或者直接把源文件下载下来。 &nbsp;</span></div>
					<div class="stl_01" style="top:44.3242em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">你可以通过媒体文件所在的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">URL </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">链接直接引用它。这样做的优点如下。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.2748em; left:6.6142em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:47.5249em; left:6.6142em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:48.7749em; left:6.6142em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:50.0249em; left:6.6142em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:46.313em; left:7.6774em;"><span class="stl_129 stl_49 stl_10">爬虫运行得更快，耗费的流量更少，因为只要链接，不需要下载文件。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.4853em; left:7.6774em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">可以节省很多存储空间，因为只需要存储 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">URL </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">链接就可以。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.7353em; left:7.6774em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">存储 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">URL </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">的代码更容易写，也不需要实现文件下载代码。 &nbsp;</span></div>
					<div class="stl_01" style="top:50.063em; left:7.6774em;"><span class="stl_129 stl_49 stl_10">不下载文件能够降低目标主机服务器的负载。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.3099em; left:36.9812em;"><span class="stl_119 stl_22 stl_10">6</span></div>
					<div class="stl_01" style="top:52.3099em; left:37.3873em;"><span class="stl_119 stl_22 stl_10">1</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_101.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_101.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9126em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">不过这么做也有一些缺点。 &nbsp;</span></div>
					<div class="stl_01" style="top:6.7856em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:6.746em; left:6.7325em;"><span class="stl_129 stl_49 stl_130" style="word-spacing:-0.0111em;">这些内嵌在你的网站或应用中的外站 </span><span class="stl_132 stl_52 stl_130" style="word-spacing:-0.0111em;">URL </span><span class="stl_129 stl_49 stl_130" style="word-spacing:-0.0111em;">链接被称为</span><span class="stl_269 stl_49 stl_130" style="word-spacing:-0.0111em;">盗链</span><span class="stl_129 stl_49 stl_130" style="word-spacing:-0.0111em;">（</span><span class="stl_132 stl_52 stl_130" style="word-spacing:-0.0111em;">hotlinking</span><span class="stl_129 stl_49 stl_130" style="word-spacing:-0.0111em;">），使用盗链可 &nbsp;</span></div>
					<div class="stl_01" style="top:8.0741em; left:6.732em;"><span class="stl_129 stl_49 stl_10">能会让你麻烦不断，每个网站都会实施防盗链措施。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.286em; left:5.6688em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:10.5361em; left:5.6688em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:9.3241em; left:6.732em;"><span class="stl_129 stl_49 stl_10">因为你的链接文件在别人的服务器上，所以你的应用就要跟着别人的节奏运行了。 &nbsp;</span></div>
					<div class="stl_01" style="top:10.574em; left:6.732em;"><span class="stl_129 stl_49 stl_121">盗链是很容易改变的。如果你把盗链图片放在博客上，要是被对方服务器发现，很可能 &nbsp;</span></div>
					<div class="stl_01" style="top:11.7463em; left:6.7323em;"><span class="stl_129 stl_49 stl_325" style="word-spacing:-0.0268em;">被恶搞。如果你把 </span><span class="stl_132 stl_52 stl_325" style="word-spacing:-0.0268em;">URL </span><span class="stl_129 stl_49 stl_325" style="word-spacing:-0.0268em;">链接存起来准备以后再用，可能用的时候链接已经失效了，或 &nbsp;</span></div>
					<div class="stl_01" style="top:13.0741em; left:6.7323em;"><span class="stl_129 stl_49 stl_10">者是变成了完全无关的内容。 &nbsp;</span></div>
					<div class="stl_01" style="top:14.286em; left:5.6691em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:14.2463em; left:6.7323em;"><span class="stl_129 stl_49 stl_315" style="word-spacing:-0.0347em;">现实中的网络浏览器不仅可以请求 </span><span class="stl_132 stl_52 stl_315" style="word-spacing:-0.0347em;">HTML </span><span class="stl_129 stl_49 stl_315" style="word-spacing:-0.0347em;">页面并切换页面，它们也会下载访问页面上 &nbsp;</span></div>
					<div class="stl_01" style="top:15.5741em; left:6.7323em;"><span class="stl_129 stl_49 stl_10">所有的资源。下载文件会让你的爬虫看起来更像是人在浏览网站，这样做反而有好处。 &nbsp;</span></div>
					<div class="stl_01" style="top:17.4075em; left:5.6691em;"><span class="stl_129 stl_49 stl_397" style="word-spacing:-0.0409em;">如果你还在犹豫究竟是存储文件，还是只存储文件的 </span><span class="stl_132 stl_52 stl_397" style="word-spacing:-0.0409em;">URL </span><span class="stl_129 stl_49 stl_397" style="word-spacing:-0.0409em;">链接，可以想想这些文件是要 &nbsp;</span></div>
					<div class="stl_01" style="top:18.7355em; left:5.6693em;"><span class="stl_129 stl_49 stl_341">多次使用，还是放进数据库之后就只是等着“落灰”，再也不会被打开。如果答案是后者， &nbsp;</span></div>
					<div class="stl_01" style="top:19.9078em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">那么最好还是只存储这些文件的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">URL </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">吧。如果答案是前者，那么就继续往下看！ &nbsp;</span></div>
					<div class="stl_01" style="top:21.8071em; left:5.6693em;"><span class="stl_129 stl_49 stl_484" style="word-spacing:-0.0102em;">在 </span><span class="stl_132 stl_52 stl_484" style="word-spacing:-0.0102em;">Python 3.x </span><span class="stl_129 stl_49 stl_484" style="word-spacing:-0.0102em;">版本中，</span><span class="stl_188 stl_44 stl_554" style="word-spacing:-0.0107em;">urllib.request.urlretrieve</span><span class="stl_129 stl_49 stl_484" style="word-spacing:-0.0102em;">可以根据文件的 </span><span class="stl_132 stl_52 stl_484" style="word-spacing:-0.0102em;">URL </span><span class="stl_129 stl_49 stl_484" style="word-spacing:-0.0102em;">下载文件： &nbsp;</span></div>
					<div class="stl_01" style="top:23.7876em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urllib.request </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urlretrieve &nbsp;</span></div>
					<div class="stl_01" style="top:24.6206em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">urllib.request </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:25.4536em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">bs4 </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:27.1196em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">html = urlopen("http://www.pythonscraping.com") &nbsp;</span></div>
					<div class="stl_01" style="top:27.9526em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">bsObj = BeautifulSoup(html) &nbsp;</span></div>
					<div class="stl_01" style="top:28.7856em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">imageLocation = bsObj.find("a", {"id": "logo"}).find("img")["src"] &nbsp;</span></div>
					<div class="stl_01" style="top:29.6186em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">urlretrieve (imageLocation, "logo.jpg") &nbsp;</span></div>
					<div class="stl_01" style="top:31.3421em; left:5.6693em;"><span class="stl_129 stl_49 stl_361" style="word-spacing:-0.0303em;">这段程序从 </span><span class="stl_132 stl_52 stl_361" style="word-spacing:-0.0303em;">http://pythonscraping.com </span><span class="stl_129 stl_49 stl_361" style="word-spacing:-0.0303em;">下载 </span><span class="stl_132 stl_52 stl_361" style="word-spacing:-0.0303em;">logo </span><span class="stl_129 stl_49 stl_361" style="word-spacing:-0.0303em;">图片，然后在程序运行的文件夹里保存为 &nbsp;</span></div>
					<div class="stl_01" style="top:32.5922em; left:5.6693em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">logo.jpg </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">文件。 &nbsp;</span></div>
					<div class="stl_01" style="top:34.5809em; left:5.6693em;"><span class="stl_129 stl_49 stl_142">如果你只需要下载一个文件，而且知道如何获取它，以及它的文件类型，这么做就可以 &nbsp;</span></div>
					<div class="stl_01" style="top:35.7536em; left:5.6693em;"><span class="stl_129 stl_49 stl_218" style="word-spacing:-0.01em;">了。但是大多数爬虫都不可能一天只下载一个文件。下面的程序会把 </span><span class="stl_132 stl_52 stl_218" style="word-spacing:-0.01em;">http://pythonscraping. &nbsp;</span></div>
					<div class="stl_01" style="top:36.9915em; left:5.6693em;"><span class="stl_132 stl_52 stl_586" style="word-spacing:-0.0264em;">com </span><span class="stl_129 stl_49 stl_586" style="word-spacing:-0.0264em;">主页上所有 </span><span class="stl_188 stl_44 stl_170" style="word-spacing:-0.0279em;">src</span><span class="stl_129 stl_49 stl_586" style="word-spacing:-0.0264em;">属性的文件都下载下来： &nbsp;</span></div>
					<div class="stl_01" style="top:38.972em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">os &nbsp;</span></div>
					<div class="stl_01" style="top:39.805em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urllib.request </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urlretrieve &nbsp;</span></div>
					<div class="stl_01" style="top:40.638em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">urllib.request </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:41.471em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">bs4 </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:43.137em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">downloadDirectory = "downloaded" &nbsp;</span></div>
					<div class="stl_01" style="top:43.97em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">baseUrl = "http://pythonscraping.com" &nbsp;</span></div>
					<div class="stl_01" style="top:45.636em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">getAbsoluteURL(baseUrl, source): &nbsp;</span></div>
					<div class="stl_01" style="top:46.469em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">source.startswith("http://www."): &nbsp;</span></div>
					<div class="stl_01" style="top:47.302em; left:10.227em;"><span class="stl_116 stl_44 stl_10">url = "http://"+source[11:] &nbsp;</span></div>
					<div class="stl_01" style="top:48.135em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">elif </span><span class="stl_116 stl_44 stl_10">source.startswith("http://"): &nbsp;</span></div>
					<div class="stl_01" style="top:48.968em; left:10.227em;"><span class="stl_116 stl_44 stl_10">url = source &nbsp;</span></div>
					<div class="stl_01" style="top:49.801em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">elif </span><span class="stl_116 stl_44 stl_10">source.startswith("www."): &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">6</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">2 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 5</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_102.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_102.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8921em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">url = source[4:] &nbsp;</span></div>
					<div class="stl_01" style="top:5.7251em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">url = "http://"+source &nbsp;</span></div>
					<div class="stl_01" style="top:6.5581em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">else</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:7.3911em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">url = baseUrl+"/"+source &nbsp;</span></div>
					<div class="stl_01" style="top:8.2241em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">baseUrl </span><span class="stl_232 stl_44 stl_10">not in </span><span class="stl_116 stl_44 stl_10">url: &nbsp;</span></div>
					<div class="stl_01" style="top:9.0571em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">None &nbsp;</span></div>
					<div class="stl_01" style="top:9.8901em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">url &nbsp;</span></div>
					<div class="stl_01" style="top:11.5561em; left:8.3386em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">def </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">getDownloadPath(baseUrl, absoluteUrl, downloadDirectory): &nbsp;</span></div>
					<div class="stl_01" style="top:12.3891em; left:9.7553em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">path = absoluteUrl.replace("www.", "") &nbsp;</span></div>
					<div class="stl_01" style="top:13.2221em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">path = path.replace(baseUrl, "") &nbsp;</span></div>
					<div class="stl_01" style="top:14.0551em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">path = downloadDirectory+path &nbsp;</span></div>
					<div class="stl_01" style="top:14.8881em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">directory = os.path.dirname(path) &nbsp;</span></div>
					<div class="stl_01" style="top:16.5541em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">if not </span><span class="stl_116 stl_44 stl_10">os.path.exists(directory): &nbsp;</span></div>
					<div class="stl_01" style="top:17.3871em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">os.makedirs(directory) &nbsp;</span></div>
					<div class="stl_01" style="top:19.0531em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">path &nbsp;</span></div>
					<div class="stl_01" style="top:20.7191em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">html = urlopen("http://www.pythonscraping.com") &nbsp;</span></div>
					<div class="stl_01" style="top:21.5521em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">bsObj = BeautifulSoup(html) &nbsp;</span></div>
					<div class="stl_01" style="top:22.3851em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">downloadList = bsObj.findAll(src=True) &nbsp;</span></div>
					<div class="stl_01" style="top:24.0511em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">download </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">downloadList: &nbsp;</span></div>
					<div class="stl_01" style="top:24.8841em; left:9.7553em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">fileUrl = getAbsoluteURL(baseUrl, download["src"]) &nbsp;</span></div>
					<div class="stl_01" style="top:25.7171em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">fileUrl </span><span class="stl_232 stl_44 stl_10">is not </span><span class="stl_116 stl_44 stl_10">None: &nbsp;</span></div>
					<div class="stl_01" style="top:26.5501em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(fileUrl) &nbsp;</span></div>
					<div class="stl_01" style="top:28.2161em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urlretrieve(fileUrl, getDownloadPath(baseUrl, fileUrl, downloadDirectory)) &nbsp;</span></div>
					<div class="stl_01" style="top:30.7374em; left:11.3386em;"><span class="stl_245 stl_20 stl_10">程序运行注意事项 &nbsp;</span></div>
					<div class="stl_01" style="top:32.6086em; left:11.3386em;"><span class="stl_48 stl_49 stl_252">你知道从网上下载未知文件的那些警告吗？这个程序会把页面上所有的文件 &nbsp;</span></div>
					<div class="stl_01" style="top:33.7016em; left:11.3858em;"><span class="stl_48 stl_49 stl_456" style="word-spacing:-0.0045em;">下载到你的硬盘里，可能会包含一些 </span><span class="stl_51 stl_52 stl_456" style="word-spacing:-0.0045em;">bash </span><span class="stl_48 stl_49 stl_456" style="word-spacing:-0.0045em;">脚本、</span><span class="stl_51 stl_52 stl_456" style="word-spacing:-0.0045em;">.exe </span><span class="stl_48 stl_49 stl_456" style="word-spacing:-0.0045em;">文件，甚至可能是恶意 &nbsp;</span></div>
					<div class="stl_01" style="top:34.8686em; left:11.3858em;"><span class="stl_48 stl_49 stl_257">软件（</span><span class="stl_51 stl_52 stl_257">malware</span><span class="stl_48 stl_49 stl_257">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.8169em; left:11.3386em;"><span class="stl_48 stl_49 stl_253">如果你之前从没有运行过任何下载到电脑里的文件，电脑就是安全的吗？尤 &nbsp;</span></div>
					<div class="stl_01" style="top:37.9839em; left:11.3858em;"><span class="stl_48 stl_49 stl_404">其是当你用管理员权限运行这个程序时，你的电脑基本已经处于危险之中。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.077em; left:11.3858em;"><span class="stl_48 stl_49 stl_645" style="word-spacing:-0.0314em;">如果你执行了网页上的一个文件，那个文件把自己传送到了 </span><span class="stl_51 stl_52 stl_645" style="word-spacing:-0.0314em;">../../../../usr/bin/ &nbsp;</span></div>
					<div class="stl_01" style="top:40.2436em; left:11.3858em;"><span class="stl_51 stl_52 stl_254" style="word-spacing:-0.0434em;">python </span><span class="stl_48 stl_49 stl_254" style="word-spacing:-0.0434em;">里面，会发生什么呢？等下一次你再运行 </span><span class="stl_51 stl_52 stl_254" style="word-spacing:-0.0434em;">Python </span><span class="stl_48 stl_49 stl_254" style="word-spacing:-0.0434em;">程序时，你的电脑 &nbsp;</span></div>
					<div class="stl_01" style="top:41.4842em; left:11.3858em;"><span class="stl_48 stl_49 stl_10">就可能会安装恶意软件。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.3592em; left:11.3386em;"><span class="stl_48 stl_49 stl_253">这个程序只是为了演示；请不要随意运行它，因为这里没有对所有下载文件 &nbsp;</span></div>
					<div class="stl_01" style="top:44.5259em; left:11.3858em;"><span class="stl_48 stl_49 stl_487">的类型进行检查，也不应该用管理员权限运行它。记得经常备份重要的文 &nbsp;</span></div>
					<div class="stl_01" style="top:45.6929em; left:11.3858em;"><span class="stl_48 stl_49 stl_10">件，不要在硬盘上存储敏感信息，小心驶得万年船。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.9502em; left:6.6142em;"><span class="stl_129 stl_49 stl_310" style="word-spacing:-0.0439em;">这个程序首先使用 </span><span class="stl_132 stl_52 stl_310" style="word-spacing:-0.0439em;">Lambda </span><span class="stl_129 stl_49 stl_310" style="word-spacing:-0.0439em;">函数（第 </span><span class="stl_132 stl_52 stl_310" style="word-spacing:-0.0439em;">2 </span><span class="stl_129 stl_49 stl_310" style="word-spacing:-0.0439em;">章介绍过）选择首页上所有带 </span><span class="stl_188 stl_44 stl_311" style="word-spacing:-0.0464em;">src</span><span class="stl_129 stl_49 stl_310" style="word-spacing:-0.0439em;">属性的标签。然 &nbsp;</span></div>
					<div class="stl_01" style="top:49.2122em; left:6.6144em;"><span class="stl_129 stl_49 stl_646" style="word-spacing:0.01em;">后对 </span><span class="stl_132 stl_52 stl_646" style="word-spacing:0.01em;">URL </span><span class="stl_129 stl_49 stl_646" style="word-spacing:0.01em;">链接进行清理和标准化，获得文件的绝对路径（而且去掉了外链）。最后，每个 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.0178em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">存储数据 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">63 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_103.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_103.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">文件都会下载到程序所在文件夹的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">downloaded </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">文件里。 &nbsp;</span></div>
					<div class="stl_01" style="top:6.746em; left:5.6693em;"><span class="stl_129 stl_49 stl_170" style="word-spacing:-0.0228em;">这里 </span><span class="stl_132 stl_52 stl_170" style="word-spacing:-0.0228em;">Python </span><span class="stl_129 stl_49 stl_170" style="word-spacing:-0.0228em;">的 </span><span class="stl_132 stl_52 stl_170" style="word-spacing:-0.0228em;">os </span><span class="stl_129 stl_49 stl_170" style="word-spacing:-0.0228em;">模块用来获取每个下载文件的目标文件夹，建立完整的路径。</span><span class="stl_132 stl_52 stl_170" style="word-spacing:-0.0228em;">os </span><span class="stl_129 stl_49 stl_170" style="word-spacing:-0.0228em;">模块是 &nbsp;</span></div>
					<div class="stl_01" style="top:7.9963em; left:5.6693em;"><span class="stl_132 stl_52 stl_186" style="word-spacing:-0.0124em;">Python </span><span class="stl_129 stl_49 stl_186" style="word-spacing:-0.0124em;">与操作系统进行交互的接口，它可以操作文件路径，创建目录，获取运行进程和环 &nbsp;</span></div>
					<div class="stl_01" style="top:9.3241em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">境变量的信息，以及其他系统相关的操作。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.7124em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">5</span></div>
					<div class="stl_01" style="top:11.6416em; left:6.4924em;"><span class="stl_197 stl_18 stl_71">.2</span><span class="stl_160 stl_20 stl_71">ꢀ把数据存储到</span><span class="stl_197 stl_18 stl_71">CSV &nbsp;</span></div>
					<div class="stl_01" style="top:14.0748em; left:5.6693em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.028em;">CSV</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.028em;">（</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.028em;">Comma-Separated Values</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.028em;">，逗号分隔值）是存储表格数据的常用文件格式。</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.028em;">Microsoft &nbsp;</span></div>
					<div class="stl_01" style="top:15.3248em; left:5.6693em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0002em;">Excel </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0002em;">和很多应用都支持 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0002em;">CSV </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0002em;">格式，因为它很简洁。下面就是一个 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0002em;">CSV </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0002em;">文件的例子： &nbsp;</span></div>
					<div class="stl_01" style="top:17.2933em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">fruit,cost &nbsp;</span></div>
					<div class="stl_01" style="top:18.1263em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">apple,1.00 &nbsp;</span></div>
					<div class="stl_01" style="top:18.9593em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">banana,0.30 &nbsp;</span></div>
					<div class="stl_01" style="top:19.7923em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">pear,1.25 &nbsp;</span></div>
					<div class="stl_01" style="top:21.5144em; left:5.6693em;"><span class="stl_129 stl_49 stl_173" style="word-spacing:-0.0291em;">和 </span><span class="stl_132 stl_52 stl_173" style="word-spacing:-0.0291em;">Python </span><span class="stl_129 stl_49 stl_173" style="word-spacing:-0.0291em;">一样，</span><span class="stl_132 stl_52 stl_173" style="word-spacing:-0.0291em;">CSV </span><span class="stl_129 stl_49 stl_173" style="word-spacing:-0.0291em;">里留白（</span><span class="stl_132 stl_52 stl_173" style="word-spacing:-0.0291em;">whitespace</span><span class="stl_129 stl_49 stl_173" style="word-spacing:-0.0291em;">）也是很重要的：每一行都用一个换行符分隔， &nbsp;</span></div>
					<div class="stl_01" style="top:22.7644em; left:5.6693em;"><span class="stl_129 stl_49 stl_647" style="word-spacing:0.0459em;">列与列之间用逗号分隔（因此也叫“逗号分隔值”）。</span><span class="stl_132 stl_52 stl_647" style="word-spacing:0.0459em;">CSV </span><span class="stl_129 stl_49 stl_647" style="word-spacing:0.0459em;">文件还可以用 </span><span class="stl_132 stl_52 stl_647" style="word-spacing:0.0459em;">Tab </span><span class="stl_129 stl_49 stl_647" style="word-spacing:0.0459em;">字符或其他字 &nbsp;</span></div>
					<div class="stl_01" style="top:24.0921em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">符分隔行，但是不太常见，用得不多。 &nbsp;</span></div>
					<div class="stl_01" style="top:25.9255em; left:5.6693em;"><span class="stl_129 stl_49 stl_255" style="word-spacing:-0.0441em;">如果你只想从网页上把 </span><span class="stl_132 stl_52 stl_255" style="word-spacing:-0.0441em;">CSV </span><span class="stl_129 stl_49 stl_255" style="word-spacing:-0.0441em;">文件下载到电脑里，不打算做任何解析和修改，那么这节后 &nbsp;</span></div>
					<div class="stl_01" style="top:27.1758em; left:5.6693em;"><span class="stl_129 stl_49 stl_443" style="word-spacing:-0.0444em;">面的内容就没必要再看了。只要用上一节里介绍的文件下载方法下载并保存为 </span><span class="stl_132 stl_52 stl_443" style="word-spacing:-0.0444em;">CSV </span><span class="stl_129 stl_49 stl_443" style="word-spacing:-0.0444em;">格式 &nbsp;</span></div>
					<div class="stl_01" style="top:28.5035em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">就行了。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.3369em; left:5.6693em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">csv </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">库可以非常简单地修改 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">CSV </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">文件，甚至从零开始创建一个 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">CSV </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">文件： &nbsp;</span></div>
					<div class="stl_01" style="top:32.3056em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">csv &nbsp;</span></div>
					<div class="stl_01" style="top:33.9716em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">csvFile = open("../files/test.csv", 'w+') &nbsp;</span></div>
					<div class="stl_01" style="top:34.8046em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">try</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:35.6376em; left:8.8104em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">writer = csv.writer(csvFile) &nbsp;</span></div>
					<div class="stl_01" style="top:36.4706em; left:8.8104em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">writer.writerow(('number', 'number plus 2', 'number times 2')) &nbsp;</span></div>
					<div class="stl_01" style="top:37.3036em; left:8.8104em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">for </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">i </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">in </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">range(10): &nbsp;</span></div>
					<div class="stl_01" style="top:38.1366em; left:10.227em;"><span class="stl_116 stl_44 stl_10">writer.writerow( (i, i+2, i*2)) &nbsp;</span></div>
					<div class="stl_01" style="top:38.9696em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">finally</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:39.8026em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">csvFile.close() &nbsp;</span></div>
					<div class="stl_01" style="top:41.5269em; left:5.6693em;"><span class="stl_129 stl_49 stl_462" style="word-spacing:0.0157em;">这里提个醒儿：</span><span class="stl_132 stl_52 stl_462" style="word-spacing:0.0157em;">Python </span><span class="stl_129 stl_49 stl_462" style="word-spacing:0.0157em;">新建文件的机制考虑得非常周到（</span><span class="stl_132 stl_52 stl_462" style="word-spacing:0.0157em;">bullet-proof</span><span class="stl_129 stl_49 stl_462" style="word-spacing:0.0157em;">）。如果 </span><span class="stl_132 stl_52 stl_462" style="word-spacing:0.0157em;">../</span><span class="stl_148 stl_52 stl_462" style="word-spacing:0.0157em;">ﬁ</span><span class="stl_132 stl_52 stl_462" style="word-spacing:0.0157em;">les/test.csv &nbsp;</span></div>
					<div class="stl_01" style="top:42.7769em; left:5.6693em;"><span class="stl_129 stl_49 stl_483" style="word-spacing:-0.0026em;">不存在，</span><span class="stl_132 stl_52 stl_483" style="word-spacing:-0.0026em;">Python </span><span class="stl_129 stl_49 stl_483" style="word-spacing:-0.0026em;">会自动创建文件（不会自动创建文件夹）。如果文件已经存在，</span><span class="stl_132 stl_52 stl_483" style="word-spacing:-0.0026em;">Python </span><span class="stl_129 stl_49 stl_483" style="word-spacing:-0.0026em;">会 &nbsp;</span></div>
					<div class="stl_01" style="top:44.0269em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">用新的数据覆盖 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">test.csv </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">文件。 &nbsp;</span></div>
					<div class="stl_01" style="top:45.938em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">运行完成后，你会看到一个 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">CSV </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">文件： &nbsp;</span></div>
					<div class="stl_01" style="top:47.9068em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">number,number plus 2,number times 2 &nbsp;</span></div>
					<div class="stl_01" style="top:48.7398em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">0</span></div>
					<div class="stl_01" style="top:49.5728em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">1</span></div>
					<div class="stl_01" style="top:48.7398em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">,2,0 &nbsp;</span></div>
					<div class="stl_01" style="top:49.5728em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">,3,2 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">6</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">4 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 5</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_104.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_104.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8921em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">2</span></div>
					<div class="stl_01" style="top:5.7251em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">.</span></div>
					<div class="stl_01" style="top:4.8921em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">,4,4 &nbsp;</span></div>
					<div class="stl_01" style="top:5.7251em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">.. &nbsp;</span></div>
					<div class="stl_01" style="top:7.4465em; left:6.6142em;"><span class="stl_129 stl_49 stl_648" style="word-spacing:-0.0281em;">网络数据采集的一个常用功能就是获取 </span><span class="stl_132 stl_52 stl_648" style="word-spacing:-0.0281em;">HTML </span><span class="stl_129 stl_49 stl_648" style="word-spacing:-0.0281em;">表格并写入 </span><span class="stl_132 stl_52 stl_648" style="word-spacing:-0.0281em;">CSV </span><span class="stl_129 stl_49 stl_648" style="word-spacing:-0.0281em;">文件。维基百科的文本编 &nbsp;</span></div>
					<div class="stl_01" style="top:8.6965em; left:6.6142em;"><span class="stl_129 stl_49 stl_183">辑器对比词条（</span><span class="stl_132 stl_52 stl_183">https://en.wikipedia.org/wiki/Comparison_of_text_editors</span><span class="stl_129 stl_49 stl_183">）中用了许多复杂 &nbsp;</span></div>
					<div class="stl_01" style="top:9.9465em; left:6.6142em;"><span class="stl_129 stl_49 stl_649" style="word-spacing:-0.0759em;">的 </span><span class="stl_132 stl_52 stl_649" style="word-spacing:-0.0759em;">HTML </span><span class="stl_129 stl_49 stl_649" style="word-spacing:-0.0759em;">表格，用到了颜色、链接、排序，以及其他在写入 </span><span class="stl_132 stl_52 stl_649" style="word-spacing:-0.0759em;">CSV </span><span class="stl_129 stl_49 stl_649" style="word-spacing:-0.0759em;">文件之前需要忽略的 &nbsp;</span></div>
					<div class="stl_01" style="top:11.1844em; left:6.6142em;"><span class="stl_132 stl_52 stl_300" style="word-spacing:-0.0113em;">HTML </span><span class="stl_129 stl_49 stl_300" style="word-spacing:-0.0113em;">元素。用 </span><span class="stl_132 stl_52 stl_300" style="word-spacing:-0.0113em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_300" style="word-spacing:-0.0113em;">和 </span><span class="stl_188 stl_44 stl_650" style="word-spacing:-0.0119em;">get_text()</span><span class="stl_129 stl_49 stl_300" style="word-spacing:-0.0113em;">函数，你可以用十几行代码完成这件事： &nbsp;</span></div>
					<div class="stl_01" style="top:13.1649em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">csv &nbsp;</span></div>
					<div class="stl_01" style="top:13.9979em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">urllib.request </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:14.8309em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">bs4 </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:16.4969em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">html = urlopen("http://en.wikipedia.org/wiki/Comparison_of_text_editors") &nbsp;</span></div>
					<div class="stl_01" style="top:17.3299em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">bsObj = BeautifulSoup(html) &nbsp;</span></div>
					<div class="stl_01" style="top:18.1629em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:18.1843em; left:9.0469em;"><span class="stl_256 stl_49 stl_10">主对比表格是当前页面上的第一个表格 &nbsp;</span></div>
					<div class="stl_01" style="top:18.9959em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">table = bsObj.findAll("table",{"class":"wikitable"})[0] &nbsp;</span></div>
					<div class="stl_01" style="top:19.8289em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">rows = table.findAll("tr") &nbsp;</span></div>
					<div class="stl_01" style="top:21.4949em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">csvFile = open("../files/editors.csv", 'wt', newline=", encoding='utf-8') &nbsp;</span></div>
					<div class="stl_01" style="top:22.3279em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">writer = csv.writer(csvFile) &nbsp;</span></div>
					<div class="stl_01" style="top:23.1609em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">try</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:23.9939em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">row </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">rows: &nbsp;</span></div>
					<div class="stl_01" style="top:24.8269em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">csvRow = [] &nbsp;</span></div>
					<div class="stl_01" style="top:25.6599em; left:9.7553em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">for </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">cell </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">in </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">row.findAll(['td', 'th']): &nbsp;</span></div>
					<div class="stl_01" style="top:26.4929em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">csvRow.append(cell.get_text()) &nbsp;</span></div>
					<div class="stl_01" style="top:27.3259em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">writer.writerow(csvRow) &nbsp;</span></div>
					<div class="stl_01" style="top:28.1589em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">finally</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:28.9919em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">csvFile.close() &nbsp;</span></div>
					<div class="stl_01" style="top:31.5348em; left:14.8714em;"><span class="stl_268 stl_20 stl_10">实际工作中写此程序之前的注意事项 &nbsp;</span></div>
					<div class="stl_01" style="top:33.0634em; left:7.3478em;"><span class="stl_269 stl_49 stl_133" style="word-spacing:-0.0204em;">如果你有很多 </span><span class="stl_132 stl_52 stl_133" style="word-spacing:-0.0204em;">HTML </span><span class="stl_269 stl_49 stl_133" style="word-spacing:-0.0204em;">表格，且每个都要转换成 </span><span class="stl_132 stl_52 stl_133" style="word-spacing:-0.0204em;">CSV </span><span class="stl_269 stl_49 stl_133" style="word-spacing:-0.0204em;">文件，或者许多 </span><span class="stl_132 stl_52 stl_133" style="word-spacing:-0.0204em;">HTML </span><span class="stl_269 stl_49 stl_133" style="word-spacing:-0.0204em;">表格都要 &nbsp;</span></div>
					<div class="stl_01" style="top:34.1884em; left:7.3478em;"><span class="stl_269 stl_49 stl_282" style="word-spacing:-0.0042em;">汇总到一个 </span><span class="stl_132 stl_52 stl_282" style="word-spacing:-0.0042em;">CSV </span><span class="stl_269 stl_49 stl_282" style="word-spacing:-0.0042em;">文件，那么把这个程序整合到爬虫里以解决问题非常好。但是，如果 &nbsp;</span></div>
					<div class="stl_01" style="top:35.3133em; left:7.351em;"><span class="stl_269 stl_49 stl_184" style="word-spacing:-0.0095em;">你只需要做一次这种事情，那么更好的办法就是：复制粘贴。选择 </span><span class="stl_132 stl_52 stl_184" style="word-spacing:-0.0095em;">HTML </span><span class="stl_269 stl_49 stl_184" style="word-spacing:-0.0095em;">表格内容然 &nbsp;</span></div>
					<div class="stl_01" style="top:36.4383em; left:7.3565em;"><span class="stl_269 stl_49 stl_10" style="word-spacing:-0.0003em;">后粘贴到 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0003em;">Excel </span><span class="stl_269 stl_49 stl_10" style="word-spacing:-0.0003em;">文件里，可以另存为 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0003em;">CSV </span><span class="stl_269 stl_49 stl_10" style="word-spacing:-0.0003em;">格式，不需要写代码就能搞定！ &nbsp;</span></div>
					<div class="stl_01" style="top:38.59em; left:6.6142em;"><span class="stl_129 stl_49 stl_139" style="word-spacing:-0.0145em;">这个程序会在程序上一层目录的 </span><span class="stl_148 stl_52 stl_139" style="word-spacing:-0.0145em;">ﬁ</span><span class="stl_132 stl_52 stl_139" style="word-spacing:-0.0145em;">les </span><span class="stl_129 stl_49 stl_139" style="word-spacing:-0.0145em;">文件夹里生成一个 </span><span class="stl_132 stl_52 stl_139" style="word-spacing:-0.0145em;">CSV </span><span class="stl_129 stl_49 stl_139" style="word-spacing:-0.0145em;">文件 </span><span class="stl_132 stl_52 stl_139" style="word-spacing:-0.0145em;">../</span><span class="stl_148 stl_52 stl_139" style="word-spacing:-0.0145em;">ﬁ</span><span class="stl_132 stl_52 stl_139" style="word-spacing:-0.0145em;">les/editors.csv</span><span class="stl_129 stl_49 stl_139" style="word-spacing:-0.0145em;">——把 &nbsp;</span></div>
					<div class="stl_01" style="top:39.84em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">这个程序分享给那些不熟悉 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">MySQL </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">的朋友们吧！ &nbsp;</span></div>
					<div class="stl_01" style="top:42.306em; left:6.6142em;"><span class="stl_197 stl_18 stl_10">5</span></div>
					<div class="stl_01" style="top:42.2352em; left:7.4373em;"><span class="stl_197 stl_18 stl_71">.3</span><span class="stl_160 stl_20 stl_71">ꢀ</span><span class="stl_197 stl_18 stl_71">MySQL &nbsp;</span></div>
					<div class="stl_01" style="top:44.6684em; left:6.6142em;"><span class="stl_132 stl_52 stl_131" style="word-spacing:0.1263em;">MySQL</span><span class="stl_129 stl_49 stl_131" style="word-spacing:0.1263em;">（官方发音是“</span><span class="stl_132 stl_52 stl_131" style="word-spacing:0.1263em;">My es-kew-el</span><span class="stl_129 stl_49 stl_131" style="word-spacing:0.1263em;">”，但很多人都说成“</span><span class="stl_132 stl_52 stl_131" style="word-spacing:0.1263em;">My Sequel</span><span class="stl_129 stl_49 stl_131" style="word-spacing:0.1263em;">”）是目前最受欢迎 &nbsp;</span></div>
					<div class="stl_01" style="top:45.9961em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">的开源关系型数据库管理系统。一个开源项目具有如此之竞争力实在是令人意外，它的流 &nbsp;</span></div>
					<div class="stl_01" style="top:47.1684em; left:6.6142em;"><span class="stl_129 stl_49 stl_391" style="word-spacing:-0.0441em;">行程度正在不断地接近另外两个闭源的商业数据库系统：微软的 </span><span class="stl_132 stl_52 stl_391" style="word-spacing:-0.0441em;">SQL</span><span class="stl_132 stl_52 stl_391" style="word-spacing:0.0731em;"> Server</span><span class="stl_129 stl_49 stl_391" style="word-spacing:-0.0441em;"> 和甲骨文的 &nbsp;</span></div>
					<div class="stl_01" style="top:48.4184em; left:6.6142em;"><span class="stl_132 stl_52 stl_137" style="word-spacing:0.0418em;">Oracle </span><span class="stl_129 stl_49 stl_137" style="word-spacing:0.0418em;">数据库（</span><span class="stl_132 stl_52 stl_137" style="word-spacing:0.0418em;">MySQL </span><span class="stl_129 stl_49 stl_137" style="word-spacing:0.0418em;">在 </span><span class="stl_132 stl_52 stl_137" style="word-spacing:0.0418em;">2010 </span><span class="stl_129 stl_49 stl_137" style="word-spacing:0.0418em;">年被甲骨文收购）。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.0178em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">存储数据 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">65 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_105.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_105.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_129 stl_49 stl_651" style="word-spacing:-0.0841em;">它的流程程度实在是名符其实。对大多数应用来说，</span><span class="stl_132 stl_52 stl_651" style="word-spacing:-0.0841em;">MySQL </span><span class="stl_129 stl_49 stl_651" style="word-spacing:-0.0841em;">都是不二选择。它是一种 &nbsp;</span></div>
					<div class="stl_01" style="top:6.0452em; left:32.2706em;"><span class="stl_181 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:6.0452em; left:35.6231em;"><span class="stl_181 stl_52 stl_10">2</span></div>
					<div class="stl_01" style="top:6.0849em; left:5.6693em;"><span class="stl_129 stl_49 stl_652" style="word-spacing:-0.026em;">非常灵活、稳定、功能齐全的 </span><span class="stl_132 stl_52 stl_652" style="word-spacing:-0.026em;">DBMS</span><span class="stl_129 stl_49 stl_652" style="word-spacing:-0.026em;">，许多顶级的网站都在用它：</span><span class="stl_132 stl_52 stl_652" style="word-spacing:-0.026em;">YouTube</span><span class="stl_129 stl_49 stl_652" style="word-spacing:-0.026em;"> 、</span><span class="stl_132 stl_52 stl_652" style="word-spacing:0.0032em;">Twitter</span><span class="stl_129 stl_49 stl_652" style="word-spacing:0.0032em;"> 和 &nbsp;</span></div>
					<div class="stl_01" style="top:7.2952em; left:8.7471em;"><span class="stl_181 stl_52 stl_10">3</span></div>
					<div class="stl_01" style="top:7.3349em; left:5.669em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.2915em;">Facebook </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.2915em;">等。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.3237em; left:5.6694em;"><span class="stl_129 stl_49 stl_139">因为它受众广泛，免费，开箱即用，所以它也是网络数据采集项目中常用的数据库，我们 &nbsp;</span></div>
					<div class="stl_01" style="top:10.5741em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">将在本书后面的示例中使用它。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.2272em; left:16.9945em;"><span class="stl_653 stl_44 stl_10">“</span></div>
					<div class="stl_01" style="top:13.1028em; left:17.9112em;"><span class="stl_268 stl_20 stl_10">关系型</span><span class="stl_653 stl_44 stl_10">”</span><span class="stl_268 stl_20 stl_10">数据库 </span><span class="stl_469 stl_18 stl_10">? &nbsp;</span></div>
					<div class="stl_01" style="top:14.8294em; left:6.0071em;"><span class="stl_269 stl_49 stl_10">“</span></div>
					<div class="stl_01" style="top:14.8294em; left:6.7988em;"><span class="stl_269 stl_49 stl_10">关系型数据”就是有关联的数据。就是这么简单！ &nbsp;</span></div>
					<div class="stl_01" style="top:16.427em; left:6.403em;"><span class="stl_269 stl_49 stl_359">开个玩笑！当计算机科学家说起关系型数据时，他们指的是那些并非孤立的数据—— &nbsp;</span></div>
					<div class="stl_01" style="top:17.4743em; left:6.399em;"><span class="stl_269 stl_49 stl_154" style="word-spacing:0.0033em;">它们的属性与其他的数据是有关联的。例如，“用户 </span><span class="stl_132 stl_52 stl_154" style="word-spacing:0.0033em;">A </span><span class="stl_269 stl_49 stl_154" style="word-spacing:0.0033em;">在学校 </span><span class="stl_132 stl_52 stl_154" style="word-spacing:0.0033em;">B </span><span class="stl_269 stl_49 stl_154" style="word-spacing:0.0033em;">上学”，这里用户 </span><span class="stl_132 stl_52 stl_154" style="word-spacing:0.0033em;">A &nbsp;</span></div>
					<div class="stl_01" style="top:18.5992em; left:6.3879em;"><span class="stl_269 stl_49 stl_10" style="word-spacing:0em;">在数据库的“用户”表中，而学校 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">B </span><span class="stl_269 stl_49 stl_10" style="word-spacing:0em;">是在数据库的“学校”表中。 &nbsp;</span></div>
					<div class="stl_01" style="top:20.2745em; left:6.3879em;"><span class="stl_269 stl_49 stl_208">在本章后面的内容里，我们将介绍数据关系的不同类型，以及如何有效地把数据存储 &nbsp;</span></div>
					<div class="stl_01" style="top:21.3218em; left:6.3966em;"><span class="stl_269 stl_49 stl_10" style="word-spacing:0em;">到 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">MySQL</span><span class="stl_269 stl_49 stl_10" style="word-spacing:0em;">（或其他关系型数据库）里。 &nbsp;</span></div>
					<div class="stl_01" style="top:24.0493em; left:5.6693em;"><span class="stl_260 stl_18 stl_10">5</span></div>
					<div class="stl_01" style="top:23.9909em; left:6.3471em;"><span class="stl_260 stl_18 stl_71">.3.1</span><span class="stl_91 stl_20 stl_71">ꢀ安装</span><span class="stl_260 stl_18 stl_71">MySQL &nbsp;</span></div>
					<div class="stl_01" style="top:25.9318em; left:5.6693em;"><span class="stl_129 stl_49 stl_561" style="word-spacing:-0.037em;">如果你第一次接触 </span><span class="stl_132 stl_52 stl_561" style="word-spacing:-0.037em;">MySQL</span><span class="stl_129 stl_49 stl_561" style="word-spacing:-0.037em;">，安装数据库听着可能有点儿吓人（如果你是老手，可以跳过 &nbsp;</span></div>
					<div class="stl_01" style="top:27.1818em; left:5.6693em;"><span class="stl_129 stl_49 stl_654" style="word-spacing:0.0104em;">这部分内容）。其实，安装方法和安装其他软件一样简单。归根到底，</span><span class="stl_132 stl_52 stl_654" style="word-spacing:0.0104em;">MySQL </span><span class="stl_129 stl_49 stl_654" style="word-spacing:0.0104em;">就是由一系 &nbsp;</span></div>
					<div class="stl_01" style="top:28.5095em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">列数据文件构成的，储存在你的远端服务器或本地的电脑上，里面包含了数据库存储的所 &nbsp;</span></div>
					<div class="stl_01" style="top:29.6818em; left:5.6693em;"><span class="stl_129 stl_49 stl_580" style="word-spacing:-0.037em;">有信息。</span><span class="stl_132 stl_52 stl_580" style="word-spacing:-0.037em;">MySQL </span><span class="stl_129 stl_49 stl_580" style="word-spacing:-0.037em;">软件层提供了一种与数据交互的便捷操作方法。例如，下面的命令把用 &nbsp;</span></div>
					<div class="stl_01" style="top:30.9319em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">户表 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">users </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">中名字为“</span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">Ryan</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">”的用户找出来： &nbsp;</span></div>
					<div class="stl_01" style="top:32.9003em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">SELECT </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">* </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">FROM </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">users </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">WHERE </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">firstname = "Ryan" &nbsp;</span></div>
					<div class="stl_01" style="top:34.6215em; left:5.6693em;"><span class="stl_129 stl_49 stl_98" style="word-spacing:0.0323em;">如果你用 </span><span class="stl_132 stl_52 stl_98" style="word-spacing:0.0323em;">Ubuntu</span><span class="stl_129 stl_49 stl_98" style="word-spacing:0.0323em;">（或其他 </span><span class="stl_132 stl_52 stl_98" style="word-spacing:0.0323em;">Debain </span><span class="stl_129 stl_49 stl_98" style="word-spacing:0.0323em;">分支系统），安装 </span><span class="stl_132 stl_52 stl_98" style="word-spacing:0.0323em;">MySQL </span><span class="stl_129 stl_49 stl_98" style="word-spacing:0.0323em;">很简单： &nbsp;</span></div>
					<div class="stl_01" style="top:36.59em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:36.59em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">sudo apt-get install mysql-server &nbsp;</span></div>
					<div class="stl_01" style="top:38.3888em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">只要稍微留意一下安装过程，看看电脑是不是可以满足安装的内存需求，然后在安装提示 &nbsp;</span></div>
					<div class="stl_01" style="top:39.5611em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">的地方为 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">root </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">用户设置新密码就可以了。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.4722em; left:5.6693em;"><span class="stl_132 stl_52 stl_244" style="word-spacing:0.0001em;">Mac OS X </span><span class="stl_129 stl_49 stl_244" style="word-spacing:0.0001em;">和 </span><span class="stl_132 stl_52 stl_244" style="word-spacing:0.0001em;">Windows </span><span class="stl_129 stl_49 stl_244" style="word-spacing:0.0001em;">系统的安装过程有点儿复杂。如果你没有甲骨文账户，下载 </span><span class="stl_132 stl_52 stl_244" style="word-spacing:0.0001em;">MySQL &nbsp;</span></div>
					<div class="stl_01" style="top:42.8em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">安装包之前需要先注册一下。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.0086em; left:5.6693em;"><span class="stl_60 stl_49 stl_655" style="word-spacing:-0.0668em;">注 </span><span class="stl_61 stl_52 stl_655" style="word-spacing:-0.0668em;">1</span><span class="stl_60 stl_49 stl_655" style="word-spacing:-0.0668em;">：</span><span class="stl_61 stl_52 stl_655" style="word-spacing:-0.0668em;">Joab</span><span class="stl_61 stl_52 stl_655" style="word-spacing:0.0922em;"> Jackson,</span><span class="stl_60 stl_49 stl_655" style="word-spacing:0.0922em;">“</span><span class="stl_61 stl_52 stl_655" style="word-spacing:0.0922em;">YouTube Scales MySQL with Go Code,</span><span class="stl_60 stl_49 stl_655" style="word-spacing:0.0922em;">”</span><span class="stl_61 stl_52 stl_655" style="word-spacing:0.0922em;">PCWorld, December 15, 2012</span><span class="stl_61 stl_52 stl_655" style="word-spacing:0.0922em;"> (http://bit. &nbsp;</span></div>
					<div class="stl_01" style="top:47.0086em; left:7.512em;"><span class="stl_61 stl_52 stl_10">ly/1LWVmc8)</span><span class="stl_60 stl_49 stl_10">。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.0086em; left:5.6693em;"><span class="stl_60 stl_49 stl_656" style="word-spacing:0.011em;">注 </span><span class="stl_61 stl_52 stl_656" style="word-spacing:0.011em;">2</span><span class="stl_60 stl_49 stl_656" style="word-spacing:0.011em;">：</span><span class="stl_61 stl_52 stl_656" style="word-spacing:0.011em;">Jeremy</span><span class="stl_61 stl_52 stl_656" style="word-spacing:0.0379em;"> Cole and Davi Arnaut,</span><span class="stl_60 stl_49 stl_656" style="word-spacing:0.0379em;">“</span><span class="stl_61 stl_52 stl_656" style="word-spacing:0.0379em;">MySQL at Twitter,</span><span class="stl_60 stl_49 stl_656" style="word-spacing:0.0379em;">”</span><span class="stl_61 stl_52 stl_656" style="word-spacing:0.0379em;">The Twitter Engineering Blog, April 9, 2012</span><span class="stl_61 stl_52 stl_656" style="word-spacing:0.0379em;"> (http://bit. &nbsp;</span></div>
					<div class="stl_01" style="top:49.0086em; left:7.512em;"><span class="stl_61 stl_52 stl_10">ly/1KHDKns)</span><span class="stl_60 stl_49 stl_10">。 &nbsp;</span></div>
					<div class="stl_01" style="top:50.0086em; left:5.6693em;"><span class="stl_60 stl_49 stl_474" style="word-spacing:0.0197em;">注 </span><span class="stl_61 stl_52 stl_474" style="word-spacing:0.0197em;">3</span><span class="stl_60 stl_49 stl_474" style="word-spacing:0.0197em;">：“</span><span class="stl_61 stl_52 stl_474" style="word-spacing:0.0197em;">MySQL and Database Engineering: Mark Callaghan,</span><span class="stl_60 stl_49 stl_474" style="word-spacing:0.0197em;">”</span><span class="stl_61 stl_52 stl_474" style="word-spacing:0.0197em;">March 4, 2012</span><span class="stl_60 stl_49 stl_474" style="word-spacing:0.0197em;">（</span><span class="stl_61 stl_52 stl_474" style="word-spacing:0.0197em;">http://on.fb.me/1RFMqvw)</span><span class="stl_60 stl_49 stl_474" style="word-spacing:0.0197em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">6</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">6 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 5</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_107.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_107.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0451em;">如 果</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0451em;"> 你</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0451em;"> 用</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0509em;"> Mac</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.1249em;"> OS X</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0507em;"> 系</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0451em;"> 统，</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0451em;"> 请</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0451em;"> 先</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0451em;"> 下</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0451em;"> 载</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0451em;"> 对</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0451em;"> 应</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0451em;"> 的</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0451em;"> 安</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0451em;"> 装</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0451em;"> 包（</span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0451em;">http://dev.mysql.com/downloads/ &nbsp;</span></div>
					<div class="stl_01" style="top:6.085em; left:6.6142em;"><span class="stl_132 stl_52 stl_637">mysql/</span><span class="stl_129 stl_49 stl_637">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.996em; left:6.6142em;"><span class="stl_129 stl_49 stl_238" style="word-spacing:-0.015em;">选择 </span><span class="stl_132 stl_52 stl_238" style="word-spacing:-0.015em;">.dmg </span><span class="stl_129 stl_49 stl_238" style="word-spacing:-0.015em;">安装包，登入网站或者创建一个账户，开始下载文件。下载完成后打开安装包， &nbsp;</span></div>
					<div class="stl_01" style="top:9.2464em; left:6.6142em;"><span class="stl_129 stl_49 stl_438" style="word-spacing:0.0556em;">你会看到一个简单的安装向导（图 </span><span class="stl_132 stl_52 stl_438" style="word-spacing:0.0556em;">5-1</span><span class="stl_129 stl_49 stl_438" style="word-spacing:0.0556em;">）。 &nbsp;</span></div>
					<div class="stl_01 stl_382" style="top:30.9336em; left:6.6142em;"><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0092em;">图 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0092em;">5-1</span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0092em;">：</span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0092em;">Mac OS X </span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0092em;">的 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0092em;">MySQL </span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0092em;">安装工具 &nbsp;</span></div>
					<div class="stl_01" style="top:32.7875em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">使用默认安装步骤就可以，本书后面使用 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">MySQL </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">都是假设你用的默认安装步骤。 &nbsp;</span></div>
					<div class="stl_01" style="top:34.6986em; left:6.6142em;"><span class="stl_129 stl_49 stl_657" style="word-spacing:-0.0291em;">如果觉得下载安装包再执行安装工具太无聊，也可以用 </span><span class="stl_132 stl_52 stl_657" style="word-spacing:-0.0291em;">Mac</span><span class="stl_132 stl_52 stl_657" style="word-spacing:0.0899em;"> OS X</span><span class="stl_129 stl_49 stl_657" style="word-spacing:-0.0293em;"> 的包管理器</span><span class="stl_132 stl_52 stl_657" style="word-spacing:-0.0291em;"> Homebrew &nbsp;</span></div>
					<div class="stl_01" style="top:36.0267em; left:6.2183em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:35.949em; left:7.01em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">http://brew.sh/</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">）安装。当 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Homebrew </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">安装好以后，用下面的命令安装 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">MySQL</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">： &nbsp;</span></div>
					<div class="stl_01" style="top:37.9175em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:37.9175em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">brew install mysql &nbsp;</span></div>
					<div class="stl_01" style="top:39.6386em; left:6.6142em;"><span class="stl_132 stl_52 stl_499" style="word-spacing:-0.093em;">Homebrew </span><span class="stl_129 stl_49 stl_499" style="word-spacing:-0.093em;">是一个伟大的开源工具，与 </span><span class="stl_132 stl_52 stl_499" style="word-spacing:-0.093em;">Python </span><span class="stl_129 stl_49 stl_499" style="word-spacing:-0.093em;">包完美结合。其实，本书使用的大多数 &nbsp;</span></div>
					<div class="stl_01" style="top:40.8886em; left:6.6142em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">第三方库都可以用 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">Homebrew </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">安装。如果你还没用过，强烈推荐你试一下！ &nbsp;</span></div>
					<div class="stl_01" style="top:42.7997em; left:6.6142em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">Mac OS X </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">MySQL </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">安装好之后，你可以用下面的命令启动 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">MySQL </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">服务器： &nbsp;</span></div>
					<div class="stl_01" style="top:44.7686em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:45.6016em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:44.7686em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">cd /usr/local/mysql &nbsp;</span></div>
					<div class="stl_01" style="top:45.6016em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">sudo ./bin/mysqld_safe &nbsp;</span></div>
					<div class="stl_01" style="top:47.323em; left:6.6142em;"><span class="stl_129 stl_49 stl_315" style="word-spacing:-0.0309em;">在 </span><span class="stl_132 stl_52 stl_315" style="word-spacing:-0.0309em;">Windows </span><span class="stl_129 stl_49 stl_315" style="word-spacing:-0.0309em;">系统上，安装和运行 </span><span class="stl_132 stl_52 stl_315" style="word-spacing:-0.0309em;">MySQL </span><span class="stl_129 stl_49 stl_315" style="word-spacing:-0.0309em;">更复杂一些，但是有个方便的安装工具（</span><span class="stl_132 stl_52 stl_315" style="word-spacing:-0.0309em;">http:// &nbsp;</span></div>
					<div class="stl_01" style="top:48.573em; left:6.6142em;"><span class="stl_132 stl_52 stl_23" style="word-spacing:0.0179em;">dev.mysql.com/downloads/windows/installer/</span><span class="stl_129 stl_49 stl_23" style="word-spacing:0.0179em;">）可以简化这个过程（图 </span><span class="stl_132 stl_52 stl_23" style="word-spacing:0.0179em;">5-2</span><span class="stl_129 stl_49 stl_23" style="word-spacing:0.0179em;">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.0178em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">存储数据 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">67 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_109.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_109.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01 stl_382" style="top:28.7367em; left:5.6693em;"><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0066em;">图 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0066em;">5-2</span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0066em;">：</span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0066em;">MySQL Windows </span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0066em;">安装工具 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0066em;">.png &nbsp;</span></div>
					<div class="stl_01" style="top:30.5907em; left:5.6693em;"><span class="stl_129 stl_49 stl_550" style="word-spacing:-0.0261em;">用默认选项安装 </span><span class="stl_132 stl_52 stl_550" style="word-spacing:-0.0261em;">MySQL</span><span class="stl_129 stl_49 stl_550" style="word-spacing:-0.0249em;"> 就可以，不过有一个地方要注意：在</span><span class="stl_132 stl_52 stl_550" style="word-spacing:-0.026em;"> Setup</span><span class="stl_132 stl_52 stl_550" style="word-spacing:0.0929em;"> Type</span><span class="stl_129 stl_49 stl_550" style="word-spacing:0.0929em;">（类型设置）页 &nbsp;</span></div>
					<div class="stl_01" style="top:31.8407em; left:5.6693em;"><span class="stl_129 stl_49 stl_658" style="word-spacing:0.0502em;">面，建议你选择“</span><span class="stl_132 stl_52 stl_658" style="word-spacing:0.0502em;">Server Only</span><span class="stl_129 stl_49 stl_658" style="word-spacing:0.0502em;">”（只选服务器）选项，这可以避免安装一堆微软的软件和库 &nbsp;</span></div>
					<div class="stl_01" style="top:33.1684em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">文件。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.0018em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">然后，你就可以用默认设置安装，跟着提示一步步操作就可以启动 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">MySQL </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">服务器了。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.4896em; left:5.6693em;"><span class="stl_260 stl_18 stl_10">5</span></div>
					<div class="stl_01" style="top:37.4313em; left:6.3471em;"><span class="stl_260 stl_18 stl_71">.3.2</span><span class="stl_91 stl_20 stl_71">ꢀ基本命令 &nbsp;</span></div>
					<div class="stl_01" style="top:39.3722em; left:5.6693em;"><span class="stl_132 stl_52 stl_238" style="word-spacing:-0.0149em;">MySQL </span><span class="stl_129 stl_49 stl_238" style="word-spacing:-0.0149em;">服务器启动之后，有很多种方法可以与数据库交互。因为有很多工具是图形界面， &nbsp;</span></div>
					<div class="stl_01" style="top:40.6222em; left:5.6693em;"><span class="stl_129 stl_49 stl_659" style="word-spacing:-0.0178em;">所以你不用 </span><span class="stl_132 stl_52 stl_659" style="word-spacing:-0.0178em;">MySQL </span><span class="stl_129 stl_49 stl_659" style="word-spacing:-0.0178em;">的命令行（或者很少用命令行）也能管理数据库。像 </span><span class="stl_132 stl_52 stl_659" style="word-spacing:-0.0178em;">phpMyAdmin </span><span class="stl_129 stl_49 stl_659" style="word-spacing:-0.0178em;">和 &nbsp;</span></div>
					<div class="stl_01" style="top:41.8722em; left:5.6693em;"><span class="stl_132 stl_52 stl_660" style="word-spacing:0.1097em;">MySQL Workbench</span><span class="stl_129 stl_49 stl_660" style="word-spacing:-0.0134em;"> 这类工具都可以很容易地实现数据的查看、排序和新建等工作。但是， &nbsp;</span></div>
					<div class="stl_01" style="top:43.1999em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">掌握命令行操作数据库依然是很重要的。 &nbsp;</span></div>
					<div class="stl_01" style="top:45.0333em; left:5.6693em;"><span class="stl_129 stl_49 stl_128" style="word-spacing:0.1216em;">除了用户自定义变量名（</span><span class="stl_132 stl_52 stl_128" style="word-spacing:0.1216em;">MySQL 5.x</span><span class="stl_129 stl_49 stl_128" style="word-spacing:-0.0026em;"> 版本是不区分大小写的，</span><span class="stl_132 stl_52 stl_128" style="word-spacing:-0.0026em;">MySQL</span><span class="stl_132 stl_52 stl_128" style="word-spacing:0.1216em;"> 5.0</span><span class="stl_129 stl_49 stl_128" style="word-spacing:-0.0025em;"> 之前的版本是不 &nbsp;</span></div>
					<div class="stl_01" style="top:46.2836em; left:5.6693em;"><span class="stl_129 stl_49 stl_661" style="word-spacing:0.0244em;">区分大小写的），</span><span class="stl_132 stl_52 stl_661" style="word-spacing:0.0244em;">MySQL </span><span class="stl_129 stl_49 stl_661" style="word-spacing:0.0244em;">语句是不区分大小写的。例如，</span><span class="stl_132 stl_52 stl_661" style="word-spacing:0.0244em;">SELECT </span><span class="stl_129 stl_49 stl_661" style="word-spacing:0.0244em;">和 </span><span class="stl_132 stl_52 stl_661" style="word-spacing:0.0244em;">sElEcT </span><span class="stl_129 stl_49 stl_661" style="word-spacing:0.0244em;">是一样的，不 &nbsp;</span></div>
					<div class="stl_01" style="top:47.5336em; left:5.6693em;"><span class="stl_129 stl_49 stl_445" style="word-spacing:-0.0374em;">过习惯上写 </span><span class="stl_132 stl_52 stl_445" style="word-spacing:-0.0374em;">MySQL </span><span class="stl_129 stl_49 stl_445" style="word-spacing:-0.0374em;">语句的时候所有的 </span><span class="stl_132 stl_52 stl_445" style="word-spacing:-0.0374em;">MySQL </span><span class="stl_129 stl_49 stl_445" style="word-spacing:-0.0374em;">关键词都用大写。大多数开发者还喜欢用 &nbsp;</span></div>
					<div class="stl_01" style="top:48.8613em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">小写字母表示数据表和数据库的名称，虽然这个标准经常不被注意。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">6</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">8 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 5</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_110.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_110.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">当你首次登入 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">MySQL </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">的时候，里面是没有数据库存放数据的。你可以创建一个： &nbsp;</span></div>
					<div class="stl_01" style="top:6.8035em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:6.8035em; left:8.6928em;"><span class="stl_232 stl_44 stl_10">CREATE DATABASE </span><span class="stl_116 stl_44 stl_10">scraping; &nbsp;</span></div>
					<div class="stl_01" style="top:8.5245em; left:6.6142em;"><span class="stl_129 stl_49 stl_662" style="word-spacing:-0.0594em;">因为每个 </span><span class="stl_132 stl_52 stl_662" style="word-spacing:-0.0594em;">MySQL </span><span class="stl_129 stl_49 stl_662" style="word-spacing:-0.0594em;">实例可以有多个数据库，所以使用某个数据库之前需要指定数据库的 &nbsp;</span></div>
					<div class="stl_01" style="top:9.8523em; left:6.6142em;"><span class="stl_129 stl_49 stl_173">名称： &nbsp;</span></div>
					<div class="stl_01" style="top:11.7431em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:11.7431em; left:8.6928em;"><span class="stl_232 stl_44 stl_10">USE </span><span class="stl_116 stl_44 stl_10">scraping; &nbsp;</span></div>
					<div class="stl_01" style="top:13.4642em; left:6.6142em;"><span class="stl_129 stl_49 stl_663" style="word-spacing:0.0224em;">从现在开始（直到关闭 </span><span class="stl_132 stl_52 stl_663" style="word-spacing:0.0224em;">MySQL </span><span class="stl_129 stl_49 stl_663" style="word-spacing:0.0224em;">链接或切换到另一个数据库之前），所有的命令都运行在这 &nbsp;</span></div>
					<div class="stl_01" style="top:14.7142em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">个新的“</span><span class="stl_132 stl_52 stl_10">scraping</span><span class="stl_129 stl_49 stl_10">”数据库里面。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.703em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">所有操作看着都非常简单。那么，在数据库里创建数据表的方法应该也类似吧？让我们在 &nbsp;</span></div>
					<div class="stl_01" style="top:17.9534em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">数据库里创建一个表来存储采集的网页： &nbsp;</span></div>
					<div class="stl_01" style="top:19.8442em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:19.8442em; left:8.6928em;"><span class="stl_232 stl_44 stl_10">CREATE TABLE </span><span class="stl_116 stl_44 stl_10">pages; &nbsp;</span></div>
					<div class="stl_01" style="top:21.6429em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">结果显示错误： &nbsp;</span></div>
					<div class="stl_01" style="top:23.5338em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">ERROR 1113 (42000): A table must have at least 1 column &nbsp;</span></div>
					<div class="stl_01" style="top:25.2549em; left:6.6142em;"><span class="stl_129 stl_49 stl_206" style="word-spacing:-0.0029em;">和数据库不同，</span><span class="stl_132 stl_52 stl_206" style="word-spacing:-0.0029em;">MySQL </span><span class="stl_129 stl_49 stl_206" style="word-spacing:-0.0029em;">数据表必须至少有一列，否则不能创建。为了在 </span><span class="stl_132 stl_52 stl_206" style="word-spacing:-0.0029em;">MySQL </span><span class="stl_129 stl_49 stl_206" style="word-spacing:-0.0029em;">里定义字 &nbsp;</span></div>
					<div class="stl_01" style="top:26.5705em; left:6.6142em;"><span class="stl_129 stl_49 stl_656" style="word-spacing:0.0172em;">段（数据列），你必须在 </span><span class="stl_188 stl_44 stl_392" style="word-spacing:0.0182em;">CREATE TABLE &lt;tablename&gt;</span><span class="stl_129 stl_49 stl_656" style="word-spacing:0.0172em;">语句后面，把字段的定义放进一个带括 &nbsp;</span></div>
					<div class="stl_01" style="top:27.8326em; left:6.6139em;"><span class="stl_129 stl_49 stl_10">号的、内部由逗号分隔的列表中： &nbsp;</span></div>
					<div class="stl_01" style="top:29.7234em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:29.7234em; left:8.6928em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">CREATE TABLE </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">pages (id </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">BIGINT</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">(7) </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">NOT </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">NULL AUTO_INCREMENT, title </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">VARCHAR</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">(200), &nbsp;</span></div>
					<div class="stl_01" style="top:30.5564em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">content </span><span class="stl_232 stl_44 stl_10">VARCHAR</span><span class="stl_116 stl_44 stl_10">(10000), created </span><span class="stl_232 stl_44 stl_10">TIMESTAMP DEFAULT CURRENT_TIMESTAMP</span><span class="stl_116 stl_44 stl_10">, </span><span class="stl_232 stl_44 stl_10">PRIMARY KEY &nbsp;</span></div>
					<div class="stl_01" style="top:31.3894em; left:8.6927em;"><span class="stl_116 stl_44 stl_10">id)); &nbsp;</span></div>
					<div class="stl_01" style="top:31.3894em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">(</span></div>
					<div class="stl_01" style="top:33.1889em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">每个字段定义由三部分组成： &nbsp;</span></div>
					<div class="stl_01" style="top:35.0618em; left:6.6142em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:36.3122em; left:6.6144em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:37.5622em; left:6.614em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:35.0882em; left:7.6774em;"><span class="stl_129 stl_49 stl_199">名称（</span><span class="stl_188 stl_44 stl_586">id</span><span class="stl_129 stl_49 stl_199">、</span><span class="stl_188 stl_44 stl_586">title</span><span class="stl_129 stl_49 stl_199">、</span><span class="stl_188 stl_44 stl_586">created</span><span class="stl_129 stl_49 stl_199">等） &nbsp;</span></div>
					<div class="stl_01" style="top:36.3382em; left:7.6776em;"><span class="stl_129 stl_49 stl_10">数据类型（</span><span class="stl_188 stl_44 stl_10">BIGINT(7)</span><span class="stl_129 stl_49 stl_10">、</span><span class="stl_188 stl_44 stl_10">VARCHAR</span><span class="stl_129 stl_49 stl_10">、</span><span class="stl_188 stl_44 stl_10">TIMESTAMP</span><span class="stl_129 stl_49 stl_10">） &nbsp;</span></div>
					<div class="stl_01" style="top:37.5882em; left:7.6773em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">其他可选属性（</span><span class="stl_188 stl_44 stl_10" style="word-spacing:0em;">NOT NULL AUTO_INCREMENT</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:39.4337em; left:6.6145em;"><span class="stl_129 stl_49 stl_664" style="word-spacing:0.0325em;">在字段定义列表的最后，还要定义一个“主键”（</span><span class="stl_132 stl_52 stl_664" style="word-spacing:0.0325em;">key</span><span class="stl_129 stl_49 stl_664" style="word-spacing:0.0325em;">）。</span><span class="stl_132 stl_52 stl_664" style="word-spacing:0.0325em;">MySQL </span><span class="stl_129 stl_49 stl_664" style="word-spacing:0.0325em;">用这个主键来组织表的内 &nbsp;</span></div>
					<div class="stl_01" style="top:40.7617em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">容，便于后面快速查询。在本章后面的内容里，我将介绍如何调整这些主键以提高数据库 &nbsp;</span></div>
					<div class="stl_01" style="top:41.9996em; left:6.6142em;"><span class="stl_129 stl_49 stl_369" style="word-spacing:-0.0217em;">的查询速度，但是现在，用表的 </span><span class="stl_188 stl_44 stl_370" style="word-spacing:-0.0229em;">id</span><span class="stl_129 stl_49 stl_369" style="word-spacing:-0.0217em;">列作为主键就可以。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.9111em; left:6.6145em;"><span class="stl_129 stl_49 stl_267" style="word-spacing:-0.0196em;">语句执行之后，你可以用 </span><span class="stl_188 stl_44 stl_130" style="word-spacing:-0.0207em;">DESCRIBE</span><span class="stl_129 stl_49 stl_267" style="word-spacing:-0.0196em;">查看数据表的结构： &nbsp;</span></div>
					<div class="stl_01" style="top:45.814em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:46.647em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">+</span></div>
					<div class="stl_01" style="top:47.48em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:48.313em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">+</span></div>
					<div class="stl_01" style="top:49.146em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:49.979em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:45.814em; left:9.0469em;"><span class="stl_116 stl_44 stl_10">DESCRIBE pages; &nbsp;</span></div>
					<div class="stl_01" style="top:46.647em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">---------+----------------+------+-----+-------------------+----------------+ &nbsp;</span></div>
					<div class="stl_01" style="top:47.48em; left:9.0469em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:9.5em;">Field |</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;"> Null | Key | Default</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;"> | &nbsp;</span></div>
					<div class="stl_01" style="top:48.313em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">---------+----------------+------+-----+-------------------+----------------+ &nbsp;</span></div>
					<div class="stl_01" style="top:47.48em; left:11.8803em;"><span class="stl_116 stl_44 stl_10">| Type &nbsp;</span></div>
					<div class="stl_01" style="top:47.48em; left:29.5886em;"><span class="stl_116 stl_44 stl_10">| Extra &nbsp;</span></div>
					<div class="stl_01" style="top:49.146em; left:9.0469em;"><span class="stl_116 stl_44 stl_10">id &nbsp;</span></div>
					<div class="stl_01" style="top:49.979em; left:9.0469em;"><span class="stl_116 stl_44 stl_10">title &nbsp;</span></div>
					<div class="stl_01" style="top:49.146em; left:11.8803em;"><span class="stl_116 stl_44 stl_10">| bigint(7) &nbsp;</span></div>
					<div class="stl_01" style="top:49.979em; left:11.8803em;"><span class="stl_116 stl_44 stl_10">| varchar(200) &nbsp;</span></div>
					<div class="stl_01" style="top:49.146em; left:17.9011em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">| NO</span><span class="stl_116 stl_44 stl_10" style="word-spacing:1em;"> |</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;"> PRI |</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;"> NULL &nbsp;</span></div>
					<div class="stl_01" style="top:49.979em; left:17.9011em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:NaNem;">|</span><span class="stl_116 stl_44 stl_10"> YES</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0.5em;"> |</span><span class="stl_116 stl_44 stl_10" style="word-spacing:2em;"> |</span><span class="stl_116 stl_44 stl_10" style="word-spacing:2em;"> NULL &nbsp;</span></div>
					<div class="stl_01" style="top:49.146em; left:29.5886em;"><span class="stl_116 stl_44 stl_10">| auto_increment | &nbsp;</span></div>
					<div class="stl_01" style="top:49.979em; left:29.5886em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:7.5em;">| | &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.0178em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">存储数据 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">69 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_111.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_111.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8921em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:5.7251em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:6.5581em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">+</span></div>
					<div class="stl_01" style="top:7.3911em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">4</span></div>
					<div class="stl_01" style="top:4.8921em; left:8.102em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">content |</span><span class="stl_116 stl_44 stl_10"> varchar(10000)</span><span class="stl_116 stl_44 stl_10"> |</span><span class="stl_116 stl_44 stl_10"> YES</span><span class="stl_116 stl_44 stl_10"> | &nbsp;</span></div>
					<div class="stl_01" style="top:5.7251em; left:8.102em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">created |</span><span class="stl_116 stl_44 stl_10"> timestamp</span><span class="stl_116 stl_44 stl_10" style="word-spacing:2.5em;"> |</span><span class="stl_116 stl_44 stl_10" style="word-spacing:2.5em;"> NO &nbsp;</span></div>
					<div class="stl_01" style="top:6.5581em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">---------+----------------+------+-----+-------------------+----------------+ &nbsp;</span></div>
					<div class="stl_01" style="top:7.3911em; left:8.102em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">rows in set (0.00 sec) &nbsp;</span></div>
					<div class="stl_01" style="top:4.8921em; left:21.5604em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:NaNem;">|</span><span class="stl_116 stl_44 stl_10"> NULL</span><span class="stl_116 stl_44 stl_10"> | &nbsp;</span></div>
					<div class="stl_01" style="top:5.7251em; left:21.5604em;"><span class="stl_116 stl_44 stl_10">| CURRENT_TIMESTAMP | &nbsp;</span></div>
					<div class="stl_01" style="top:4.8921em; left:34.6645em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:5.7251em; left:34.6645em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:5.7251em; left:19.4354em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:9.1131em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">当然，这还是一个空表。你可以在 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">pages </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">表里插入一些测试数据，如下所示： &nbsp;</span></div>
					<div class="stl_01" style="top:11.0817em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">&gt; </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">INSERT INTO </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">pages (title, content) </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">VALUES </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">("Test page title", "This is some te &nbsp;</span></div>
					<div class="stl_01" style="top:11.9147em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">st page content. It can be up to 10,000 characters long."); &nbsp;</span></div>
					<div class="stl_01" style="top:13.624em; left:5.6693em;"><span class="stl_129 stl_49 stl_472" style="word-spacing:-0.0092em;">需要注意的是，虽然 </span><span class="stl_132 stl_52 stl_472" style="word-spacing:-0.0092em;">pages </span><span class="stl_129 stl_49 stl_472" style="word-spacing:-0.0092em;">表里有四个字段（</span><span class="stl_188 stl_44 stl_476" style="word-spacing:-0.0097em;">id</span><span class="stl_129 stl_49 stl_472" style="word-spacing:-0.0092em;">、</span><span class="stl_188 stl_44 stl_476" style="word-spacing:-0.0097em;">title</span><span class="stl_129 stl_49 stl_472" style="word-spacing:-0.0092em;">、</span><span class="stl_188 stl_44 stl_476" style="word-spacing:-0.0097em;">content</span><span class="stl_129 stl_49 stl_472" style="word-spacing:-0.0092em;">、</span><span class="stl_188 stl_44 stl_476" style="word-spacing:-0.0097em;">created</span><span class="stl_129 stl_49 stl_472" style="word-spacing:-0.0092em;">），但实际上 &nbsp;</span></div>
					<div class="stl_01" style="top:14.9517em; left:5.6693em;"><span class="stl_129 stl_49 stl_665" style="word-spacing:-0.0506em;">你只需要插入两个字段（</span><span class="stl_188 stl_44 stl_666" style="word-spacing:-0.0535em;">title</span><span class="stl_129 stl_49 stl_665" style="word-spacing:-0.0506em;">和 </span><span class="stl_188 stl_44 stl_666" style="word-spacing:-0.0535em;">content</span><span class="stl_129 stl_49 stl_665" style="word-spacing:-0.0506em;">）的数据即可。因为 </span><span class="stl_188 stl_44 stl_666" style="word-spacing:-0.0535em;">id</span><span class="stl_129 stl_49 stl_665" style="word-spacing:-0.0506em;">字段是自动递增的（每 &nbsp;</span></div>
					<div class="stl_01" style="top:16.124em; left:5.6693em;"><span class="stl_129 stl_49 stl_667" style="word-spacing:-0.0572em;">次新插入数据行时 </span><span class="stl_132 stl_52 stl_667" style="word-spacing:-0.0572em;">MySQL </span><span class="stl_129 stl_49 stl_667" style="word-spacing:-0.0572em;">自动增加 </span><span class="stl_132 stl_52 stl_667" style="word-spacing:-0.0572em;">1</span><span class="stl_129 stl_49 stl_667" style="word-spacing:-0.0572em;">），通常不用处理。另外，</span><span class="stl_188 stl_44 stl_668" style="word-spacing:-0.0604em;">created</span><span class="stl_129 stl_49 stl_667" style="word-spacing:-0.0572em;">字段的类型是 &nbsp;</span></div>
					<div class="stl_01" style="top:17.4517em; left:5.6693em;"><span class="stl_188 stl_44 stl_10">timestamp</span><span class="stl_129 stl_49 stl_10">，默认就是数据加入时的时间戳。 &nbsp;</span></div>
					<div class="stl_01" style="top:19.3749em; left:5.6694em;"><span class="stl_129 stl_49 stl_10">当然，我们也可以自定义四个字段的内容： &nbsp;</span></div>
					<div class="stl_01" style="top:21.2659em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">INSERT INTO </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">pages (id, title, content, created) </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">VALUES </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">(3, "Test page title", " &nbsp;</span></div>
					<div class="stl_01" style="top:22.0989em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">This is some test page content. It can be up to 10,000 characters long.", "2014- &nbsp;</span></div>
					<div class="stl_01" style="top:22.9319em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">0</span></div>
					<div class="stl_01" style="top:22.9319em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">9-21 10:25:32"); &nbsp;</span></div>
					<div class="stl_01" style="top:24.7195em; left:5.6693em;"><span class="stl_129 stl_49 stl_669" style="word-spacing:-0.058em;">只要你定义的整数在数据表的 </span><span class="stl_188 stl_44 stl_670" style="word-spacing:-0.0612em;">id</span><span class="stl_129 stl_49 stl_669" style="word-spacing:-0.058em;">字段里没有，它就可以顺利插入数据表。但是，这么做 &nbsp;</span></div>
					<div class="stl_01" style="top:25.8918em; left:5.669em;"><span class="stl_129 stl_49 stl_581" style="word-spacing:-0.0177em;">非常不好；除非万不得已（比如程序中断漏了一行数据），否则让 </span><span class="stl_132 stl_52 stl_581" style="word-spacing:-0.0177em;">MySQL </span><span class="stl_129 stl_49 stl_581" style="word-spacing:-0.0177em;">自己处理 </span><span class="stl_188 stl_44 stl_400" style="word-spacing:-0.0187em;">id</span><span class="stl_129 stl_49 stl_581" style="word-spacing:-0.0177em;">和 &nbsp;</span></div>
					<div class="stl_01" style="top:27.2195em; left:5.6693em;"><span class="stl_188 stl_44 stl_397">timestamp</span><span class="stl_129 stl_49 stl_266">字段。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.1309em; left:5.6694em;"><span class="stl_129 stl_49 stl_429" style="word-spacing:-0.064em;">现在表里有一些数据了，你可以用很多方法来选择这些数据。下面是几个 </span><span class="stl_188 stl_44 stl_470" style="word-spacing:-0.0676em;">SELECT</span><span class="stl_129 stl_49 stl_429" style="word-spacing:-0.064em;">语句的 &nbsp;</span></div>
					<div class="stl_01" style="top:30.393em; left:5.6689em;"><span class="stl_129 stl_49 stl_68">示例： &nbsp;</span></div>
					<div class="stl_01" style="top:32.2838em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:32.2838em; left:7.7479em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">SELECT </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">* </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">FROM </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">pages </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">WHERE </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">id = 2; &nbsp;</span></div>
					<div class="stl_01" style="top:33.9928em; left:5.6693em;"><span class="stl_129 stl_49 stl_425" style="word-spacing:0.0134em;">这条语句告诉 </span><span class="stl_132 stl_52 stl_425" style="word-spacing:0.0134em;">MySQL</span><span class="stl_129 stl_49 stl_425" style="word-spacing:0.0134em;">，“从 </span><span class="stl_132 stl_52 stl_425" style="word-spacing:0.0134em;">pages </span><span class="stl_129 stl_49 stl_425" style="word-spacing:0.0134em;">表中把 </span><span class="stl_188 stl_44 stl_671" style="word-spacing:0.0141em;">id</span><span class="stl_129 stl_49 stl_425" style="word-spacing:0.0134em;">字段中等于 </span><span class="stl_132 stl_52 stl_425" style="word-spacing:0.0134em;">2 </span><span class="stl_129 stl_49 stl_425" style="word-spacing:0.0134em;">的整行数据全挑选出来”。这个 &nbsp;</span></div>
					<div class="stl_01" style="top:35.3205em; left:5.6696em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0757em;">星号（</span><span class="stl_188 stl_44 stl_10" style="word-spacing:0.0799em;">*</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0757em;">）是通配符，表示所有字段，这行语句会把满足条件（</span><span class="stl_188 stl_44 stl_10" style="word-spacing:0.0799em;">WHERE id = 2</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0757em;">）的所有字段 &nbsp;</span></div>
					<div class="stl_01" style="top:36.4928em; left:5.669em;"><span class="stl_129 stl_49 stl_201" style="word-spacing:-0.0225em;">都显示出来。如果 </span><span class="stl_188 stl_44 stl_199" style="word-spacing:-0.0238em;">id</span><span class="stl_129 stl_49 stl_201" style="word-spacing:-0.0225em;">字段里没有任何一行等于 </span><span class="stl_132 stl_52 stl_201" style="word-spacing:-0.0225em;">2</span><span class="stl_129 stl_49 stl_201" style="word-spacing:-0.0225em;">，就会返回一个空集。例如，下面这个不 &nbsp;</span></div>
					<div class="stl_01" style="top:37.7428em; left:5.6694em;"><span class="stl_129 stl_49 stl_583" style="word-spacing:-0.0471em;">区分大小写的查询，会返回 </span><span class="stl_188 stl_44 stl_638" style="word-spacing:-0.0497em;">title</span><span class="stl_129 stl_49 stl_583" style="word-spacing:-0.0471em;">字段里包含“</span><span class="stl_132 stl_52 stl_583" style="word-spacing:-0.0471em;">test</span><span class="stl_129 stl_49 stl_583" style="word-spacing:-0.0471em;">”的所有行（</span><span class="stl_188 stl_44 stl_638" style="word-spacing:-0.0497em;">%</span><span class="stl_129 stl_49 stl_583" style="word-spacing:-0.0471em;">符合表示 </span><span class="stl_132 stl_52 stl_583" style="word-spacing:-0.0471em;">MySQL </span><span class="stl_129 stl_49 stl_583" style="word-spacing:-0.0471em;">字符 &nbsp;</span></div>
					<div class="stl_01" style="top:39.0826em; left:5.6692em;"><span class="stl_129 stl_49 stl_10">串通配符）的所有字段： &nbsp;</span></div>
					<div class="stl_01" style="top:40.9734em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:40.9734em; left:7.7479em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">SELECT </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">* </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">FROM </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">pages </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">WHERE </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">title </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">LIKE </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">"%test%"; &nbsp;</span></div>
					<div class="stl_01" style="top:42.7722em; left:5.6693em;"><span class="stl_129 stl_49 stl_139">但是，如果你的表有很多字段，而你只想返回部分字段怎么办？你可以不用星号，而用下 &nbsp;</span></div>
					<div class="stl_01" style="top:44.0222em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">面的方式： &nbsp;</span></div>
					<div class="stl_01" style="top:45.9131em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:45.9131em; left:7.7479em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">SELECT </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">id, title </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">FROM </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">pages </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">WHERE </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">content </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">LIKE </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">"%page content%"; &nbsp;</span></div>
					<div class="stl_01" style="top:47.6221em; left:5.6693em;"><span class="stl_129 stl_49 stl_281" style="word-spacing:-0.0348em;">这样就只会返回 </span><span class="stl_188 stl_44 stl_372" style="word-spacing:-0.0368em;">title</span><span class="stl_129 stl_49 stl_281" style="word-spacing:-0.0348em;">字段包含“</span><span class="stl_132 stl_52 stl_281" style="word-spacing:-0.0348em;">page content</span><span class="stl_129 stl_49 stl_281" style="word-spacing:-0.0348em;">”的所有行的 </span><span class="stl_188 stl_44 stl_372" style="word-spacing:-0.0368em;">id</span><span class="stl_129 stl_49 stl_281" style="word-spacing:-0.0348em;">和 </span><span class="stl_188 stl_44 stl_372" style="word-spacing:-0.0368em;">title</span><span class="stl_129 stl_49 stl_281" style="word-spacing:-0.0348em;">两个字段了。 &nbsp;</span></div>
					<div class="stl_01" style="top:49.6112em; left:5.6693em;"><span class="stl_188 stl_44 stl_298" style="word-spacing:-0.0528em;">DELETE</span><span class="stl_129 stl_49 stl_71" style="word-spacing:-0.05em;">语句语法与 </span><span class="stl_188 stl_44 stl_298" style="word-spacing:-0.0528em;">SELECT</span><span class="stl_129 stl_49 stl_71" style="word-spacing:-0.05em;">语句类似： &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">7</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">0 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 5</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_112.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_112.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8921em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:4.8921em; left:8.6928em;"><span class="stl_232 stl_44 stl_10">DELETE FROM </span><span class="stl_116 stl_44 stl_10">pages </span><span class="stl_232 stl_44 stl_10">WHERE </span><span class="stl_116 stl_44 stl_10">id = 1; &nbsp;</span></div>
					<div class="stl_01" style="top:6.6788em; left:6.6142em;"><span class="stl_129 stl_49 stl_306" style="word-spacing:-0.092em;">由于数据库的数据删除后不能恢复，所以在执行 </span><span class="stl_188 stl_44 stl_307" style="word-spacing:-0.0972em;">DELETE</span><span class="stl_129 stl_49 stl_306" style="word-spacing:-0.092em;">语句之前，建议用 </span><span class="stl_188 stl_44 stl_307" style="word-spacing:-0.0972em;">SELECT</span><span class="stl_129 stl_49 stl_306" style="word-spacing:-0.092em;">确认 &nbsp;</span></div>
					<div class="stl_01" style="top:7.9288em; left:6.6139em;"><span class="stl_129 stl_49 stl_672" style="word-spacing:0.0131em;">一下要删除的数据（本例中，就是用 </span><span class="stl_188 stl_44 stl_673" style="word-spacing:0.0139em;">SELECT</span><span class="stl_188 stl_44 stl_673" style="word-spacing:0.1984em;"> * FROM pages WHERE id =</span><span class="stl_188 stl_44 stl_673" style="word-spacing:0.1984em;"> 1</span><span class="stl_129 stl_49 stl_672" style="word-spacing:0.188em;">查看），然后把 &nbsp;</span></div>
					<div class="stl_01" style="top:9.1788em; left:6.6142em;"><span class="stl_188 stl_44 stl_439" style="word-spacing:0.1922em;">SELECT *</span><span class="stl_129 stl_49 stl_444" style="word-spacing:0.1821em;">换成</span><span class="stl_188 stl_44 stl_439" style="word-spacing:-0.0536em;"> DELETE</span><span class="stl_129 stl_49 stl_444" style="word-spacing:-0.0508em;">就可以了，这会是一个好习惯。很多程序员都有过一些</span><span class="stl_188 stl_44 stl_439" style="word-spacing:-0.0626em;"> DELETE</span><span class="stl_129 stl_49 stl_444" style="word-spacing:-0.0593em;">误操 &nbsp;</span></div>
					<div class="stl_01" style="top:10.4288em; left:6.6142em;"><span class="stl_129 stl_49 stl_413" style="word-spacing:-0.0303em;">作的伤心往事，还有一些恐怖故事就是有人慌乱中忘了在语句中放 </span><span class="stl_188 stl_44 stl_366" style="word-spacing:-0.032em;">WHERE</span><span class="stl_129 stl_49 stl_413" style="word-spacing:-0.0303em;">，结果把所有客 &nbsp;</span></div>
					<div class="stl_01" style="top:11.6909em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">户数据都删除了。别让这种事发生在你身上！ &nbsp;</span></div>
					<div class="stl_01" style="top:13.5902em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">还有一个需要介绍的语句是 </span><span class="stl_188 stl_44 stl_10" style="word-spacing:0em;">UPDATE</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">： &nbsp;</span></div>
					<div class="stl_01" style="top:15.4931em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:15.4931em; left:8.6928em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">UPDATE </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">pages </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">SET </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">title="A new title", content="Some new content" </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">WHERE </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">id=2; &nbsp;</span></div>
					<div class="stl_01" style="top:17.2142em; left:6.6142em;"><span class="stl_129 stl_49 stl_339" style="word-spacing:-0.0273em;">结合本书的主题，后面我们就只用这些基本的 </span><span class="stl_132 stl_52 stl_339" style="word-spacing:-0.0273em;">MySQL </span><span class="stl_129 stl_49 stl_339" style="word-spacing:-0.0273em;">语句，做一些简单的数据查询、创 &nbsp;</span></div>
					<div class="stl_01" style="top:18.4642em; left:6.6142em;"><span class="stl_129 stl_49 stl_273" style="word-spacing:-0.0385em;">建和更新工作。如果你对这个强大数据库的命令和技术感兴趣，推荐你去看 </span><span class="stl_132 stl_52 stl_273" style="word-spacing:-0.0385em;">Paul</span><span class="stl_132 stl_52 stl_273" style="word-spacing:0.0787em;"> DuBois &nbsp;</span></div>
					<div class="stl_01" style="top:19.7142em; left:6.6142em;"><span class="stl_129 stl_49 stl_575" style="word-spacing:0.007em;">的 </span><span class="stl_194 stl_36 stl_575" style="word-spacing:0.007em;">MySQL Cookbook</span><span class="stl_129 stl_49 stl_575" style="word-spacing:0.007em;">（</span><span class="stl_132 stl_52 stl_575" style="word-spacing:0.007em;">http://shop.oreilly.com/product/0636920032274.do</span><span class="stl_129 stl_49 stl_575" style="word-spacing:0.007em;">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:22.2017em; left:6.6142em;"><span class="stl_260 stl_18 stl_10">5</span></div>
					<div class="stl_01" style="top:22.1434em; left:7.292em;"><span class="stl_260 stl_18 stl_71">.3.3</span><span class="stl_91 stl_20 stl_71">ꢀ与</span><span class="stl_260 stl_18 stl_71">Python</span><span class="stl_91 stl_20 stl_71">整合 &nbsp;</span></div>
					<div class="stl_01" style="top:24.0843em; left:6.6142em;"><span class="stl_132 stl_52 stl_650" style="word-spacing:-0.0087em;">Python </span><span class="stl_129 stl_49 stl_650" style="word-spacing:-0.0087em;">没有内置的 </span><span class="stl_132 stl_52 stl_650" style="word-spacing:-0.0087em;">MySQL </span><span class="stl_129 stl_49 stl_650" style="word-spacing:-0.0087em;">支持工具。不过，有很多开源的库可以用来与 </span><span class="stl_132 stl_52 stl_650" style="word-spacing:-0.0087em;">MySQL </span><span class="stl_129 stl_49 stl_650" style="word-spacing:-0.0087em;">做交互， &nbsp;</span></div>
					<div class="stl_01" style="top:25.3343em; left:6.6142em;"><span class="stl_132 stl_52 stl_209" style="word-spacing:0.1062em;">Python 2.x</span><span class="stl_129 stl_49 stl_209" style="word-spacing:-0.0088em;"> 和</span><span class="stl_132 stl_52 stl_209" style="word-spacing:-0.0088em;"> Python</span><span class="stl_132 stl_52 stl_209" style="word-spacing:0.1062em;"> 3.x</span><span class="stl_129 stl_49 stl_209" style="word-spacing:-0.0088em;"> 版本都支持。最有名的一个库就是</span><span class="stl_132 stl_52 stl_209" style="word-spacing:-0.0088em;"> PyMySQL</span><span class="stl_129 stl_49 stl_209" style="word-spacing:-0.0088em;">（</span><span class="stl_132 stl_52 stl_209" style="word-spacing:-0.0088em;">https://github.com/ &nbsp;</span></div>
					<div class="stl_01" style="top:26.5843em; left:6.6142em;"><span class="stl_132 stl_52 stl_674">PyMySQL/PyMySQL</span><span class="stl_129 stl_49 stl_674">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.4954em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">写到这里的时候，</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">PyMySQL </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">的版本是 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">0.6.2</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">，你可以用下面的命令下载并安装它： &nbsp;</span></div>
					<div class="stl_01" style="top:30.4643em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:31.2973em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:32.1303em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:30.4643em; left:9.0469em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">curl -L https://github.com/PyMySQL/PyMySQL/tarball/pymysql-0.6.2 | tar xz &nbsp;</span></div>
					<div class="stl_01" style="top:31.2973em; left:9.0469em;"><span class="stl_116 stl_44 stl_10">cd PyMySQL-PyMySQL-f953785/ &nbsp;</span></div>
					<div class="stl_01" style="top:32.1303em; left:9.0469em;"><span class="stl_116 stl_44 stl_10">python setup.py install &nbsp;</span></div>
					<div class="stl_01" style="top:33.852em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">如果需要更新，请检查最新版的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">PyMySQL</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">，并修改第一行下载链接中的版本号进行更新。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.7631em; left:6.6142em;"><span class="stl_129 stl_49 stl_675" style="word-spacing:-0.053em;">安装完成之后，你就可以使用 </span><span class="stl_132 stl_52 stl_675" style="word-spacing:-0.053em;">PyMySQL </span><span class="stl_129 stl_49 stl_675" style="word-spacing:-0.053em;">包了。如果你的 </span><span class="stl_132 stl_52 stl_675" style="word-spacing:-0.053em;">MySQL </span><span class="stl_129 stl_49 stl_675" style="word-spacing:-0.053em;">服务器处于运行状态， &nbsp;</span></div>
					<div class="stl_01" style="top:37.0134em; left:6.6142em;"><span class="stl_129 stl_49 stl_676" style="word-spacing:0.0173em;">应该就可以成功地执行下面的命令（记得把 </span><span class="stl_132 stl_52 stl_676" style="word-spacing:0.0173em;">root </span><span class="stl_129 stl_49 stl_676" style="word-spacing:0.0173em;">账户密码加进去）： &nbsp;</span></div>
					<div class="stl_01" style="top:38.9818em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">pymysql &nbsp;</span></div>
					<div class="stl_01" style="top:39.8148em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">conn = pymysql.connect(host='127.0.0.1', unix_socket='/tmp/mysql.sock', &nbsp;</span></div>
					<div class="stl_01" style="top:40.6478em; left:16.4844em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">user='root', passwd=None, db='mysql') &nbsp;</span></div>
					<div class="stl_01" style="top:41.4808em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">cur = conn.cursor() &nbsp;</span></div>
					<div class="stl_01" style="top:42.3138em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">cur.execute("USE scraping") &nbsp;</span></div>
					<div class="stl_01" style="top:43.9798em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">cur.execute("SELECT * FROM pages WHERE id=1") &nbsp;</span></div>
					<div class="stl_01" style="top:44.8128em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(cur.fetchone()) &nbsp;</span></div>
					<div class="stl_01" style="top:45.6458em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">cur.close() &nbsp;</span></div>
					<div class="stl_01" style="top:46.4788em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">conn.close() &nbsp;</span></div>
					<div class="stl_01" style="top:48.2687em; left:6.6142em;"><span class="stl_129 stl_49 stl_99">这段程序有两个对象：连接对象（</span><span class="stl_188 stl_44 stl_677">conn</span><span class="stl_129 stl_49 stl_99">）和光标对象（</span><span class="stl_188 stl_44 stl_677">cur</span><span class="stl_129 stl_49 stl_99">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.0178em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">存储数据 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">71 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_113.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_113.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_129 stl_49 stl_86" style="word-spacing:-0.0299em;">连接 </span><span class="stl_132 stl_52 stl_86" style="word-spacing:-0.0299em;">/ </span><span class="stl_129 stl_49 stl_86" style="word-spacing:-0.0299em;">光标模式是数据库编程中常用的模式，不过刚刚接触数据库的时候，有些用户很难 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1626em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">区分两种模式的不同。连接模式除了要连接数据库之外，还要发送数据库信息，处理回滚 &nbsp;</span></div>
					<div class="stl_01" style="top:7.4127em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">操作（当一个查询或一组查询被中断时，数据库需要回到初始状态，一般用事务控制手段 &nbsp;</span></div>
					<div class="stl_01" style="top:8.6627em; left:5.6693em;"><span class="stl_129 stl_49 stl_678">实现状态回滚），创建新的光标对象，等等。 &nbsp;</span></div>
					<div class="stl_01" style="top:10.496em; left:5.6693em;"><span class="stl_129 stl_49 stl_476">而一个连接可以有很多个光标。一个光标跟踪一种</span><span class="stl_269 stl_49 stl_476">状态</span><span class="stl_129 stl_49 stl_476">（</span><span class="stl_132 stl_52 stl_476">state</span><span class="stl_129 stl_49 stl_476">）信息，比如跟踪数据库的 &nbsp;</span></div>
					<div class="stl_01" style="top:11.8241em; left:5.6693em;"><span class="stl_129 stl_49 stl_454">使用状态。如果你有多个数据库，且需要向所有数据库写内容，就需要多个光标来处理。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.062em; left:5.6693em;"><span class="stl_129 stl_49 stl_370" style="word-spacing:-0.0216em;">光标还会包含最后一次查询执行的结果。通过调用光标函数，比如 </span><span class="stl_188 stl_44 stl_211" style="word-spacing:-0.0228em;">cur.fetchone()</span><span class="stl_129 stl_49 stl_370" style="word-spacing:-0.0216em;">，可以 &nbsp;</span></div>
					<div class="stl_01" style="top:14.3241em; left:5.6692em;"><span class="stl_129 stl_49 stl_10">获取查询结果。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.1575em; left:5.6692em;"><span class="stl_129 stl_49 stl_454">用完光标和连接之后，千万记得把它们关闭。如果不关闭就会导致</span><span class="stl_269 stl_49 stl_454">连接泄漏</span><span class="stl_129 stl_49 stl_454">（</span><span class="stl_132 stl_52 stl_454">connection &nbsp;</span></div>
					<div class="stl_01" style="top:17.4078em; left:5.6693em;"><span class="stl_132 stl_52 stl_679">leak</span><span class="stl_129 stl_49 stl_679">），造成一种未关闭连接现象，即连接已经不再使用，但是数据库却不能关闭，因为数 &nbsp;</span></div>
					<div class="stl_01" style="top:18.7355em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">据库不能确定你还要不要继续使用它。这种现象会一直耗费数据库的资源，所以用完数据 &nbsp;</span></div>
					<div class="stl_01" style="top:19.9855em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">库之后记得关闭连接！ &nbsp;</span></div>
					<div class="stl_01" style="top:21.8966em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">刚开始的时候，你最想做的事情可能就是把采集的结果保存到数据库里。让我们用前面维 &nbsp;</span></div>
					<div class="stl_01" style="top:23.1469em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">基百科爬虫的例子来演示一下如何实现数据存储。 &nbsp;</span></div>
					<div class="stl_01" style="top:24.9803em; left:5.6693em;"><span class="stl_129 stl_49 stl_486" style="word-spacing:-0.0393em;">在进行网络数据采集时，处理 </span><span class="stl_132 stl_52 stl_486" style="word-spacing:-0.0393em;">Unicode </span><span class="stl_129 stl_49 stl_486" style="word-spacing:-0.0393em;">字符串是很痛苦的事情。默认情况下，</span><span class="stl_132 stl_52 stl_486" style="word-spacing:-0.0393em;">MySQL </span><span class="stl_129 stl_49 stl_486" style="word-spacing:-0.0393em;">也 &nbsp;</span></div>
					<div class="stl_01" style="top:26.2306em; left:5.6693em;"><span class="stl_129 stl_49 stl_244" style="word-spacing:0.0043em;">不支持 </span><span class="stl_132 stl_52 stl_244" style="word-spacing:0.0043em;">Unicode </span><span class="stl_129 stl_49 stl_244" style="word-spacing:0.0043em;">字符处理。不过你可以设置这个功能（这么做会增加数据库的占用空间）。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.5583em; left:5.6693em;"><span class="stl_129 stl_49 stl_153">因为在维基百科上我们难免会遇到各种各样的字符，所以最好一开始就让你的数据库支持 &nbsp;</span></div>
					<div class="stl_01" style="top:28.7306em; left:5.6693em;"><span class="stl_132 stl_52 stl_10">Unicode</span><span class="stl_129 stl_49 stl_10">： &nbsp;</span></div>
					<div class="stl_01" style="top:30.699em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">ALTER DATABASE </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">scraping </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">CHARACTER SET </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">= utf8mb4 </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">COLLATE </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">= utf8mb4_unicode_ci; &nbsp;</span></div>
					<div class="stl_01" style="top:31.532em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">ALTER TABLE </span><span class="stl_116 stl_44 stl_10">pages </span><span class="stl_232 stl_44 stl_10">CONVERT TO CHARACTER SET </span><span class="stl_116 stl_44 stl_10">utf8mb4 </span><span class="stl_232 stl_44 stl_10">COLLATE </span><span class="stl_116 stl_44 stl_10">utf8mb4_unicode_ci; &nbsp;</span></div>
					<div class="stl_01" style="top:32.365em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">ALTER TABLE </span><span class="stl_116 stl_44 stl_10">pages </span><span class="stl_232 stl_44 stl_10">CHANGE </span><span class="stl_116 stl_44 stl_10">title title </span><span class="stl_232 stl_44 stl_10">VARCHAR</span><span class="stl_116 stl_44 stl_10">(200) </span><span class="stl_232 stl_44 stl_10">CHARACTER SET </span><span class="stl_116 stl_44 stl_10">utf8mb4 </span><span class="stl_232 stl_44 stl_10">COLLATE &nbsp;</span></div>
					<div class="stl_01" style="top:33.198em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">utf8mb4_unicode_ci; &nbsp;</span></div>
					<div class="stl_01" style="top:34.031em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">ALTER TABLE </span><span class="stl_116 stl_44 stl_10">pages </span><span class="stl_232 stl_44 stl_10">CHANGE </span><span class="stl_116 stl_44 stl_10">content content </span><span class="stl_232 stl_44 stl_10">VARCHAR</span><span class="stl_116 stl_44 stl_10">(10000) </span><span class="stl_232 stl_44 stl_10">CHARACTER SET </span><span class="stl_116 stl_44 stl_10">utf8mb4 CO &nbsp;</span></div>
					<div class="stl_01" style="top:34.864em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">LLATE utf8mb4_unicode_ci; &nbsp;</span></div>
					<div class="stl_01" style="top:36.6525em; left:5.6693em;"><span class="stl_129 stl_49 stl_680" style="word-spacing:-0.1096em;">这四行语句改变的内容有：数据库、数据表，以及两个字段的默认编码都从 </span><span class="stl_188 stl_44 stl_681" style="word-spacing:-0.1157em;">utf8mb4 &nbsp;</span></div>
					<div class="stl_01" style="top:37.9146em; left:5.2735em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:37.8369em; left:6.1324em;"><span class="stl_129 stl_49 stl_682" style="word-spacing:-0.0923em;">严格说来也属于 </span><span class="stl_132 stl_52 stl_682" style="word-spacing:-0.0923em;">Unicode</span><span class="stl_129 stl_49 stl_682" style="word-spacing:-0.0923em;">，但是对大多数 </span><span class="stl_132 stl_52 stl_682" style="word-spacing:-0.0923em;">Unicode </span><span class="stl_129 stl_49 stl_682" style="word-spacing:-0.0923em;">字符的支持都非常不好）转变成了 &nbsp;</span></div>
					<div class="stl_01" style="top:39.1525em; left:5.6693em;"><span class="stl_188 stl_44 stl_10">utf8mb4_unicode_ci</span><span class="stl_129 stl_49 stl_10">。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.9862em; left:5.6695em;"><span class="stl_129 stl_49 stl_683" style="word-spacing:-0.0393em;">你可以在 </span><span class="stl_188 stl_44 stl_403" style="word-spacing:-0.0415em;">title</span><span class="stl_129 stl_49 stl_683" style="word-spacing:-0.0393em;">或 </span><span class="stl_188 stl_44 stl_403" style="word-spacing:-0.0415em;">content</span><span class="stl_129 stl_49 stl_683" style="word-spacing:-0.0393em;">字段中插入一些德语变音符（</span><span class="stl_132 stl_52 stl_683" style="word-spacing:-0.0393em;">umlauts</span><span class="stl_129 stl_49 stl_683" style="word-spacing:-0.0393em;">）或汉语字符，如果没有 &nbsp;</span></div>
					<div class="stl_01" style="top:42.3261em; left:5.6689em;"><span class="stl_129 stl_49 stl_10">错误就表示转换成功了。 &nbsp;</span></div>
					<div class="stl_01" style="top:44.2371em; left:5.6689em;"><span class="stl_129 stl_49 stl_10">现在数据库已经准备好接收维基百科的各种信息了，你可以用下面的程序来存储数据： &nbsp;</span></div>
					<div class="stl_01" style="top:46.1281em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urllib.request </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:46.9611em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">bs4 </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:47.7941em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">re &nbsp;</span></div>
					<div class="stl_01" style="top:48.6271em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">datetime &nbsp;</span></div>
					<div class="stl_01" style="top:49.4601em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">random &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">7</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">2 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 5</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_114.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_114.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8919em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">pymysql &nbsp;</span></div>
					<div class="stl_01" style="top:6.5579em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">conn = pymysql.connect(host='127.0.0.1', unix_socket='/tmp/mysql.sock', &nbsp;</span></div>
					<div class="stl_01" style="top:7.3909em; left:16.4844em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">user='root', passwd=None, db='mysql', charset='utf8') &nbsp;</span></div>
					<div class="stl_01" style="top:8.2239em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">cur = conn.cursor() &nbsp;</span></div>
					<div class="stl_01" style="top:9.0569em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">cur.execute("USE scraping") &nbsp;</span></div>
					<div class="stl_01" style="top:10.7229em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">random.seed(datetime.datetime.now()) &nbsp;</span></div>
					<div class="stl_01" style="top:12.3889em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">store(title, content): &nbsp;</span></div>
					<div class="stl_01" style="top:13.2219em; left:9.7553em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">cur.execute("INSERT INTO pages (title, content) VALUES (\"%s\", &nbsp;</span></div>
					<div class="stl_01" style="top:14.0549em; left:14.0053em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">\"%s\")", (title, content)) &nbsp;</span></div>
					<div class="stl_01" style="top:14.8879em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">cur.connection.commit() &nbsp;</span></div>
					<div class="stl_01" style="top:16.5539em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">getLinks(articleUrl): &nbsp;</span></div>
					<div class="stl_01" style="top:17.3869em; left:9.7553em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">html = urlopen("http://en.wikipedia.org"+articleUrl) &nbsp;</span></div>
					<div class="stl_01" style="top:18.2199em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">bsObj = BeautifulSoup(html) &nbsp;</span></div>
					<div class="stl_01" style="top:19.0529em; left:9.7553em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">title = bsObj.find("h1").get_text() &nbsp;</span></div>
					<div class="stl_01" style="top:19.8859em; left:9.7553em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">content = bsObj.find("div", {"id":"mw-content-text"}).find("p").get_text() &nbsp;</span></div>
					<div class="stl_01" style="top:20.7189em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">store(title, content) &nbsp;</span></div>
					<div class="stl_01" style="top:21.5519em; left:9.7553em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">return </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">bsObj.find("div", {"id":"bodyContent"}).findAll("a", &nbsp;</span></div>
					<div class="stl_01" style="top:22.3849em; left:16.1303em;"><span class="stl_116 stl_44 stl_10">href=re.compile("^(/wiki/)((?!:).)*$")) &nbsp;</span></div>
					<div class="stl_01" style="top:24.0509em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">links = getLinks("/wiki/Kevin_Bacon") &nbsp;</span></div>
					<div class="stl_01" style="top:24.8839em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">try</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:25.7169em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">while </span><span class="stl_116 stl_44 stl_10">len(links) &gt; 0: &nbsp;</span></div>
					<div class="stl_01" style="top:26.5499em; left:11.5261em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">newArticle = links[random.randint(0, len(links)-1)].attrs["href"] &nbsp;</span></div>
					<div class="stl_01" style="top:27.3829em; left:11.5261em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(newArticle) &nbsp;</span></div>
					<div class="stl_01" style="top:28.2159em; left:11.5261em;"><span class="stl_116 stl_44 stl_10">links = getLinks(newArticle) &nbsp;</span></div>
					<div class="stl_01" style="top:29.0489em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">finally</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:29.8819em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">cur.close() &nbsp;</span></div>
					<div class="stl_01" style="top:30.7149em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">conn.close() &nbsp;</span></div>
					<div class="stl_01" style="top:32.5121em; left:6.6142em;"><span class="stl_129 stl_49 stl_510" style="word-spacing:-0.0187em;">这里有几点需要注意：首先，</span><span class="stl_188 stl_44 stl_428" style="word-spacing:-0.0197em;">charset='utf8'</span><span class="stl_129 stl_49 stl_510" style="word-spacing:-0.0187em;">要增加到连接字符串里。这是让连接 </span><span class="stl_188 stl_44 stl_428" style="word-spacing:-0.0197em;">conn</span><span class="stl_129 stl_49 stl_510" style="word-spacing:-0.0187em;">把 &nbsp;</span></div>
					<div class="stl_01" style="top:33.6965em; left:6.6139em;"><span class="stl_129 stl_49 stl_88" style="word-spacing:-0.0074em;">所有发送到数据库的信息都当成 </span><span class="stl_132 stl_52 stl_88" style="word-spacing:-0.0074em;">UTF-8 </span><span class="stl_129 stl_49 stl_88" style="word-spacing:-0.0074em;">编码格式（当然，前提是数据库默认编码已经设置 &nbsp;</span></div>
					<div class="stl_01" style="top:34.9465em; left:6.6142em;"><span class="stl_129 stl_49 stl_684" style="word-spacing:0.1667em;">成 </span><span class="stl_132 stl_52 stl_684" style="word-spacing:0.1667em;">UTF-8</span><span class="stl_129 stl_49 stl_684" style="word-spacing:0.1667em;">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.9235em; left:6.6142em;"><span class="stl_129 stl_49 stl_593" style="word-spacing:-0.0329em;">然后要注意的是 </span><span class="stl_188 stl_44 stl_216" style="word-spacing:-0.0347em;">store</span><span class="stl_129 stl_49 stl_593" style="word-spacing:-0.0329em;">函数。它有两个参数：</span><span class="stl_188 stl_44 stl_216" style="word-spacing:-0.0347em;">title</span><span class="stl_129 stl_49 stl_593" style="word-spacing:-0.0329em;">和 </span><span class="stl_188 stl_44 stl_216" style="word-spacing:-0.0347em;">content</span><span class="stl_129 stl_49 stl_593" style="word-spacing:-0.0329em;">，并把这两个参数加到了一 &nbsp;</span></div>
					<div class="stl_01" style="top:38.1735em; left:6.6139em;"><span class="stl_129 stl_49 stl_162" style="word-spacing:-0.0135em;">个 </span><span class="stl_188 stl_44 stl_207" style="word-spacing:-0.0142em;">INSERT</span><span class="stl_129 stl_49 stl_162" style="word-spacing:-0.0135em;">语句中并用光标执行，然后用光标进行连接确认。这是一个让光标与连接操作分 &nbsp;</span></div>
					<div class="stl_01" style="top:39.3579em; left:6.614em;"><span class="stl_129 stl_49 stl_303">离的好例子；当光标里存储了一些数据库与数据库上下文（</span><span class="stl_132 stl_52 stl_303">context</span><span class="stl_129 stl_49 stl_303">）的信息时，需要通过 &nbsp;</span></div>
					<div class="stl_01" style="top:40.6856em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">连接的确认操作先将信息传进数据库，再将信息插入数据库。 &nbsp;</span></div>
					<div class="stl_01" style="top:42.5849em; left:6.6142em;"><span class="stl_129 stl_49 stl_192">最后要注意的是，</span><span class="stl_188 stl_44 stl_492">finally</span><span class="stl_129 stl_49 stl_192">语句是在程序主循环的外面，代码的最底下。这样做可以保证， &nbsp;</span></div>
					<div class="stl_01" style="top:43.847em; left:6.6139em;"><span class="stl_129 stl_49 stl_130">无论程序执行过程中如何发生中断或抛出异常（当然，因为网络很复杂，你得随时准备遭 &nbsp;</span></div>
					<div class="stl_01" style="top:45.097em; left:6.6142em;"><span class="stl_129 stl_49 stl_140">遇异常），光标和连接都会在程序结束前立即关闭。无论你是在采集网络，还是处理一个 &nbsp;</span></div>
					<div class="stl_01" style="top:46.3349em; left:6.6142em;"><span class="stl_129 stl_49 stl_303" style="word-spacing:-0.0205em;">打开连接的数据库，用 </span><span class="stl_188 stl_44 stl_581" style="word-spacing:-0.0216em;">try...finally</span><span class="stl_129 stl_49 stl_303" style="word-spacing:-0.0205em;">都是一个好主意。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.1804em; left:6.6144em;"><span class="stl_129 stl_49 stl_685" style="word-spacing:-0.0233em;">虽然 </span><span class="stl_132 stl_52 stl_685" style="word-spacing:-0.0233em;">PyMySQL </span><span class="stl_129 stl_49 stl_685" style="word-spacing:-0.0233em;">规模并不大，但是里面有一些非常实用的函数本书并没有介绍。具体请参 &nbsp;</span></div>
					<div class="stl_01" style="top:49.4308em; left:6.6142em;"><span class="stl_129 stl_49 stl_676" style="word-spacing:0.0173em;">考 </span><span class="stl_132 stl_52 stl_676" style="word-spacing:0.0173em;">Python </span><span class="stl_129 stl_49 stl_676" style="word-spacing:0.0173em;">的 </span><span class="stl_132 stl_52 stl_676" style="word-spacing:0.0173em;">DBAPI </span><span class="stl_129 stl_49 stl_676" style="word-spacing:0.0173em;">标准文档（</span><span class="stl_132 stl_52 stl_676" style="word-spacing:0.0173em;">http://legacy.python.org/dev/peps/pep-0249/</span><span class="stl_129 stl_49 stl_676" style="word-spacing:0.0173em;">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.0178em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">存储数据 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">73 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_115.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_115.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8205em; left:5.6693em;"><span class="stl_260 stl_18 stl_10">5</span></div>
					<div class="stl_01" style="top:4.7621em; left:6.3471em;"><span class="stl_260 stl_18 stl_71">.3.4</span><span class="stl_91 stl_20 stl_71">ꢀ数据库技术与最佳实践 &nbsp;</span></div>
					<div class="stl_01" style="top:6.7807em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">有些人的整个职业生涯都在学习、优化和创造数据库。我不是这类人，这本书也不是那类 &nbsp;</span></div>
					<div class="stl_01" style="top:8.0308em; left:5.6693em;"><span class="stl_129 stl_49 stl_139">书。但是，和计算机科学的很多主题一样，有一些技巧你其实可以很快地学会，它们可以 &nbsp;</span></div>
					<div class="stl_01" style="top:9.2808em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">让你的数据库变得更高效，让应用的运行速度更快。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.1024em; left:5.6693em;"><span class="stl_129 stl_49 stl_86" style="word-spacing:-0.0283em;">首先，给每个数据表都增加一个 </span><span class="stl_188 stl_44 stl_294" style="word-spacing:-0.0299em;">id</span><span class="stl_129 stl_49 stl_86" style="word-spacing:-0.0283em;">字段，不会出什么问题。</span><span class="stl_132 stl_52 stl_86" style="word-spacing:-0.0283em;">MySQL </span><span class="stl_129 stl_49 stl_86" style="word-spacing:-0.0283em;">里所有的表都至少有 &nbsp;</span></div>
					<div class="stl_01" style="top:12.3645em; left:5.6693em;"><span class="stl_129 stl_49 stl_617" style="word-spacing:0.0133em;">一个主键（就是 </span><span class="stl_132 stl_52 stl_617" style="word-spacing:0.0133em;">MySQL </span><span class="stl_129 stl_49 stl_617" style="word-spacing:0.0133em;">用来排序的字段），因此 </span><span class="stl_132 stl_52 stl_617" style="word-spacing:0.0133em;">MySQL </span><span class="stl_129 stl_49 stl_617" style="word-spacing:0.0133em;">知道怎么组织主键，通常数据库 &nbsp;</span></div>
					<div class="stl_01" style="top:13.6801em; left:5.6693em;"><span class="stl_129 stl_49 stl_686" style="word-spacing:-0.0563em;">很难智能地选择主键。究竟是用人造的 </span><span class="stl_188 stl_44 stl_559" style="word-spacing:-0.0594em;">id</span><span class="stl_129 stl_49 stl_686" style="word-spacing:-0.0563em;">字段作为主键，还是用那些具有唯一性属性的 &nbsp;</span></div>
					<div class="stl_01" style="top:14.9301em; left:5.6693em;"><span class="stl_129 stl_49 stl_415" style="word-spacing:-0.0145em;">字段作为主键，比如 </span><span class="stl_188 stl_44 stl_687" style="word-spacing:-0.0153em;">username</span><span class="stl_129 stl_49 stl_415" style="word-spacing:-0.0145em;">字段，数据科学家和软件工程师已经争论了很多年，但我更 &nbsp;</span></div>
					<div class="stl_01" style="top:16.1801em; left:5.6696em;"><span class="stl_129 stl_49 stl_686" style="word-spacing:-0.0569em;">倾向于主动创建一个 </span><span class="stl_188 stl_44 stl_559" style="word-spacing:-0.0601em;">id</span><span class="stl_129 stl_49 stl_686" style="word-spacing:-0.0569em;">字段。这样做的原因一两句话难以说清，不过对于一些非企业级 &nbsp;</span></div>
					<div class="stl_01" style="top:17.4301em; left:5.6691em;"><span class="stl_129 stl_49 stl_369" style="word-spacing:-0.0214em;">系统的数据库，你还是应该用自增的 </span><span class="stl_188 stl_44 stl_370" style="word-spacing:-0.0226em;">id</span><span class="stl_129 stl_49 stl_369" style="word-spacing:-0.0214em;">字段作为主键。 &nbsp;</span></div>
					<div class="stl_01" style="top:19.2755em; left:5.6696em;"><span class="stl_129 stl_49 stl_75" style="word-spacing:-0.0031em;">其次，用智能索引。字典（指的是常用的工具书，不是指 </span><span class="stl_132 stl_52 stl_75" style="word-spacing:-0.0031em;">Python </span><span class="stl_129 stl_49 stl_75" style="word-spacing:-0.0031em;">的字典对象）是按照字母 &nbsp;</span></div>
					<div class="stl_01" style="top:20.6036em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">顺序排列的单词表。这样做让你在任何时候都能快速地找到一个单词，只要你知道这个单 &nbsp;</span></div>
					<div class="stl_01" style="top:21.8536em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">词是如何拼写的就行。你还可以把字典想象成另一种形式，将单词按照单词含义的字母顺 &nbsp;</span></div>
					<div class="stl_01" style="top:23.0259em; left:5.6693em;"><span class="stl_129 stl_49 stl_612">序进行排列。如果你没玩过一些奇怪的游戏，比如危险边缘（</span><span class="stl_132 stl_52 stl_612">Jeopardy</span><span class="stl_129 stl_49 stl_612">）智力游戏，就不 &nbsp;</span></div>
					<div class="stl_01" style="top:24.3536em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">能理解游戏的含义，这样的字典就没法用了。但是在数据库查询的工作里，这种按照字段 &nbsp;</span></div>
					<div class="stl_01" style="top:25.6036em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">含义进行排序的情况时有发生。比如，你的数据库里可能有一个字段经常要查询： &nbsp;</span></div>
					<div class="stl_01" style="top:27.4944em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:28.3274em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">+</span></div>
					<div class="stl_01" style="top:29.1604em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:29.9934em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">+</span></div>
					<div class="stl_01" style="top:30.8264em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:31.6594em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">+</span></div>
					<div class="stl_01" style="top:32.4924em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">1</span></div>
					<div class="stl_01" style="top:27.4944em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">SELECT * FROM dictionary WHERE definition="A small furry animal that says meow"; &nbsp;</span></div>
					<div class="stl_01" style="top:28.3274em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">------+-------+-------------------------------------+ &nbsp;</span></div>
					<div class="stl_01" style="top:29.1604em; left:8.102em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:24em;">id | &nbsp;</span></div>
					<div class="stl_01" style="top:29.9934em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">------+-------+-------------------------------------+ &nbsp;</span></div>
					<div class="stl_01" style="top:30.8264em; left:8.4562em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">200 | cat</span><span class="stl_116 stl_44 stl_10" style="word-spacing:1em;"> |</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;"> A small furry animal that says meow</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;"> | &nbsp;</span></div>
					<div class="stl_01" style="top:29.1604em; left:9.8729em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">| word</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0.5em;"> |</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;"> definition &nbsp;</span></div>
					<div class="stl_01" style="top:31.6594em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">------+-------+-------------------------------------+ &nbsp;</span></div>
					<div class="stl_01" style="top:32.4924em; left:8.102em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">row in set (0.00 sec) &nbsp;</span></div>
					<div class="stl_01" style="top:34.2811em; left:5.6693em;"><span class="stl_129 stl_49 stl_484" style="word-spacing:-0.014em;">你可能非常想给这个表增加一个额外的键（除了已经存在的主键 </span><span class="stl_188 stl_44 stl_554" style="word-spacing:-0.0148em;">id</span><span class="stl_129 stl_49 stl_484" style="word-spacing:-0.014em;">之外），让查询变得更 &nbsp;</span></div>
					<div class="stl_01" style="top:35.5432em; left:5.6691em;"><span class="stl_129 stl_49 stl_130">快。但是，增加额外的索引需要占用更多的空间，而且插入新行的时候也需要花费更多的 &nbsp;</span></div>
					<div class="stl_01" style="top:36.7155em; left:5.6691em;"><span class="stl_129 stl_49 stl_339" style="word-spacing:-0.0273em;">时间。为了让事情简单点儿，你可以让 </span><span class="stl_132 stl_52 stl_339" style="word-spacing:-0.0273em;">MySQL </span><span class="stl_129 stl_49 stl_339" style="word-spacing:-0.0273em;">只检索查询列的一部分字符。比如下面的 &nbsp;</span></div>
					<div class="stl_01" style="top:37.9534em; left:5.6693em;"><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0179em;">命令创建了一个查询 </span><span class="stl_188 stl_44 stl_209" style="word-spacing:-0.0188em;">de</span><span class="stl_453 stl_44 stl_209" style="word-spacing:-0.0188em;">ﬁ</span><span class="stl_188 stl_44 stl_209" style="word-spacing:-0.0188em;">nition</span><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0179em;">字段前 </span><span class="stl_132 stl_52 stl_367" style="word-spacing:-0.0179em;">16 </span><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0179em;">个字符的智能索引： &nbsp;</span></div>
					<div class="stl_01" style="top:39.9339em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">CREATE INDEX </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">definition </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">ON </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">dictionary (id, definition(16)); &nbsp;</span></div>
					<div class="stl_01" style="top:41.7328em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">这个索引比全文查询的速度要快很多，而且不需要占用过多的空间和处理时间。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.6439em; left:5.6693em;"><span class="stl_129 stl_49 stl_153">最后一点是关于数据查询时间和数据库空间的问题。一个常见的误区就是在数据库中存储 &nbsp;</span></div>
					<div class="stl_01" style="top:44.8943em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">大量重复数据，尤其是在做大量自然语言数据的网络数据采集任务时。举个例子，假如你 &nbsp;</span></div>
					<div class="stl_01" style="top:46.1443em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">想统计网站突然出现的一些词组的频率。这些词组也许可以从一个现成的列表里获得，也 &nbsp;</span></div>
					<div class="stl_01" style="top:47.3943em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">许可以通过文本分析算法自动提取。最终你可能会把词组储存成下表的形式： &nbsp;</span></div>
					<div class="stl_01" style="top:49.2851em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">+</span></div>
					<div class="stl_01" style="top:50.1181em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:49.2851em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">--------+--------------+------+-----+---------+----------------+ &nbsp;</span></div>
					<div class="stl_01" style="top:50.1181em; left:8.102em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0.5em;">Field |</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;"> Type</span><span class="stl_116 stl_44 stl_10" style="word-spacing:4em;"> |</span><span class="stl_116 stl_44 stl_10"> Null</span><span class="stl_116 stl_44 stl_10"> |</span><span class="stl_116 stl_44 stl_10"> Key</span><span class="stl_116 stl_44 stl_10"> |</span><span class="stl_116 stl_44 stl_10"> Default</span><span class="stl_116 stl_44 stl_10"> |</span><span class="stl_116 stl_44 stl_10"> Extra</span><span class="stl_116 stl_44 stl_10"> | &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">7</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">4 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 5</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_116.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_116.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8921em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">+</span></div>
					<div class="stl_01" style="top:5.7251em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:6.5581em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:7.3911em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:8.2241em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">+</span></div>
					<div class="stl_01" style="top:4.8921em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">--------+--------------+------+-----+---------+----------------+ &nbsp;</span></div>
					<div class="stl_01" style="top:5.7251em; left:19.3178em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">| PRI | NULL &nbsp;</span></div>
					<div class="stl_01" style="top:5.7251em; left:9.0469em;"><span class="stl_116 stl_44 stl_10">id &nbsp;</span></div>
					<div class="stl_01" style="top:6.5581em; left:9.0469em;"><span class="stl_116 stl_44 stl_10">url &nbsp;</span></div>
					<div class="stl_01" style="top:5.7251em; left:11.5261em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:NaNem;">|</span><span class="stl_116 stl_44 stl_10"> int(11)</span><span class="stl_116 stl_44 stl_10" style="word-spacing:2.5em;"> |</span><span class="stl_116 stl_44 stl_10" style="word-spacing:2.5em;"> NO &nbsp;</span></div>
					<div class="stl_01" style="top:6.5581em; left:11.5261em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:NaNem;">|</span><span class="stl_116 stl_44 stl_10"> varchar(200)</span><span class="stl_116 stl_44 stl_10"> |</span><span class="stl_116 stl_44 stl_10"> YES</span><span class="stl_116 stl_44 stl_10"> | &nbsp;</span></div>
					<div class="stl_01" style="top:5.7251em; left:24.9844em;"><span class="stl_116 stl_44 stl_10">| auto_increment | &nbsp;</span></div>
					<div class="stl_01" style="top:6.5581em; left:21.4428em;"><span class="stl_116 stl_44 stl_10">| NULL &nbsp;</span></div>
					<div class="stl_01" style="top:7.3911em; left:21.4428em;"><span class="stl_116 stl_44 stl_10">| NULL &nbsp;</span></div>
					<div class="stl_01" style="top:6.5581em; left:24.9844em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:7.3911em; left:24.9844em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:6.5581em; left:31.0053em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:7.3911em; left:31.0053em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:7.3911em; left:9.0469em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:NaNem;">phrase</span><span class="stl_116 stl_44 stl_10"> |</span><span class="stl_116 stl_44 stl_10"> varchar(200)</span><span class="stl_116 stl_44 stl_10"> |</span><span class="stl_116 stl_44 stl_10"> YES</span><span class="stl_116 stl_44 stl_10"> | &nbsp;</span></div>
					<div class="stl_01" style="top:8.2241em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">--------+--------------+------+-----+---------+----------------+ &nbsp;</span></div>
					<div class="stl_01" style="top:9.9465em; left:6.6142em;"><span class="stl_129 stl_49 stl_333" style="word-spacing:-0.0411em;">每当你发现一个词组就在数据库中增加一行，同时把 </span><span class="stl_132 stl_52 stl_333" style="word-spacing:-0.0411em;">URL </span><span class="stl_129 stl_49 stl_333" style="word-spacing:-0.0411em;">记录下来。但是，如果把这些 &nbsp;</span></div>
					<div class="stl_01" style="top:11.2742em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">数据分成三个表，你就可以看到数据库占用的空间会大大降低： &nbsp;</span></div>
					<div class="stl_01" style="top:13.165em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:13.998em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">+</span></div>
					<div class="stl_01" style="top:14.831em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:15.664em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">+</span></div>
					<div class="stl_01" style="top:16.497em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:17.33em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:18.163em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">+</span></div>
					<div class="stl_01" style="top:13.165em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">DESCRIBE phrases &nbsp;</span></div>
					<div class="stl_01" style="top:13.998em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">--------+--------------+------+-----+---------+----------------+ &nbsp;</span></div>
					<div class="stl_01" style="top:14.831em; left:9.0469em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0.5em;">Field |</span><span class="stl_116 stl_44 stl_10"> Type</span><span class="stl_116 stl_44 stl_10"> | &nbsp;</span></div>
					<div class="stl_01" style="top:15.664em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">--------+--------------+------+-----+---------+----------------+ &nbsp;</span></div>
					<div class="stl_01" style="top:16.497em; left:9.0469em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:2em;">id |</span><span class="stl_116 stl_44 stl_10"> int(11)</span><span class="stl_116 stl_44 stl_10" style="word-spacing:2.5em;"> |</span><span class="stl_116 stl_44 stl_10"> NO</span><span class="stl_116 stl_44 stl_10" style="word-spacing:1em;"> |</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;"> PRI |</span><span class="stl_116 stl_44 stl_10"> NULL</span><span class="stl_116 stl_44 stl_10" style="word-spacing:1.5em;"> |</span><span class="stl_116 stl_44 stl_10"> auto_increment</span><span class="stl_116 stl_44 stl_10"> | &nbsp;</span></div>
					<div class="stl_01" style="top:17.33em; left:9.0469em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:NaNem;">phrase</span><span class="stl_116 stl_44 stl_10"> |</span><span class="stl_116 stl_44 stl_10"> varchar(200)</span><span class="stl_116 stl_44 stl_10"> |</span><span class="stl_116 stl_44 stl_10"> YES</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0.5em;"> |</span><span class="stl_116 stl_44 stl_10" style="word-spacing:2em;"> |</span><span class="stl_116 stl_44 stl_10" style="word-spacing:2em;"> NULL &nbsp;</span></div>
					<div class="stl_01" style="top:18.163em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">--------+--------------+------+-----+---------+----------------+ &nbsp;</span></div>
					<div class="stl_01" style="top:14.831em; left:16.8386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">| Null | Key | Default | Extra &nbsp;</span></div>
					<div class="stl_01" style="top:17.33em; left:24.9844em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:17.33em; left:31.0053em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:19.829em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:20.662em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">+</span></div>
					<div class="stl_01" style="top:19.829em; left:9.0469em;"><span class="stl_116 stl_44 stl_10">DESCRIBE urls &nbsp;</span></div>
					<div class="stl_01" style="top:20.662em; left:9.0469em;"><span class="stl_116 stl_44 stl_10">-------+--------------+------+-----+---------+----------------+ &nbsp;</span></div>
					<div class="stl_01" style="top:21.495em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:22.328em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">+</span></div>
					<div class="stl_01" style="top:23.161em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:23.994em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:24.827em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">+</span></div>
					<div class="stl_01" style="top:21.495em; left:9.0469em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:NaNem;">Field</span><span class="stl_116 stl_44 stl_10"> |</span><span class="stl_116 stl_44 stl_10"> Type</span><span class="stl_116 stl_44 stl_10" style="word-spacing:4em;"> |</span><span class="stl_116 stl_44 stl_10"> Null</span><span class="stl_116 stl_44 stl_10"> |</span><span class="stl_116 stl_44 stl_10"> Key</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;"> | Default</span><span class="stl_116 stl_44 stl_10"> |</span><span class="stl_116 stl_44 stl_10"> Extra</span><span class="stl_116 stl_44 stl_10"> | &nbsp;</span></div>
					<div class="stl_01" style="top:22.328em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">-------+--------------+------+-----+---------+----------------+ &nbsp;</span></div>
					<div class="stl_01" style="top:23.161em; left:9.0469em;"><span class="stl_116 stl_44 stl_10">id &nbsp;</span></div>
					<div class="stl_01" style="top:23.994em; left:9.0469em;"><span class="stl_116 stl_44 stl_10">url &nbsp;</span></div>
					<div class="stl_01" style="top:23.161em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">| int(11) &nbsp;</span></div>
					<div class="stl_01" style="top:23.161em; left:16.4844em;"><span class="stl_116 stl_44 stl_10">| NO &nbsp;</span></div>
					<div class="stl_01" style="top:23.994em; left:11.1719em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:NaNem;">|</span><span class="stl_116 stl_44 stl_10"> varchar(200)</span><span class="stl_116 stl_44 stl_10"> |</span><span class="stl_116 stl_44 stl_10"> YES</span><span class="stl_116 stl_44 stl_10"> | &nbsp;</span></div>
					<div class="stl_01" style="top:23.161em; left:18.9636em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">| PRI | NULL &nbsp;</span></div>
					<div class="stl_01" style="top:23.994em; left:21.0886em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">| NULL &nbsp;</span></div>
					<div class="stl_01" style="top:23.161em; left:24.6303em;"><span class="stl_116 stl_44 stl_10">| auto_increment | &nbsp;</span></div>
					<div class="stl_01" style="top:23.994em; left:24.6303em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:7.5em;">| | &nbsp;</span></div>
					<div class="stl_01" style="top:24.827em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">-------+--------------+------+-----+---------+----------------+ &nbsp;</span></div>
					<div class="stl_01" style="top:26.493em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:27.326em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">+</span></div>
					<div class="stl_01" style="top:28.159em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:28.992em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">+</span></div>
					<div class="stl_01" style="top:29.825em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:30.658em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:31.491em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:32.324em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:33.157em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">+</span></div>
					<div class="stl_01" style="top:26.493em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">DESCRIBE foundInstances &nbsp;</span></div>
					<div class="stl_01" style="top:27.326em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">-------------+---------+------+-----+---------+----------------+ &nbsp;</span></div>
					<div class="stl_01" style="top:28.159em; left:9.0469em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:3em;">Field |</span><span class="stl_116 stl_44 stl_10"> Type</span><span class="stl_116 stl_44 stl_10" style="word-spacing:1.5em;"> |</span><span class="stl_116 stl_44 stl_10"> Null</span><span class="stl_116 stl_44 stl_10"> |</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;"> Key |</span><span class="stl_116 stl_44 stl_10"> Default</span><span class="stl_116 stl_44 stl_10"> |</span><span class="stl_116 stl_44 stl_10"> Extra</span><span class="stl_116 stl_44 stl_10"> | &nbsp;</span></div>
					<div class="stl_01" style="top:28.992em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">-------------+---------+------+-----+---------+----------------+ &nbsp;</span></div>
					<div class="stl_01" style="top:29.825em; left:9.0469em;"><span class="stl_116 stl_44 stl_10">id &nbsp;</span></div>
					<div class="stl_01" style="top:29.825em; left:13.2969em;"><span class="stl_116 stl_44 stl_10">| int(11) | NO &nbsp;</span></div>
					<div class="stl_01" style="top:29.825em; left:19.3178em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">| PRI | NULL &nbsp;</span></div>
					<div class="stl_01" style="top:29.825em; left:24.9844em;"><span class="stl_116 stl_44 stl_10">| auto_increment | &nbsp;</span></div>
					<div class="stl_01" style="top:30.658em; left:9.0469em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:3em;">urlId |</span><span class="stl_116 stl_44 stl_10"> int(11)</span><span class="stl_116 stl_44 stl_10"> |</span><span class="stl_116 stl_44 stl_10"> YES</span><span class="stl_116 stl_44 stl_10"> | &nbsp;</span></div>
					<div class="stl_01" style="top:31.491em; left:9.0469em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:1.5em;">phraseId |</span><span class="stl_116 stl_44 stl_10"> int(11)</span><span class="stl_116 stl_44 stl_10"> |</span><span class="stl_116 stl_44 stl_10"> YES</span><span class="stl_116 stl_44 stl_10"> | &nbsp;</span></div>
					<div class="stl_01" style="top:32.324em; left:9.0469em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:NaNem;">occurrences</span><span class="stl_116 stl_44 stl_10"> |</span><span class="stl_116 stl_44 stl_10"> int(11)</span><span class="stl_116 stl_44 stl_10"> |</span><span class="stl_116 stl_44 stl_10"> YES</span><span class="stl_116 stl_44 stl_10"> | &nbsp;</span></div>
					<div class="stl_01" style="top:30.658em; left:21.4428em;"><span class="stl_116 stl_44 stl_10">| NULL &nbsp;</span></div>
					<div class="stl_01" style="top:31.491em; left:21.4428em;"><span class="stl_116 stl_44 stl_10">| NULL &nbsp;</span></div>
					<div class="stl_01" style="top:32.324em; left:21.4428em;"><span class="stl_116 stl_44 stl_10">| NULL &nbsp;</span></div>
					<div class="stl_01" style="top:30.658em; left:24.9844em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:31.491em; left:24.9844em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:32.324em; left:24.9844em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:30.658em; left:31.0053em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:31.491em; left:31.0053em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:32.324em; left:31.0053em;"><span class="stl_116 stl_44 stl_10">|</span></div>
					<div class="stl_01" style="top:33.157em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">-------------+---------+------+-----+---------+----------------+ &nbsp;</span></div>
					<div class="stl_01" style="top:34.9517em; left:6.6142em;"><span class="stl_129 stl_49 stl_669" style="word-spacing:-0.0588em;">虽然表定义的结构变复杂了，但是新增的字段就是 </span><span class="stl_188 stl_44 stl_670" style="word-spacing:-0.0621em;">id</span><span class="stl_129 stl_49 stl_669" style="word-spacing:-0.0588em;">字段。它们是整数，不会占用很多 &nbsp;</span></div>
					<div class="stl_01" style="top:36.1361em; left:6.614em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">空间。另外，每个 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">URL </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">和词组都只会储存一次。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.1249em; left:6.614em;"><span class="stl_129 stl_49 stl_138">除非你安装了第三方包或保存详细的数据库日志，否则你无法掌握数据库里数据增加、更 &nbsp;</span></div>
					<div class="stl_01" style="top:39.3752em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">新或删除的具体时间。因此，如果需要对数据可用的空间、变更的频率和变更的重要性进 &nbsp;</span></div>
					<div class="stl_01" style="top:40.6253em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">行分析，你应该考虑在数据新增、更新或删除时加一个时间戳。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.035em; left:6.6142em;"><span class="stl_260 stl_18 stl_10">5</span></div>
					<div class="stl_01" style="top:42.9767em; left:7.292em;"><span class="stl_260 stl_18 stl_71">.3.5</span><span class="stl_91 stl_20 stl_71">ꢀ</span><span class="stl_260 stl_18 stl_71">MySQL</span><span class="stl_91 stl_20 stl_71">里的</span><span class="stl_688 stl_44 stl_71">“</span><span class="stl_91 stl_20 stl_71">六度空间游戏</span><span class="stl_688 stl_44 stl_71">” &nbsp;</span></div>
					<div class="stl_01" style="top:44.9176em; left:6.6142em;"><span class="stl_129 stl_49 stl_296" style="word-spacing:-0.019em;">在第 </span><span class="stl_132 stl_52 stl_296" style="word-spacing:-0.019em;">3 </span><span class="stl_129 stl_49 stl_296" style="word-spacing:-0.019em;">章，我们介绍过“维基百科六度分隔”问题，其目标是通过一些词条链接寻找两个 &nbsp;</span></div>
					<div class="stl_01" style="top:46.2453em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">词条间的联系（即找出一条链接路径，只要点击链接就可以从一个维基词条到另一个维基 &nbsp;</span></div>
					<div class="stl_01" style="top:47.4953em; left:6.6142em;"><span class="stl_129 stl_49 stl_689">词条）。 &nbsp;</span></div>
					<div class="stl_01" style="top:49.4064em; left:6.6142em;"><span class="stl_129 stl_49 stl_140">为了解决这个问题，我们不仅需要建立网络爬虫采集网页（之前我们已经做过），还要把 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.0178em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">存储数据 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">75 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_117.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_117.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9126em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">采集的信息以某种形式存储起来，以便后续进行数据分析。 &nbsp;</span></div>
					<div class="stl_01" style="top:6.812em; left:5.6693em;"><span class="stl_129 stl_49 stl_686" style="word-spacing:-0.0565em;">前面介绍过的自增的 </span><span class="stl_188 stl_44 stl_559" style="word-spacing:-0.0597em;">id</span><span class="stl_129 stl_49 stl_686" style="word-spacing:-0.0565em;">字段、时间戳以及多份数据表在这里都要用到。为了确定最合理 &nbsp;</span></div>
					<div class="stl_01" style="top:7.9963em; left:5.6691em;"><span class="stl_129 stl_49 stl_361" style="word-spacing:-0.0361em;">的信息存储方式，你需要先想想游戏规则。一个链接可以轻易地把页面 </span><span class="stl_132 stl_52 stl_361" style="word-spacing:-0.0361em;">A </span><span class="stl_129 stl_49 stl_361" style="word-spacing:-0.0361em;">连接到页面 </span><span class="stl_132 stl_52 stl_361" style="word-spacing:-0.0361em;">B</span><span class="stl_129 stl_49 stl_361" style="word-spacing:-0.0361em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.2463em; left:5.6693em;"><span class="stl_129 stl_49 stl_690" style="word-spacing:-0.0615em;">同样也可以轻易地把页面 </span><span class="stl_132 stl_52 stl_690" style="word-spacing:-0.0615em;">B </span><span class="stl_129 stl_49 stl_690" style="word-spacing:-0.0615em;">连接到页面 </span><span class="stl_132 stl_52 stl_690" style="word-spacing:-0.0615em;">A</span><span class="stl_129 stl_49 stl_690" style="word-spacing:-0.0615em;">，不过这可能是另一条链接。我们可以这样识 &nbsp;</span></div>
					<div class="stl_01" style="top:10.4843em; left:5.6693em;"><span class="stl_129 stl_49 stl_597" style="word-spacing:0.0256em;">别一个链接，即“页面 </span><span class="stl_132 stl_52 stl_597" style="word-spacing:0.0256em;">A </span><span class="stl_129 stl_49 stl_597" style="word-spacing:0.0256em;">存在一个链接，可以连接到页面 </span><span class="stl_132 stl_52 stl_597" style="word-spacing:0.0256em;">B</span><span class="stl_129 stl_49 stl_597" style="word-spacing:0.0256em;">”。也就是 </span><span class="stl_188 stl_44 stl_164" style="word-spacing:0.0271em;">INSERT</span><span class="stl_188 stl_44 stl_164" style="word-spacing:0.2621em;"> INTO</span><span class="stl_188 stl_44 stl_164" style="word-spacing:0.2621em;"> links &nbsp;</span></div>
					<div class="stl_01" style="top:11.8229em; left:5.6695em;"><span class="stl_188 stl_44 stl_10">(</span></div>
					<div class="stl_01" style="top:11.7345em; left:6.0445em;"><span class="stl_188 stl_44 stl_691" style="word-spacing:0.044em;">fromPageId, toPageId) VALUES (A, B);</span><span class="stl_129 stl_49 stl_137" style="word-spacing:0.0417em;">（其中，“</span><span class="stl_132 stl_52 stl_137" style="word-spacing:0.0417em;">A</span><span class="stl_129 stl_49 stl_137" style="word-spacing:0.0417em;">”和“</span><span class="stl_132 stl_52 stl_137" style="word-spacing:0.0417em;">B</span><span class="stl_129 stl_49 stl_137" style="word-spacing:0.0417em;">”分别表示页面的 </span><span class="stl_132 stl_52 stl_137" style="word-spacing:0.0417em;">ID </span><span class="stl_129 stl_49 stl_137" style="word-spacing:0.0417em;">号）。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.7351em; left:5.6695em;"><span class="stl_129 stl_49 stl_153">因此需要设计一个带有两张数据表的数据库来分别存储页面和链接，两张表都带有创建时 &nbsp;</span></div>
					<div class="stl_01" style="top:14.9078em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">间和独立的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">ID </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">号，代码如下所示： &nbsp;</span></div>
					<div class="stl_01" style="top:16.8762em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">CREATE TABLE </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">`wikipedia`.`pages` ( &nbsp;</span></div>
					<div class="stl_01" style="top:17.7092em; left:8.102em;"><span class="stl_116 stl_44 stl_10">`</span></div>
					<div class="stl_01" style="top:18.5422em; left:8.102em;"><span class="stl_116 stl_44 stl_10">`</span></div>
					<div class="stl_01" style="top:19.3752em; left:8.102em;"><span class="stl_116 stl_44 stl_10">`</span></div>
					<div class="stl_01" style="top:17.7092em; left:8.4562em;"><span class="stl_116 stl_44 stl_10">id` </span><span class="stl_232 stl_44 stl_10">INT NOT </span><span class="stl_116 stl_44 stl_10">NULL AUTO_INCREMENT, &nbsp;</span></div>
					<div class="stl_01" style="top:18.5422em; left:8.4562em;"><span class="stl_116 stl_44 stl_10">url` </span><span class="stl_232 stl_44 stl_10">VARCHAR</span><span class="stl_116 stl_44 stl_10">(255) </span><span class="stl_232 stl_44 stl_10">NOT </span><span class="stl_116 stl_44 stl_10">NULL, &nbsp;</span></div>
					<div class="stl_01" style="top:19.3752em; left:8.4562em;"><span class="stl_116 stl_44 stl_10">created` </span><span class="stl_232 stl_44 stl_10">TIMESTAMP NOT </span><span class="stl_116 stl_44 stl_10">NULL </span><span class="stl_232 stl_44 stl_10">DEFAULT CURRENT_TIMESTAMP</span><span class="stl_116 stl_44 stl_10">, &nbsp;</span></div>
					<div class="stl_01" style="top:20.2082em; left:8.102em;"><span class="stl_232 stl_44 stl_10">PRIMARY KEY </span><span class="stl_116 stl_44 stl_10">(`id`)); &nbsp;</span></div>
					<div class="stl_01" style="top:21.8742em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">CREATE TABLE </span><span class="stl_116 stl_44 stl_10">`wikipedia`.`links` ( &nbsp;</span></div>
					<div class="stl_01" style="top:22.7072em; left:8.102em;"><span class="stl_116 stl_44 stl_10">`</span></div>
					<div class="stl_01" style="top:23.5402em; left:8.102em;"><span class="stl_116 stl_44 stl_10">`</span></div>
					<div class="stl_01" style="top:24.3732em; left:8.102em;"><span class="stl_116 stl_44 stl_10">`</span></div>
					<div class="stl_01" style="top:25.2062em; left:8.102em;"><span class="stl_116 stl_44 stl_10">`</span></div>
					<div class="stl_01" style="top:22.7072em; left:8.4562em;"><span class="stl_116 stl_44 stl_10">id` </span><span class="stl_232 stl_44 stl_10">INT NOT </span><span class="stl_116 stl_44 stl_10">NULL AUTO_INCREMENT, &nbsp;</span></div>
					<div class="stl_01" style="top:23.5402em; left:8.4562em;"><span class="stl_116 stl_44 stl_10">fromPageId` </span><span class="stl_232 stl_44 stl_10">INT </span><span class="stl_116 stl_44 stl_10">NULL, &nbsp;</span></div>
					<div class="stl_01" style="top:24.3732em; left:8.4562em;"><span class="stl_116 stl_44 stl_10">toPageId` </span><span class="stl_232 stl_44 stl_10">INT </span><span class="stl_116 stl_44 stl_10">NULL, &nbsp;</span></div>
					<div class="stl_01" style="top:25.2062em; left:8.4562em;"><span class="stl_116 stl_44 stl_10">created` </span><span class="stl_232 stl_44 stl_10">TIMESTAMP NOT </span><span class="stl_116 stl_44 stl_10">NULL </span><span class="stl_232 stl_44 stl_10">DEFAULT CURRENT_TIMESTAMP</span><span class="stl_116 stl_44 stl_10">, &nbsp;</span></div>
					<div class="stl_01" style="top:26.0392em; left:8.102em;"><span class="stl_232 stl_44 stl_10">PRIMARY KEY </span><span class="stl_116 stl_44 stl_10">(`id`)); &nbsp;</span></div>
					<div class="stl_01" style="top:27.8418em; left:5.6693em;"><span class="stl_129 stl_49 stl_231">注意，这里和前面打印页面标题的爬虫不同，我没有在页面数据表里使用页面标题字段， &nbsp;</span></div>
					<div class="stl_01" style="top:29.0918em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">为什么这么做呢？其实是因为页面标题要在你进入页面后读取内容才能抓到。那么，如果 &nbsp;</span></div>
					<div class="stl_01" style="top:30.3418em; left:5.6693em;"><span class="stl_129 stl_49 stl_153">我们想创建一个高效的爬虫来填充这些数据表，那么只存储页面的链接就可以保存词条页 &nbsp;</span></div>
					<div class="stl_01" style="top:31.5918em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">面了，甚至不需要访问词条页面。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.5029em; left:5.6693em;"><span class="stl_129 stl_49 stl_153">当然并不是所有网站都具有这个特点，但是维基百科的词条链接和对应的页面标题是可以 &nbsp;</span></div>
					<div class="stl_01" style="top:34.6755em; left:5.6693em;"><span class="stl_129 stl_49 stl_400" style="word-spacing:-0.0147em;">通过简单的操作进行转换的。例如，</span><span class="stl_132 stl_52 stl_400" style="word-spacing:-0.0147em;">http://en.wikipedia.org/wiki/Monty_Python </span><span class="stl_129 stl_49 stl_400" style="word-spacing:-0.0147em;">的后面就是 &nbsp;</span></div>
					<div class="stl_01" style="top:35.9255em; left:5.6693em;"><span class="stl_129 stl_49 stl_674" style="word-spacing:0.0625em;">页面标题“</span><span class="stl_132 stl_52 stl_674" style="word-spacing:0.0625em;">Monty Python</span><span class="stl_129 stl_49 stl_674" style="word-spacing:0.0625em;">”。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.8366em; left:5.6693em;"><span class="stl_129 stl_49 stl_692" style="word-spacing:-0.0151em;">下面的代码会把“贝肯数”（一个页面与凯文</span><span class="stl_259 stl_20 stl_692" style="word-spacing:-0.0151em;">·</span><span class="stl_129 stl_49 stl_692" style="word-spacing:-0.0151em;">贝肯词条页面的链接数）不超过 </span><span class="stl_132 stl_52 stl_692" style="word-spacing:-0.0151em;">6 </span><span class="stl_129 stl_49 stl_692" style="word-spacing:-0.0151em;">的维基 &nbsp;</span></div>
					<div class="stl_01" style="top:39.1646em; left:5.6701em;"><span class="stl_129 stl_49 stl_10">百科页面存储起来： &nbsp;</span></div>
					<div class="stl_01" style="top:41.0553em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">bs4 </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:41.8883em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">re &nbsp;</span></div>
					<div class="stl_01" style="top:42.7213em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">pymysql &nbsp;</span></div>
					<div class="stl_01" style="top:44.3873em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">conn = pymysql.connect(host='127.0.0.1', unix_socket='/tmp/mysql.sock',user= &nbsp;</span></div>
					<div class="stl_01" style="top:45.2203em; left:15.8937em;"><span class="stl_116 stl_44 stl_10">root', passwd=None, db='mysql', charset='utf8') &nbsp;</span></div>
					<div class="stl_01" style="top:45.2203em; left:15.5395em;"><span class="stl_116 stl_44 stl_10">'</span></div>
					<div class="stl_01" style="top:46.0533em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">cur = conn.cursor() &nbsp;</span></div>
					<div class="stl_01" style="top:46.8863em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">cur.execute("USE wikipedia") &nbsp;</span></div>
					<div class="stl_01" style="top:48.5523em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">insertPageIfNotExists(url): &nbsp;</span></div>
					<div class="stl_01" style="top:49.3853em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">cur.execute("SELECT * FROM pages WHERE url = %s", (url)) &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">7</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">6 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 5</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_118.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_118.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8921em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">cur.rowcount == 0: &nbsp;</span></div>
					<div class="stl_01" style="top:5.7251em; left:11.1719em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">cur.execute("INSERT INTO pages (url) VALUES (%s)", (url)) &nbsp;</span></div>
					<div class="stl_01" style="top:6.5581em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">conn.commit() &nbsp;</span></div>
					<div class="stl_01" style="top:7.3911em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">cur.lastrowid &nbsp;</span></div>
					<div class="stl_01" style="top:8.2241em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">else</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:9.0571em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">cur.fetchone()[0] &nbsp;</span></div>
					<div class="stl_01" style="top:10.7231em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">insertLink(fromPageId, toPageId): &nbsp;</span></div>
					<div class="stl_01" style="top:11.5561em; left:9.7553em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">cur.execute("SELECT * FROM links WHERE fromPageId = %s AND toPageId = %s", &nbsp;</span></div>
					<div class="stl_01" style="top:12.3891em; left:14.7136em;"><span class="stl_116 stl_44 stl_10">(</span></div>
					<div class="stl_01" style="top:12.3891em; left:15.0678em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">int(fromPageId), int(toPageId))) &nbsp;</span></div>
					<div class="stl_01" style="top:13.2221em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">cur.rowcount == 0: &nbsp;</span></div>
					<div class="stl_01" style="top:14.0551em; left:11.1719em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">cur.execute("INSERT INTO links (fromPageId, toPageId) VALUES (%s, %s)", &nbsp;</span></div>
					<div class="stl_01" style="top:14.8881em; left:15.4219em;"><span class="stl_116 stl_44 stl_10">(</span></div>
					<div class="stl_01" style="top:15.7211em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">conn.commit() &nbsp;</span></div>
					<div class="stl_01" style="top:14.8881em; left:15.7761em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">int(fromPageId), int(toPageId))) &nbsp;</span></div>
					<div class="stl_01" style="top:17.3871em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">pages = set() &nbsp;</span></div>
					<div class="stl_01" style="top:18.2201em; left:8.3386em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">def </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">getLinks(pageUrl, recursionLevel): &nbsp;</span></div>
					<div class="stl_01" style="top:19.0531em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">global </span><span class="stl_116 stl_44 stl_10">pages &nbsp;</span></div>
					<div class="stl_01" style="top:19.8861em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">recursionLevel &gt; 4: &nbsp;</span></div>
					<div class="stl_01" style="top:20.7191em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">return</span><span class="stl_116 stl_44 stl_10">; &nbsp;</span></div>
					<div class="stl_01" style="top:21.5521em; left:9.7553em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">pageId = insertPageIfNotExists(pageUrl) &nbsp;</span></div>
					<div class="stl_01" style="top:22.3851em; left:9.7553em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">html = urlopen("http://en.wikipedia.org"+pageUrl) &nbsp;</span></div>
					<div class="stl_01" style="top:23.2181em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">bsObj = BeautifulSoup(html) &nbsp;</span></div>
					<div class="stl_01" style="top:24.0511em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">link </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">bsObj.findAll("a", &nbsp;</span></div>
					<div class="stl_01" style="top:24.8841em; left:18.9636em;"><span class="stl_116 stl_44 stl_10">href=re.compile("^(/wiki/)((?!:).)*$")): &nbsp;</span></div>
					<div class="stl_01" style="top:25.7171em; left:18.9636em;"><span class="stl_116 stl_44 stl_10">insertLink(pageId, &nbsp;</span></div>
					<div class="stl_01" style="top:26.5501em; left:21.4428em;"><span class="stl_116 stl_44 stl_10">insertPageIfNotExists(link.attrs['href'])) &nbsp;</span></div>
					<div class="stl_01" style="top:27.3831em; left:11.1719em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">if </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">link.attrs['href'] </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">not in </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">pages: &nbsp;</span></div>
					<div class="stl_01" style="top:28.2374em; left:13.2969em;"><span class="stl_256 stl_49 stl_634">遇到一个新页面，加入集合并搜索里面的词条链接 &nbsp;</span></div>
					<div class="stl_01" style="top:28.2161em; left:12.5886em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:29.0583em; left:12.5886em;"><span class="stl_116 stl_44 stl_10">newPage = link.attrs['href'] &nbsp;</span></div>
					<div class="stl_01" style="top:29.8914em; left:12.5886em;"><span class="stl_116 stl_44 stl_10">pages.add(newPage) &nbsp;</span></div>
					<div class="stl_01" style="top:30.7244em; left:12.5886em;"><span class="stl_116 stl_44 stl_10">getLinks(newPage, recursionLevel+1) &nbsp;</span></div>
					<div class="stl_01" style="top:31.5574em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">getLinks("/wiki/Kevin_Bacon", 0) &nbsp;</span></div>
					<div class="stl_01" style="top:32.3904em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">cur.close() &nbsp;</span></div>
					<div class="stl_01" style="top:33.2234em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">conn.close() &nbsp;</span></div>
					<div class="stl_01" style="top:35.0242em; left:6.6142em;"><span class="stl_129 stl_49 stl_693">用递归实现那些需要运行很长时间的代码，通常是一件复杂的事情。在本例中，变量 &nbsp;</span></div>
					<div class="stl_01" style="top:36.2621em; left:6.6142em;"><span class="stl_188 stl_44 stl_591" style="word-spacing:-0.0446em;">recursionLevel</span><span class="stl_129 stl_49 stl_395" style="word-spacing:-0.0423em;">被传递到 </span><span class="stl_188 stl_44 stl_591" style="word-spacing:-0.0446em;">getLinks</span><span class="stl_129 stl_49 stl_395" style="word-spacing:-0.0423em;">函数里，用来跟踪函数递归的次数（每完成一次递归， &nbsp;</span></div>
					<div class="stl_01" style="top:37.4344em; left:6.6142em;"><span class="stl_188 stl_44 stl_282" style="word-spacing:-0.0035em;">recursionLevel</span><span class="stl_129 stl_49 stl_312" style="word-spacing:-0.0033em;">就加 </span><span class="stl_132 stl_52 stl_312" style="word-spacing:-0.0033em;">1</span><span class="stl_129 stl_49 stl_312" style="word-spacing:-0.0033em;">）。当 </span><span class="stl_188 stl_44 stl_282" style="word-spacing:-0.0035em;">recursionLevel</span><span class="stl_129 stl_49 stl_312" style="word-spacing:-0.0033em;">值到 </span><span class="stl_132 stl_52 stl_312" style="word-spacing:-0.0033em;">5 </span><span class="stl_129 stl_49 stl_312" style="word-spacing:-0.0033em;">的时候，函数会自动返回，不会继续递 &nbsp;</span></div>
					<div class="stl_01" style="top:38.7742em; left:6.6143em;"><span class="stl_129 stl_49 stl_10">归。这个限制可以防止数据太大导致内存堆栈溢出。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.6853em; left:6.6143em;"><span class="stl_129 stl_49 stl_130">需要注意的是，这个程序可能要运行好几天才会结束。虽然我自己运行过它，但是我的数 &nbsp;</span></div>
					<div class="stl_01" style="top:41.8579em; left:6.6142em;"><span class="stl_129 stl_49 stl_455" style="word-spacing:-0.0431em;">据库里只保持了一点点贝肯数不超过 </span><span class="stl_132 stl_52 stl_455" style="word-spacing:-0.0431em;">6 </span><span class="stl_129 stl_49 stl_455" style="word-spacing:-0.0431em;">的词条，因为维基百科服务器会拒绝程序的请求。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.1856em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">但是，这些数据对后面分析维基百科词条的链接路径问题已经足够了。 &nbsp;</span></div>
					<div class="stl_01" style="top:45.019em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">关于这个问题的补充和最终答案，将在第 </span><span class="stl_132 stl_52 stl_10">8 </span><span class="stl_129 stl_49 stl_10">章关于有向图的问题里介绍。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.4853em; left:6.6142em;"><span class="stl_197 stl_18 stl_10">5</span></div>
					<div class="stl_01" style="top:47.4145em; left:7.4373em;"><span class="stl_197 stl_18 stl_71">.4</span><span class="stl_160 stl_20 stl_71">ꢀ</span><span class="stl_197 stl_18 stl_71">Email &nbsp;</span></div>
					<div class="stl_01" style="top:49.8477em; left:6.6142em;"><span class="stl_129 stl_49 stl_694" style="word-spacing:-0.0224em;">与网页通过 </span><span class="stl_132 stl_52 stl_694" style="word-spacing:-0.0224em;">HTTP</span><span class="stl_129 stl_49 stl_694" style="word-spacing:-0.0226em;"> 协议传输一样，邮件是通过</span><span class="stl_132 stl_52 stl_694" style="word-spacing:-0.0224em;"> SMTP</span><span class="stl_129 stl_49 stl_694" style="word-spacing:-0.0224em;">（</span><span class="stl_132 stl_52 stl_694" style="word-spacing:-0.0224em;">Simple</span><span class="stl_132 stl_52 stl_694" style="word-spacing:0.0887em;"> Mail Transfer</span><span class="stl_132 stl_52 stl_694" style="word-spacing:0.0887em;"> Protocol</span><span class="stl_129 stl_49 stl_694" style="word-spacing:0.0887em;">，简 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.0178em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">存储数据 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">77 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_119.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_119.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9126em; left:5.6693em;"><span class="stl_129 stl_49 stl_142">单邮件传输协议）传输的。而且，和你用网络服务器的客户端（浏览器）处理那些通过 &nbsp;</span></div>
					<div class="stl_01" style="top:6.0849em; left:5.6693em;"><span class="stl_132 stl_52 stl_585" style="word-spacing:-0.0281em;">HTTP </span><span class="stl_129 stl_49 stl_585" style="word-spacing:-0.0281em;">协议传输的网页一样，</span><span class="stl_132 stl_52 stl_585" style="word-spacing:-0.0281em;">Email </span><span class="stl_129 stl_49 stl_585" style="word-spacing:-0.0281em;">服务器也有客户端，像 </span><span class="stl_132 stl_52 stl_585" style="word-spacing:-0.0281em;">Sendmail</span><span class="stl_129 stl_49 stl_585" style="word-spacing:-0.0281em;">、</span><span class="stl_132 stl_52 stl_585" style="word-spacing:-0.0281em;">Post</span><span class="stl_148 stl_52 stl_585" style="word-spacing:-0.0281em;">ﬁ</span><span class="stl_132 stl_52 stl_585" style="word-spacing:-0.0281em;">x </span><span class="stl_129 stl_49 stl_585" style="word-spacing:-0.0281em;">和 </span><span class="stl_132 stl_52 stl_585" style="word-spacing:-0.0281em;">Mailman &nbsp;</span></div>
					<div class="stl_01" style="top:7.4127em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">等，都可以收发邮件。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.246em; left:5.6693em;"><span class="stl_129 stl_49 stl_606" style="word-spacing:-0.0414em;">虽然用 </span><span class="stl_132 stl_52 stl_606" style="word-spacing:-0.0414em;">Python </span><span class="stl_129 stl_49 stl_606" style="word-spacing:-0.0414em;">发邮件很容易，但是需要你连接那些正在运行 </span><span class="stl_132 stl_52 stl_606" style="word-spacing:-0.0414em;">SMTP </span><span class="stl_129 stl_49 stl_606" style="word-spacing:-0.0414em;">协议的服务器。在服 &nbsp;</span></div>
					<div class="stl_01" style="top:10.4963em; left:5.6693em;"><span class="stl_129 stl_49 stl_285" style="word-spacing:-0.0119em;">务器或本地机器上设置 </span><span class="stl_132 stl_52 stl_285" style="word-spacing:-0.0119em;">SMTP </span><span class="stl_129 stl_49 stl_285" style="word-spacing:-0.0119em;">客户端有点儿复杂，也超出了本书的介绍范围，但是有很多 &nbsp;</span></div>
					<div class="stl_01" style="top:11.7464em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">资料可以帮你解决问题，如果你用的是 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Linux </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">或 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Mac OS X </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">系统，参考资料会更丰富。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.6574em; left:5.6693em;"><span class="stl_129 stl_49 stl_186" style="word-spacing:-0.0086em;">下面的代码运行的前提是你的电脑已经可以正常地运行一个 </span><span class="stl_132 stl_52 stl_186" style="word-spacing:-0.0086em;">SMTP </span><span class="stl_129 stl_49 stl_186" style="word-spacing:-0.0086em;">客户端。（如果要调整 &nbsp;</span></div>
					<div class="stl_01" style="top:14.8957em; left:5.6693em;"><span class="stl_129 stl_49 stl_695" style="word-spacing:0.0157em;">代码用于远程 </span><span class="stl_132 stl_52 stl_695" style="word-spacing:0.0157em;">SMTP </span><span class="stl_129 stl_49 stl_695" style="word-spacing:0.0157em;">客户端，请把 </span><span class="stl_188 stl_44 stl_517" style="word-spacing:0.0166em;">localhost</span><span class="stl_129 stl_49 stl_695" style="word-spacing:0.0157em;">改成远程服务器地址。） &nbsp;</span></div>
					<div class="stl_01" style="top:16.8188em; left:5.6697em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">用 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">发一封邮件只要 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">9 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">行代码： &nbsp;</span></div>
					<div class="stl_01" style="top:18.7876em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">smtplib &nbsp;</span></div>
					<div class="stl_01" style="top:19.6206em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">email.mime.text </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">MIMEText &nbsp;</span></div>
					<div class="stl_01" style="top:21.2866em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">msg = MIMEText("The body of the email is here") &nbsp;</span></div>
					<div class="stl_01" style="top:22.9526em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">msg['Subject'] = "An Email Alert" &nbsp;</span></div>
					<div class="stl_01" style="top:23.7856em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">msg['From'] = "ryan@pythonscraping.com" &nbsp;</span></div>
					<div class="stl_01" style="top:24.6186em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">msg['To'] = "webmaster@pythonscraping.com" &nbsp;</span></div>
					<div class="stl_01" style="top:26.2846em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">s = smtplib.SMTP('localhost') &nbsp;</span></div>
					<div class="stl_01" style="top:27.1176em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">s.send_message(msg) &nbsp;</span></div>
					<div class="stl_01" style="top:27.9506em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">s.quit() &nbsp;</span></div>
					<div class="stl_01" style="top:29.6634em; left:5.6693em;"><span class="stl_132 stl_52 stl_367" style="word-spacing:-0.0179em;">Python </span><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0179em;">有两个包可以发送邮件：</span><span class="stl_188 stl_44 stl_209" style="word-spacing:-0.0188em;">smtplib</span><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0179em;">和 </span><span class="stl_188 stl_44 stl_209" style="word-spacing:-0.0188em;">email</span><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0179em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:31.5748em; left:5.6694em;"><span class="stl_132 stl_52 stl_696" style="word-spacing:-0.114em;">Python </span><span class="stl_129 stl_49 stl_696" style="word-spacing:-0.114em;">的 </span><span class="stl_188 stl_44 stl_697" style="word-spacing:-0.1203em;">email</span><span class="stl_129 stl_49 stl_696" style="word-spacing:-0.114em;">模块里包含了许多实用的邮件格式设置函数，可以用来创建邮件“包 &nbsp;</span></div>
					<div class="stl_01" style="top:32.8248em; left:5.6695em;"><span class="stl_129 stl_49 stl_273" style="word-spacing:-0.0181em;">裹”。下面的示例中使用的 </span><span class="stl_188 stl_44 stl_167" style="word-spacing:-0.0191em;">MIMEText</span><span class="stl_129 stl_49 stl_273" style="word-spacing:-0.0181em;">对象，为底层的</span><span class="stl_132 stl_52 stl_273" style="word-spacing:-0.0224em;"> MIME</span><span class="stl_129 stl_49 stl_273" style="word-spacing:-0.0224em;">（</span><span class="stl_132 stl_52 stl_273" style="word-spacing:-0.0224em;">Multipurpose</span><span class="stl_132 stl_52 stl_273" style="word-spacing:0.0782em;"> Internet</span><span class="stl_132 stl_52 stl_273" style="word-spacing:0.0782em;"> Mail &nbsp;</span></div>
					<div class="stl_01" style="top:34.0869em; left:5.669em;"><span class="stl_132 stl_52 stl_417">Extensions</span><span class="stl_129 stl_49 stl_417">，多用途互联网邮件扩展类型）协议传输创建了一封空邮件，最后通过高层的 &nbsp;</span></div>
					<div class="stl_01" style="top:35.3248em; left:5.6693em;"><span class="stl_132 stl_52 stl_561" style="word-spacing:-0.0384em;">SMTP </span><span class="stl_129 stl_49 stl_561" style="word-spacing:-0.0384em;">协议发送出去。</span><span class="stl_188 stl_44 stl_273" style="word-spacing:-0.0405em;">MIMEText</span><span class="stl_129 stl_49 stl_561" style="word-spacing:-0.0384em;">对象 </span><span class="stl_188 stl_44 stl_273" style="word-spacing:-0.0405em;">msg</span><span class="stl_129 stl_49 stl_561" style="word-spacing:-0.0384em;">包括收发邮箱地址、邮件正文和主题，</span><span class="stl_132 stl_52 stl_561" style="word-spacing:-0.0384em;">Python </span><span class="stl_129 stl_49 stl_561" style="word-spacing:-0.0384em;">通 &nbsp;</span></div>
					<div class="stl_01" style="top:36.6646em; left:5.6692em;"><span class="stl_129 stl_49 stl_10">过它就可以创建一封格式正确的邮件。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.4862em; left:5.6693em;"><span class="stl_188 stl_44 stl_186" style="word-spacing:-0.0137em;">smtplib</span><span class="stl_129 stl_49 stl_239" style="word-spacing:-0.013em;">模块用来设置服务器连接的相关信息。就像 </span><span class="stl_132 stl_52 stl_239" style="word-spacing:-0.013em;">MySQL </span><span class="stl_129 stl_49 stl_239" style="word-spacing:-0.013em;">服务器的连接一样，这个连接 &nbsp;</span></div>
					<div class="stl_01" style="top:39.8261em; left:5.6694em;"><span class="stl_129 stl_49 stl_10">必须在用完之后及时关闭，以避免同时创建太多连接而浪费资源。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.7371em; left:5.6694em;"><span class="stl_129 stl_49 stl_10">把这个简单的邮件程序封装成函数后，可以更方便地扩展和使用： &nbsp;</span></div>
					<div class="stl_01" style="top:43.6281em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">smtplib &nbsp;</span></div>
					<div class="stl_01" style="top:44.4611em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">email.mime.text </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">MIMEText &nbsp;</span></div>
					<div class="stl_01" style="top:45.2941em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">bs4 </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:46.1271em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">urllib.request </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:46.9601em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">time &nbsp;</span></div>
					<div class="stl_01" style="top:48.6261em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">sendMail(subject, body): &nbsp;</span></div>
					<div class="stl_01" style="top:49.4591em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">msg = MIMEText(body) &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">7</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">8 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 5</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_120.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_120.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8921em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">msg['Subject'] = subject &nbsp;</span></div>
					<div class="stl_01" style="top:5.7251em; left:9.7553em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">msg['From'] = "christmas_alerts@pythonscraping.com" &nbsp;</span></div>
					<div class="stl_01" style="top:6.5581em; left:9.7553em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">msg['To'] = "ryan@pythonscraping.com" &nbsp;</span></div>
					<div class="stl_01" style="top:8.2241em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">s = smtplib.SMTP('localhost') &nbsp;</span></div>
					<div class="stl_01" style="top:9.0571em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">s.send_message(msg) &nbsp;</span></div>
					<div class="stl_01" style="top:9.8901em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">s.quit() &nbsp;</span></div>
					<div class="stl_01" style="top:11.5561em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">bsObj = BeautifulSoup(urlopen("https://isitchristmas.com/")) &nbsp;</span></div>
					<div class="stl_01" style="top:12.3891em; left:8.3386em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">while</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">(bsObj.find("a", {"id":"answer"}).attrs['title'] == "NO"): &nbsp;</span></div>
					<div class="stl_01" style="top:13.2221em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">("It is not Christmas yet.") &nbsp;</span></div>
					<div class="stl_01" style="top:14.0551em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">time.sleep(3600) &nbsp;</span></div>
					<div class="stl_01" style="top:14.8881em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">bsObj = BeautifulSoup(urlopen("https://isitchristmas.com/")) &nbsp;</span></div>
					<div class="stl_01" style="top:15.7211em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">sendMail("It's Christmas!", &nbsp;</span></div>
					<div class="stl_01" style="top:16.5541em; left:11.5261em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:16.5541em; left:11.8803em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">According to http://itischristmas.com, it is Christmas!") &nbsp;</span></div>
					<div class="stl_01" style="top:18.2798em; left:6.6142em;"><span class="stl_129 stl_49 stl_698" style="word-spacing:-0.054em;">这个程序每小时检查一次 </span><span class="stl_132 stl_52 stl_698" style="word-spacing:-0.054em;">https://isitchristmas.com/ </span><span class="stl_129 stl_49 stl_698" style="word-spacing:-0.054em;">网站（根据日期判断当天是不是圣诞 &nbsp;</span></div>
					<div class="stl_01" style="top:19.5298em; left:6.6142em;"><span class="stl_129 stl_49 stl_661">节）。如果页面上的信息不是“</span><span class="stl_132 stl_52 stl_661">NO</span><span class="stl_129 stl_49 stl_661">”（中国用户在网站页面上看到的“</span><span class="stl_132 stl_52 stl_661">NO</span><span class="stl_129 stl_49 stl_661">”在源代码里是 &nbsp;</span></div>
					<div class="stl_01" style="top:20.8561em; left:6.6142em;"><span class="stl_188 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:20.8454em; left:6.9892em;"><span class="stl_188 stl_44 stl_699" style="word-spacing:0.0136em;">noscript&gt;</span><span class="stl_48 stl_49 stl_699" style="word-spacing:0.0136em;">不是 </span><span class="stl_188 stl_44 stl_699" style="word-spacing:0.0136em;">&lt;/noscript&gt;</span><span class="stl_129 stl_49 stl_672" style="word-spacing:0.0128em;">），就会给你发一封邮件，告诉你圣诞节到了。 &nbsp;</span></div>
					<div class="stl_01" style="top:22.7686em; left:6.614em;"><span class="stl_129 stl_49 stl_138">虽然这个程序看起来并没有墙上的挂历有用，但是稍作修改就可以做很多有用的事情。它 &nbsp;</span></div>
					<div class="stl_01" style="top:23.9412em; left:6.6142em;"><span class="stl_129 stl_49 stl_510" style="word-spacing:-0.0221em;">可以发送网站访问失败、应用测试失败的异常情况，也可以在 </span><span class="stl_132 stl_52 stl_510" style="word-spacing:-0.0221em;">Amazon </span><span class="stl_129 stl_49 stl_510" style="word-spacing:-0.0221em;">网站上出现了一款 &nbsp;</span></div>
					<div class="stl_01" style="top:25.269em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">卖到断货的畅销品时通知你——这些都是挂历做不到的事情。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.0178em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">存储数据 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">79 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_121.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_121.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:9.4423em; left:32.1698em;"><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.064em;">第 </span><span class="stl_215 stl_18 stl_10" style="word-spacing:-0.064em;">6 </span><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.064em;">章 &nbsp;</span></div>
					<div class="stl_01 stl_69" style="top:12.7975em; left:28.7004em;"><span class="stl_70 stl_20 stl_71">读取文档 &nbsp;</span></div>
					<div class="stl_01" style="top:24.4229em; left:5.6693em;"><span class="stl_129 stl_49 stl_130" style="word-spacing:-0.0171em;">有种观点认为，互联网基本上就是那些符合新式 </span><span class="stl_132 stl_52 stl_130" style="word-spacing:-0.0171em;">Web</span><span class="stl_132 stl_52 stl_130" style="word-spacing:0.1049em;"> 2.0</span><span class="stl_129 stl_49 stl_130" style="word-spacing:-0.0171em;"> 潮流，并且经过多媒体内容点缀 &nbsp;</span></div>
					<div class="stl_01" style="top:25.6729em; left:5.6693em;"><span class="stl_129 stl_49 stl_123" style="word-spacing:-0.0033em;">的 </span><span class="stl_132 stl_52 stl_123" style="word-spacing:-0.0033em;">HTML </span><span class="stl_129 stl_49 stl_123" style="word-spacing:-0.0033em;">网站构成的集合，这些内容在网络数据采集时几乎都是要被忽略的。但是，这种 &nbsp;</span></div>
					<div class="stl_01" style="top:27.0006em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">观点忽略了互联网最基本的特征：作为不同类型文件的传输媒介。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.834em; left:5.6693em;"><span class="stl_129 stl_49 stl_338" style="word-spacing:-0.0255em;">虽然互联网在 </span><span class="stl_132 stl_52 stl_338" style="word-spacing:-0.0255em;">20 </span><span class="stl_129 stl_49 stl_338" style="word-spacing:-0.0255em;">世纪 </span><span class="stl_132 stl_52 stl_338" style="word-spacing:-0.0255em;">60 </span><span class="stl_129 stl_49 stl_338" style="word-spacing:-0.0255em;">年代末期就已经以不同的形式出现，但是 </span><span class="stl_132 stl_52 stl_338" style="word-spacing:-0.0255em;">HTML </span><span class="stl_129 stl_49 stl_338" style="word-spacing:-0.0255em;">直到 </span><span class="stl_132 stl_52 stl_338" style="word-spacing:-0.0255em;">1992 </span><span class="stl_129 stl_49 stl_338" style="word-spacing:-0.0255em;">年才 &nbsp;</span></div>
					<div class="stl_01" style="top:30.162em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">问世。在此之前，互联网基本上就是收发邮件和传输文件；今天看到的网页的概念那时还 &nbsp;</span></div>
					<div class="stl_01" style="top:31.3343em; left:5.6693em;"><span class="stl_129 stl_49 stl_173" style="word-spacing:-0.0329em;">没有。总之，互联网并不是一个 </span><span class="stl_132 stl_52 stl_173" style="word-spacing:-0.0329em;">HTML </span><span class="stl_129 stl_49 stl_173" style="word-spacing:-0.0329em;">页面的集合。它是一个信息集合，而 </span><span class="stl_132 stl_52 stl_173" style="word-spacing:-0.0329em;">HTML </span><span class="stl_129 stl_49 stl_173" style="word-spacing:-0.0329em;">文件 &nbsp;</span></div>
					<div class="stl_01" style="top:32.662em; left:5.6693em;"><span class="stl_129 stl_49 stl_231">只是展示信息的一个框架而已。如果我们的爬虫不能读取其他类型的文件，包括纯文本、 &nbsp;</span></div>
					<div class="stl_01" style="top:33.8343em; left:5.6693em;"><span class="stl_132 stl_52 stl_10">PDF</span><span class="stl_129 stl_49 stl_10">、图像、视频、邮件等，我们将会失去很大一部分数据。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.8231em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">本章重点介绍文档处理的相关内容，包括把文件下载到文件夹里，以及读取文档并提取数 &nbsp;</span></div>
					<div class="stl_01" style="top:36.9958em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">据。我们还会介绍文档的不同编码类型，让程序可以读取非英文的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">HTML </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">页面。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.4617em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">6</span></div>
					<div class="stl_01" style="top:39.3909em; left:6.4924em;"><span class="stl_197 stl_18 stl_71">.1</span><span class="stl_160 stl_20 stl_71">ꢀ文档编码 &nbsp;</span></div>
					<div class="stl_01" style="top:41.8241em; left:5.6693em;"><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0033em;">文档编码是一种告诉程序——无论是计算机的操作系统还是 </span><span class="stl_132 stl_52 stl_127" style="word-spacing:-0.0033em;">Python </span><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0033em;">代码——读取文档的规 &nbsp;</span></div>
					<div class="stl_01" style="top:43.1518em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">则。文档编码的方式通常可以根据文件的扩展名进行判断，虽然文件扩展名并不是由编码 &nbsp;</span></div>
					<div class="stl_01" style="top:44.3241em; left:5.6693em;"><span class="stl_129 stl_49 stl_179" style="word-spacing:-0.0079em;">确定的，而是由开发者确定的。例如，如果我把 </span><span class="stl_132 stl_52 stl_179" style="word-spacing:-0.0079em;">myImage.jpg </span><span class="stl_129 stl_49 stl_179" style="word-spacing:-0.0079em;">另存为 </span><span class="stl_132 stl_52 stl_179" style="word-spacing:-0.0079em;">myImage.txt</span><span class="stl_129 stl_49 stl_179" style="word-spacing:-0.0079em;">，不会出 &nbsp;</span></div>
					<div class="stl_01" style="top:45.6518em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">现任何问题，但当我用文本编辑器打开它的时候就有问题了。好在这种情况很少见，如果 &nbsp;</span></div>
					<div class="stl_01" style="top:46.9019em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">要正确地读取一个文档，必须要知道它的扩展名。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.7353em; left:5.6693em;"><span class="stl_129 stl_49 stl_71" style="word-spacing:-0.039em;">从最底层的角度看，所有文档都是由 </span><span class="stl_132 stl_52 stl_71" style="word-spacing:-0.039em;">0 </span><span class="stl_129 stl_49 stl_71" style="word-spacing:-0.039em;">和 </span><span class="stl_132 stl_52 stl_71" style="word-spacing:-0.039em;">1 </span><span class="stl_129 stl_49 stl_71" style="word-spacing:-0.039em;">编码而成的。而在高层（贴近用户的层级）， &nbsp;</span></div>
					<div class="stl_01" style="top:50.0632em; left:5.6693em;"><span class="stl_129 stl_49 stl_140">编码算法会定义“每个字符多少位”或“每个像素的颜色值用多少位”（图像文件里）之 &nbsp;</span></div>
					<div class="stl_01" style="top:52.3099em; left:5.6693em;"><span class="stl_119 stl_22 stl_10">80 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_122.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_122.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:6.6142em;"><span class="stl_129 stl_49 stl_397" style="word-spacing:-0.0411em;">类的事情，在那里你会遇到一些数据压缩算法或体积缩减算法，比如 </span><span class="stl_132 stl_52 stl_397" style="word-spacing:-0.0411em;">PNG </span><span class="stl_129 stl_49 stl_397" style="word-spacing:-0.0411em;">图像编码格式 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1626em; left:6.2183em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:6.1626em; left:7.01em;"><span class="stl_129 stl_49 stl_416">一种无损压缩的位图图形格式）。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.996em; left:6.6142em;"><span class="stl_129 stl_49 stl_433" style="word-spacing:-0.0723em;">虽然第一次处理这些非 </span><span class="stl_132 stl_52 stl_433" style="word-spacing:-0.0723em;">HTML </span><span class="stl_129 stl_49 stl_433" style="word-spacing:-0.0723em;">格式的文件时会觉得很没底，但是只要安装了合适的库， &nbsp;</span></div>
					<div class="stl_01" style="top:9.2463em; left:6.6142em;"><span class="stl_132 stl_52 stl_173" style="word-spacing:-0.034em;">Python </span><span class="stl_129 stl_49 stl_173" style="word-spacing:-0.034em;">就可以帮你处理任意类型的文档。纯文本文件、视频文件和图像文件的唯一区别， &nbsp;</span></div>
					<div class="stl_01" style="top:10.4963em; left:6.6142em;"><span class="stl_129 stl_49 stl_700" style="word-spacing:-0.0196em;">就是它们的 </span><span class="stl_132 stl_52 stl_700" style="word-spacing:-0.0196em;">0 </span><span class="stl_129 stl_49 stl_700" style="word-spacing:-0.0196em;">和 </span><span class="stl_132 stl_52 stl_700" style="word-spacing:-0.0196em;">1 </span><span class="stl_129 stl_49 stl_700" style="word-spacing:-0.0196em;">面向用户的转换方式不同。在本章后面的内容里，我会介绍几种常用的 &nbsp;</span></div>
					<div class="stl_01" style="top:11.7464em; left:6.6142em;"><span class="stl_129 stl_49 stl_244" style="word-spacing:0em;">文档格式：纯文本、</span><span class="stl_132 stl_52 stl_244" style="word-spacing:0em;">PDF</span><span class="stl_129 stl_49 stl_244" style="word-spacing:0em;">、</span><span class="stl_132 stl_52 stl_244" style="word-spacing:0em;">PNG </span><span class="stl_129 stl_49 stl_244" style="word-spacing:0em;">和 </span><span class="stl_132 stl_52 stl_244" style="word-spacing:0em;">GIF</span><span class="stl_129 stl_49 stl_244" style="word-spacing:0em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:14.2124em; left:6.6142em;"><span class="stl_197 stl_18 stl_10">6</span></div>
					<div class="stl_01" style="top:14.1415em; left:7.4373em;"><span class="stl_197 stl_18 stl_71">.2</span><span class="stl_160 stl_20 stl_71">ꢀ纯文本 &nbsp;</span></div>
					<div class="stl_01" style="top:16.6524em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">虽然把文件存储为在线的纯文本格式并不常见，但是一些简易网站，或者拥有大量纯文本 &nbsp;</span></div>
					<div class="stl_01" style="top:17.8248em; left:6.6142em;"><span class="stl_129 stl_49 stl_111">文件的“旧式学术”（</span><span class="stl_132 stl_52 stl_111">old-school</span><span class="stl_129 stl_49 stl_111">）网站经常会这么做。例如，互联网工程任务组（</span><span class="stl_132 stl_52 stl_111">Internet &nbsp;</span></div>
					<div class="stl_01" style="top:19.0748em; left:6.6142em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0694em;">Engineering Task Force</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0694em;">，</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0694em;">IETF</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0694em;">）网站就存储了</span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;"> IETF</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0002em;"> 发表过的所有文档，包含</span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;"> HTML</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">、</span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">PDF &nbsp;</span></div>
					<div class="stl_01" style="top:20.3248em; left:6.6142em;"><span class="stl_129 stl_49 stl_701" style="word-spacing:0.007em;">和纯文本格式（例如 </span><span class="stl_132 stl_52 stl_701" style="word-spacing:0.007em;">https://www.ietf.org/rfc/rfc1149.txt</span><span class="stl_129 stl_49 stl_701" style="word-spacing:0.007em;">）。大多数浏览器都可以很好地显示 &nbsp;</span></div>
					<div class="stl_01" style="top:21.6525em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">纯文本文件，采集它们也不会遇到什么问题。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.4859em; left:6.6142em;"><span class="stl_129 stl_49 stl_312" style="word-spacing:-0.001em;">对大多数简单的纯文本文件，像 </span><span class="stl_132 stl_52 stl_312" style="word-spacing:-0.001em;">http://www.pythonscraping.com/pages/warandpeace/chapter1. &nbsp;</span></div>
					<div class="stl_01" style="top:24.7359em; left:6.6142em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0002em;">txt </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">这个练习文件，你可以用下面的方法读取： &nbsp;</span></div>
					<div class="stl_01" style="top:26.7046em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">urllib.request </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:27.5376em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">textPage = urlopen( &nbsp;</span></div>
					<div class="stl_01" style="top:28.3706em; left:14.0053em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:28.3706em; left:14.3594em;"><span class="stl_116 stl_44 stl_10">http://www.pythonscraping.com/pages/warandpeace/chapter1.txt") &nbsp;</span></div>
					<div class="stl_01" style="top:29.2036em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(textPage.read()) &nbsp;</span></div>
					<div class="stl_01" style="top:30.9137em; left:6.6142em;"><span class="stl_129 stl_49 stl_702" style="word-spacing:-0.0541em;">通常，当用 </span><span class="stl_188 stl_44 stl_703" style="word-spacing:-0.0571em;">urlopen</span><span class="stl_129 stl_49 stl_702" style="word-spacing:-0.0541em;">获取了网页之后，我们会把它转变成 </span><span class="stl_132 stl_52 stl_702" style="word-spacing:-0.0541em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_702" style="word-spacing:-0.0541em;">对象，方便后面 &nbsp;</span></div>
					<div class="stl_01" style="top:32.1758em; left:6.6139em;"><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0032em;">对 </span><span class="stl_132 stl_52 stl_127" style="word-spacing:-0.0032em;">HTML </span><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0032em;">进行分析。在这段代码中，我们直接读取页面内容。你可能觉得，如果把它转变 &nbsp;</span></div>
					<div class="stl_01" style="top:33.4258em; left:6.6142em;"><span class="stl_129 stl_49 stl_108" style="word-spacing:-0.0012em;">成 </span><span class="stl_132 stl_52 stl_108" style="word-spacing:-0.0012em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_108" style="word-spacing:-0.0012em;">对象应该也不错，但那样做其实适得其反——这个页面不是 </span><span class="stl_132 stl_52 stl_108" style="word-spacing:-0.0012em;">HTML</span><span class="stl_129 stl_49 stl_108" style="word-spacing:-0.0012em;">，所以 &nbsp;</span></div>
					<div class="stl_01" style="top:34.6758em; left:6.6142em;"><span class="stl_132 stl_52 stl_108" style="word-spacing:-0.0012em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_108" style="word-spacing:-0.0012em;">库就没用了。一旦纯文本文件被读成字符串，你就只能用普通 </span><span class="stl_132 stl_52 stl_108" style="word-spacing:-0.0012em;">Python </span><span class="stl_129 stl_49 stl_108" style="word-spacing:-0.0012em;">字符串 &nbsp;</span></div>
					<div class="stl_01" style="top:35.9258em; left:6.6142em;"><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0032em;">的方法分析它了。当然，这么做有个缺点，就是你不能对字符串使用 </span><span class="stl_132 stl_52 stl_127" style="word-spacing:-0.0032em;">HTML </span><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0032em;">标签，去定位 &nbsp;</span></div>
					<div class="stl_01" style="top:37.2535em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">那些你真正需要的文字，避开那些你不需要的文字。如果现在你想从纯文本文件中抽取某 &nbsp;</span></div>
					<div class="stl_01" style="top:38.5035em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">些信息，还是有些难度的。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.0082em; left:6.6142em;"><span class="stl_91 stl_20 stl_71">文本编码和全球互联网 &nbsp;</span></div>
					<div class="stl_01" style="top:42.8736em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">记得前面我说过，如果你想正确地读取一个文件，知道它的扩展名就可以了。不过非常奇 &nbsp;</span></div>
					<div class="stl_01" style="top:44.0459em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">怪的是，这条规则不能应用到最基本的文档格式：</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0002em;">.txt </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">文件。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.0347em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">大多数时候用前面的方法读取纯文本文件都没问题。但是，互联网上的文本文件会比较复 &nbsp;</span></div>
					<div class="stl_01" style="top:47.2073em; left:6.6142em;"><span class="stl_129 stl_49 stl_372" style="word-spacing:-0.0288em;">杂。下面介绍一些英文和非英文编码的基础知识，包括 </span><span class="stl_132 stl_52 stl_372" style="word-spacing:-0.0288em;">ASCII</span><span class="stl_129 stl_49 stl_372" style="word-spacing:-0.0288em;">、</span><span class="stl_132 stl_52 stl_372" style="word-spacing:-0.0288em;">Unicode </span><span class="stl_129 stl_49 stl_372" style="word-spacing:-0.0288em;">和 </span><span class="stl_132 stl_52 stl_372" style="word-spacing:-0.0288em;">ISO </span><span class="stl_129 stl_49 stl_372" style="word-spacing:-0.0288em;">编码，以 &nbsp;</span></div>
					<div class="stl_01" style="top:48.535em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">及对应的处理方法。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.0178em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">读取文档 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">81 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_126.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_126.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8526em; left:5.6693em;"><span class="stl_387 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:4.8131em; left:6.1095em;"><span class="stl_387 stl_18 stl_10" style="word-spacing:0.0003em;">. </span><span class="stl_388 stl_20 stl_10" style="word-spacing:0.0003em;">编码类型简介 &nbsp;</span></div>
					<div class="stl_01" style="top:6.0846em; left:6.0651em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0296em;">0 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0296em;">世 纪</span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0212em;"> 90 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0212em;">年 代</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0971em;"> 初，</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0971em;"> 一</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0971em;"> 个</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0971em;"> 叫</span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.007em;"> Unicode </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.007em;">联 盟（</span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.007em;">The</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.1251em;"> Unicode Consortium</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.1251em;">）</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0971em;"> 的</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0971em;"> 非</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0971em;"> 营</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0971em;"> 利</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0971em;"> 组</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0971em;"> 织</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0971em;"> 尝 &nbsp;</span></div>
					<div class="stl_01" style="top:7.4126em; left:5.6693em;"><span class="stl_129 stl_49 stl_704">试将地球上所有用于书写的符号进行统一编码。其目标包括拉丁字母、斯拉夫字母 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1242em; left:5.6693em;"><span class="stl_132 stl_52 stl_10">2</span></div>
					<div class="stl_01" style="top:8.707em; left:5.2735em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:8.6291em; left:6.0651em;"><span class="stl_129 stl_49 stl_705" style="word-spacing:1.0883em;">кириллица）、中国象形文字（象形）、数学和逻辑符号（ </span><span class="stl_132 stl_52 stl_705" style="word-spacing:1.0883em;">,</span><span class="stl_148 stl_52 stl_705" style="word-spacing:1.0883em;"> ≥</span><span class="stl_129 stl_49 stl_705" style="word-spacing:0.0573em;">），甚至表情和 &nbsp;</span></div>
					<div class="stl_01" style="top:9.922em; left:5.2735em;"><span class="stl_129 stl_49 stl_10">“</span></div>
					<div class="stl_01" style="top:9.8441em; left:6.0651em;"><span class="stl_129 stl_49 stl_77" style="word-spacing:0.8894em;">杂项”（</span><span class="stl_132 stl_52 stl_77" style="word-spacing:0.8894em;">miscellaneous</span><span class="stl_129 stl_49 stl_77" style="word-spacing:0.8894em;">）符号，如生化危机标记（ ）和和平符号（</span><span class="stl_129 stl_49 stl_77" style="word-spacing:0.7378em;"> ）等。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.7463em; left:5.669em;"><span class="stl_129 stl_49 stl_118" style="word-spacing:-0.0005em;">编码的结果就是你熟知的 </span><span class="stl_132 stl_52 stl_118" style="word-spacing:-0.0005em;">UTF-8</span><span class="stl_129 stl_49 stl_118" style="word-spacing:-0.0005em;">，全称是“</span><span class="stl_132 stl_52 stl_118" style="word-spacing:-0.0005em;">Universal</span><span class="stl_132 stl_52 stl_118" style="word-spacing:0.1232em;"> Character Set - Transformation</span><span class="stl_132 stl_52 stl_118" style="word-spacing:0.1232em;"> Format &nbsp;</span></div>
					<div class="stl_01" style="top:13.036em; left:5.6693em;"><span class="stl_132 stl_52 stl_10">8</span></div>
					<div class="stl_01" style="top:14.286em; left:5.6695em;"><span class="stl_132 stl_52 stl_10">8</span></div>
					<div class="stl_01" style="top:12.8994em; left:6.362em;"><span class="stl_132 stl_52 stl_360" style="word-spacing:0.047em;">bit</span><span class="stl_129 stl_49 stl_360" style="word-spacing:0.047em;">”，即“统一字符集 </span><span class="stl_706 stl_707 stl_360" style="word-spacing:0.047em;">- </span><span class="stl_129 stl_49 stl_360" style="word-spacing:0.047em;">转换格式 </span><span class="stl_132 stl_52 stl_360" style="word-spacing:0.047em;">8 </span><span class="stl_129 stl_49 stl_360" style="word-spacing:0.047em;">位”。一个常见的误解是 </span><span class="stl_132 stl_52 stl_360" style="word-spacing:0.047em;">UTF-8 </span><span class="stl_129 stl_49 stl_360" style="word-spacing:0.047em;">把所有字符都存储成 &nbsp;</span></div>
					<div class="stl_01" style="top:14.2463em; left:6.264em;"><span class="stl_129 stl_49 stl_175" style="word-spacing:0.0196em;">位。其实“</span><span class="stl_132 stl_52 stl_175" style="word-spacing:0.0196em;">8 </span><span class="stl_129 stl_49 stl_175" style="word-spacing:0.0196em;">位”只是显示一个字符需要的最小位数，而不是最大位数。（如果 </span><span class="stl_132 stl_52 stl_175" style="word-spacing:0.0196em;">UTF-8 </span><span class="stl_129 stl_49 stl_175" style="word-spacing:0.0196em;">的 &nbsp;</span></div>
					<div class="stl_01" style="top:15.4566em; left:19.7565em;"><span class="stl_181 stl_52 stl_10">8</span></div>
					<div class="stl_01" style="top:15.4963em; left:5.6693em;"><span class="stl_129 stl_49 stl_312" style="word-spacing:-0.0041em;">每个字符都是 </span><span class="stl_132 stl_52 stl_312" style="word-spacing:-0.0041em;">8</span><span class="stl_129 stl_49 stl_312" style="word-spacing:-0.0041em;"> 位，那一共也只能存储</span><span class="stl_132 stl_52 stl_312" style="word-spacing:-0.0041em;"> 2</span><span class="stl_129 stl_49 stl_312" style="word-spacing:0.2896em;"> 个，即</span><span class="stl_132 stl_52 stl_312" style="word-spacing:-0.0041em;"> 256</span><span class="stl_129 stl_49 stl_312" style="word-spacing:-0.0041em;"> 个字符。这对中文字符和其他符号来 &nbsp;</span></div>
					<div class="stl_01" style="top:16.8241em; left:5.669em;"><span class="stl_129 stl_49 stl_412">说显然不够。） &nbsp;</span></div>
					<div class="stl_01" style="top:18.6575em; left:5.669em;"><span class="stl_129 stl_49 stl_303" style="word-spacing:-0.0177em;">真实情况是，</span><span class="stl_132 stl_52 stl_303" style="word-spacing:-0.0177em;">UTF-8 </span><span class="stl_129 stl_49 stl_303" style="word-spacing:-0.0177em;">的每个字符开头有一个标记表示“这个字符只用一个字节”或“那个 &nbsp;</span></div>
					<div class="stl_01" style="top:19.9855em; left:5.6693em;"><span class="stl_129 stl_49 stl_135">字符需要用两个字节”，一个字符最多可以是四个字节。由于这四个字节里还包含一部分 &nbsp;</span></div>
					<div class="stl_01" style="top:21.1578em; left:5.6693em;"><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0148em;">设置信息，用来决定多少字节用做字符编码，所以全部的 </span><span class="stl_132 stl_52 stl_367" style="word-spacing:-0.0148em;">32 </span><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0148em;">位（</span><span class="stl_132 stl_52 stl_367" style="word-spacing:-0.0148em;">32 </span><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0148em;">位 </span><span class="stl_132 stl_52 stl_367" style="word-spacing:-0.0148em;">=4 </span><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0148em;">字节 ×</span><span class="stl_132 stl_52 stl_367" style="word-spacing:-0.0148em;">8 </span><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0148em;">位 </span><span class="stl_132 stl_52 stl_367" style="word-spacing:-0.0148em;">/ </span><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0148em;">字 &nbsp;</span></div>
					<div class="stl_01" style="top:22.4078em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:NaNem;">节）并不会都用，其实最多使用</span><span class="stl_132 stl_52 stl_10"> 21</span><span class="stl_129 stl_49 stl_10"> 位，也就是总共</span><span class="stl_132 stl_52 stl_10"> 2</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.034em;"> 097 152</span><span class="stl_129 stl_49 stl_10"> 种可能里面可以有</span><span class="stl_132 stl_52 stl_10"> 1</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.034em;"> 114</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.034em;"> 112 &nbsp;</span></div>
					<div class="stl_01" style="top:23.7355em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">个字符。 &nbsp;</span></div>
					<div class="stl_01" style="top:25.5689em; left:5.6693em;"><span class="stl_129 stl_49 stl_708" style="word-spacing:-0.0632em;">虽然对很多程序来说，</span><span class="stl_132 stl_52 stl_708" style="word-spacing:-0.0632em;">Unicode </span><span class="stl_129 stl_49 stl_708" style="word-spacing:-0.0632em;">都是上帝的礼物（</span><span class="stl_132 stl_52 stl_708" style="word-spacing:-0.0632em;">godsend</span><span class="stl_129 stl_49 stl_708" style="word-spacing:-0.0632em;">），但是有些习惯很难改变， &nbsp;</span></div>
					<div class="stl_01" style="top:26.8192em; left:5.6693em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">ASCII </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">依然是许多英文用户的不二选择。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.6908em; left:31.8289em;"><span class="stl_181 stl_52 stl_10">7</span></div>
					<div class="stl_01" style="top:28.7303em; left:5.6693em;"><span class="stl_132 stl_52 stl_685" style="word-spacing:-0.0207em;">ASCII </span><span class="stl_129 stl_49 stl_685" style="word-spacing:-0.0207em;">是 </span><span class="stl_132 stl_52 stl_685" style="word-spacing:-0.0207em;">20 </span><span class="stl_129 stl_49 stl_685" style="word-spacing:-0.0207em;">世纪 </span><span class="stl_132 stl_52 stl_685" style="word-spacing:-0.0207em;">60 </span><span class="stl_129 stl_49 stl_685" style="word-spacing:-0.0207em;">年代开始使用的文字编码标准，每个字符 </span><span class="stl_132 stl_52 stl_685" style="word-spacing:-0.0207em;">7 </span><span class="stl_129 stl_49 stl_685" style="word-spacing:-0.0207em;">位，一共 </span><span class="stl_132 stl_52 stl_685" style="word-spacing:-0.0207em;">2 </span><span class="stl_129 stl_49 stl_685" style="word-spacing:-0.0207em;">，即 </span><span class="stl_132 stl_52 stl_685" style="word-spacing:-0.0207em;">128 </span><span class="stl_129 stl_49 stl_685" style="word-spacing:-0.0207em;">个字 &nbsp;</span></div>
					<div class="stl_01" style="top:30.0583em; left:5.6694em;"><span class="stl_129 stl_49 stl_592">符。这对于拉丁字母（包括大小写）、标点符号和英文键盘上的所有符号，都是够用的。 &nbsp;</span></div>
					<div class="stl_01" style="top:31.8917em; left:5.6694em;"><span class="stl_129 stl_49 stl_700" style="word-spacing:-0.0196em;">在 </span><span class="stl_132 stl_52 stl_700" style="word-spacing:-0.0196em;">20 </span><span class="stl_129 stl_49 stl_700" style="word-spacing:-0.0196em;">世纪 </span><span class="stl_132 stl_52 stl_700" style="word-spacing:-0.0196em;">60 </span><span class="stl_129 stl_49 stl_700" style="word-spacing:-0.0196em;">年代，存储的文件用 </span><span class="stl_132 stl_52 stl_700" style="word-spacing:-0.0196em;">7 </span><span class="stl_129 stl_49 stl_700" style="word-spacing:-0.0196em;">位编码和用 </span><span class="stl_132 stl_52 stl_700" style="word-spacing:-0.0196em;">8 </span><span class="stl_129 stl_49 stl_700" style="word-spacing:-0.0196em;">位编码之间的差异是巨大的，因为内存 &nbsp;</span></div>
					<div class="stl_01" style="top:33.1421em; left:5.6693em;"><span class="stl_129 stl_49 stl_652" style="word-spacing:-0.0299em;">非常昂贵。当时，计算机科学家们为了是需要增加一位来获得一个漂亮的二进制数（用 </span><span class="stl_132 stl_52 stl_652" style="word-spacing:-0.0299em;">8 &nbsp;</span></div>
					<div class="stl_01" style="top:34.392em; left:5.6693em;"><span class="stl_129 stl_49 stl_424" style="word-spacing:0.0207em;">位），还是让文件用更少的位数（用 </span><span class="stl_132 stl_52 stl_424" style="word-spacing:0.0207em;">7 </span><span class="stl_129 stl_49 stl_424" style="word-spacing:0.0207em;">位）费尽心机。最终，</span><span class="stl_132 stl_52 stl_424" style="word-spacing:0.0207em;">7 </span><span class="stl_129 stl_49 stl_424" style="word-spacing:0.0207em;">位编码胜利了。但是，在新 &nbsp;</span></div>
					<div class="stl_01" style="top:35.6023em; left:27.4556em;"><span class="stl_181 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:35.642em; left:5.6693em;"><span class="stl_129 stl_49 stl_709" style="word-spacing:0.0446em;">式的计算方式中，每个 </span><span class="stl_132 stl_52 stl_709" style="word-spacing:0.0446em;">7 </span><span class="stl_129 stl_49 stl_709" style="word-spacing:0.0446em;">位码的前面都补充（</span><span class="stl_132 stl_52 stl_709" style="word-spacing:0.0446em;">pad</span><span class="stl_129 stl_49 stl_709" style="word-spacing:0.0446em;">）了一个“</span><span class="stl_132 stl_52 stl_709" style="word-spacing:0.0446em;">0</span><span class="stl_129 stl_49 stl_709" style="word-spacing:0.0446em;">”</span><span class="stl_129 stl_49 stl_709" style="word-spacing:0.0856em;"> ，留给我们两个最坏的结果 &nbsp;</span></div>
					<div class="stl_01" style="top:36.892em; left:5.6693em;"><span class="stl_129 stl_49 stl_23" style="word-spacing:0.0198em;">是，文件大了 </span><span class="stl_132 stl_52 stl_23" style="word-spacing:0.0198em;">14%</span><span class="stl_129 stl_49 stl_23" style="word-spacing:0.0198em;">（编码由 </span><span class="stl_132 stl_52 stl_23" style="word-spacing:0.0198em;">7 </span><span class="stl_129 stl_49 stl_23" style="word-spacing:0.0198em;">位变成 </span><span class="stl_132 stl_52 stl_23" style="word-spacing:0.0198em;">8 </span><span class="stl_129 stl_49 stl_23" style="word-spacing:0.0198em;">位，体积增加了 </span><span class="stl_132 stl_52 stl_23" style="word-spacing:0.0198em;">14%</span><span class="stl_129 stl_49 stl_23" style="word-spacing:0.0198em;">），并且由于只有 </span><span class="stl_132 stl_52 stl_23" style="word-spacing:0.0198em;">128 </span><span class="stl_129 stl_49 stl_23" style="word-spacing:0.0198em;">个字符， &nbsp;</span></div>
					<div class="stl_01" style="top:38.2198em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">缺乏灵活性。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.0531em; left:5.6693em;"><span class="stl_129 stl_49 stl_658" style="word-spacing:0.0241em;">在 </span><span class="stl_132 stl_52 stl_658" style="word-spacing:0.0241em;">UTF-8 </span><span class="stl_129 stl_49 stl_658" style="word-spacing:0.0241em;">设计过程中，设计师决定利用 </span><span class="stl_132 stl_52 stl_658" style="word-spacing:0.0241em;">ASCII </span><span class="stl_129 stl_49 stl_658" style="word-spacing:0.0241em;">文档里的“填充位”，让所有以“</span><span class="stl_132 stl_52 stl_658" style="word-spacing:0.0241em;">0</span><span class="stl_129 stl_49 stl_658" style="word-spacing:0.0241em;">”开头的 &nbsp;</span></div>
					<div class="stl_01" style="top:41.3034em; left:5.6693em;"><span class="stl_129 stl_49 stl_473" style="word-spacing:-0.024em;">字节表示这个字符只用 </span><span class="stl_132 stl_52 stl_473" style="word-spacing:-0.024em;">1 </span><span class="stl_129 stl_49 stl_473" style="word-spacing:-0.024em;">个字节，从而把 </span><span class="stl_132 stl_52 stl_473" style="word-spacing:-0.024em;">ASCII </span><span class="stl_129 stl_49 stl_473" style="word-spacing:-0.024em;">和 </span><span class="stl_132 stl_52 stl_473" style="word-spacing:-0.024em;">UTF-8 </span><span class="stl_129 stl_49 stl_473" style="word-spacing:-0.024em;">编码完美地结合在一起。因此， &nbsp;</span></div>
					<div class="stl_01" style="top:42.5535em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">下面的字符在 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">ASCII </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">和 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">UTF-8 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">两种编码方式中都是有效的： &nbsp;</span></div>
					<div class="stl_01" style="top:44.522em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">0</span></div>
					<div class="stl_01" style="top:45.355em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">0</span></div>
					<div class="stl_01" style="top:46.188em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">0</span></div>
					<div class="stl_01" style="top:44.522em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">1000001 - A &nbsp;</span></div>
					<div class="stl_01" style="top:45.355em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">1000010 - B &nbsp;</span></div>
					<div class="stl_01" style="top:46.188em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">1000011 - C &nbsp;</span></div>
					<div class="stl_01" style="top:50.0086em; left:5.6693em;"><span class="stl_60 stl_49 stl_106" style="word-spacing:-0.001em;">注 </span><span class="stl_61 stl_52 stl_106" style="word-spacing:-0.001em;">1</span><span class="stl_60 stl_49 stl_106" style="word-spacing:-0.001em;">：</span><span class="stl_61 stl_52 stl_106" style="word-spacing:-0.001em;">padding</span><span class="stl_60 stl_49 stl_106" style="word-spacing:-0.001em;">（填充）位在稍后介绍的 </span><span class="stl_61 stl_52 stl_106" style="word-spacing:-0.001em;">ISO </span><span class="stl_60 stl_49 stl_106" style="word-spacing:-0.001em;">编码标准里还会介绍。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">8</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">2 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 6</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_127.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_127.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:6.6142em;"><span class="stl_129 stl_49 stl_125" style="word-spacing:-0.0023em;">而下面的字符只在 </span><span class="stl_132 stl_52 stl_125" style="word-spacing:-0.0023em;">UTF-8 </span><span class="stl_129 stl_49 stl_125" style="word-spacing:-0.0023em;">编码里有效，如果文档用 </span><span class="stl_132 stl_52 stl_125" style="word-spacing:-0.0023em;">ASCII </span><span class="stl_129 stl_49 stl_125" style="word-spacing:-0.0023em;">编码，那么就会被看成是“无法 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1627em; left:6.6142em;"><span class="stl_129 stl_49 stl_412">打印”： &nbsp;</span></div>
					<div class="stl_01" style="top:8.0535em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">1</span></div>
					<div class="stl_01" style="top:8.8865em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">1</span></div>
					<div class="stl_01" style="top:9.7195em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">1</span></div>
					<div class="stl_01" style="top:8.0535em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">1000011 10000000 - À &nbsp;</span></div>
					<div class="stl_01" style="top:8.8865em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">1000011 10011111 - ß &nbsp;</span></div>
					<div class="stl_01" style="top:9.7195em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">1000011 10100111 - ç &nbsp;</span></div>
					<div class="stl_01" style="top:11.4412em; left:6.6142em;"><span class="stl_129 stl_49 stl_564" style="word-spacing:-0.0025em;">除了 </span><span class="stl_132 stl_52 stl_564" style="word-spacing:-0.0025em;">UTF-8</span><span class="stl_129 stl_49 stl_564" style="word-spacing:-0.0025em;">，还有其他 </span><span class="stl_132 stl_52 stl_564" style="word-spacing:-0.0025em;">UTF </span><span class="stl_129 stl_49 stl_564" style="word-spacing:-0.0025em;">标准，像 </span><span class="stl_132 stl_52 stl_564" style="word-spacing:-0.0025em;">UTF-16</span><span class="stl_129 stl_49 stl_564" style="word-spacing:-0.0025em;">、</span><span class="stl_132 stl_52 stl_564" style="word-spacing:-0.0025em;">UTF-24</span><span class="stl_129 stl_49 stl_564" style="word-spacing:-0.0025em;">、</span><span class="stl_132 stl_52 stl_564" style="word-spacing:-0.0025em;">UTF-32</span><span class="stl_129 stl_49 stl_564" style="word-spacing:-0.0025em;">，不过很少用这些编码标 &nbsp;</span></div>
					<div class="stl_01" style="top:12.769em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">准对文件进行编码，只在一些超出本书介绍范围的环境里使用。 &nbsp;</span></div>
					<div class="stl_01" style="top:14.6023em; left:6.6142em;"><span class="stl_129 stl_49 stl_458" style="word-spacing:-0.0253em;">显然，</span><span class="stl_132 stl_52 stl_458" style="word-spacing:-0.0253em;">Unicode </span><span class="stl_129 stl_49 stl_458" style="word-spacing:-0.0253em;">标准也有问题，就是任何一种非英文语言文档的体积都比 </span><span class="stl_132 stl_52 stl_458" style="word-spacing:-0.0253em;">ASCII </span><span class="stl_129 stl_49 stl_458" style="word-spacing:-0.0253em;">编码的体 &nbsp;</span></div>
					<div class="stl_01" style="top:15.8526em; left:6.6142em;"><span class="stl_129 stl_49 stl_614" style="word-spacing:-0.0442em;">积大。虽然你的语言可能只需要用大约 </span><span class="stl_132 stl_52 stl_614" style="word-spacing:-0.0442em;">100 </span><span class="stl_129 stl_49 stl_614" style="word-spacing:-0.0442em;">个字符，像英文的 </span><span class="stl_132 stl_52 stl_614" style="word-spacing:-0.0442em;">ASCII </span><span class="stl_129 stl_49 stl_614" style="word-spacing:-0.0442em;">编码，</span><span class="stl_132 stl_52 stl_614" style="word-spacing:-0.0442em;">8 </span><span class="stl_129 stl_49 stl_614" style="word-spacing:-0.0442em;">位就够了， &nbsp;</span></div>
					<div class="stl_01" style="top:17.1026em; left:6.6142em;"><span class="stl_129 stl_49 stl_89" style="word-spacing:-0.0294em;">但是因为是用 </span><span class="stl_132 stl_52 stl_89" style="word-spacing:-0.0294em;">UTF-8 </span><span class="stl_129 stl_49 stl_89" style="word-spacing:-0.0294em;">编码，所以你还是得用至少 </span><span class="stl_132 stl_52 stl_89" style="word-spacing:-0.0294em;">16 </span><span class="stl_129 stl_49 stl_89" style="word-spacing:-0.0294em;">位表示每个字符。这会让非英文的纯 &nbsp;</span></div>
					<div class="stl_01" style="top:18.4304em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">文本文档体积差不多达到英文文档的两倍，对那些不用拉丁字符集的语言来说都是如此。 &nbsp;</span></div>
					<div class="stl_01" style="top:20.2638em; left:6.6142em;"><span class="stl_132 stl_52 stl_200" style="word-spacing:-0.0259em;">ISO </span><span class="stl_129 stl_49 stl_200" style="word-spacing:-0.0259em;">标准解决这个问题的办法是为每种语言创建一种编码。和 </span><span class="stl_132 stl_52 stl_200" style="word-spacing:-0.0259em;">Unicode </span><span class="stl_129 stl_49 stl_200" style="word-spacing:-0.0259em;">不同，它使用了与 &nbsp;</span></div>
					<div class="stl_01" style="top:21.5141em; left:6.6142em;"><span class="stl_132 stl_52 stl_586" style="word-spacing:-0.0181em;">ASCII </span><span class="stl_129 stl_49 stl_586" style="word-spacing:-0.0181em;">相同的编码，但是在每个字符的开头用 </span><span class="stl_132 stl_52 stl_586" style="word-spacing:-0.0181em;">0 </span><span class="stl_129 stl_49 stl_586" style="word-spacing:-0.0181em;">作“填充位”，这样就可以让语言在需要 &nbsp;</span></div>
					<div class="stl_01" style="top:22.7641em; left:6.6142em;"><span class="stl_129 stl_49 stl_497" style="word-spacing:-0.0346em;">的时候创建特殊字符。这种做法对欧洲那些依赖拉丁文字母的语言（编码还是按照 </span><span class="stl_132 stl_52 stl_497" style="word-spacing:-0.0346em;">0-127 &nbsp;</span></div>
					<div class="stl_01" style="top:24.0141em; left:6.6142em;"><span class="stl_129 stl_49 stl_710" style="word-spacing:-0.0141em;">一一对应）非常合适，只不过需要增加一些特殊字符。这使得 </span><span class="stl_132 stl_52 stl_710" style="word-spacing:-0.0141em;">ISO-8859-1</span><span class="stl_129 stl_49 stl_710" style="word-spacing:-0.0141em;">（为拉丁文字母 &nbsp;</span></div>
					<div class="stl_01" style="top:25.2641em; left:6.6142em;"><span class="stl_129 stl_49 stl_50" style="word-spacing:0.0384em;">设计的）标准里有了分数符号（如 </span><span class="stl_132 stl_52 stl_50" style="word-spacing:0.0384em;">½</span><span class="stl_129 stl_49 stl_50" style="word-spacing:0.0384em;">）和版权标记符号（</span><span class="stl_132 stl_52 stl_50" style="word-spacing:0.0384em;">©</span><span class="stl_129 stl_49 stl_50" style="word-spacing:0.0384em;">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.1751em; left:6.6142em;"><span class="stl_129 stl_49 stl_711" style="word-spacing:0.0343em;">还有一些 </span><span class="stl_132 stl_52 stl_711" style="word-spacing:0.0343em;">ISO </span><span class="stl_129 stl_49 stl_711" style="word-spacing:0.0343em;">字符集，像 </span><span class="stl_132 stl_52 stl_711" style="word-spacing:0.0343em;">ISO-8859-9</span><span class="stl_129 stl_49 stl_711" style="word-spacing:0.0343em;">（土耳其语）、</span><span class="stl_132 stl_52 stl_711" style="word-spacing:0.0343em;">ISO-8859-2</span><span class="stl_129 stl_49 stl_711" style="word-spacing:0.0343em;">（德语等语言）、</span><span class="stl_132 stl_52 stl_711" style="word-spacing:0.0343em;">ISO-8859- &nbsp;</span></div>
					<div class="stl_01" style="top:28.4651em; left:6.6142em;"><span class="stl_132 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:28.4255em; left:7.01em;"><span class="stl_132 stl_52 stl_10">5</span><span class="stl_129 stl_49 stl_10">（法语等语言）也是用类似的规律做出来的。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.3366em; left:6.6142em;"><span class="stl_129 stl_49 stl_712" style="word-spacing:-0.0649em;">虽然这些年 </span><span class="stl_132 stl_52 stl_712" style="word-spacing:-0.0649em;">ISO </span><span class="stl_129 stl_49 stl_712" style="word-spacing:-0.0649em;">编码标准的使用率一直在下降，但是目前仍有约 </span><span class="stl_132 stl_52 stl_712" style="word-spacing:-0.0649em;">9% </span><span class="stl_129 stl_49 stl_712" style="word-spacing:-0.0649em;">的网站使用 </span><span class="stl_132 stl_52 stl_712" style="word-spacing:-0.0649em;">ISO </span><span class="stl_129 stl_49 stl_712" style="word-spacing:-0.0649em;">编 &nbsp;</span></div>
					<div class="stl_01" style="top:31.5471em; left:7.6038em;"><span class="stl_181 stl_52 stl_10">2</span></div>
					<div class="stl_01" style="top:31.6646em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.2915em;">码 ，所以有必要做基本的了解，并在采集网站之前需要检查是否使用了这种编码方法。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.516em; left:6.6146em;"><span class="stl_387 stl_18 stl_10">2</span></div>
					<div class="stl_01" style="top:33.4764em; left:7.0547em;"><span class="stl_387 stl_18 stl_10" style="word-spacing:0.0003em;">. </span><span class="stl_388 stl_20 stl_10" style="word-spacing:0.0003em;">编码进行时 &nbsp;</span></div>
					<div class="stl_01" style="top:34.7362em; left:6.6146em;"><span class="stl_129 stl_49 stl_455" style="word-spacing:-0.0411em;">在上一节里，我们用默认设置的 </span><span class="stl_188 stl_44 stl_391" style="word-spacing:-0.0434em;">urlopen</span><span class="stl_129 stl_49 stl_455" style="word-spacing:-0.0411em;">读取了网上的 </span><span class="stl_132 stl_52 stl_455" style="word-spacing:-0.0411em;">.txt </span><span class="stl_129 stl_49 stl_455" style="word-spacing:-0.0411em;">文档。这么做对英文文档没有 &nbsp;</span></div>
					<div class="stl_01" style="top:35.9984em; left:6.6139em;"><span class="stl_129 stl_49 stl_333">任何问题。但是，如果你遇到的是俄语、阿拉伯语文档，或者文档里有一个像“</span><span class="stl_132 stl_52 stl_333">résumé</span><span class="stl_129 stl_49 stl_333">” &nbsp;</span></div>
					<div class="stl_01" style="top:37.3261em; left:6.6139em;"><span class="stl_129 stl_49 stl_10">这样的单词，就可能出问题。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.2372em; left:6.6139em;"><span class="stl_129 stl_49 stl_10">看看下面的代码： &nbsp;</span></div>
					<div class="stl_01" style="top:41.1281em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">urllib.request </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:41.9611em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">textPage = urlopen( &nbsp;</span></div>
					<div class="stl_01" style="top:42.7941em; left:12.9428em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:42.7941em; left:13.2969em;"><span class="stl_116 stl_44 stl_10">http://www.pythonscraping.com/pages/warandpeace/chapter1-ru.txt") &nbsp;</span></div>
					<div class="stl_01" style="top:43.6271em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(textPage.read()) &nbsp;</span></div>
					<div class="stl_01" style="top:45.3494em; left:6.6142em;"><span class="stl_129 stl_49 stl_713" style="word-spacing:-0.0673em;">这段代码会把《战争与和平》原著（托尔斯泰用俄语和法语写的）的第 </span><span class="stl_132 stl_52 stl_713" style="word-spacing:-0.0673em;">1 </span><span class="stl_129 stl_49 stl_713" style="word-spacing:-0.0673em;">章打印到屏幕 &nbsp;</span></div>
					<div class="stl_01" style="top:46.6771em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">上。打印结果一开头是这样： &nbsp;</span></div>
					<div class="stl_01" style="top:50.0086em; left:6.6142em;"><span class="stl_60 stl_49 stl_386" style="word-spacing:-0.0004em;">注 </span><span class="stl_61 stl_52 stl_386" style="word-spacing:-0.0004em;">2</span><span class="stl_60 stl_49 stl_386" style="word-spacing:-0.0004em;">：数据源自 </span><span class="stl_61 stl_52 stl_386" style="word-spacing:-0.0004em;">http://w3techs.com/technologies/history_overview/character_encoding</span><span class="stl_60 stl_49 stl_386" style="word-spacing:-0.0004em;">，通过网络爬虫收集。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.0178em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">读取文档 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">83 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_129.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_129.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8921em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">b"\xd0\xa7\xd0\x90\xd0\xa1\xd0\xa2\xd0\xac \xd0\x9f\xd0\x95\xd0\xa0\xd0\x92\xd0\ &nbsp;</span></div>
					<div class="stl_01" style="top:5.7251em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">x90\xd0\xaf\n\nI\n\n\xe2\x80\x94 Eh bien, mon prince. &nbsp;</span></div>
					<div class="stl_01" style="top:7.4465em; left:5.6693em;"><span class="stl_129 stl_49 stl_515" style="word-spacing:0.037em;">另外，在大多数浏览器里访问页面也会呈现乱码（如图 </span><span class="stl_132 stl_52 stl_515" style="word-spacing:0.037em;">6-1</span><span class="stl_129 stl_49 stl_515" style="word-spacing:0.037em;">）。 &nbsp;</span></div>
					<div class="stl_01 stl_382" style="top:22.1226em; left:5.6693em;"><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0093em;">图 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0093em;">6-1</span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0093em;">：法语和斯拉夫语用浏览器常用的文本编码格式 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0093em;">ISO-8859-1 </span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0093em;">编码的效果 &nbsp;</span></div>
					<div class="stl_01" style="top:23.9765em; left:5.6693em;"><span class="stl_129 stl_49 stl_714" style="word-spacing:-0.0458em;">就算让懂俄语的人来看，这些乱码也难以辨认。这个问题是因为 </span><span class="stl_132 stl_52 stl_714" style="word-spacing:-0.0458em;">Python </span><span class="stl_129 stl_49 stl_714" style="word-spacing:-0.0458em;">默认把文本读成 &nbsp;</span></div>
					<div class="stl_01" style="top:25.2265em; left:5.6693em;"><span class="stl_132 stl_52 stl_489" style="word-spacing:-0.009em;">ASCII </span><span class="stl_129 stl_49 stl_489" style="word-spacing:-0.009em;">编码格式，而浏览器把文本读成 </span><span class="stl_132 stl_52 stl_489" style="word-spacing:-0.009em;">ISO-8859-1 </span><span class="stl_129 stl_49 stl_489" style="word-spacing:-0.009em;">编码格式。其实都不对，应该用 </span><span class="stl_132 stl_52 stl_489" style="word-spacing:-0.009em;">UTF-8 &nbsp;</span></div>
					<div class="stl_01" style="top:26.5542em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">编码格式。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.3876em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">我们可以把字符串显示转换成 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">UTF-8 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">格式，这样就可以正确显示斯拉夫文字了： &nbsp;</span></div>
					<div class="stl_01" style="top:30.3563em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urllib.request </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:32.0223em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">textPage = urlopen( &nbsp;</span></div>
					<div class="stl_01" style="top:32.8553em; left:11.9979em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:32.8553em; left:12.352em;"><span class="stl_116 stl_44 stl_10">http://www.pythonscraping.com/pages/warandpeace/chapter1-ru.txt") &nbsp;</span></div>
					<div class="stl_01" style="top:33.6883em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(str(textPage.read(), 'utf-8')) &nbsp;</span></div>
					<div class="stl_01" style="top:35.3988em; left:5.6693em;"><span class="stl_129 stl_49 stl_162" style="word-spacing:-0.0143em;">用 </span><span class="stl_188 stl_44 stl_207" style="word-spacing:-0.0151em;">BeautifulSoup</span><span class="stl_129 stl_49 stl_162" style="word-spacing:-0.0143em;">和 </span><span class="stl_132 stl_52 stl_162" style="word-spacing:-0.0143em;">Python 3.x </span><span class="stl_129 stl_49 stl_162" style="word-spacing:-0.0143em;">对文档进行 </span><span class="stl_132 stl_52 stl_162" style="word-spacing:-0.0143em;">UTF-8 </span><span class="stl_129 stl_49 stl_162" style="word-spacing:-0.0143em;">编码，如下所示： &nbsp;</span></div>
					<div class="stl_01" style="top:37.3794em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">html = urlopen("http://en.wikipedia.org/wiki/Python_(programming_language)") &nbsp;</span></div>
					<div class="stl_01" style="top:38.2124em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">bsObj = BeautifulSoup(html) &nbsp;</span></div>
					<div class="stl_01" style="top:39.0454em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">content = bsObj.find("div", {"id":"mw-content-text"}).get_text() &nbsp;</span></div>
					<div class="stl_01" style="top:39.8784em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">content = bytes(content, "UTF-8") &nbsp;</span></div>
					<div class="stl_01" style="top:40.7114em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">content = content.decode("UTF-8") &nbsp;</span></div>
					<div class="stl_01" style="top:42.4338em; left:5.6693em;"><span class="stl_129 stl_49 stl_236" style="word-spacing:-0.0404em;">你可能打算以后用网络爬虫的时候全部采用 </span><span class="stl_132 stl_52 stl_236" style="word-spacing:-0.0404em;">UTF-8 </span><span class="stl_129 stl_49 stl_236" style="word-spacing:-0.0404em;">编码读取内容，毕竟 </span><span class="stl_132 stl_52 stl_236" style="word-spacing:-0.0404em;">UTF-8 </span><span class="stl_129 stl_49 stl_236" style="word-spacing:-0.0404em;">也可以完 &nbsp;</span></div>
					<div class="stl_01" style="top:43.6838em; left:5.6693em;"><span class="stl_129 stl_49 stl_710" style="word-spacing:-0.0141em;">美地处理 </span><span class="stl_132 stl_52 stl_710" style="word-spacing:-0.0141em;">ASCII </span><span class="stl_129 stl_49 stl_710" style="word-spacing:-0.0141em;">编码。但是，要记住还有 </span><span class="stl_132 stl_52 stl_710" style="word-spacing:-0.0141em;">9% </span><span class="stl_129 stl_49 stl_710" style="word-spacing:-0.0141em;">的网站使用 </span><span class="stl_132 stl_52 stl_710" style="word-spacing:-0.0141em;">ISO </span><span class="stl_129 stl_49 stl_710" style="word-spacing:-0.0141em;">编码格式。所以在处理纯文 &nbsp;</span></div>
					<div class="stl_01" style="top:45.0116em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">本文档时，想用一种编码搞定所有的文档依旧不可能。有一些库可以检查文档的编码，或 &nbsp;</span></div>
					<div class="stl_01" style="top:46.1838em; left:5.6693em;"><span class="stl_129 stl_49 stl_270" style="word-spacing:-0.0044em;">是对文档编码进行估计（用一些逻辑判断“</span><span class="stl_132 stl_52 stl_270" style="word-spacing:-0.0044em;">Ñ € Ð</span><span class="stl_134 stl_36 stl_270" style="word-spacing:-0.0044em;">°</span><span class="stl_132 stl_52 stl_270" style="word-spacing:-0.0044em;">ÑÑÐºÐ</span><span class="stl_134 stl_36 stl_270" style="word-spacing:-0.0044em;">°</span><span class="stl_132 stl_52 stl_270" style="word-spacing:-0.0044em;">Ð</span><span class="stl_134 stl_36 stl_270" style="word-spacing:-0.0044em;">·</span><span class="stl_132 stl_52 stl_270" style="word-spacing:-0.0044em;">Ñ</span><span class="stl_129 stl_49 stl_270" style="word-spacing:-0.0044em;">”不是单词），不过效果并 &nbsp;</span></div>
					<div class="stl_01" style="top:47.5116em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">不是很好。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">8</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">4 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 6</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_130.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_130.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8229em; left:6.6142em;"><span class="stl_129 stl_49 stl_167" style="word-spacing:-0.0411em;">处理 </span><span class="stl_132 stl_52 stl_167" style="word-spacing:-0.0411em;">HTML </span><span class="stl_129 stl_49 stl_167" style="word-spacing:-0.0411em;">页面的时候，网站其实会在 </span><span class="stl_188 stl_44 stl_715" style="word-spacing:-0.0434em;">&lt;head&gt;</span><span class="stl_129 stl_49 stl_167" style="word-spacing:-0.0411em;">部分显示页面使用的编码格式。大多数网 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1627em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">站，尤其是英文网站，都会带这样的标签： &nbsp;</span></div>
					<div class="stl_01" style="top:8.0937em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:8.0533em; left:8.6928em;"><span class="stl_232 stl_44 stl_10">meta </span><span class="stl_116 stl_44 stl_10">charset="utf-8" </span><span class="stl_232 stl_44 stl_10">/&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:9.7745em; left:6.6142em;"><span class="stl_129 stl_49 stl_270" style="word-spacing:-0.0024em;">而 </span><span class="stl_132 stl_52 stl_270" style="word-spacing:-0.0024em;">ECMA</span><span class="stl_129 stl_49 stl_270" style="word-spacing:-0.0024em;">（</span><span class="stl_132 stl_52 stl_270" style="word-spacing:-0.0024em;">European</span><span class="stl_132 stl_52 stl_270" style="word-spacing:0.1135em;"> Computer Manufacturers</span><span class="stl_132 stl_52 stl_270" style="word-spacing:0.1135em;"> Association</span><span class="stl_129 stl_49 stl_270" style="word-spacing:0.1135em;">，欧洲计算机制造商协会，</span><span class="stl_132 stl_52 stl_270" style="word-spacing:0.1135em;">http:// &nbsp;</span></div>
					<div class="stl_01" style="top:10.9848em; left:23.2577em;"><span class="stl_181 stl_52 stl_10">3</span></div>
					<div class="stl_01" style="top:11.0246em; left:6.6142em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.292em;">www.ecma-international.org/</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.292em;">）网站的标签是这样 ： &nbsp;</span></div>
					<div class="stl_01" style="top:13.0333em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:12.993em; left:8.6928em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">META </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1"</span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:14.7798em; left:6.6142em;"><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0125em;">如果你要做很多网络数据采集工作，尤其是面对国际网站时，建议你先看看 </span><span class="stl_188 stl_44 stl_218" style="word-spacing:-0.0132em;">meta</span><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0125em;">标签的内 &nbsp;</span></div>
					<div class="stl_01" style="top:16.0419em; left:6.6139em;"><span class="stl_129 stl_49 stl_10">容，用网站推荐的编码方式读取页面内容。 &nbsp;</span></div>
					<div class="stl_01" style="top:18.4302em; left:6.6142em;"><span class="stl_197 stl_18 stl_10">6</span></div>
					<div class="stl_01" style="top:18.3594em; left:7.4373em;"><span class="stl_197 stl_18 stl_71">.3</span><span class="stl_160 stl_20 stl_71">ꢀ</span><span class="stl_197 stl_18 stl_71">CSV &nbsp;</span></div>
					<div class="stl_01" style="top:20.7926em; left:6.6142em;"><span class="stl_129 stl_49 stl_716" style="word-spacing:-0.0828em;">进行网页采集的时候，你可能会遇到 </span><span class="stl_132 stl_52 stl_716" style="word-spacing:-0.0828em;">CSV </span><span class="stl_129 stl_49 stl_716" style="word-spacing:-0.0828em;">文件，也可能有同事希望将数据保存为 </span><span class="stl_132 stl_52 stl_716" style="word-spacing:-0.0828em;">CSV &nbsp;</span></div>
					<div class="stl_01" style="top:22.0426em; left:6.6142em;"><span class="stl_129 stl_49 stl_192" style="word-spacing:-0.0102em;">格式。</span><span class="stl_132 stl_52 stl_192" style="word-spacing:-0.0102em;">Python </span><span class="stl_129 stl_49 stl_192" style="word-spacing:-0.0102em;">有一个超赞的标准库（</span><span class="stl_132 stl_52 stl_192" style="word-spacing:-0.0102em;">https://docs.python.org/3.4/library/csv.html</span><span class="stl_129 stl_49 stl_192" style="word-spacing:-0.0102em;">）可以读写 &nbsp;</span></div>
					<div class="stl_01" style="top:23.2926em; left:6.6142em;"><span class="stl_132 stl_52 stl_180" style="word-spacing:-0.0134em;">CSV </span><span class="stl_129 stl_49 stl_180" style="word-spacing:-0.0134em;">文件。虽然这个库可以处理各种 </span><span class="stl_132 stl_52 stl_180" style="word-spacing:-0.0134em;">CSV </span><span class="stl_129 stl_49 stl_180" style="word-spacing:-0.0134em;">文件，但是这里我重点介绍标准 </span><span class="stl_132 stl_52 stl_180" style="word-spacing:-0.0134em;">CSV </span><span class="stl_129 stl_49 stl_180" style="word-spacing:-0.0134em;">格式。如 &nbsp;</span></div>
					<div class="stl_01" style="top:24.5426em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">果你在处理 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">CSV </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">时有特殊需求，请查看文档！ &nbsp;</span></div>
					<div class="stl_01" style="top:26.9718em; left:6.6142em;"><span class="stl_91 stl_20 stl_71">读取</span><span class="stl_260 stl_18 stl_71">CSV</span><span class="stl_91 stl_20 stl_71">文件 &nbsp;</span></div>
					<div class="stl_01" style="top:28.9006em; left:6.6142em;"><span class="stl_132 stl_52 stl_640" style="word-spacing:-0.0514em;">Python </span><span class="stl_129 stl_49 stl_640" style="word-spacing:-0.0514em;">的 </span><span class="stl_188 stl_44 stl_717" style="word-spacing:-0.0542em;">csv</span><span class="stl_129 stl_49 stl_640" style="word-spacing:-0.0514em;">库主要是面向本地文件，就是说你的 </span><span class="stl_132 stl_52 stl_640" style="word-spacing:-0.0514em;">CSV </span><span class="stl_129 stl_49 stl_640" style="word-spacing:-0.0514em;">文件得存储在你的电脑上。而进 &nbsp;</span></div>
					<div class="stl_01" style="top:30.2404em; left:6.614em;"><span class="stl_129 stl_49 stl_10">行网络数据采集的时候，很多文件都是在线的。不过有一些方法可以解决这个问题： &nbsp;</span></div>
					<div class="stl_01" style="top:32.1134em; left:6.614em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:33.3634em; left:6.614em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:34.6135em; left:6.614em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:32.0738em; left:7.6772em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">手动把 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">CSV </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">文件下载到本机，然后用 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">定位文件位置； &nbsp;</span></div>
					<div class="stl_01" style="top:33.3238em; left:7.6772em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">写 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">程序下载文件，读取之后再把源文件删除； &nbsp;</span></div>
					<div class="stl_01" style="top:34.6397em; left:7.6772em;"><span class="stl_129 stl_49 stl_715" style="word-spacing:-0.0544em;">从网上直接把文件读成一个字符串，然后转换成一个 </span><span class="stl_188 stl_44 stl_718" style="word-spacing:-0.0574em;">StringIO</span><span class="stl_129 stl_49 stl_715" style="word-spacing:-0.0544em;">对象，使它具有文件的 &nbsp;</span></div>
					<div class="stl_01" style="top:35.9018em; left:7.6774em;"><span class="stl_129 stl_49 stl_10">属性。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.7352em; left:6.6142em;"><span class="stl_129 stl_49 stl_719" style="word-spacing:-0.0944em;">虽然前两个方法也可以用，但是既然你可以轻易地把 </span><span class="stl_132 stl_52 stl_719" style="word-spacing:-0.0944em;">CSV </span><span class="stl_129 stl_49 stl_719" style="word-spacing:-0.0944em;">文件保存在内存里，就不要 &nbsp;</span></div>
					<div class="stl_01" style="top:39.0511em; left:6.6142em;"><span class="stl_129 stl_49 stl_304" style="word-spacing:-0.1124em;">再下载到本地占硬盘空间了。直接把文件读成字符串，然后封装成 </span><span class="stl_188 stl_44 stl_305" style="word-spacing:-0.1187em;">StringIO</span><span class="stl_129 stl_49 stl_304" style="word-spacing:-0.1124em;">对象，让 &nbsp;</span></div>
					<div class="stl_01" style="top:40.2355em; left:6.6146em;"><span class="stl_132 stl_52 stl_512" style="word-spacing:-0.0128em;">Python </span><span class="stl_129 stl_49 stl_512" style="word-spacing:-0.0128em;">把它当作文件来处理，就不需要先保存成文件了。下面的程序就是从网上获取一个 &nbsp;</span></div>
					<div class="stl_01" style="top:41.4855em; left:6.6142em;"><span class="stl_132 stl_52 stl_135" style="word-spacing:0.0028em;">CSV </span><span class="stl_129 stl_49 stl_135" style="word-spacing:0.0028em;">文件（这里用的是 </span><span class="stl_132 stl_52 stl_135" style="word-spacing:0.0028em;">http://pythonscraping.com/</span><span class="stl_148 stl_52 stl_135" style="word-spacing:0.0028em;">ﬁ</span><span class="stl_132 stl_52 stl_135" style="word-spacing:0.0028em;">les/MontyPythonAlbums.csv </span><span class="stl_129 stl_49 stl_135" style="word-spacing:0.0028em;">里的 </span><span class="stl_132 stl_52 stl_135" style="word-spacing:0.0028em;">Monty &nbsp;</span></div>
					<div class="stl_01" style="top:42.7356em; left:6.6142em;"><span class="stl_132 stl_52 stl_720" style="word-spacing:0.0357em;">Python </span><span class="stl_129 stl_49 stl_720" style="word-spacing:0.0357em;">乐团的专辑列表），然后把每一行都打印到命令行里： &nbsp;</span></div>
					<div class="stl_01" style="top:44.7039em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">urllib.request </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:45.5369em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">io </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">StringIO &nbsp;</span></div>
					<div class="stl_01" style="top:46.3699em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">csv &nbsp;</span></div>
					<div class="stl_01" style="top:50.0086em; left:6.6142em;"><span class="stl_60 stl_49 stl_105" style="word-spacing:-0.0008em;">注 </span><span class="stl_61 stl_52 stl_105" style="word-spacing:-0.0008em;">3</span><span class="stl_60 stl_49 stl_105" style="word-spacing:-0.0008em;">：</span><span class="stl_61 stl_52 stl_105" style="word-spacing:-0.0008em;">ECMA </span><span class="stl_60 stl_49 stl_105" style="word-spacing:-0.0008em;">是 </span><span class="stl_61 stl_52 stl_105" style="word-spacing:-0.0008em;">ISO </span><span class="stl_60 stl_49 stl_105" style="word-spacing:-0.0008em;">编码标准的主要贡献者之一，所以它的网站用 </span><span class="stl_61 stl_52 stl_105" style="word-spacing:-0.0008em;">ISO </span><span class="stl_60 stl_49 stl_105" style="word-spacing:-0.0008em;">编码一点儿也不奇怪。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.0178em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">读取文档 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">85 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_131.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_131.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8921em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">data = urlopen("http://pythonscraping.com/files/MontyPythonAlbums.csv") &nbsp;</span></div>
					<div class="stl_01" style="top:5.7251em; left:12.7062em;"><span class="stl_116 stl_44 stl_10">read().decode('ascii', 'ignore') &nbsp;</span></div>
					<div class="stl_01" style="top:5.7251em; left:12.352em;"><span class="stl_116 stl_44 stl_10">.</span></div>
					<div class="stl_01" style="top:6.5581em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">dataFile = StringIO(data) &nbsp;</span></div>
					<div class="stl_01" style="top:7.3911em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">csvReader = csv.reader(dataFile) &nbsp;</span></div>
					<div class="stl_01" style="top:9.0571em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">for </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">row </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">in </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">csvReader: &nbsp;</span></div>
					<div class="stl_01" style="top:9.8901em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(row) &nbsp;</span></div>
					<div class="stl_01" style="top:11.6908em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">显示结果很长，开始部分是这样： &nbsp;</span></div>
					<div class="stl_01" style="top:13.5817em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">[</span></div>
					<div class="stl_01" style="top:14.4147em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">[</span></div>
					<div class="stl_01" style="top:15.2477em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">[</span></div>
					<div class="stl_01" style="top:16.0807em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">[</span></div>
					<div class="stl_01" style="top:16.9137em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">.</span></div>
					<div class="stl_01" style="top:13.5817em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">'Name', 'Year'] &nbsp;</span></div>
					<div class="stl_01" style="top:14.4147em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">"Monty Python's Flying Circus", '1970'] &nbsp;</span></div>
					<div class="stl_01" style="top:15.2477em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">'Another Monty Python Record', '1971'] &nbsp;</span></div>
					<div class="stl_01" style="top:16.0807em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">"Monty Python's Previous Record", '1972'] &nbsp;</span></div>
					<div class="stl_01" style="top:16.9137em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">.. &nbsp;</span></div>
					<div class="stl_01" style="top:18.624em; left:5.6693em;"><span class="stl_129 stl_49 stl_201" style="word-spacing:-0.0221em;">从代码中你会发现 </span><span class="stl_188 stl_44 stl_199" style="word-spacing:-0.0233em;">csv.reader</span><span class="stl_129 stl_49 stl_201" style="word-spacing:-0.0221em;">返回的 </span><span class="stl_188 stl_44 stl_199" style="word-spacing:-0.0233em;">csvReader</span><span class="stl_129 stl_49 stl_201" style="word-spacing:-0.0221em;">对象是可迭代的，而且由 </span><span class="stl_132 stl_52 stl_201" style="word-spacing:-0.0221em;">Python </span><span class="stl_129 stl_49 stl_201" style="word-spacing:-0.0221em;">的列表对 &nbsp;</span></div>
					<div class="stl_01" style="top:19.9517em; left:5.6696em;"><span class="stl_129 stl_49 stl_367">象构成。因此，</span><span class="stl_188 stl_44 stl_209">csvReader</span><span class="stl_129 stl_49 stl_367">对象可以用下面的方式接入： &nbsp;</span></div>
					<div class="stl_01" style="top:21.8545em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">for </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">row </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">in </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">csvReader: &nbsp;</span></div>
					<div class="stl_01" style="top:22.6875em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">("The album \""+row[0]+"\" was released in "+str(row[1])) &nbsp;</span></div>
					<div class="stl_01" style="top:24.4868em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">输出结果是： &nbsp;</span></div>
					<div class="stl_01" style="top:26.3776em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">The album "Name" was released </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">in </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Year &nbsp;</span></div>
					<div class="stl_01" style="top:27.2106em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">The album "Monty Python's Flying Circus" was released </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">1970 &nbsp;</span></div>
					<div class="stl_01" style="top:28.0436em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">The album "Another Monty Python Record" was released </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">1971 &nbsp;</span></div>
					<div class="stl_01" style="top:28.8766em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">The album "Monty Python's Previous Record" was released </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">1972 &nbsp;</span></div>
					<div class="stl_01" style="top:29.7096em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">.</span></div>
					<div class="stl_01" style="top:29.7096em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">.. &nbsp;</span></div>
					<div class="stl_01" style="top:31.4977em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0596em;">注意看第一行的内容，</span><span class="stl_188 stl_44 stl_73" style="word-spacing:0.0629em;">The album "Name" was released in Year</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0596em;">。虽然写示例代码的时候， &nbsp;</span></div>
					<div class="stl_01" style="top:32.7597em; left:5.669em;"><span class="stl_129 stl_49 stl_138">这行内容是否显示都无所谓，但是工作中你肯定不希望将这行信息保留在数据里。有些程 &nbsp;</span></div>
					<div class="stl_01" style="top:33.9977em; left:5.6693em;"><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0176em;">序员可能会简单地跳过 </span><span class="stl_188 stl_44 stl_209" style="word-spacing:-0.0186em;">csvReader</span><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0176em;">对象的第一行，或者写一个简单的条件把第一行处理掉。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.2477em; left:5.6696em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0004em;">不过，还有一个函数可以很好地处理这个问题，那就是 </span><span class="stl_188 stl_44 stl_10" style="word-spacing:-0.0004em;">csv.DictReader</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0004em;">： &nbsp;</span></div>
					<div class="stl_01" style="top:37.1504em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urllib.request </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:37.9834em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">io </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">StringIO &nbsp;</span></div>
					<div class="stl_01" style="top:38.8164em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">csv &nbsp;</span></div>
					<div class="stl_01" style="top:40.4824em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">data = urlopen("http://pythonscraping.com/files/MontyPythonAlbums.csv") &nbsp;</span></div>
					<div class="stl_01" style="top:41.3154em; left:12.7062em;"><span class="stl_116 stl_44 stl_10">read().decode('ascii', 'ignore') &nbsp;</span></div>
					<div class="stl_01" style="top:41.3154em; left:12.352em;"><span class="stl_116 stl_44 stl_10">.</span></div>
					<div class="stl_01" style="top:42.1484em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">dataFile = StringIO(data) &nbsp;</span></div>
					<div class="stl_01" style="top:42.9815em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">dictReader = csv.DictReader(dataFile) &nbsp;</span></div>
					<div class="stl_01" style="top:44.6475em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(dictReader.fieldnames) &nbsp;</span></div>
					<div class="stl_01" style="top:46.3135em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">row </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">dictReader: &nbsp;</span></div>
					<div class="stl_01" style="top:47.1464em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(row) &nbsp;</span></div>
					<div class="stl_01" style="top:48.8596em; left:5.6693em;"><span class="stl_188 stl_44 stl_136" style="word-spacing:-0.0468em;">csv.DictReader</span><span class="stl_129 stl_49 stl_460" style="word-spacing:-0.0444em;">会返回把 </span><span class="stl_132 stl_52 stl_460" style="word-spacing:-0.0444em;">CSV </span><span class="stl_129 stl_49 stl_460" style="word-spacing:-0.0444em;">文件每一行转换成 </span><span class="stl_132 stl_52 stl_460" style="word-spacing:-0.0444em;">Python </span><span class="stl_129 stl_49 stl_460" style="word-spacing:-0.0444em;">的字典对象返回，而不是列表对 &nbsp;</span></div>
					<div class="stl_01" style="top:50.1873em; left:5.6693em;"><span class="stl_129 stl_49 stl_517" style="word-spacing:0.0015em;">象，并把字段列表保存在变量 </span><span class="stl_188 stl_44 stl_721" style="word-spacing:0.0016em;">dictReader.fieldnames</span><span class="stl_129 stl_49 stl_517" style="word-spacing:0.0015em;">里，字段列表同时作为字典对象的键： &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">8</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">6 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 6</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_132.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_132.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8921em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">[</span></div>
					<div class="stl_01" style="top:5.7251em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">{</span></div>
					<div class="stl_01" style="top:6.5581em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">{</span></div>
					<div class="stl_01" style="top:7.3911em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">{</span></div>
					<div class="stl_01" style="top:4.8921em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">'Name', 'Year'] &nbsp;</span></div>
					<div class="stl_01" style="top:5.7251em; left:8.6928em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">'Name': "Monty Python's Flying Circus", 'Year': '1970'} &nbsp;</span></div>
					<div class="stl_01" style="top:6.5581em; left:8.6928em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">'Name': 'Another Monty Python Record', 'Year': '1971'} &nbsp;</span></div>
					<div class="stl_01" style="top:7.3911em; left:8.6928em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">'Name': "Monty Python's Previous Record", 'Year': '1972'} &nbsp;</span></div>
					<div class="stl_01" style="top:9.1011em; left:6.6142em;"><span class="stl_129 stl_49 stl_296" style="word-spacing:-0.0219em;">虽然用 </span><span class="stl_188 stl_44 stl_252" style="word-spacing:-0.0231em;">DictReaders</span><span class="stl_129 stl_49 stl_296" style="word-spacing:-0.0219em;">创建、处理和打印 </span><span class="stl_132 stl_52 stl_296" style="word-spacing:-0.0219em;">CSV </span><span class="stl_129 stl_49 stl_296" style="word-spacing:-0.0219em;">信息，比 </span><span class="stl_188 stl_44 stl_252" style="word-spacing:-0.0231em;">csvReaders</span><span class="stl_129 stl_49 stl_296" style="word-spacing:-0.0219em;">要多写一点儿代码，但是 &nbsp;</span></div>
					<div class="stl_01" style="top:10.4409em; left:6.6139em;"><span class="stl_129 stl_49 stl_10">考虑到它的便利性和实用性，多写那点儿代码还是值得的。 &nbsp;</span></div>
					<div class="stl_01" style="top:12.8292em; left:6.6142em;"><span class="stl_197 stl_18 stl_10">6</span></div>
					<div class="stl_01" style="top:12.7583em; left:7.4373em;"><span class="stl_197 stl_18 stl_71">.4</span><span class="stl_160 stl_20 stl_71">ꢀ</span><span class="stl_197 stl_18 stl_71">PDF &nbsp;</span></div>
					<div class="stl_01" style="top:15.1916em; left:6.6142em;"><span class="stl_129 stl_49 stl_220" style="word-spacing:-0.0343em;">做为一名 </span><span class="stl_132 stl_52 stl_220" style="word-spacing:-0.0343em;">Linux </span><span class="stl_129 stl_49 stl_220" style="word-spacing:-0.0343em;">用户，我能理解电脑上没有微软软件却收到了一个 </span><span class="stl_132 stl_52 stl_220" style="word-spacing:-0.0343em;">.docx </span><span class="stl_129 stl_49 stl_220" style="word-spacing:-0.0343em;">文件的痛苦，还 &nbsp;</span></div>
					<div class="stl_01" style="top:16.4416em; left:6.6142em;"><span class="stl_129 stl_49 stl_722">有就是费半天劲儿找一种能够读取苹果系统媒体文件的解码器。从某种意义上说，</span><span class="stl_132 stl_52 stl_722">Adobe &nbsp;</span></div>
					<div class="stl_01" style="top:17.6916em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">在 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">1993</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;"> 年发明</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;"> PDF</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0002em;"> 格式（</span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0002em;">Portable</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0821em;"> Document</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0821em;"> Format</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0821em;">，便携式文档格式）是一种技术革命。 &nbsp;</span></div>
					<div class="stl_01" style="top:18.9416em; left:6.6142em;"><span class="stl_132 stl_52 stl_415" style="word-spacing:-0.0137em;">PDF </span><span class="stl_129 stl_49 stl_415" style="word-spacing:-0.0137em;">可以让用户在不同的系统上用同样的方式查看图片和文本文档，无论这些文件是在哪 &nbsp;</span></div>
					<div class="stl_01" style="top:20.2693em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">种系统上制作的。 &nbsp;</span></div>
					<div class="stl_01" style="top:22.1027em; left:6.6142em;"><span class="stl_129 stl_49 stl_173" style="word-spacing:-0.0337em;">虽然把 </span><span class="stl_132 stl_52 stl_173" style="word-spacing:-0.0337em;">PDF </span><span class="stl_129 stl_49 stl_173" style="word-spacing:-0.0337em;">显示在网页上已经有点儿过时了（你已经可以把内容显示成 </span><span class="stl_132 stl_52 stl_173" style="word-spacing:-0.0337em;">HTML </span><span class="stl_129 stl_49 stl_173" style="word-spacing:-0.0337em;">了，为什 &nbsp;</span></div>
					<div class="stl_01" style="top:23.353em; left:6.6142em;"><span class="stl_129 stl_49 stl_110" style="word-spacing:0.0028em;">么还要用这种静态、加载速度超慢的格式呢？），但是 </span><span class="stl_132 stl_52 stl_110" style="word-spacing:0.0028em;">PDF </span><span class="stl_129 stl_49 stl_110" style="word-spacing:0.0028em;">仍然无处不在，尤其是在处理 &nbsp;</span></div>
					<div class="stl_01" style="top:24.6807em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">商务报表和表单的时候。 &nbsp;</span></div>
					<div class="stl_01" style="top:26.5537em; left:6.6142em;"><span class="stl_132 stl_52 stl_10">2</span></div>
					<div class="stl_01" style="top:26.5141em; left:7.01em;"><span class="stl_132 stl_52 stl_154" style="word-spacing:-0.0059em;">009 </span><span class="stl_129 stl_49 stl_154" style="word-spacing:-0.0059em;">年，一个叫</span><span class="stl_132 stl_52 stl_154" style="word-spacing:-0.0059em;"> Nick</span><span class="stl_132 stl_52 stl_154" style="word-spacing:0.1181em;"> Innes</span><span class="stl_129 stl_49 stl_154" style="word-spacing:-0.0061em;"> 的英国人上了新闻，他根据英联邦的信息自由法案，要求英国 &nbsp;</span></div>
					<div class="stl_01" style="top:27.8421em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">白金汉郡议会公开学生的考试成绩。在几次请求遭到拒绝之后，他开始自己收集信息—— &nbsp;</span></div>
					<div class="stl_01" style="top:29.0144em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">最后收集了 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">184 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">份 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">PDF </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">文件。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.9255em; left:6.6142em;"><span class="stl_129 stl_49 stl_225" style="word-spacing:-0.0311em;">虽然 </span><span class="stl_132 stl_52 stl_225" style="word-spacing:-0.0311em;">Innes </span><span class="stl_129 stl_49 stl_225" style="word-spacing:-0.0311em;">努力坚持，并且最后得到了一个格式更好的数据库，但是如果他事先了解网络 &nbsp;</span></div>
					<div class="stl_01" style="top:32.1758em; left:6.6142em;"><span class="stl_129 stl_49 stl_153" style="word-spacing:-0.0155em;">爬虫，再用 </span><span class="stl_132 stl_52 stl_153" style="word-spacing:-0.0155em;">Python </span><span class="stl_129 stl_49 stl_153" style="word-spacing:-0.0155em;">众多 </span><span class="stl_132 stl_52 stl_153" style="word-spacing:-0.0155em;">PDF </span><span class="stl_129 stl_49 stl_153" style="word-spacing:-0.0155em;">解析模块中的任意一个来处理这些 </span><span class="stl_132 stl_52 stl_153" style="word-spacing:-0.0155em;">PDF </span><span class="stl_129 stl_49 stl_153" style="word-spacing:-0.0155em;">文件，那么他一定可 &nbsp;</span></div>
					<div class="stl_01" style="top:33.5035em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">以在法庭上节省很多时间。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.3369em; left:6.6142em;"><span class="stl_129 stl_49 stl_208" style="word-spacing:-0.0231em;">不过目前很多 </span><span class="stl_132 stl_52 stl_208" style="word-spacing:-0.0231em;">PDF</span><span class="stl_129 stl_49 stl_208" style="word-spacing:-0.0223em;"> 解析库都是用</span><span class="stl_132 stl_52 stl_208" style="word-spacing:-0.0231em;"> Python</span><span class="stl_132 stl_52 stl_208" style="word-spacing:0.0949em;"> 2.x</span><span class="stl_129 stl_49 stl_208" style="word-spacing:-0.0231em;"> 版本建立的，还没有迁移到</span><span class="stl_132 stl_52 stl_208" style="word-spacing:-0.0231em;"> Python</span><span class="stl_132 stl_52 stl_208" style="word-spacing:0.0949em;"> 3.x</span><span class="stl_129 stl_49 stl_208" style="word-spacing:-0.0231em;"> 版本。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.5872em; left:6.6142em;"><span class="stl_129 stl_49 stl_723" style="word-spacing:-0.0317em;">但是，因为 </span><span class="stl_132 stl_52 stl_723" style="word-spacing:-0.0317em;">PDF </span><span class="stl_129 stl_49 stl_723" style="word-spacing:-0.0317em;">比较简单，而且是开源的文档格式，所以有一些给力的 </span><span class="stl_132 stl_52 stl_723" style="word-spacing:-0.0317em;">Python </span><span class="stl_129 stl_49 stl_723" style="word-spacing:-0.0317em;">库可以读 &nbsp;</span></div>
					<div class="stl_01" style="top:37.8373em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">取 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">PDF </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">文件，而且支持 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python 3.x </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">版本。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.7483em; left:6.6142em;"><span class="stl_132 stl_52 stl_152" style="word-spacing:-0.0039em;">PDFMiner3K </span><span class="stl_129 stl_49 stl_152" style="word-spacing:-0.0039em;">就是一个非常好用的库（是</span><span class="stl_132 stl_52 stl_152" style="word-spacing:-0.0037em;"> PDFMiner</span><span class="stl_129 stl_49 stl_152" style="word-spacing:-0.0037em;"> 的</span><span class="stl_132 stl_52 stl_152" style="word-spacing:-0.0037em;"> Python</span><span class="stl_132 stl_52 stl_152" style="word-spacing:0.1093em;"> 3.x</span><span class="stl_129 stl_49 stl_152" style="word-spacing:-0.0037em;"> 移植版）。它非常灵活， &nbsp;</span></div>
					<div class="stl_01" style="top:41.0763em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">可以通过命令行使用，也可以整合到代码中。它还可以处理不同的语言编码，而且对网络 &nbsp;</span></div>
					<div class="stl_01" style="top:42.3264em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">文件的处理也非常方便。 &nbsp;</span></div>
					<div class="stl_01" style="top:44.1598em; left:6.6142em;"><span class="stl_129 stl_49 stl_480">你可以下载这个模块的源文件（</span><span class="stl_132 stl_52 stl_480">https://pypi.python.org/pypi/pdfminer3k</span><span class="stl_129 stl_49 stl_480">），解压并用下面命 &nbsp;</span></div>
					<div class="stl_01" style="top:45.4878em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">令安装： &nbsp;</span></div>
					<div class="stl_01" style="top:47.3786em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:47.3786em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">python setup.py install &nbsp;</span></div>
					<div class="stl_01" style="top:49.0997em; left:6.6142em;"><span class="stl_129 stl_49 stl_491" style="word-spacing:-0.0234em;">文档位于源文件解压文件夹的 </span><span class="stl_132 stl_52 stl_491" style="word-spacing:-0.0234em;">/pdfminer3k-1.3.0/docs/index.html </span><span class="stl_129 stl_49 stl_491" style="word-spacing:-0.0234em;">里，这个文档更多是在介 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.0178em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">读取文档 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">87 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_133.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_133.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">绍命令行接口，而不是 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">代码整合。 &nbsp;</span></div>
					<div class="stl_01" style="top:6.7343em; left:5.6693em;"><span class="stl_129 stl_49 stl_286" style="word-spacing:-0.0146em;">下面的例子可以把任意 </span><span class="stl_132 stl_52 stl_286" style="word-spacing:-0.0146em;">PDF </span><span class="stl_129 stl_49 stl_286" style="word-spacing:-0.0146em;">读成字符串，然后用 </span><span class="stl_188 stl_44 stl_152" style="word-spacing:-0.0154em;">StringIO</span><span class="stl_129 stl_49 stl_286" style="word-spacing:-0.0146em;">转换成文件对象： &nbsp;</span></div>
					<div class="stl_01" style="top:8.7148em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urllib.request </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:9.5478em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">pdfminer.pdfinterp </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">PDFResourceManager, process_pdf &nbsp;</span></div>
					<div class="stl_01" style="top:10.3808em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">pdfminer.converter </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">TextConverter &nbsp;</span></div>
					<div class="stl_01" style="top:11.2138em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">pdfminer.layout </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">LAParams &nbsp;</span></div>
					<div class="stl_01" style="top:12.0468em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">io </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">StringIO &nbsp;</span></div>
					<div class="stl_01" style="top:12.8798em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">io </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">open &nbsp;</span></div>
					<div class="stl_01" style="top:14.5458em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">readPDF(pdfFile): &nbsp;</span></div>
					<div class="stl_01" style="top:15.3788em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">rsrcmgr = PDFResourceManager() &nbsp;</span></div>
					<div class="stl_01" style="top:16.2118em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">retstr = StringIO() &nbsp;</span></div>
					<div class="stl_01" style="top:17.0448em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">laparams = LAParams() &nbsp;</span></div>
					<div class="stl_01" style="top:17.8778em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">device = TextConverter(rsrcmgr, retstr, laparams=laparams) &nbsp;</span></div>
					<div class="stl_01" style="top:19.5438em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">process_pdf(rsrcmgr, device, pdfFile) &nbsp;</span></div>
					<div class="stl_01" style="top:20.3768em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">device.close() &nbsp;</span></div>
					<div class="stl_01" style="top:22.0428em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">content = retstr.getvalue() &nbsp;</span></div>
					<div class="stl_01" style="top:22.8758em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">retstr.close() &nbsp;</span></div>
					<div class="stl_01" style="top:23.7088em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">content &nbsp;</span></div>
					<div class="stl_01" style="top:25.3748em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">pdfFile = urlopen("http://pythonscraping.com/pages/warandpeace/chapter1.pdf") &nbsp;</span></div>
					<div class="stl_01" style="top:26.2078em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">outputString = readPDF(pdfFile) &nbsp;</span></div>
					<div class="stl_01" style="top:27.0408em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(outputString) &nbsp;</span></div>
					<div class="stl_01" style="top:27.8738em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">pdfFile.close() &nbsp;</span></div>
					<div class="stl_01" style="top:29.5906em; left:5.6693em;"><span class="stl_188 stl_44 stl_409" style="word-spacing:-0.0548em;">readPDF</span><span class="stl_129 stl_49 stl_724" style="word-spacing:-0.0519em;">函数最大的好处是，如果你的 </span><span class="stl_132 stl_52 stl_724" style="word-spacing:-0.0519em;">PDF </span><span class="stl_129 stl_49 stl_724" style="word-spacing:-0.0519em;">文件在电脑里，你就可以直接把 </span><span class="stl_188 stl_44 stl_409" style="word-spacing:-0.0548em;">urlopen</span><span class="stl_129 stl_49 stl_724" style="word-spacing:-0.0519em;">返回 &nbsp;</span></div>
					<div class="stl_01" style="top:30.9183em; left:5.6694em;"><span class="stl_129 stl_49 stl_402" style="word-spacing:-0.0417em;">的对象 </span><span class="stl_188 stl_44 stl_561" style="word-spacing:-0.044em;">pdfFile</span><span class="stl_129 stl_49 stl_402" style="word-spacing:-0.0417em;">替换成普通的 </span><span class="stl_188 stl_44 stl_561" style="word-spacing:-0.044em;">open()</span><span class="stl_129 stl_49 stl_402" style="word-spacing:-0.0417em;">文件对象： &nbsp;</span></div>
					<div class="stl_01" style="top:32.8212em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">pdfFile = open("../pages/warandpeace/chapter1.pdf", 'rb') &nbsp;</span></div>
					<div class="stl_01" style="top:34.5423em; left:5.6693em;"><span class="stl_129 stl_49 stl_123" style="word-spacing:-0.003em;">输出结果可能不是很完美，尤其是当 </span><span class="stl_132 stl_52 stl_123" style="word-spacing:-0.003em;">PDF </span><span class="stl_129 stl_49 stl_123" style="word-spacing:-0.003em;">里有图片、各种各样的文本格式，或者带有表格 &nbsp;</span></div>
					<div class="stl_01" style="top:35.7923em; left:5.6693em;"><span class="stl_129 stl_49 stl_123" style="word-spacing:-0.003em;">和数据图的时候。但是，对大多数只包含纯文本内容的 </span><span class="stl_132 stl_52 stl_123" style="word-spacing:-0.003em;">PDF </span><span class="stl_129 stl_49 stl_123" style="word-spacing:-0.003em;">而言，其输出结果与纯文本格 &nbsp;</span></div>
					<div class="stl_01" style="top:37.12em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">式基本没什么区别。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.5083em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">6</span></div>
					<div class="stl_01" style="top:39.4375em; left:6.4924em;"><span class="stl_197 stl_18 stl_71">.5</span><span class="stl_160 stl_20 stl_71">ꢀ微软</span><span class="stl_197 stl_18 stl_71">Word</span><span class="stl_160 stl_20 stl_71">和</span><span class="stl_197 stl_18 stl_71">.docx &nbsp;</span></div>
					<div class="stl_01" style="top:41.8707em; left:5.6693em;"><span class="stl_129 stl_49 stl_725" style="word-spacing:-0.0279em;">冒着被微软朋友鄙视的风险说句话：我不喜欢微软的 </span><span class="stl_132 stl_52 stl_725" style="word-spacing:-0.0279em;">Word </span><span class="stl_129 stl_49 stl_725" style="word-spacing:-0.0279em;">软件。并不是因为它是一款烂 &nbsp;</span></div>
					<div class="stl_01" style="top:43.1207em; left:5.6693em;"><span class="stl_129 stl_49 stl_427" style="word-spacing:0.0119em;">软件，而且因为它的用户误用了它（好像 </span><span class="stl_132 stl_52 stl_427" style="word-spacing:0.0119em;">Linus</span><span class="stl_132 stl_52 stl_427" style="word-spacing:0.1328em;"> Torvalds</span><span class="stl_129 stl_49 stl_427" style="word-spacing:0.1328em;"> 对 </span><span class="stl_132 stl_52 stl_427" style="word-spacing:0.0119em;">C++ </span><span class="stl_129 stl_49 stl_427" style="word-spacing:0.0119em;">的吐槽）。</span><span class="stl_132 stl_52 stl_427" style="word-spacing:0.0119em;">Word</span><span class="stl_129 stl_49 stl_427" style="word-spacing:0.0119em;"> 的特异功 &nbsp;</span></div>
					<div class="stl_01" style="top:44.3707em; left:5.6693em;"><span class="stl_129 stl_49 stl_261" style="word-spacing:-0.0293em;">能就是把那些应该写成简单的 </span><span class="stl_132 stl_52 stl_261" style="word-spacing:-0.0293em;">TXT </span><span class="stl_129 stl_49 stl_261" style="word-spacing:-0.0293em;">或 </span><span class="stl_132 stl_52 stl_261" style="word-spacing:-0.0293em;">PDF </span><span class="stl_129 stl_49 stl_261" style="word-spacing:-0.0293em;">格式的文件，变成了既大又慢且难以打开的怪 &nbsp;</span></div>
					<div class="stl_01" style="top:45.6984em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">兽，它们经常在系统切换和版本切换中出现格式不兼容，而且因为某些原因在文件内容已 &nbsp;</span></div>
					<div class="stl_01" style="top:46.8707em; left:5.6693em;"><span class="stl_129 stl_49 stl_266" style="word-spacing:-0.0385em;">经定稿后仍处于可编辑的状态。</span><span class="stl_132 stl_52 stl_266" style="word-spacing:-0.0385em;">Word </span><span class="stl_129 stl_49 stl_266" style="word-spacing:-0.0385em;">文件从未打算让人频繁传递。不过它们在一些网站 &nbsp;</span></div>
					<div class="stl_01" style="top:48.1207em; left:5.6693em;"><span class="stl_129 stl_49 stl_171" style="word-spacing:-0.0128em;">上很流行，包括重要的文档、信息，甚至图表和多媒体；总之，那些内容都应该用 </span><span class="stl_132 stl_52 stl_171" style="word-spacing:-0.0128em;">HTML &nbsp;</span></div>
					<div class="stl_01" style="top:49.4485em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">代替。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">8</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">8 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 6</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_135.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_135.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:6.6142em;"><span class="stl_129 stl_49 stl_454" style="word-spacing:-0.0366em;">大约在 </span><span class="stl_132 stl_52 stl_454" style="word-spacing:-0.0366em;">2008 </span><span class="stl_129 stl_49 stl_454" style="word-spacing:-0.0366em;">年以前，微软 </span><span class="stl_132 stl_52 stl_454" style="word-spacing:-0.0366em;">Of</span><span class="stl_148 stl_52 stl_454" style="word-spacing:-0.0366em;">ﬁ</span><span class="stl_132 stl_52 stl_454" style="word-spacing:-0.0366em;">ce </span><span class="stl_129 stl_49 stl_454" style="word-spacing:-0.0366em;">产品中 </span><span class="stl_132 stl_52 stl_454" style="word-spacing:-0.0366em;">Word </span><span class="stl_129 stl_49 stl_454" style="word-spacing:-0.0366em;">用 </span><span class="stl_132 stl_52 stl_454" style="word-spacing:-0.0366em;">.doc </span><span class="stl_129 stl_49 stl_454" style="word-spacing:-0.0366em;">文件格式。这种二进制格式很难读 &nbsp;</span></div>
					<div class="stl_01" style="top:6.0849em; left:6.6142em;"><span class="stl_129 stl_49 stl_726" style="word-spacing:-0.0366em;">取，而且能够读取 </span><span class="stl_132 stl_52 stl_726" style="word-spacing:-0.0366em;">word </span><span class="stl_129 stl_49 stl_726" style="word-spacing:-0.0366em;">格式的软件很少。为了跟上时代，让自己的软件能够符合主流软 &nbsp;</span></div>
					<div class="stl_01" style="top:7.3349em; left:6.6142em;"><span class="stl_129 stl_49 stl_611" style="word-spacing:-0.0143em;">件的标准，微软决定使用 </span><span class="stl_132 stl_52 stl_611" style="word-spacing:-0.0143em;">Open</span><span class="stl_132 stl_52 stl_611" style="word-spacing:0.1067em;"> Of</span><span class="stl_148 stl_52 stl_611" style="word-spacing:0.1067em;">ﬁ</span><span class="stl_132 stl_52 stl_611" style="word-spacing:0.1067em;">ce</span><span class="stl_129 stl_49 stl_611" style="word-spacing:-0.0142em;"> 的类</span><span class="stl_132 stl_52 stl_611" style="word-spacing:-0.0143em;"> XML</span><span class="stl_129 stl_49 stl_611" style="word-spacing:-0.0142em;"> 格式标准，此后新版</span><span class="stl_132 stl_52 stl_611" style="word-spacing:-0.0143em;"> Word</span><span class="stl_129 stl_49 stl_611" style="word-spacing:-0.0143em;"> 文件才与其他 &nbsp;</span></div>
					<div class="stl_01" style="top:8.585em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">文字处理软件兼容，这个格式就是 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">.docx</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:10.4961em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.093em;">不 过，</span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.093em;">Python</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.054em;"> 对 这</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.093em;"> 种</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.039em;"> Google</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.1251em;"> Docs</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.1251em;">、</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.1251em;">Open Of</span><span class="stl_148 stl_52 stl_10" style="word-spacing:0.1251em;">ﬁ</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.1251em;">ce</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.1251em;"> 和 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0391em;">Microsoft</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.1252em;"> Of</span><span class="stl_148 stl_52 stl_10" style="word-spacing:0.1252em;">ﬁ</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.1252em;">ce</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0538em;"> 都 在</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.093em;"> 使</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.093em;"> 用</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.093em;"> 的</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.039em;"> .docx</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.039em;"> 格 &nbsp;</span></div>
					<div class="stl_01" style="top:11.7463em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0681em;">式 的</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0681em;"> 支</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0681em;"> 持</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0681em;"> 还</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0681em;"> 不</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0681em;"> 够</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0681em;"> 好。</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0681em;"> 虽</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0681em;"> 然</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0681em;"> 有</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0681em;"> 一</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0681em;"> 个</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0454em;"> python-docx</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0454em;"> 库（</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0454em;">http://python-docx.readthedocs.org/en/ &nbsp;</span></div>
					<div class="stl_01" style="top:12.9963em; left:6.6142em;"><span class="stl_132 stl_52 stl_244">latest/</span><span class="stl_129 stl_49 stl_244">），但是只支持创建新文档和读取一些基本的文件数据，如文件大小和文件标题，不 &nbsp;</span></div>
					<div class="stl_01" style="top:14.2463em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">支持正文读取。如果想读取 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">Microsoft Of</span><span class="stl_148 stl_52 stl_10" style="word-spacing:0.0001em;">ﬁ</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">ce </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">文件的正文内容，我们需要自己动手找方法。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.1574em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">第一步是从文件读取 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">XML</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">： &nbsp;</span></div>
					<div class="stl_01" style="top:18.1262em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">zipfile </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">ZipFile &nbsp;</span></div>
					<div class="stl_01" style="top:18.9592em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">urllib.request </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:19.7922em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">io </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">BytesIO &nbsp;</span></div>
					<div class="stl_01" style="top:21.4582em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">wordFile = urlopen("http://pythonscraping.com/pages/AWordDocument.docx").read() &nbsp;</span></div>
					<div class="stl_01" style="top:22.2912em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">wordFile = BytesIO(wordFile) &nbsp;</span></div>
					<div class="stl_01" style="top:23.1242em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">document = ZipFile(wordFile) &nbsp;</span></div>
					<div class="stl_01" style="top:23.9572em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">xml_content = document.read('word/document.xml') &nbsp;</span></div>
					<div class="stl_01" style="top:24.7902em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(xml_content.decode('utf-8')) &nbsp;</span></div>
					<div class="stl_01" style="top:26.502em; left:6.6142em;"><span class="stl_129 stl_49 stl_727" style="word-spacing:-0.1425em;">这段代码把一个远程 </span><span class="stl_132 stl_52 stl_727" style="word-spacing:-0.1425em;">Word </span><span class="stl_129 stl_49 stl_727" style="word-spacing:-0.1425em;">文档读成一个二进制文件对象（</span><span class="stl_188 stl_44 stl_728" style="word-spacing:-0.1504em;">BytesIO</span><span class="stl_129 stl_49 stl_727" style="word-spacing:-0.1425em;">与本章之前用的 &nbsp;</span></div>
					<div class="stl_01" style="top:27.752em; left:6.6142em;"><span class="stl_188 stl_44 stl_729" style="word-spacing:-0.032em;">StringIO</span><span class="stl_129 stl_49 stl_361" style="word-spacing:-0.0304em;">类似），再用 </span><span class="stl_132 stl_52 stl_361" style="word-spacing:-0.0304em;">Python </span><span class="stl_129 stl_49 stl_361" style="word-spacing:-0.0304em;">的标准库 </span><span class="stl_188 stl_44 stl_729" style="word-spacing:-0.032em;">zipfile</span><span class="stl_129 stl_49 stl_361" style="word-spacing:-0.0304em;">解压（所有的 </span><span class="stl_132 stl_52 stl_361" style="word-spacing:-0.0304em;">.docx </span><span class="stl_129 stl_49 stl_361" style="word-spacing:-0.0304em;">文件为了节省空间都 &nbsp;</span></div>
					<div class="stl_01" style="top:29.0141em; left:6.614em;"><span class="stl_129 stl_49 stl_730" style="word-spacing:0.0436em;">进行过压缩），然后读取这个解压文件，就变成 </span><span class="stl_132 stl_52 stl_730" style="word-spacing:0.0436em;">XML </span><span class="stl_129 stl_49 stl_730" style="word-spacing:0.0436em;">了。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.9251em; left:6.614em;"><span class="stl_129 stl_49 stl_290" style="word-spacing:0.0099em;">这个 </span><span class="stl_132 stl_52 stl_290" style="word-spacing:0.0099em;">Word </span><span class="stl_129 stl_49 stl_290" style="word-spacing:0.0099em;">文档在 </span><span class="stl_132 stl_52 stl_290" style="word-spacing:0.0099em;">http://pythonscraping.com/pages/AWordDocument.docx</span><span class="stl_129 stl_49 stl_290" style="word-spacing:0.0099em;">，内容如图 </span><span class="stl_132 stl_52 stl_290" style="word-spacing:0.0099em;">6-2 </span><span class="stl_129 stl_49 stl_290" style="word-spacing:0.0099em;">所示。 &nbsp;</span></div>
					<div class="stl_01 stl_382" style="top:48.6974em; left:6.6142em;"><span class="stl_383 stl_20 stl_490" style="word-spacing:-0.022em;">图 </span><span class="stl_384 stl_18 stl_490" style="word-spacing:-0.022em;">6-2</span><span class="stl_383 stl_20 stl_490" style="word-spacing:-0.022em;">：这个 </span><span class="stl_384 stl_18 stl_490" style="word-spacing:-0.022em;">Word </span><span class="stl_383 stl_20 stl_490" style="word-spacing:-0.022em;">文档的正文内容你可能很想要，但是很难获取，因为我把它放在网站的 </span><span class="stl_384 stl_18 stl_490" style="word-spacing:-0.022em;">.docx </span><span class="stl_383 stl_20 stl_490" style="word-spacing:-0.022em;">文 &nbsp;</span></div>
					<div class="stl_01 stl_731" style="top:49.8849em; left:9.3309em;"><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.014em;">件里而不是 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.014em;">HTML </span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.014em;">里 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.0178em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">读取文档 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">89 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_136.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_136.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">上面这段 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">程序读取这个简单的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Word </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">文档后，输出的结果是这样： &nbsp;</span></div>
					<div class="stl_01" style="top:6.8437em; left:7.3937em;"><span class="stl_584 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:6.8437em; left:7.7479em;"><span class="stl_584 stl_44 stl_10" style="word-spacing:0em;">!--?xml version="1.0" encoding="UTF-8" standalone="yes"?--&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:7.6767em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:7.6363em; left:7.7479em;"><span class="stl_232 stl_44 stl_10">w:document </span><span class="stl_116 stl_44 stl_10">mc:ignorable="w14 w15 wp14" xmlns:m="http://schemas.openx &nbsp;</span></div>
					<div class="stl_01" style="top:8.4693em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">mlformats.org/officeDocument/2006/math" xmlns:mc="http://schemas.open &nbsp;</span></div>
					<div class="stl_01" style="top:9.3023em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">xmlformats.org/markup-compatibility/2006" xmlns:o="urn:schemas-micros &nbsp;</span></div>
					<div class="stl_01" style="top:10.1353em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">oft-com:office:office" xmlns:r="http://schemas.openxmlformats.org/off &nbsp;</span></div>
					<div class="stl_01" style="top:10.9683em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">iceDocument/2006/relationships" xmlns:v="urn:schemas-microsoft-com:vm &nbsp;</span></div>
					<div class="stl_01" style="top:11.8013em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">l" xmlns:w="http://schemas.openxmlformats.org/wordprocessingml/2006/m &nbsp;</span></div>
					<div class="stl_01" style="top:12.6343em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">ain" xmlns:w10="urn:schemas-microsoft-com:office:word" xmlns:w14="htt &nbsp;</span></div>
					<div class="stl_01" style="top:13.4673em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">p://schemas.microsoft.com/office/word/2010/wordml" xmlns:w15="http:// &nbsp;</span></div>
					<div class="stl_01" style="top:14.3003em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">schemas.microsoft.com/office/word/2012/wordml" xmlns:wne="http://sche &nbsp;</span></div>
					<div class="stl_01" style="top:15.1333em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">mas.microsoft.com/office/word/2006/wordml" xmlns:wp="http://schemas.o &nbsp;</span></div>
					<div class="stl_01" style="top:15.9663em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">penxmlformats.org/drawingml/2006/wordprocessingDrawing" xmlns:wp14="h &nbsp;</span></div>
					<div class="stl_01" style="top:16.7993em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">ttp://schemas.microsoft.com/office/word/2010/wordprocessingDrawing" x &nbsp;</span></div>
					<div class="stl_01" style="top:17.6323em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">mlns:wpc="http://schemas.microsoft.com/office/word/2010/wordprocessin &nbsp;</span></div>
					<div class="stl_01" style="top:18.4653em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">gCanvas" xmlns:wpg="http://schemas.microsoft.com/office/word/2010/wor &nbsp;</span></div>
					<div class="stl_01" style="top:19.2983em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">dprocessingGroup" xmlns:wpi="http://schemas.microsoft.com/office/word &nbsp;</span></div>
					<div class="stl_01" style="top:20.1313em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">/</span></div>
					<div class="stl_01" style="top:20.1313em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">2010/wordprocessingInk" xmlns:wps="http://schemas.microsoft.com/offi &nbsp;</span></div>
					<div class="stl_01" style="top:20.9643em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">ce/word/2010/wordprocessingShape"</span><span class="stl_232 stl_44 stl_10">&gt;&lt;w:body&gt;&lt;w:p </span><span class="stl_116 stl_44 stl_10">w:rsidp="00764658" w:r &nbsp;</span></div>
					<div class="stl_01" style="top:21.7973em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">sidr="00764658" w:rsidrdefault="00764658"</span><span class="stl_232 stl_44 stl_10">&gt;&lt;w:ppr&gt;&lt;w:pstyle </span><span class="stl_116 stl_44 stl_10">w:val="Tit &nbsp;</span></div>
					<div class="stl_01" style="top:22.6303em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">le"</span><span class="stl_232 stl_44 stl_10">&gt;&lt;/w:pstyle&gt;&lt;/w:ppr&gt;&lt;w:r&gt;&lt;w:t&gt;</span><span class="stl_116 stl_44 stl_10">A Word Document on a Website</span><span class="stl_232 stl_44 stl_10">&lt;/w:t&gt;&lt;/ &nbsp;</span></div>
					<div class="stl_01" style="top:23.4633em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">w:r&gt;&lt;w:bookmarkstart </span><span class="stl_116 stl_44 stl_10">w:id="0" w:name="_GoBack"</span><span class="stl_232 stl_44 stl_10">&gt;&lt;/w:bookmarkstart&gt;&lt;w:b &nbsp;</span></div>
					<div class="stl_01" style="top:24.2963em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">ookmarkend w:id="0"</span><span class="stl_232 stl_44 stl_10">&gt;&lt;/w:bookmarkend&gt;&lt;/w:p&gt;&lt;w:p </span><span class="stl_116 stl_44 stl_10">w:rsidp="00764658" w:r &nbsp;</span></div>
					<div class="stl_01" style="top:25.1293em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">sidr="00764658" w:rsidrdefault="00764658"</span><span class="stl_232 stl_44 stl_10">&gt;&lt;/w:p&gt;&lt;w:p </span><span class="stl_116 stl_44 stl_10">w:rsidp="0076465 &nbsp;</span></div>
					<div class="stl_01" style="top:25.9623em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">8</span></div>
					<div class="stl_01" style="top:26.8357em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:25.9623em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">" w:rsidr="00764658" w:rsidrdefault="00764658" w:rsidrpr="00764658"</span><span class="stl_232 stl_44 stl_10">&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:26.7953em; left:7.7479em;"><span class="stl_232 stl_44 stl_10">w: </span><span class="stl_116 stl_44 stl_10">r</span><span class="stl_232 stl_44 stl_10">&gt; &lt;w:t&gt;</span><span class="stl_116 stl_44 stl_10">This is a Word document, full of content that you want ve &nbsp;</span></div>
					<div class="stl_01" style="top:27.6283em; left:7.3937em;"><span class="stl_116 stl_44 stl_732" style="word-spacing:0.0408em;">ry much. Unfortunately, it</span><span class="stl_256 stl_49 stl_732" style="word-spacing:0.0408em;">’</span><span class="stl_116 stl_44 stl_732" style="word-spacing:0.0408em;">s difficult to access because I</span><span class="stl_256 stl_49 stl_732" style="word-spacing:0.0408em;">’</span><span class="stl_116 stl_44 stl_732" style="word-spacing:0.0408em;">m putting &nbsp;</span></div>
					<div class="stl_01" style="top:28.4698em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">it on my website as a .</span><span class="stl_232 stl_44 stl_10">&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:prooferr </span><span class="stl_116 stl_44 stl_10">w:type="spellStart"</span><span class="stl_232 stl_44 stl_10">&gt;&lt;/ &nbsp;</span></div>
					<div class="stl_01" style="top:29.3028em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">w:prooferr&gt;&lt;w:r&gt;&lt;w:t&gt;docx&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:prooferr </span><span class="stl_116 stl_44 stl_10">w:type="spellEnd"</span><span class="stl_232 stl_44 stl_10">&gt;&lt;/ &nbsp;</span></div>
					<div class="stl_01" style="top:30.1358em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">w:prooferr&gt; &lt;w:r&gt; &lt;w:t </span><span class="stl_116 stl_44 stl_10">xml:space="preserve"&gt; file, rather than just p &nbsp;</span></div>
					<div class="stl_01" style="top:30.9688em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">ublishing it as HTML</span><span class="stl_232 stl_44 stl_10">&lt;/w:t&gt; &lt;/w:r&gt; &lt;/w:p&gt; &lt;w:sectpr </span><span class="stl_116 stl_44 stl_10">w:rsidr="00764658" &nbsp;</span></div>
					<div class="stl_01" style="top:31.8018em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">w:rsidrpr="00764658"</span><span class="stl_232 stl_44 stl_10">&gt; &lt;w:pgszw:h</span><span class="stl_116 stl_44 stl_10">="15840" w:w="12240"</span><span class="stl_232 stl_44 stl_10">&gt;&lt;/w:pgsz&gt;&lt;w:pgm &nbsp;</span></div>
					<div class="stl_01" style="top:32.6348em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">ar w:bottom="1440" w:footer="720" w:gutter="0" w:header="720" w:left= &nbsp;</span></div>
					<div class="stl_01" style="top:33.4678em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:34.3008em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">/</span></div>
					<div class="stl_01" style="top:33.4678em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">1440" w:right="1440" w:top="1440"</span><span class="stl_232 stl_44 stl_10">&gt;&lt;/w:pgmar&gt; &lt;w:cols </span><span class="stl_116 stl_44 stl_10">w:space="720"</span><span class="stl_232 stl_44 stl_10">&gt;</span><span class="stl_116 stl_44 stl_10">&lt; &nbsp;</span></div>
					<div class="stl_01" style="top:34.3008em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">w:cols&amp;g; </span><span class="stl_232 stl_44 stl_10">&lt;w:docgrid </span><span class="stl_116 stl_44 stl_10">w:linepitch="360"</span><span class="stl_232 stl_44 stl_10">&gt;&lt;/w:docgrid&gt; &lt;/w:sectpr&gt; </span><span class="stl_116 stl_44 stl_10">&lt;/w: &nbsp;</span></div>
					<div class="stl_01" style="top:35.1338em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">body&gt; </span><span class="stl_232 stl_44 stl_10">&lt;/w:document&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:36.8458em; left:5.6693em;"><span class="stl_129 stl_49 stl_125" style="word-spacing:-0.0054em;">确实包含了大量信息，但是被隐藏在 </span><span class="stl_132 stl_52 stl_125" style="word-spacing:-0.0054em;">XML </span><span class="stl_129 stl_49 stl_125" style="word-spacing:-0.0054em;">里面。好在文档的所有正文内容都包含在 </span><span class="stl_188 stl_44 stl_75" style="word-spacing:-0.0057em;">&lt;w:t&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:38.1856em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">标签里面，标题内容也是如此，这样就容易处理了。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.0763em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">zipfile </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">ZipFile &nbsp;</span></div>
					<div class="stl_01" style="top:40.9093em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">urllib.request </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:41.7423em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">io </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">BytesIO &nbsp;</span></div>
					<div class="stl_01" style="top:42.5753em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">bs4 </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:44.2413em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">wordFile = urlopen("http://pythonscraping.com/pages/AWordDocument.docx").read() &nbsp;</span></div>
					<div class="stl_01" style="top:45.0765em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">wordFile = BytesIO(wordFile) &nbsp;</span></div>
					<div class="stl_01" style="top:45.9095em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">document = ZipFile(wordFile) &nbsp;</span></div>
					<div class="stl_01" style="top:46.7425em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">xml_content = document.read('word/document.xml') &nbsp;</span></div>
					<div class="stl_01" style="top:48.4085em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">wordObj = BeautifulSoup(xml_content.decode('utf-8')) &nbsp;</span></div>
					<div class="stl_01" style="top:49.2415em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">textStrings = wordObj.findAll("w:t") &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">9</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">0 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 6</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_137.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_137.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8919em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">textElem </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">textStrings: &nbsp;</span></div>
					<div class="stl_01" style="top:5.7249em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(textElem.text) &nbsp;</span></div>
					<div class="stl_01" style="top:7.4344em; left:6.6142em;"><span class="stl_129 stl_49 stl_489" style="word-spacing:-0.0119em;">这段代码的结果并不完美，但是已经差不多了，一行打印一个 </span><span class="stl_188 stl_44 stl_490" style="word-spacing:-0.0126em;">&lt;w:t&gt;</span><span class="stl_129 stl_49 stl_489" style="word-spacing:-0.0119em;">标签，可以看到 </span><span class="stl_132 stl_52 stl_489" style="word-spacing:-0.0119em;">Word &nbsp;</span></div>
					<div class="stl_01" style="top:8.7742em; left:6.6139em;"><span class="stl_129 stl_49 stl_10">是如何对文字进行断行处理的： &nbsp;</span></div>
					<div class="stl_01" style="top:10.665em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">A Word Document on a Website &nbsp;</span></div>
					<div class="stl_01" style="top:11.498em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">This is a Word document, full of content that you want very much. Unfortunately, &nbsp;</span></div>
					<div class="stl_01" style="top:12.331em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">it's difficult to access because I'm putting it on my website as a . docx &nbsp;</span></div>
					<div class="stl_01" style="top:13.164em; left:8.6928em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">file, rather than just publishing it as HTML &nbsp;</span></div>
					<div class="stl_01" style="top:14.874em; left:6.6142em;"><span class="stl_129 stl_49 stl_733" style="word-spacing:-0.0811em;">你会看到这里“</span><span class="stl_132 stl_52 stl_733" style="word-spacing:-0.0811em;">docx</span><span class="stl_129 stl_49 stl_733" style="word-spacing:-0.0811em;">”是单独一行，这是因为在原始的 </span><span class="stl_132 stl_52 stl_733" style="word-spacing:-0.0811em;">XML </span><span class="stl_129 stl_49 stl_733" style="word-spacing:-0.0811em;">里，它是由 </span><span class="stl_188 stl_44 stl_734" style="word-spacing:-0.0856em;">&lt;w:proofErr &nbsp;</span></div>
					<div class="stl_01" style="top:16.1243em; left:6.614em;"><span class="stl_188 stl_44 stl_404" style="word-spacing:-0.0369em;">w:type="spellStart"/&gt;</span><span class="stl_129 stl_49 stl_397" style="word-spacing:-0.035em;">标签包围的。这是 </span><span class="stl_132 stl_52 stl_397" style="word-spacing:-0.035em;">Word </span><span class="stl_129 stl_49 stl_397" style="word-spacing:-0.035em;">用红色波浪线高亮显示“</span><span class="stl_132 stl_52 stl_397" style="word-spacing:-0.035em;">docx</span><span class="stl_129 stl_49 stl_397" style="word-spacing:-0.035em;">”的方式， &nbsp;</span></div>
					<div class="stl_01" style="top:17.4638em; left:6.6144em;"><span class="stl_129 stl_49 stl_10">提示这个词可能有拼写错误。 &nbsp;</span></div>
					<div class="stl_01" style="top:19.3632em; left:6.6144em;"><span class="stl_129 stl_49 stl_735" style="word-spacing:0.0117em;">文档的标题是由样式定义标签 </span><span class="stl_188 stl_44 stl_736" style="word-spacing:0.0124em;">&lt;w:pStyle w:val="Title"/&gt;</span><span class="stl_129 stl_49 stl_735" style="word-spacing:0.0117em;">处理的。虽然不能非常简单地定 &nbsp;</span></div>
					<div class="stl_01" style="top:20.5475em; left:6.6139em;"><span class="stl_129 stl_49 stl_282" style="word-spacing:-0.0001em;">位标题（或其他带样式的文本），但是用 </span><span class="stl_132 stl_52 stl_282" style="word-spacing:-0.0001em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_282" style="word-spacing:-0.0001em;">的导航功能还是可以帮助我们解决 &nbsp;</span></div>
					<div class="stl_01" style="top:21.8753em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">问题的： &nbsp;</span></div>
					<div class="stl_01" style="top:23.7661em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">textStrings = wordObj.findAll("w:t") &nbsp;</span></div>
					<div class="stl_01" style="top:24.5991em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">textElem </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">textStrings: &nbsp;</span></div>
					<div class="stl_01" style="top:25.4321em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">closeTag = "" &nbsp;</span></div>
					<div class="stl_01" style="top:26.2651em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">try</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:27.0981em; left:11.1719em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">style = textElem.parent.previousSibling.find("w:pstyle") &nbsp;</span></div>
					<div class="stl_01" style="top:27.9311em; left:11.1719em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">if </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">style </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">is not </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">None </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">and </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">style["w:val"] == "Title": &nbsp;</span></div>
					<div class="stl_01" style="top:28.7641em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">("&lt;h1&gt;") &nbsp;</span></div>
					<div class="stl_01" style="top:29.5971em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">closeTag = "&lt;/h1&gt;" &nbsp;</span></div>
					<div class="stl_01" style="top:30.4301em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">except AttributeError</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:31.2631em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">#</span><span class="stl_256 stl_49 stl_10">不打印标签 &nbsp;</span></div>
					<div class="stl_01" style="top:32.1365em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">pass &nbsp;</span></div>
					<div class="stl_01" style="top:32.9291em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(textElem.text) &nbsp;</span></div>
					<div class="stl_01" style="top:33.7621em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(closeTag) &nbsp;</span></div>
					<div class="stl_01" style="top:35.5649em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">这段代码很容易进行扩展，打印不同文本样式的标签，或者把它们标记成其他形式。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.0178em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">读取文档 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">91 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05" />
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_138.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_138.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:9.6503em; left:30.5119em;"><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.05em;">第 二 部 分 &nbsp;</span></div>
					<div class="stl_01 stl_69" style="top:12.7975em; left:25.5453em;"><span class="stl_70 stl_20 stl_71">高级数据采集 &nbsp;</span></div>
					<div class="stl_01" style="top:24.5006em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">你已经掌握了网络数据采集的一些基础知识，现在让我们进入更有趣的第二部分。到目前 &nbsp;</span></div>
					<div class="stl_01" style="top:25.7506em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">为止，我们创建的网络爬虫还不是特别给力。如果网络服务器不能立即提供样式规范的信 &nbsp;</span></div>
					<div class="stl_01" style="top:27.0006em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">息，爬虫就不能正确地采集数据。如果爬虫只能采集那些显而易见的信息，不经过处理就 &nbsp;</span></div>
					<div class="stl_01" style="top:28.1729em; left:6.6142em;"><span class="stl_129 stl_49 stl_261" style="word-spacing:-0.0281em;">简单地存储起来，那么迟早要被登录表单、网页交互以及 </span><span class="stl_132 stl_52 stl_261" style="word-spacing:-0.0281em;">JavaScript </span><span class="stl_129 stl_49 stl_261" style="word-spacing:-0.0281em;">困住手脚。总之，目 &nbsp;</span></div>
					<div class="stl_01" style="top:29.5006em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">前爬虫还没有足够的实力去采集各种数据，只能处理那些愿意被采集的信息。 &nbsp;</span></div>
					<div class="stl_01" style="top:31.4117em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">这部分内容就是要帮你分析原始数据，获取隐藏在数据背后的故事——网站的真实故事其 &nbsp;</span></div>
					<div class="stl_01" style="top:32.5843em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">实都隐藏在 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">JavaScript</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">、登录表单和网站反抓取措施的背后。 &nbsp;</span></div>
					<div class="stl_01" style="top:34.5731em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">通过这部分内容的学习，你将掌握如何用网络爬虫测试网站，自动化处理，以及通过更多 &nbsp;</span></div>
					<div class="stl_01" style="top:35.8234em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">的方式接入网络。最后你将学到一些数据采集的工具，帮助你在不同的环境中收集和操作 &nbsp;</span></div>
					<div class="stl_01" style="top:37.0734em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">任意类型的网络数据，深入互联网的每个角落。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.3099em; left:36.9812em;"><span class="stl_119 stl_22 stl_10">9</span></div>
					<div class="stl_01" style="top:52.3099em; left:37.3873em;"><span class="stl_119 stl_22 stl_10">3</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_139.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_139.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:9.4423em; left:32.1698em;"><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.064em;">第 </span><span class="stl_215 stl_18 stl_10" style="word-spacing:-0.064em;">7 </span><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.064em;">章 &nbsp;</span></div>
					<div class="stl_01 stl_69" style="top:12.7975em; left:28.7004em;"><span class="stl_70 stl_20 stl_71">数据清洗 &nbsp;</span></div>
					<div class="stl_01" style="top:24.5006em; left:5.6693em;"><span class="stl_129 stl_49 stl_231">到目前为止，我们还没有处理过那些样式不规范的数据，要么是使用样式规范的数据源， &nbsp;</span></div>
					<div class="stl_01" style="top:25.7506em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">要么就是彻底放弃样式不符合我们预期的数据。但是在网络数据采集中，你通常无法对采 &nbsp;</span></div>
					<div class="stl_01" style="top:27.0006em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">集的数据样式太挑剔。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.834em; left:5.6693em;"><span class="stl_129 stl_49 stl_737">由于错误的标点符号、大小写字母不一致、断行和拼写错误等问题，零乱的数据（</span><span class="stl_132 stl_52 stl_737">dirty &nbsp;</span></div>
					<div class="stl_01" style="top:30.0843em; left:5.6693em;"><span class="stl_132 stl_52 stl_694">data</span><span class="stl_129 stl_49 stl_694">）是网络中的大问题。本章将介绍一些工具和技术，通过改变代码的编写方式，帮你 &nbsp;</span></div>
					<div class="stl_01" style="top:31.412em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">从源头控制数据零乱的问题，并且对已经进入数据库的数据进行清洗。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.8003em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">7</span></div>
					<div class="stl_01" style="top:33.7295em; left:6.4924em;"><span class="stl_197 stl_18 stl_71">.1</span><span class="stl_160 stl_20 stl_71">ꢀ编写代码清洗数据 &nbsp;</span></div>
					<div class="stl_01" style="top:36.2404em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">和写代码处理异常一样，你也应该学习编写预防型代码来处理意外情况。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.0738em; left:5.6693em;"><span class="stl_129 stl_49 stl_218" style="word-spacing:-0.012em;">在语言学里有一个模型叫 </span><span class="stl_132 stl_52 stl_218" style="word-spacing:-0.012em;">n-gram</span><span class="stl_129 stl_49 stl_218" style="word-spacing:-0.012em;">，表示文字或语言中的 </span><span class="stl_357 stl_36 stl_218" style="word-spacing:-0.012em;">n </span><span class="stl_129 stl_49 stl_218" style="word-spacing:-0.012em;">个连续的单词组成的序列。在进 &nbsp;</span></div>
					<div class="stl_01" style="top:39.3242em; left:5.6689em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">行自然语言分析时，使用 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0002em;">n-gram </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">或者寻找常用词组，可以很容易地把一句话分解成若干个 &nbsp;</span></div>
					<div class="stl_01" style="top:40.6519em; left:5.6689em;"><span class="stl_129 stl_49 stl_10">文字片段。 &nbsp;</span></div>
					<div class="stl_01" style="top:42.4853em; left:5.6689em;"><span class="stl_129 stl_49 stl_723" style="word-spacing:-0.0319em;">这一节我们将重点介绍如何获取格式合理的 </span><span class="stl_132 stl_52 stl_723" style="word-spacing:-0.0319em;">n-gram</span><span class="stl_129 stl_49 stl_723" style="word-spacing:-0.0319em;">，并不用它们做任何分析。在第 </span><span class="stl_132 stl_52 stl_723" style="word-spacing:-0.0319em;">8 </span><span class="stl_129 stl_49 stl_723" style="word-spacing:-0.0319em;">章， &nbsp;</span></div>
					<div class="stl_01" style="top:43.7356em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">我们再用 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">2-gram </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">和 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">3-gram </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">来做文本摘要提取和语法分析。 &nbsp;</span></div>
					<div class="stl_01" style="top:45.6467em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">下面的代码将返回维基百科词条“</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python programming language</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">”的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">2-gram </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">列表： &nbsp;</span></div>
					<div class="stl_01" style="top:47.6154em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urllib.request </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:48.4484em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">bs4 </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:50.1144em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">ngrams(input, n): &nbsp;</span></div>
					<div class="stl_01" style="top:52.3099em; left:5.6693em;"><span class="stl_119 stl_22 stl_10">94 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_140.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_140.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8921em; left:9.0469em;"><span class="stl_116 stl_44 stl_10">input = input.split(' ') &nbsp;</span></div>
					<div class="stl_01" style="top:5.7251em; left:9.0469em;"><span class="stl_116 stl_44 stl_10">output = [] &nbsp;</span></div>
					<div class="stl_01" style="top:6.5581em; left:9.0469em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">i </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">range(len(input)-n+1): &nbsp;</span></div>
					<div class="stl_01" style="top:7.3911em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">output.append(input[i:i+n]) &nbsp;</span></div>
					<div class="stl_01" style="top:8.2241em; left:9.0469em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">output &nbsp;</span></div>
					<div class="stl_01" style="top:9.8901em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">html = urlopen("http://en.wikipedia.org/wiki/Python_(programming_language)") &nbsp;</span></div>
					<div class="stl_01" style="top:10.7231em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">bsObj = BeautifulSoup(html) &nbsp;</span></div>
					<div class="stl_01" style="top:11.5561em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">content = bsObj.find("div", {"id":"mw-content-text"}).get_text() &nbsp;</span></div>
					<div class="stl_01" style="top:12.3891em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">ngrams = ngrams(content, 2) &nbsp;</span></div>
					<div class="stl_01" style="top:13.2221em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(ngrams) &nbsp;</span></div>
					<div class="stl_01" style="top:14.0551em; left:8.3386em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">print</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">("2-grams count is: "+str(len(ngrams))) &nbsp;</span></div>
					<div class="stl_01" style="top:15.8454em; left:6.6142em;"><span class="stl_188 stl_44 stl_346">ngrams</span><span class="stl_129 stl_49 stl_348">函数把一个待处理的字符串分成单词序列（假设所有单词按照空格分开），然后增 &nbsp;</span></div>
					<div class="stl_01" style="top:17.0298em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">加到 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">n-gram </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">模型（本例中是 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">2-gram</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">）里形成以每个单词开始的二元数组。 &nbsp;</span></div>
					<div class="stl_01" style="top:18.8705em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">这段程序会从文字中返回一些有意思同时也很有用的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">2-gram </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">序列： &nbsp;</span></div>
					<div class="stl_01" style="top:20.7681em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">['of', 'free'], ['free', 'and'], ['and', 'open-source'], ['open-source', 'softwa &nbsp;</span></div>
					<div class="stl_01" style="top:21.6011em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">re'] &nbsp;</span></div>
					<div class="stl_01" style="top:23.4002em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">不过，同时也会出现一些零乱的数据： &nbsp;</span></div>
					<div class="stl_01" style="top:25.2202em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">[</span></div>
					<div class="stl_01" style="top:25.2202em; left:8.6928em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">'software\nOutline\nSPDX\n\n\n\n\n\n\n\n\nOperating', 'system\nfamilies\n\n\n\n &nbsp;</span></div>
					<div class="stl_01" style="top:26.0532em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">AROS\nBSD\nDarwin\neCos\nFreeDOS\nGNU\nHaiku\nInferno\nLinux\nMach\nMINIX\nOpenS &nbsp;</span></div>
					<div class="stl_01" style="top:26.8862em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">olaris\nPlan'], ['system\nfamilies\n\n\n\nAROS\nBSD\nDarwin\neCos\nFreeDOS\nGNU\ &nbsp;</span></div>
					<div class="stl_01" style="top:27.7192em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">nHaiku\nInferno\nLinux\nMach\nMINIX\nOpenSolaris\nPlan', '9\nReactOS\nTUD:OS\n\n &nbsp;</span></div>
					<div class="stl_01" style="top:28.5522em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">\n\n\n\n\n\n\nDevelopment\n\n\n\nBasic'], ['9\nReactOS\nTUD:OS\n\n\n\n\n\n\n\n\n &nbsp;</span></div>
					<div class="stl_01" style="top:29.3852em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Development\n\n\n\nBasic', 'For'] &nbsp;</span></div>
					<div class="stl_01" style="top:31.1079em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">另外，因为每个单词（除了最后一个单词）都要创建一个 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0002em;">2-gram </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">序列，所以这个词条里共 &nbsp;</span></div>
					<div class="stl_01" style="top:32.3579em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">有 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">7411 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">个 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">2-gram </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">序列。这并不是一个非常便于管理的数据集！ &nbsp;</span></div>
					<div class="stl_01" style="top:34.2572em; left:6.6142em;"><span class="stl_129 stl_49 stl_738" style="word-spacing:0.0219em;">让我们首先用一些正则表达式来移除转义字符（</span><span class="stl_188 stl_44 stl_739" style="word-spacing:0.0231em;">\n</span><span class="stl_129 stl_49 stl_738" style="word-spacing:0.0219em;">），再把 </span><span class="stl_132 stl_52 stl_738" style="word-spacing:0.0219em;">Unicode </span><span class="stl_129 stl_49 stl_738" style="word-spacing:0.0219em;">字符过滤掉。我们可以 &nbsp;</span></div>
					<div class="stl_01" style="top:35.5971em; left:6.6139em;"><span class="stl_129 stl_49 stl_10">通过下面的函数对之前输出的结果进行清理： &nbsp;</span></div>
					<div class="stl_01" style="top:37.4169em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">ngrams(input, n): &nbsp;</span></div>
					<div class="stl_01" style="top:38.2499em; left:9.7553em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">content = re.sub('\n+', " ", content) &nbsp;</span></div>
					<div class="stl_01" style="top:39.0829em; left:9.7553em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">content = re.sub(' +', " ", content) &nbsp;</span></div>
					<div class="stl_01" style="top:39.9159em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">content = bytes(content, "UTF-8") &nbsp;</span></div>
					<div class="stl_01" style="top:40.7489em; left:9.7553em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">content = content.decode("ascii", "ignore") &nbsp;</span></div>
					<div class="stl_01" style="top:41.5819em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(content) &nbsp;</span></div>
					<div class="stl_01" style="top:42.4149em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">input = input.split(' ') &nbsp;</span></div>
					<div class="stl_01" style="top:43.2479em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">output = [] &nbsp;</span></div>
					<div class="stl_01" style="top:44.0809em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">i </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">range(len(input)-n+1): &nbsp;</span></div>
					<div class="stl_01" style="top:44.9139em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">output.append(input[i:i+n]) &nbsp;</span></div>
					<div class="stl_01" style="top:45.7469em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">output &nbsp;</span></div>
					<div class="stl_01" style="top:47.5491em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">这里首先把内容中的换行符（或者多个换行符）替换成空格，然后把连续的多个空格替换 &nbsp;</span></div>
					<div class="stl_01" style="top:48.7214em; left:6.6142em;"><span class="stl_129 stl_49 stl_582" style="word-spacing:-0.0071em;">成一个空格，确保所有单词之间只有一个空格。最后，把内容转换成 </span><span class="stl_132 stl_52 stl_582" style="word-spacing:-0.0071em;">UTF-8 </span><span class="stl_129 stl_49 stl_582" style="word-spacing:-0.0071em;">格式以消除转 &nbsp;</span></div>
					<div class="stl_01" style="top:50.0491em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">义字符。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.0178em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">数据清洗 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">95 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_141.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_141.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9126em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">这几步已经可以大大改善输出结果了，但是还有一些问题： &nbsp;</span></div>
					<div class="stl_01" style="top:6.8035em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">[</span></div>
					<div class="stl_01" style="top:7.6365em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">2</span></div>
					<div class="stl_01" style="top:6.8035em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">'Pythoneers.[43][44]', 'Syntax'], ['7', '/'], ['/', '3'], ['3', '=='], ['==', ' &nbsp;</span></div>
					<div class="stl_01" style="top:7.6365em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">'] &nbsp;</span></div>
					<div class="stl_01" style="top:9.4356em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">因此，需要再增加一些规则来处理数据。我们还可以制定一些规则让数据变得更规范： &nbsp;</span></div>
					<div class="stl_01" style="top:11.3086em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:12.5586em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:13.809em; left:5.6691em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:11.269em; left:6.7325em;"><span class="stl_129 stl_49 stl_66">剔除单字符的“单词”，除非这个字符是“</span><span class="stl_132 stl_52 stl_66">i</span><span class="stl_129 stl_49 stl_66">”或“</span><span class="stl_132 stl_52 stl_66">a</span><span class="stl_129 stl_49 stl_66">”； &nbsp;</span></div>
					<div class="stl_01" style="top:12.5193em; left:6.7323em;"><span class="stl_129 stl_49 stl_290" style="word-spacing:0.02em;">剔除维基百科的引用标记（方括号包裹的数字，如 </span><span class="stl_132 stl_52 stl_290" style="word-spacing:0.02em;">[1]</span><span class="stl_129 stl_49 stl_290" style="word-spacing:0.02em;">）； &nbsp;</span></div>
					<div class="stl_01" style="top:13.7693em; left:6.7323em;"><span class="stl_129 stl_49 stl_121" style="word-spacing:-0.0018em;">剔除标点符号（注意：这个规则有点儿矫枉过正，在第 </span><span class="stl_132 stl_52 stl_121" style="word-spacing:-0.0018em;">9 </span><span class="stl_129 stl_49 stl_121" style="word-spacing:-0.0018em;">章我们将详细介绍，本例暂时 &nbsp;</span></div>
					<div class="stl_01" style="top:15.097em; left:6.7323em;"><span class="stl_129 stl_49 stl_557">这样处理）。 &nbsp;</span></div>
					<div class="stl_01" style="top:17.0081em; left:5.6691em;"><span class="stl_129 stl_49 stl_320">现在“清洗任务”列表变得越来越长，让我们把规则都移出来，单独建一个函数，就叫 &nbsp;</span></div>
					<div class="stl_01" style="top:18.2464em; left:5.6693em;"><span class="stl_188 stl_44 stl_10">cleanInput</span><span class="stl_129 stl_49 stl_10">： &nbsp;</span></div>
					<div class="stl_01" style="top:20.1491em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urllib.request </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:20.9821em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">bs4 </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:21.8151em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">re &nbsp;</span></div>
					<div class="stl_01" style="top:22.6481em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">string &nbsp;</span></div>
					<div class="stl_01" style="top:24.3141em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">cleanInput(input): &nbsp;</span></div>
					<div class="stl_01" style="top:25.1471em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">input = re.sub('</span><span class="stl_232 stl_44 stl_10">\n</span><span class="stl_116 stl_44 stl_10">+', " ", input) &nbsp;</span></div>
					<div class="stl_01" style="top:25.9801em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">input = re.sub('\[[0-9]*\]', "", input) &nbsp;</span></div>
					<div class="stl_01" style="top:26.8131em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">input = re.sub(' +', " ", input) &nbsp;</span></div>
					<div class="stl_01" style="top:27.6461em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">input = bytes(input, "UTF-8") &nbsp;</span></div>
					<div class="stl_01" style="top:28.4791em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">input = input.decode("ascii", "ignore") &nbsp;</span></div>
					<div class="stl_01" style="top:29.3121em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">cleanInput = [] &nbsp;</span></div>
					<div class="stl_01" style="top:30.1451em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">input = input.split(' ') &nbsp;</span></div>
					<div class="stl_01" style="top:30.9781em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">item </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">input: &nbsp;</span></div>
					<div class="stl_01" style="top:31.8111em; left:10.227em;"><span class="stl_116 stl_44 stl_10">item = item.strip(string.punctuation) &nbsp;</span></div>
					<div class="stl_01" style="top:32.6441em; left:10.227em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">len(item) &gt; 1 </span><span class="stl_232 stl_44 stl_10">or </span><span class="stl_116 stl_44 stl_10">(item.lower() == 'a' </span><span class="stl_232 stl_44 stl_10">or </span><span class="stl_116 stl_44 stl_10">item.lower() == 'i'): &nbsp;</span></div>
					<div class="stl_01" style="top:33.4771em; left:11.6437em;"><span class="stl_116 stl_44 stl_10">cleanInput.append(item) &nbsp;</span></div>
					<div class="stl_01" style="top:34.3101em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">cleanInput &nbsp;</span></div>
					<div class="stl_01" style="top:35.9761em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">ngrams(input, n): &nbsp;</span></div>
					<div class="stl_01" style="top:36.8091em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">input = cleanInput(input) &nbsp;</span></div>
					<div class="stl_01" style="top:37.6421em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">output = [] &nbsp;</span></div>
					<div class="stl_01" style="top:38.4751em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">i </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">range(len(input)-n+1): &nbsp;</span></div>
					<div class="stl_01" style="top:39.3081em; left:10.227em;"><span class="stl_116 stl_44 stl_10">output.append(input[i:i+n]) &nbsp;</span></div>
					<div class="stl_01" style="top:40.1411em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">output &nbsp;</span></div>
					<div class="stl_01" style="top:41.8583em; left:5.6693em;"><span class="stl_129 stl_49 stl_740" style="word-spacing:-0.0453em;">这里用 </span><span class="stl_188 stl_44 stl_552" style="word-spacing:-0.0479em;">import</span><span class="stl_188 stl_44 stl_552" style="word-spacing:0.1829em;"> string</span><span class="stl_129 stl_49 stl_740" style="word-spacing:0.1732em;">和</span><span class="stl_188 stl_44 stl_552" style="word-spacing:-0.0479em;"> string.punctuation</span><span class="stl_129 stl_49 stl_740" style="word-spacing:-0.0454em;">来获取</span><span class="stl_132 stl_52 stl_740" style="word-spacing:-0.0456em;"> Python</span><span class="stl_129 stl_49 stl_740" style="word-spacing:-0.0456em;"> 所有的标点符号。你可以在 &nbsp;</span></div>
					<div class="stl_01" style="top:43.1204em; left:5.6694em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">命令行看看标点符号有哪些： &nbsp;</span></div>
					<div class="stl_01" style="top:45.0889em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:45.9219em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:46.7549em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">!</span></div>
					<div class="stl_01" style="top:45.0889em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">&gt;&gt; import string &nbsp;</span></div>
					<div class="stl_01" style="top:45.9219em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">&gt;&gt; print(string.punctuation) &nbsp;</span></div>
					<div class="stl_01" style="top:46.7549em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">"#$%&amp;'()*+,-./:;&lt;=&gt;?@[\]^_`{|}~ &nbsp;</span></div>
					<div class="stl_01" style="top:48.5423em; left:5.6693em;"><span class="stl_129 stl_49 stl_652" style="word-spacing:-0.0249em;">在循环体中用 </span><span class="stl_188 stl_44 stl_372" style="word-spacing:-0.0262em;">item.strip(string.punctuation)</span><span class="stl_129 stl_49 stl_652" style="word-spacing:-0.0249em;">对内容中的所有单词进行清洗，单词两端 &nbsp;</span></div>
					<div class="stl_01" style="top:49.8044em; left:5.6697em;"><span class="stl_129 stl_49 stl_10">的任何标点符号都会被去掉，但带连字符的单词（连字符在单词内部）仍然会保留。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">9</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">6 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 7</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_142.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_142.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">这样输出的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">2-gram </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">结果就更干净了： &nbsp;</span></div>
					<div class="stl_01" style="top:6.8035em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">[</span></div>
					<div class="stl_01" style="top:7.6365em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">'</span></div>
					<div class="stl_01" style="top:6.8035em; left:8.6928em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">'Linux', 'Foundation'], ['Foundation', 'Mozilla'], ['Mozilla', 'Foundation'], [ &nbsp;</span></div>
					<div class="stl_01" style="top:7.6365em; left:8.6928em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Foundation', 'Open'], ['Open', 'Knowledge'], ['Knowledge', 'Foundation'], ['Fou &nbsp;</span></div>
					<div class="stl_01" style="top:8.4695em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">ndation', 'Open'], ['Open', 'Source'] &nbsp;</span></div>
					<div class="stl_01" style="top:10.8622em; left:6.6142em;"><span class="stl_91 stl_20 stl_71">数据标准化 &nbsp;</span></div>
					<div class="stl_01" style="top:12.7276em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">每个人都会遇到一些样式设计不够人性化的网页，比如“请输入你的电话号码。号码格式 &nbsp;</span></div>
					<div class="stl_01" style="top:13.8999em; left:6.6142em;"><span class="stl_129 stl_49 stl_161" style="word-spacing:0.0667em;">必须是 </span><span class="stl_132 stl_52 stl_161" style="word-spacing:0.0667em;">xxx-xxx-xxxx</span><span class="stl_129 stl_49 stl_161" style="word-spacing:0.0667em;">”。 &nbsp;</span></div>
					<div class="stl_01" style="top:15.8887em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">作为一名优秀的程序员，你可能会问：“为什么不自动地对输入的信息进行清洗，去掉非 &nbsp;</span></div>
					<div class="stl_01" style="top:17.139em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">数字内容，然后自动把数据加上分隔符呢？”数据标准化过程要确保清洗后的数据在语言 &nbsp;</span></div>
					<div class="stl_01" style="top:18.3113em; left:6.6142em;"><span class="stl_129 stl_49 stl_130" style="word-spacing:0.1048em;">学或逻辑上是等价的，比如电话号码虽然显示成“</span><span class="stl_132 stl_52 stl_130" style="word-spacing:0.1048em;">(555) 123-4567</span><span class="stl_129 stl_49 stl_130" style="word-spacing:0.1048em;">”和“</span><span class="stl_132 stl_52 stl_130" style="word-spacing:0.1048em;">555.123.4567</span><span class="stl_129 stl_49 stl_130" style="word-spacing:0.1048em;">”两 &nbsp;</span></div>
					<div class="stl_01" style="top:19.639em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">种形式，但是实际号码是一样的。 &nbsp;</span></div>
					<div class="stl_01" style="top:21.4724em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">还用之前的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">n-gram </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">示例，让我们在上面增加一些数据标准化特征。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.3835em; left:6.6142em;"><span class="stl_129 stl_49 stl_343" style="word-spacing:-0.0441em;">这段代码有一个明显的问题，就是输出结果中包含太多重复的 </span><span class="stl_132 stl_52 stl_343" style="word-spacing:-0.0441em;">2-gram </span><span class="stl_129 stl_49 stl_343" style="word-spacing:-0.0441em;">序列。程序把每个 &nbsp;</span></div>
					<div class="stl_01" style="top:24.6738em; left:6.6142em;"><span class="stl_132 stl_52 stl_10">2</span></div>
					<div class="stl_01" style="top:24.6341em; left:7.01em;"><span class="stl_132 stl_52 stl_610" style="word-spacing:-0.0355em;">-gram </span><span class="stl_129 stl_49 stl_610" style="word-spacing:-0.0355em;">序列都加入了列表，没有统计过序列的频率。掌握 </span><span class="stl_132 stl_52 stl_610" style="word-spacing:-0.0355em;">2-gram </span><span class="stl_129 stl_49 stl_610" style="word-spacing:-0.0355em;">序列的频率，而不只是 &nbsp;</span></div>
					<div class="stl_01" style="top:25.9618em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">知道某个序列是否存在，这不仅很有意思，而且有助于对比不同的数据清洗和数据标准化 &nbsp;</span></div>
					<div class="stl_01" style="top:27.1341em; left:6.6142em;"><span class="stl_129 stl_49 stl_741" style="word-spacing:-0.0341em;">算法的效果。如果数据标准化成功了，那么唯一的 </span><span class="stl_132 stl_52 stl_741" style="word-spacing:-0.0341em;">n-gram </span><span class="stl_129 stl_49 stl_741" style="word-spacing:-0.0341em;">序列数量就会减少，而 </span><span class="stl_132 stl_52 stl_741" style="word-spacing:-0.0341em;">n-gram &nbsp;</span></div>
					<div class="stl_01" style="top:28.3841em; left:6.6142em;"><span class="stl_129 stl_49 stl_328" style="word-spacing:-0.0254em;">序列的总数（任何一个 </span><span class="stl_132 stl_52 stl_328" style="word-spacing:-0.0254em;">n-gram </span><span class="stl_129 stl_49 stl_328" style="word-spacing:-0.0254em;">序列和与之重复的序列被看成一个 </span><span class="stl_132 stl_52 stl_328" style="word-spacing:-0.0254em;">n-gram </span><span class="stl_129 stl_49 stl_328" style="word-spacing:-0.0254em;">序列）不变。也 &nbsp;</span></div>
					<div class="stl_01" style="top:29.6342em; left:6.6142em;"><span class="stl_129 stl_49 stl_164" style="word-spacing:0.0271em;">就是说，同样数量的 </span><span class="stl_132 stl_52 stl_164" style="word-spacing:0.0271em;">n-gram </span><span class="stl_129 stl_49 stl_164" style="word-spacing:0.0271em;">序列，经过去重之后“容量”（</span><span class="stl_132 stl_52 stl_164" style="word-spacing:0.0271em;">bucket</span><span class="stl_129 stl_49 stl_164" style="word-spacing:0.0271em;">）会减少。 &nbsp;</span></div>
					<div class="stl_01" style="top:31.5452em; left:6.6142em;"><span class="stl_129 stl_49 stl_648" style="word-spacing:-0.0272em;">不过 </span><span class="stl_132 stl_52 stl_648" style="word-spacing:-0.0272em;">Python </span><span class="stl_129 stl_49 stl_648" style="word-spacing:-0.0272em;">的字典是无序的，不能像数组一样直接对 </span><span class="stl_132 stl_52 stl_648" style="word-spacing:-0.0272em;">n-gram </span><span class="stl_129 stl_49 stl_648" style="word-spacing:-0.0272em;">序列频率进行排序。字典内 &nbsp;</span></div>
					<div class="stl_01" style="top:32.8733em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">部元素的位置不是固定的，排序之后再次使用时还是会变化，除非你把排序过的字典里的 &nbsp;</span></div>
					<div class="stl_01" style="top:34.0335em; left:6.6142em;"><span class="stl_129 stl_49 stl_136" style="word-spacing:-0.0401em;">值复制到其他类型中进行排序。在 </span><span class="stl_132 stl_52 stl_136" style="word-spacing:-0.0401em;">Python </span><span class="stl_129 stl_49 stl_136" style="word-spacing:-0.0401em;">的 </span><span class="stl_188 stl_44 stl_606" style="word-spacing:-0.0424em;">collections</span><span class="stl_129 stl_49 stl_136" style="word-spacing:-0.0401em;">库里面有一个 </span><span class="stl_188 stl_44 stl_606" style="word-spacing:-0.0424em;">OrderedDict</span><span class="stl_129 stl_49 stl_136" style="word-spacing:-0.0401em;">可以 &nbsp;</span></div>
					<div class="stl_01" style="top:35.3733em; left:6.6141em;"><span class="stl_129 stl_49 stl_10">解决这个问题： &nbsp;</span></div>
					<div class="stl_01" style="top:37.2641em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">from collections import OrderedDict &nbsp;</span></div>
					<div class="stl_01" style="top:38.9301em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">.</span></div>
					<div class="stl_01" style="top:38.9301em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">.. &nbsp;</span></div>
					<div class="stl_01" style="top:40.5961em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">ngrams = ngrams(content, 2) &nbsp;</span></div>
					<div class="stl_01" style="top:41.4291em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">ngrams = OrderedDict(sorted(ngrams.items(), key=lambda t: t[1], reverse=True)) &nbsp;</span></div>
					<div class="stl_01" style="top:42.2621em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">print(ngrams) &nbsp;</span></div>
					<div class="stl_01" style="top:43.9852em; left:6.6142em;"><span class="stl_129 stl_49 stl_224" style="word-spacing:-0.0019em;">这里我用了 </span><span class="stl_132 stl_52 stl_224" style="word-spacing:-0.0019em;">Python </span><span class="stl_129 stl_49 stl_224" style="word-spacing:-0.0019em;">的排序函数（</span><span class="stl_132 stl_52 stl_224" style="word-spacing:-0.0019em;">https://docs.python.org/3/howto/sorting.html</span><span class="stl_129 stl_49 stl_224" style="word-spacing:-0.0019em;">）把序列频率转 &nbsp;</span></div>
					<div class="stl_01" style="top:45.3008em; left:6.6142em;"><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0179em;">换成 </span><span class="stl_188 stl_44 stl_209" style="word-spacing:-0.0189em;">OrderedDict</span><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0179em;">对象，并按照频率值排序。结果如下： &nbsp;</span></div>
					<div class="stl_01" style="top:47.2038em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">(</span></div>
					<div class="stl_01" style="top:47.2038em; left:8.6928em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">"['Software', 'Foundation']", 40), ("['Python', 'Software']", 38), ("['of', 'th &nbsp;</span></div>
					<div class="stl_01" style="top:48.0368em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">e']", 35), ("['Foundation', 'Retrieved']", 34), ("['of', 'Python']", 28), ("['in &nbsp;</span></div>
					<div class="stl_01" style="top:48.8698em; left:8.6928em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">, 'the']", 21), ("['van', 'Rossum']", 18) &nbsp;</span></div>
					<div class="stl_01" style="top:48.8698em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">'</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.0178em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">数据清洗 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">97 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_143.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_143.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_129 stl_49 stl_254" style="word-spacing:-0.0434em;">在写作本书的时候，词条内容一个有 </span><span class="stl_132 stl_52 stl_254" style="word-spacing:-0.0434em;">7696 </span><span class="stl_129 stl_49 stl_254" style="word-spacing:-0.0434em;">个 </span><span class="stl_132 stl_52 stl_254" style="word-spacing:-0.0434em;">2-gram </span><span class="stl_129 stl_49 stl_254" style="word-spacing:-0.0434em;">序列，其中不重复的 </span><span class="stl_132 stl_52 stl_254" style="word-spacing:-0.0434em;">2-gram </span><span class="stl_129 stl_49 stl_254" style="word-spacing:-0.0434em;">序列有 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1246em; left:5.6693em;"><span class="stl_132 stl_52 stl_10">6</span></div>
					<div class="stl_01" style="top:6.0849em; left:6.0651em;"><span class="stl_132 stl_52 stl_742" style="word-spacing:0.0142em;">005 </span><span class="stl_129 stl_49 stl_742" style="word-spacing:0.0142em;">个，频率最高的 </span><span class="stl_132 stl_52 stl_742" style="word-spacing:0.0142em;">2-gram </span><span class="stl_129 stl_49 stl_742" style="word-spacing:0.0142em;">序列是“</span><span class="stl_132 stl_52 stl_742" style="word-spacing:0.0142em;">Software</span><span class="stl_132 stl_52 stl_742" style="word-spacing:0.1302em;"> Foundation</span><span class="stl_129 stl_49 stl_742" style="word-spacing:0.1302em;">”和“</span><span class="stl_132 stl_52 stl_742" style="word-spacing:0.1302em;">Python</span><span class="stl_132 stl_52 stl_742" style="word-spacing:0.1302em;"> Software</span><span class="stl_129 stl_49 stl_742" style="word-spacing:0.1302em;">”。但是， &nbsp;</span></div>
					<div class="stl_01" style="top:7.3349em; left:5.6693em;"><span class="stl_129 stl_49 stl_344" style="word-spacing:0.1022em;">仔细观察结果发现还有字母大小写的影响，“</span><span class="stl_132 stl_52 stl_344" style="word-spacing:0.1022em;">Python Software</span><span class="stl_129 stl_49 stl_344" style="word-spacing:0.1022em;">”有两次是“</span><span class="stl_132 stl_52 stl_344" style="word-spacing:0.1022em;">Python software</span><span class="stl_129 stl_49 stl_344" style="word-spacing:0.1022em;">” &nbsp;</span></div>
					<div class="stl_01" style="top:8.585em; left:5.6693em;"><span class="stl_129 stl_49 stl_597" style="word-spacing:0.0256em;">的形式。同样，“</span><span class="stl_132 stl_52 stl_597" style="word-spacing:0.0256em;">van Rossum</span><span class="stl_129 stl_49 stl_597" style="word-spacing:0.0256em;">”和“</span><span class="stl_132 stl_52 stl_597" style="word-spacing:0.0256em;">Van Rossum</span><span class="stl_129 stl_49 stl_597" style="word-spacing:0.0256em;">”也是作为两个序列统计的。 &nbsp;</span></div>
					<div class="stl_01" style="top:10.5033em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">因此，增加一行代码： &nbsp;</span></div>
					<div class="stl_01" style="top:12.394em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">input = input.upper() &nbsp;</span></div>
					<div class="stl_01" style="top:14.103em; left:5.6693em;"><span class="stl_129 stl_49 stl_415" style="word-spacing:-0.0152em;">到 </span><span class="stl_188 stl_44 stl_687" style="word-spacing:-0.016em;">cleanInput</span><span class="stl_129 stl_49 stl_415" style="word-spacing:-0.0152em;">函数里，这样 </span><span class="stl_132 stl_52 stl_415" style="word-spacing:-0.0152em;">2-gram </span><span class="stl_129 stl_49 stl_415" style="word-spacing:-0.0152em;">序列的总数还是 </span><span class="stl_132 stl_52 stl_415" style="word-spacing:-0.0152em;">7696</span><span class="stl_129 stl_49 stl_415" style="word-spacing:-0.0152em;">，而不重复的 </span><span class="stl_132 stl_52 stl_415" style="word-spacing:-0.0152em;">2-gram </span><span class="stl_129 stl_49 stl_415" style="word-spacing:-0.0152em;">序列减少到 &nbsp;</span></div>
					<div class="stl_01" style="top:15.3651em; left:5.6692em;"><span class="stl_129 stl_49 stl_10">了 </span><span class="stl_132 stl_52 stl_10">5882 </span><span class="stl_129 stl_49 stl_10">个。 &nbsp;</span></div>
					<div class="stl_01" style="top:17.2834em; left:5.6692em;"><span class="stl_129 stl_49 stl_157">除了这些，还需要再考虑一下，自己计划为数据标准化的进一步深入再投入多少计算能 &nbsp;</span></div>
					<div class="stl_01" style="top:18.5334em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">力。很多单词在不同的环境里会使用不同的拼写形式，其实都是等价的，但是为了解决这 &nbsp;</span></div>
					<div class="stl_01" style="top:19.7834em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">种等价关系，你需要对每个单词进行检查，判断是否和其他单词有等价关系。 &nbsp;</span></div>
					<div class="stl_01" style="top:21.5462em; left:5.6693em;"><span class="stl_129 stl_49 stl_743" style="word-spacing:0.1317em;">比如，“</span><span class="stl_132 stl_52 stl_743" style="word-spacing:0.1317em;">Python 1st</span><span class="stl_129 stl_49 stl_743" style="word-spacing:0.1317em;">”和“</span><span class="stl_132 stl_52 stl_743" style="word-spacing:0.1317em;">Python </span><span class="stl_148 stl_52 stl_743" style="word-spacing:0.1317em;">ﬁ</span><span class="stl_132 stl_52 stl_743" style="word-spacing:0.1317em;">rst</span><span class="stl_129 stl_49 stl_743" style="word-spacing:0.1317em;">”都出现在</span><span class="stl_132 stl_52 stl_743" style="word-spacing:0.0118em;"> 2-gram</span><span class="stl_129 stl_49 stl_743" style="word-spacing:0.0118em;"> 序列列表里。但是，如果增加一条 &nbsp;</span></div>
					<div class="stl_01" style="top:22.7962em; left:5.6693em;"><span class="stl_129 stl_49 stl_744" style="word-spacing:0.0573em;">规则：“让所有‘</span><span class="stl_148 stl_52 stl_744" style="word-spacing:0.0573em;">ﬁ</span><span class="stl_132 stl_52 stl_744" style="word-spacing:0.0573em;">rst</span><span class="stl_129 stl_49 stl_744" style="word-spacing:0.0573em;">’‘</span><span class="stl_132 stl_52 stl_744" style="word-spacing:0.0573em;">second</span><span class="stl_129 stl_49 stl_744" style="word-spacing:0.0573em;">’‘</span><span class="stl_132 stl_52 stl_744" style="word-spacing:0.0573em;">third</span><span class="stl_129 stl_49 stl_744" style="word-spacing:0.0573em;">’……与 </span><span class="stl_132 stl_52 stl_744" style="word-spacing:0.0573em;">1st</span><span class="stl_129 stl_49 stl_744" style="word-spacing:0.0573em;">，</span><span class="stl_132 stl_52 stl_744" style="word-spacing:0.0573em;">2nd</span><span class="stl_129 stl_49 stl_744" style="word-spacing:0.0573em;">，</span><span class="stl_132 stl_52 stl_744" style="word-spacing:0.0573em;">3rd</span><span class="stl_129 stl_49 stl_744" style="word-spacing:0.0573em;">……等价”，那么每个单词 &nbsp;</span></div>
					<div class="stl_01" style="top:24.124em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">都要额外增加十几次检查。 &nbsp;</span></div>
					<div class="stl_01" style="top:25.8868em; left:5.6693em;"><span class="stl_129 stl_49 stl_745">同理，连字符使用不一致（像“</span><span class="stl_132 stl_52 stl_745">co-ordinated</span><span class="stl_129 stl_49 stl_745">”和“</span><span class="stl_132 stl_52 stl_745">coordinated</span><span class="stl_129 stl_49 stl_745">”）、单词拼写错误以及其他 &nbsp;</span></div>
					<div class="stl_01" style="top:27.1368em; left:5.6693em;"><span class="stl_129 stl_49 stl_270" style="word-spacing:-0.0033em;">语病（</span><span class="stl_132 stl_52 stl_270" style="word-spacing:-0.0033em;">incongruities</span><span class="stl_129 stl_49 stl_270" style="word-spacing:-0.0033em;">），都可能对 </span><span class="stl_132 stl_52 stl_270" style="word-spacing:-0.0033em;">n-gram </span><span class="stl_129 stl_49 stl_270" style="word-spacing:-0.0033em;">序列的分组结果造成影响，如果语病很严重的话， &nbsp;</span></div>
					<div class="stl_01" style="top:28.4645em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">还可能彻底打乱输出结果。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.3756em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">对带连字符单词的一个处理方法是，先把连字符去掉，然后把单词当作一个字符串，这可 &nbsp;</span></div>
					<div class="stl_01" style="top:31.6259em; left:5.6693em;"><span class="stl_129 stl_49 stl_454">能需要在程序中增加一步操作。但是，这样做也可能把带连字符的短语（这是很常见的， &nbsp;</span></div>
					<div class="stl_01" style="top:32.7982em; left:5.6693em;"><span class="stl_129 stl_49 stl_746">比如“</span><span class="stl_132 stl_52 stl_746">just-in-time</span><span class="stl_129 stl_49 stl_746">”“</span><span class="stl_132 stl_52 stl_746">object-oriented</span><span class="stl_129 stl_49 stl_746">”等）处理成一个字符串。要是换一种做法，把连字符 &nbsp;</span></div>
					<div class="stl_01" style="top:34.0482em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.001em;">替换成空格可能更好一点儿。但是就得准备见到“</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.001em;">co ordinated</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.001em;">”和“</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.001em;">ordinated attack</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.001em;">”之类 &nbsp;</span></div>
					<div class="stl_01" style="top:35.2982em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">2-gram </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">序列了！ &nbsp;</span></div>
					<div class="stl_01" style="top:37.6933em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">7</span></div>
					<div class="stl_01" style="top:37.6225em; left:6.4924em;"><span class="stl_197 stl_18 stl_71">.2</span><span class="stl_160 stl_20 stl_71">ꢀ数据存储后再清洗 &nbsp;</span></div>
					<div class="stl_01" style="top:40.1334em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">对于编写代码清洗数据，你能做或想做的事情只有这些。除此之外，你可能还需要处理一 &nbsp;</span></div>
					<div class="stl_01" style="top:41.3835em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">些别人创建的数据库，或者要对一个之前没接触过的数据库进行清洗。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.224em; left:5.6693em;"><span class="stl_129 stl_49 stl_29">很多程序员遇到这种情况的自然反应就是“写个脚本”，当然这也是一个很好的解决方法。 &nbsp;</span></div>
					<div class="stl_01" style="top:44.3963em; left:5.6693em;"><span class="stl_129 stl_49 stl_313" style="word-spacing:-0.014em;">但是，还有一些第三方工具，像 </span><span class="stl_132 stl_52 stl_313" style="word-spacing:-0.014em;">OpenRe</span><span class="stl_148 stl_52 stl_313" style="word-spacing:-0.014em;">ﬁ</span><span class="stl_132 stl_52 stl_313" style="word-spacing:-0.014em;">ne</span><span class="stl_129 stl_49 stl_313" style="word-spacing:-0.014em;">，不仅可以快速简单地清理数据，还可以让非 &nbsp;</span></div>
					<div class="stl_01" style="top:45.724em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">编程人员轻松地看见和使用你的数据。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.0629em; left:5.6693em;"><span class="stl_260 stl_18 stl_198">OpenRefine &nbsp;</span></div>
					<div class="stl_01" style="top:49.9455em; left:5.6693em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0782em;">OpenRe</span><span class="stl_148 stl_52 stl_10" style="word-spacing:0.0782em;">ﬁ</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0782em;">ne</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0782em;">（</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0782em;">http://openre</span><span class="stl_148 stl_52 stl_10" style="word-spacing:0.0782em;">ﬁ</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0782em;">ne.org/</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0782em;">） 是 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0782em;">Metaweb </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0782em;">公 司 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0782em;">2009 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0782em;">年 发 布 的 一 个 开 源 软 件。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">9</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">8 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10"> 7</span><span class="stl_126 stl_20 stl_10"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_146.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_146.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:6.6142em;"><span class="stl_132 stl_52 stl_702" style="word-spacing:-0.0348em;">Google </span><span class="stl_129 stl_49 stl_702" style="word-spacing:-0.0348em;">在</span><span class="stl_132 stl_52 stl_702" style="word-spacing:-0.0349em;"> 2010</span><span class="stl_129 stl_49 stl_702" style="word-spacing:-0.0349em;"> 年收购了</span><span class="stl_132 stl_52 stl_702" style="word-spacing:-0.0349em;"> Metaweb</span><span class="stl_129 stl_49 stl_702" style="word-spacing:-0.0349em;">，把项目的名称从</span><span class="stl_132 stl_52 stl_702" style="word-spacing:-0.0349em;"> Freebase</span><span class="stl_132 stl_52 stl_702" style="word-spacing:0.0572em;"> Gridworks</span><span class="stl_129 stl_49 stl_702" style="word-spacing:-0.0351em;"> 改成了</span><span class="stl_132 stl_52 stl_702" style="word-spacing:-0.0349em;"> Google &nbsp;</span></div>
					<div class="stl_01" style="top:6.0849em; left:6.6142em;"><span class="stl_132 stl_52 stl_724" style="word-spacing:-0.0407em;">Re</span><span class="stl_148 stl_52 stl_724" style="word-spacing:-0.0407em;">ﬁ</span><span class="stl_132 stl_52 stl_724" style="word-spacing:-0.0407em;">ne</span><span class="stl_129 stl_49 stl_724" style="word-spacing:-0.0407em;">。</span><span class="stl_132 stl_52 stl_724" style="word-spacing:-0.0407em;">2012 </span><span class="stl_129 stl_49 stl_724" style="word-spacing:-0.0407em;">年，</span><span class="stl_132 stl_52 stl_724" style="word-spacing:-0.0407em;">Google </span><span class="stl_129 stl_49 stl_724" style="word-spacing:-0.0407em;">放弃了对 </span><span class="stl_132 stl_52 stl_724" style="word-spacing:-0.0407em;">Re</span><span class="stl_148 stl_52 stl_724" style="word-spacing:-0.0407em;">ﬁ</span><span class="stl_132 stl_52 stl_724" style="word-spacing:-0.0407em;">ne </span><span class="stl_129 stl_49 stl_724" style="word-spacing:-0.0407em;">的支持，让它重新成为开源软件，名字改成了 &nbsp;</span></div>
					<div class="stl_01" style="top:7.335em; left:6.6142em;"><span class="stl_132 stl_52 stl_10">OpenRe</span><span class="stl_148 stl_52 stl_10">ﬁ</span><span class="stl_132 stl_52 stl_10">ne</span><span class="stl_129 stl_49 stl_10">，现在每个人都可以为这个项目做贡献。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.2641em; left:6.6142em;"><span class="stl_387 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:9.2245em; left:7.0543em;"><span class="stl_387 stl_18 stl_10" style="word-spacing:0.0003em;">. </span><span class="stl_388 stl_20 stl_10" style="word-spacing:0.0003em;">安装 &nbsp;</span></div>
					<div class="stl_01" style="top:10.4961em; left:6.6142em;"><span class="stl_132 stl_52 stl_559" style="word-spacing:-0.0563em;">OpenRe</span><span class="stl_148 stl_52 stl_559" style="word-spacing:-0.0563em;">ﬁ</span><span class="stl_132 stl_52 stl_559" style="word-spacing:-0.0563em;">ne </span><span class="stl_129 stl_49 stl_559" style="word-spacing:-0.0563em;">的独特之处在于虽然它的界面是一个浏览器，但实际上是一个桌面应用，必 &nbsp;</span></div>
					<div class="stl_01" style="top:11.7463em; left:6.6142em;"><span class="stl_129 stl_49 stl_552">须下载并安装。你可以从它的下载页面（</span><span class="stl_132 stl_52 stl_552">http://openre</span><span class="stl_148 stl_52 stl_552">ﬁ</span><span class="stl_132 stl_52 stl_552">ne.org/download.html</span><span class="stl_129 stl_49 stl_552">）下载对应 &nbsp;</span></div>
					<div class="stl_01" style="top:12.9964em; left:6.6142em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">Linux</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">、</span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">Windows </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">和 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">Mac OS X </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">系统的版本。 &nbsp;</span></div>
					<div class="stl_01" style="top:15.6209em; left:11.3386em;"><span class="stl_48 stl_49 stl_154" style="word-spacing:-0.0059em;">如果你是 </span><span class="stl_51 stl_52 stl_154" style="word-spacing:-0.0059em;">Mac </span><span class="stl_48 stl_49 stl_154" style="word-spacing:-0.0059em;">用户，打开安装文件的时候遇到了安装权限问题，请到系统偏 &nbsp;</span></div>
					<div class="stl_01" style="top:16.8612em; left:11.3858em;"><span class="stl_48 stl_49 stl_303">好设置→安全性与隐私→通用，把“允许从以下位置下载的应用程序”的选 &nbsp;</span></div>
					<div class="stl_01" style="top:17.9543em; left:11.3858em;"><span class="stl_48 stl_49 stl_169" style="word-spacing:0.0129em;">项设置为“任何来源”。从 </span><span class="stl_51 stl_52 stl_169" style="word-spacing:0.0129em;">Google </span><span class="stl_48 stl_49 stl_169" style="word-spacing:0.0129em;">项目转成开源项目之后，</span><span class="stl_51 stl_52 stl_169" style="word-spacing:0.0129em;">OpenRe</span><span class="stl_747 stl_52 stl_169" style="word-spacing:0.0129em;">ﬁ</span><span class="stl_51 stl_52 stl_169" style="word-spacing:0.0129em;">ne </span><span class="stl_48 stl_49 stl_169" style="word-spacing:0.0129em;">好像 &nbsp;</span></div>
					<div class="stl_01" style="top:19.1949em; left:11.3858em;"><span class="stl_48 stl_49 stl_10">在苹果系统中失去了合法性，不再是来源合法的应用程序了。 &nbsp;</span></div>
					<div class="stl_01" style="top:21.4642em; left:6.6142em;"><span class="stl_129 stl_49 stl_236" style="word-spacing:-0.0385em;">要使用 </span><span class="stl_132 stl_52 stl_236" style="word-spacing:-0.0385em;">OpenRe</span><span class="stl_148 stl_52 stl_236" style="word-spacing:-0.0385em;">ﬁ</span><span class="stl_132 stl_52 stl_236" style="word-spacing:-0.0385em;">ne</span><span class="stl_129 stl_49 stl_236" style="word-spacing:-0.0385em;">，你得把数据转换成 </span><span class="stl_132 stl_52 stl_236" style="word-spacing:-0.0385em;">CSV </span><span class="stl_129 stl_49 stl_236" style="word-spacing:-0.0385em;">文件（如果你需要了解如何生成 </span><span class="stl_132 stl_52 stl_236" style="word-spacing:-0.0385em;">CSV </span><span class="stl_129 stl_49 stl_236" style="word-spacing:-0.0385em;">文件， &nbsp;</span></div>
					<div class="stl_01" style="top:22.7142em; left:6.6142em;"><span class="stl_129 stl_49 stl_748" style="word-spacing:0.0204em;">请参考 </span><span class="stl_132 stl_52 stl_748" style="word-spacing:0.0204em;">5.2 </span><span class="stl_129 stl_49 stl_748" style="word-spacing:0.0204em;">节的内容）。另外，如果你的数据已经保存在数据库中，你可能要先把数据导成 &nbsp;</span></div>
					<div class="stl_01" style="top:23.9642em; left:6.6142em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">CSV </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">格式。 &nbsp;</span></div>
					<div class="stl_01" style="top:25.8934em; left:6.6142em;"><span class="stl_387 stl_18 stl_10">2</span></div>
					<div class="stl_01" style="top:25.8538em; left:7.0543em;"><span class="stl_387 stl_18 stl_244" style="word-spacing:0.0005em;">. </span><span class="stl_388 stl_20 stl_244" style="word-spacing:0.0005em;">使用</span><span class="stl_387 stl_18 stl_244" style="word-spacing:0.0005em;">OpenRe</span><span class="stl_749 stl_18 stl_244" style="word-spacing:0.0005em;">ﬁ</span><span class="stl_387 stl_18 stl_244" style="word-spacing:0.0005em;">ne &nbsp;</span></div>
					<div class="stl_01" style="top:27.1253em; left:6.6142em;"><span class="stl_129 stl_49 stl_167">在下面的例子中，我们将使用维基百科的“文本编辑器对比”表格（</span><span class="stl_132 stl_52 stl_167">https://en.wikipedia. &nbsp;</span></div>
					<div class="stl_01" style="top:28.3756em; left:6.6142em;"><span class="stl_132 stl_52 stl_283" style="word-spacing:-0.0091em;">org/wiki/Comparison_of_text_editors</span><span class="stl_129 stl_49 stl_283" style="word-spacing:-0.0091em;">）里的内容，如图 </span><span class="stl_132 stl_52 stl_283" style="word-spacing:-0.0091em;">7-1 </span><span class="stl_129 stl_49 stl_283" style="word-spacing:-0.0091em;">所示。虽然这个表的样式比较规 &nbsp;</span></div>
					<div class="stl_01" style="top:29.7033em; left:6.6142em;"><span class="stl_129 stl_49 stl_139">范，但里面包含了多次编辑的痕迹，所以还是有一些样式不一致的地方。另外，因为这个 &nbsp;</span></div>
					<div class="stl_01" style="top:30.8756em; left:6.6142em;"><span class="stl_129 stl_49 stl_458">数据是写给人看的，而不是让机器看的，所以原来使用的一些样式（比如用“</span><span class="stl_132 stl_52 stl_458">Free</span><span class="stl_129 stl_49 stl_458">”而不 &nbsp;</span></div>
					<div class="stl_01" style="top:32.1256em; left:6.6142em;"><span class="stl_129 stl_49 stl_219" style="word-spacing:0.0346em;">是“</span><span class="stl_132 stl_52 stl_219" style="word-spacing:0.0346em;">$0.00</span><span class="stl_129 stl_49 stl_219" style="word-spacing:0.0346em;">”）不太合适作为 </span><span class="stl_132 stl_52 stl_219" style="word-spacing:0.0346em;">OpenRe</span><span class="stl_148 stl_52 stl_219" style="word-spacing:0.0346em;">ﬁ</span><span class="stl_132 stl_52 stl_219" style="word-spacing:0.0346em;">ne </span><span class="stl_129 stl_49 stl_219" style="word-spacing:0.0346em;">程序的输入数据。 &nbsp;</span></div>
					<div class="stl_01 stl_382" style="top:48.8155em; left:6.6142em;"><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0089em;">图 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0089em;">7-1</span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0089em;">：显示在 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0089em;">OpenRe</span><span class="stl_750 stl_18 stl_10" style="word-spacing:-0.0089em;">ﬁ</span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0089em;">ne </span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0089em;">屏幕上的维基百科的“文本编辑器对比”表格数据 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:32.0178em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">数据清洗 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">99 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_149.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_149.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_129 stl_49 stl_603" style="word-spacing:-0.0249em;">使用 </span><span class="stl_132 stl_52 stl_603" style="word-spacing:-0.0249em;">OpenRe</span><span class="stl_148 stl_52 stl_603" style="word-spacing:-0.0249em;">ﬁ</span><span class="stl_132 stl_52 stl_603" style="word-spacing:-0.0249em;">ne </span><span class="stl_129 stl_49 stl_603" style="word-spacing:-0.0249em;">会看到每一列的标签旁边都有一个箭头。这个箭头提供了一个工具菜单， &nbsp;</span></div>
					<div class="stl_01" style="top:6.1627em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">可以对这一列数据执行筛选、排序、变换或删除等操作。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.996em; left:5.6693em;"><span class="stl_388 stl_20 stl_424">筛选</span><span class="stl_129 stl_49 stl_424">。数据筛选可以通过两种方法实现：过滤器（</span><span class="stl_148 stl_52 stl_424">ﬁ</span><span class="stl_132 stl_52 stl_424">lter</span><span class="stl_129 stl_49 stl_424">）和切片器（</span><span class="stl_132 stl_52 stl_424">facet</span><span class="stl_129 stl_49 stl_424">）。过滤器可以用 &nbsp;</span></div>
					<div class="stl_01" style="top:9.324em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">正则表达式筛选数据，比如“只显示编程语言这一列中用逗号分隔且超过三种编程语言的 &nbsp;</span></div>
					<div class="stl_01" style="top:10.4964em; left:5.6693em;"><span class="stl_129 stl_49 stl_430" style="word-spacing:0.0833em;">所有行”，结果如图 </span><span class="stl_132 stl_52 stl_430" style="word-spacing:0.0833em;">7-2 </span><span class="stl_129 stl_49 stl_430" style="word-spacing:0.0833em;">所示。 &nbsp;</span></div>
					<div class="stl_01 stl_382" style="top:23.4311em; left:5.6693em;"><span class="stl_383 stl_20 stl_10" style="word-spacing:0em;">图 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:0em;">7-2</span><span class="stl_383 stl_20 stl_10" style="word-spacing:0em;">：正则表达式“</span><span class="stl_384 stl_18 stl_10" style="word-spacing:0em;">.+,.+,.+</span><span class="stl_383 stl_20 stl_10" style="word-spacing:0em;">”选择用逗号分隔且至少有三种编程语言的所有行 &nbsp;</span></div>
					<div class="stl_01" style="top:25.3628em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">过滤器可以通过右边的操作框轻松地组合、编辑和增加数据，还可以和切片器配合使用。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.1961em; left:5.6693em;"><span class="stl_129 stl_49 stl_490" style="word-spacing:-0.0137em;">切片器可以很方便地对一列的部分数据进行包含和不包含的筛选（比如，“显示使用 </span><span class="stl_132 stl_52 stl_490" style="word-spacing:-0.0137em;">GPL &nbsp;</span></div>
					<div class="stl_01" style="top:28.4462em; left:5.6693em;"><span class="stl_129 stl_49 stl_751" style="word-spacing:0.0575em;">和 </span><span class="stl_132 stl_52 stl_751" style="word-spacing:0.0575em;">MIT </span><span class="stl_129 stl_49 stl_751" style="word-spacing:0.0575em;">授权且在 </span><span class="stl_132 stl_52 stl_751" style="word-spacing:0.0575em;">2005 </span><span class="stl_129 stl_49 stl_751" style="word-spacing:0.0575em;">年之后首次发行的所有行”，结果如图 </span><span class="stl_132 stl_52 stl_751" style="word-spacing:0.0575em;">7-3 </span><span class="stl_129 stl_49 stl_751" style="word-spacing:0.0575em;">所示）。它们都有内置的筛 &nbsp;</span></div>
					<div class="stl_01" style="top:29.7739em; left:5.6693em;"><span class="stl_129 stl_49 stl_290">选工具。例如，数值筛选功能会为你提供一个数值滑动窗口，让你选择需要的数值区间。 &nbsp;</span></div>
					<div class="stl_01 stl_382" style="top:50.0058em; left:5.6693em;"><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0118em;">图 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0118em;">7-3</span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0118em;">：显示使用 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0118em;">GPL </span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0118em;">和 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0118em;">MIT </span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0118em;">授权且在 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0118em;">2005 </span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0118em;">年之后首次发行的所有行 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">00 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 7</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_151.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_151.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:6.6142em;"><span class="stl_129 stl_49 stl_752" style="word-spacing:-0.0575em;">经过选过的数据结果可以被导成任意一种 </span><span class="stl_132 stl_52 stl_752" style="word-spacing:-0.0575em;">OpenRe</span><span class="stl_148 stl_52 stl_752" style="word-spacing:-0.0575em;">ﬁ</span><span class="stl_132 stl_52 stl_752" style="word-spacing:-0.0575em;">ne </span><span class="stl_129 stl_49 stl_752" style="word-spacing:-0.0575em;">支持的数据文件格式，包括 </span><span class="stl_132 stl_52 stl_752" style="word-spacing:-0.0575em;">CSV</span><span class="stl_129 stl_49 stl_752" style="word-spacing:-0.0575em;">、 &nbsp;</span></div>
					<div class="stl_01" style="top:6.085em; left:6.6142em;"><span class="stl_132 stl_52 stl_360" style="word-spacing:0.0451em;">HTML</span><span class="stl_129 stl_49 stl_360" style="word-spacing:0.0451em;">（</span><span class="stl_132 stl_52 stl_360" style="word-spacing:0.0451em;">HTML </span><span class="stl_129 stl_49 stl_360" style="word-spacing:0.0451em;">表格）、</span><span class="stl_132 stl_52 stl_360" style="word-spacing:0.0451em;">Excel </span><span class="stl_129 stl_49 stl_360" style="word-spacing:0.0451em;">以及其他格式。 &nbsp;</span></div>
					<div class="stl_01" style="top:8.0737em; left:6.6142em;"><span class="stl_388 stl_20 stl_68">清洗</span><span class="stl_129 stl_49 stl_68">。只有当数据一开始就比较干净时，数据筛选才可以直接快速地完成。例如，在上一 &nbsp;</span></div>
					<div class="stl_01" style="top:9.246em; left:6.6142em;"><span class="stl_129 stl_49 stl_648">节切片器的例子中，有个文本编辑器的发行日期是“</span><span class="stl_132 stl_52 stl_648">01-01-2006</span><span class="stl_129 stl_49 stl_648">”，而真正要寻找的数值 &nbsp;</span></div>
					<div class="stl_01" style="top:10.4961em; left:6.6142em;"><span class="stl_129 stl_49 stl_130" style="word-spacing:0.125em;">是“</span><span class="stl_132 stl_52 stl_130" style="word-spacing:0.125em;">2006</span><span class="stl_129 stl_49 stl_130" style="word-spacing:0.125em;">”，所以不能匹配，会被忽略掉，因此在“</span><span class="stl_132 stl_52 stl_130" style="word-spacing:0.125em;">First public release</span><span class="stl_129 stl_49 stl_130" style="word-spacing:0.125em;">”切片器中就不会 &nbsp;</span></div>
					<div class="stl_01" style="top:11.8238em; left:6.6142em;"><span class="stl_129 stl_49 stl_68">显示了。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.6572em; left:6.6142em;"><span class="stl_132 stl_52 stl_310" style="word-spacing:-0.0292em;">OpenRe</span><span class="stl_148 stl_52 stl_310" style="word-spacing:-0.0292em;">ﬁ</span><span class="stl_132 stl_52 stl_310" style="word-spacing:-0.0292em;">ne </span><span class="stl_129 stl_49 stl_310" style="word-spacing:-0.0292em;">的数据变换功能是通过</span><span class="stl_132 stl_52 stl_310" style="word-spacing:-0.0294em;"> OpenRe</span><span class="stl_148 stl_52 stl_310" style="word-spacing:-0.0294em;">ﬁ</span><span class="stl_132 stl_52 stl_310" style="word-spacing:-0.0294em;">ne</span><span class="stl_129 stl_49 stl_310" style="word-spacing:-0.0292em;"> 表达式语言（</span><span class="stl_132 stl_52 stl_310" style="word-spacing:-0.0292em;">Expression</span><span class="stl_132 stl_52 stl_310" style="word-spacing:0.0746em;"> Language</span><span class="stl_129 stl_49 stl_310" style="word-spacing:0.0746em;">）实现 &nbsp;</span></div>
					<div class="stl_01" style="top:14.9078em; left:6.6142em;"><span class="stl_129 stl_49 stl_753" style="word-spacing:0.0242em;">的，被称为 </span><span class="stl_132 stl_52 stl_753" style="word-spacing:0.0242em;">GREL</span><span class="stl_129 stl_49 stl_753" style="word-spacing:0.0242em;">（“</span><span class="stl_132 stl_52 stl_753" style="word-spacing:0.0242em;">G</span><span class="stl_129 stl_49 stl_753" style="word-spacing:0.0242em;">”是 </span><span class="stl_132 stl_52 stl_753" style="word-spacing:0.0242em;">OpenRe</span><span class="stl_148 stl_52 stl_753" style="word-spacing:0.0242em;">ﬁ</span><span class="stl_132 stl_52 stl_753" style="word-spacing:0.0242em;">ne </span><span class="stl_129 stl_49 stl_753" style="word-spacing:0.0242em;">之前的名字 </span><span class="stl_132 stl_52 stl_753" style="word-spacing:0.0242em;">GoogleRe</span><span class="stl_148 stl_52 stl_753" style="word-spacing:0.0242em;">ﬁ</span><span class="stl_132 stl_52 stl_753" style="word-spacing:0.0242em;">ne</span><span class="stl_129 stl_49 stl_753" style="word-spacing:0.0242em;">）。这个语言通过创建规 &nbsp;</span></div>
					<div class="stl_01" style="top:16.1578em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0005em;">则简单的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0005em;">lambda </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0005em;">函数来实现数据的转换。例如： &nbsp;</span></div>
					<div class="stl_01" style="top:18.1263em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">if(value.length() != 4, "invalid", value) &nbsp;</span></div>
					<div class="stl_01" style="top:19.8474em; left:6.6142em;"><span class="stl_129 stl_49 stl_319" style="word-spacing:0.0905em;">如果把这个函数应用到“</span><span class="stl_132 stl_52 stl_319" style="word-spacing:0.0905em;">First stable release</span><span class="stl_129 stl_49 stl_319" style="word-spacing:0.0905em;">”列，它就只会保留那些“</span><span class="stl_132 stl_52 stl_319" style="word-spacing:0.0905em;">YYYY</span><span class="stl_129 stl_49 stl_319" style="word-spacing:0.0905em;">”形式的数 &nbsp;</span></div>
					<div class="stl_01" style="top:21.0974em; left:6.6142em;"><span class="stl_129 stl_49 stl_754">值，把其他数值标记成“</span><span class="stl_132 stl_52 stl_754">invalid</span><span class="stl_129 stl_49 stl_754">”（无效数据）。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.0085em; left:6.6142em;"><span class="stl_129 stl_49 stl_616" style="word-spacing:0.135em;">点击列标签旁边的向下箭头，再点击“</span><span class="stl_132 stl_52 stl_616" style="word-spacing:0.135em;">Edit cells</span><span class="stl_129 stl_49 stl_616" style="word-spacing:0.135em;">”→“</span><span class="stl_132 stl_52 stl_616" style="word-spacing:0.135em;">transform</span><span class="stl_129 stl_49 stl_616" style="word-spacing:0.135em;">”，就可以使用任何</span><span class="stl_132 stl_52 stl_616" style="word-spacing:0.0128em;"> GREL &nbsp;</span></div>
					<div class="stl_01" style="top:24.2589em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">语句。上面函数的运行结果如图 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">7-4 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">所示。 &nbsp;</span></div>
					<div class="stl_01 stl_382" style="top:49.5974em; left:6.6142em;"><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0093em;">图 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0093em;">7-4</span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0093em;">：在项目中插入一行 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0093em;">GREL </span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0093em;">语句（结果预览显示在语句下面） &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:31.6117em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">数据清洗 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">101 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_152.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_152.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9126em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">但是，把不符合条件的数据标记成无效数据，虽然可以让它们变得容易识别，但是对我们 &nbsp;</span></div>
					<div class="stl_01" style="top:6.0729em; left:5.6693em;"><span class="stl_129 stl_49 stl_491" style="word-spacing:-0.0271em;">用处不大。我们想要的是尽可能地修复那些格式不规范的数据。这可以用 </span><span class="stl_132 stl_52 stl_491" style="word-spacing:-0.0271em;">GERL </span><span class="stl_129 stl_49 stl_491" style="word-spacing:-0.0271em;">的 </span><span class="stl_188 stl_44 stl_89" style="word-spacing:-0.0286em;">match &nbsp;</span></div>
					<div class="stl_01" style="top:7.4126em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">函数实现： &nbsp;</span></div>
					<div class="stl_01" style="top:9.3035em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">value.match(".*([0-9]{4}).*").get(0) &nbsp;</span></div>
					<div class="stl_01" style="top:11.1022em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">这是用正则表达式对字符串数据进行匹配。如果正则表达式能够匹配出结果，就会返回一 &nbsp;</span></div>
					<div class="stl_01" style="top:12.2746em; left:5.6693em;"><span class="stl_129 stl_49 stl_755" style="word-spacing:0.1367em;">个数组。任何符合正则表达式“捕获组”（</span><span class="stl_132 stl_52 stl_755" style="word-spacing:0.1367em;">capture group</span><span class="stl_129 stl_49 stl_755" style="word-spacing:0.1367em;">）条件的子字符串（指的是括号里 &nbsp;</span></div>
					<div class="stl_01" style="top:13.5246em; left:5.6693em;"><span class="stl_129 stl_49 stl_99">的表达式，本例中是“</span><span class="stl_132 stl_52 stl_99">[0-9]{4}</span><span class="stl_129 stl_49 stl_99">”）都会作为数组数值返回。 &nbsp;</span></div>
					<div class="stl_01" style="top:15.5133em; left:5.6693em;"><span class="stl_129 stl_49 stl_742">其实，这行代码会从一个单元格中找出所有的连续的四位整数，然后返回第一个匹配结果。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.7634em; left:5.6693em;"><span class="stl_129 stl_49 stl_140">一般情况下，用这个函数从文字或格式不规范的数据中提取年份完全可行。如果正则表达 &nbsp;</span></div>
					<div class="stl_01" style="top:17.9357em; left:5.6693em;"><span class="stl_129 stl_49 stl_756" style="word-spacing:0.0589em;">式没有找到年份，就会返回“</span><span class="stl_132 stl_52 stl_756" style="word-spacing:0.0589em;">null</span><span class="stl_129 stl_49 stl_756" style="word-spacing:0.0589em;">”（</span><span class="stl_132 stl_52 stl_756" style="word-spacing:0.0589em;">GERL </span><span class="stl_129 stl_49 stl_756" style="word-spacing:0.0589em;">操作 </span><span class="stl_132 stl_52 stl_756" style="word-spacing:0.0589em;">null </span><span class="stl_129 stl_49 stl_756" style="word-spacing:0.0589em;">变量的时候不会抛出空指针异常）。 &nbsp;</span></div>
					<div class="stl_01" style="top:19.8468em; left:5.6693em;"><span class="stl_132 stl_52 stl_242" style="word-spacing:-0.0424em;">OpenRe</span><span class="stl_148 stl_52 stl_242" style="word-spacing:-0.0424em;">ﬁ</span><span class="stl_132 stl_52 stl_242" style="word-spacing:-0.0424em;">ne </span><span class="stl_129 stl_49 stl_242" style="word-spacing:-0.0424em;">还有许多关于单元格编辑和 </span><span class="stl_132 stl_52 stl_242" style="word-spacing:-0.0424em;">GERL </span><span class="stl_129 stl_49 stl_242" style="word-spacing:-0.0424em;">数据变换的方法。详细介绍在 </span><span class="stl_132 stl_52 stl_242" style="word-spacing:-0.0424em;">OpenRe</span><span class="stl_148 stl_52 stl_242" style="word-spacing:-0.0424em;">ﬁ</span><span class="stl_132 stl_52 stl_242" style="word-spacing:-0.0424em;">ne &nbsp;</span></div>
					<div class="stl_01" style="top:21.0974em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.1529em;">的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.1529em;">GitHub </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.1529em;">页</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.3629em;"> 面（</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.3629em;">https://github.com/OpenRe</span><span class="stl_148 stl_52 stl_10" style="word-spacing:0.3629em;">ﬁ</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.3629em;">ne/OpenRe</span><span class="stl_148 stl_52 stl_10" style="word-spacing:0.3629em;">ﬁ</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.3629em;">ne/wiki/General-Re</span><span class="stl_148 stl_52 stl_10" style="word-spacing:0.3629em;">ﬁ</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.3629em;">ne-Expression- &nbsp;</span></div>
					<div class="stl_01" style="top:22.3474em; left:5.6693em;"><span class="stl_132 stl_52 stl_291">Language</span><span class="stl_129 stl_49 stl_291">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">02 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 7</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_154.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_154.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:9.4423em; left:33.1147em;"><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.064em;">第 </span><span class="stl_215 stl_18 stl_10" style="word-spacing:-0.064em;">8 </span><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.064em;">章 &nbsp;</span></div>
					<div class="stl_01 stl_69" style="top:12.7975em; left:25.5453em;"><span class="stl_70 stl_20 stl_71">自然语言处理 &nbsp;</span></div>
					<div class="stl_01" style="top:24.4229em; left:6.6142em;"><span class="stl_129 stl_49 stl_135" style="word-spacing:0.1031em;">到目前为止，我们处理的数据大部分都是数字或数值（</span><span class="stl_132 stl_52 stl_135" style="word-spacing:0.1031em;">countable value</span><span class="stl_129 stl_49 stl_135" style="word-spacing:0.1031em;">）。大多数情况下， &nbsp;</span></div>
					<div class="stl_01" style="top:25.7506em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">我们只是简单地存储数据，没有分析数据。在这一章里，我们将尝试探索英语这个复杂的 &nbsp;</span></div>
					<div class="stl_01" style="top:26.8831em; left:8.9892em;"><span class="stl_181 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:27.0006em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">主题。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.8343em; left:6.6142em;"><span class="stl_129 stl_49 stl_265" style="word-spacing:-0.0137em;">当你在 </span><span class="stl_132 stl_52 stl_265" style="word-spacing:-0.0137em;">Google</span><span class="stl_129 stl_49 stl_265" style="word-spacing:-0.0135em;"> 的图片搜索里输入“</span><span class="stl_132 stl_52 stl_265" style="word-spacing:-0.0135em;">cute</span><span class="stl_132 stl_52 stl_265" style="word-spacing:0.1065em;"> kitten</span><span class="stl_129 stl_49 stl_265" style="word-spacing:0.1065em;">”时，</span><span class="stl_132 stl_52 stl_265" style="word-spacing:0.1065em;">Google</span><span class="stl_129 stl_49 stl_265" style="word-spacing:-0.0135em;"> 怎么会知道你要搜索什么呢？ &nbsp;</span></div>
					<div class="stl_01" style="top:30.0843em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">其实这个词组与可爱的小猫咪是密切相关的。当你在 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">YouTube</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;"> 搜索框中输入“</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">dead</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.084em;"> parrot</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.084em;">” &nbsp;</span></div>
					<div class="stl_01" style="top:31.3344em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">的时候，</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0002em;">YouTube </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">怎么会知道要推荐一些</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;"> Monty</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.109em;"> Python</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;"> 乐团的幽默短剧呢？那是因为每个 &nbsp;</span></div>
					<div class="stl_01" style="top:32.6621em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">上传的视频里都带有标题和简介文字。 &nbsp;</span></div>
					<div class="stl_01" style="top:34.4954em; left:6.6142em;"><span class="stl_129 stl_49 stl_558" style="word-spacing:0.1013em;">其实，输入“</span><span class="stl_132 stl_52 stl_558" style="word-spacing:0.1013em;">deceased bird monty python</span><span class="stl_129 stl_49 stl_558" style="word-spacing:0.1013em;">”这类短语时，即使页面上没有单词“</span><span class="stl_132 stl_52 stl_558" style="word-spacing:0.1013em;">deceased</span><span class="stl_129 stl_49 stl_558" style="word-spacing:0.1013em;">” &nbsp;</span></div>
					<div class="stl_01" style="top:35.7457em; left:6.6142em;"><span class="stl_129 stl_49 stl_757" style="word-spacing:0.1454em;">或“</span><span class="stl_132 stl_52 stl_757" style="word-spacing:0.1454em;">bird</span><span class="stl_129 stl_49 stl_757" style="word-spacing:0.1454em;">”，也会立即显示同样的“</span><span class="stl_132 stl_52 stl_757" style="word-spacing:0.1454em;">Dead Parrot</span><span class="stl_129 stl_49 stl_757" style="word-spacing:0.1454em;">”幽默短剧。</span><span class="stl_132 stl_52 stl_757" style="word-spacing:0.1454em;">Google</span><span class="stl_129 stl_49 stl_757" style="word-spacing:0.0205em;"> 知道“</span><span class="stl_132 stl_52 stl_757" style="word-spacing:0.0205em;">hot</span><span class="stl_132 stl_52 stl_757" style="word-spacing:0.1456em;"> dog</span><span class="stl_129 stl_49 stl_757" style="word-spacing:0.1456em;">”是一种 &nbsp;</span></div>
					<div class="stl_01" style="top:36.9957em; left:6.6142em;"><span class="stl_129 stl_49 stl_745" style="word-spacing:0.1401em;">食物，“</span><span class="stl_132 stl_52 stl_745" style="word-spacing:0.1401em;">boiling puppy</span><span class="stl_129 stl_49 stl_745" style="word-spacing:0.1401em;">”却是另一种完全不同的东西。它究竟是怎么实现的呢？其实这一切 &nbsp;</span></div>
					<div class="stl_01" style="top:38.3234em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">都是统计学在起作用！ &nbsp;</span></div>
					<div class="stl_01" style="top:40.2345em; left:6.6142em;"><span class="stl_129 stl_49 stl_153">虽然你可能认为自己的项目和文本分析没有任何关系，但是理解文本分析的原理对各种机 &nbsp;</span></div>
					<div class="stl_01" style="top:41.4848em; left:6.6142em;"><span class="stl_129 stl_49 stl_153">器学习场景都是非常有用的，而且还可以进一步提高自己利用概率论和算法知识对现实问 &nbsp;</span></div>
					<div class="stl_01" style="top:42.7349em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">题进行抽象建模的能力。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.0086em; left:6.6142em;"><span class="stl_60 stl_49 stl_758" style="word-spacing:-0.0472em;">注 </span><span class="stl_61 stl_52 stl_758" style="word-spacing:-0.0472em;">1</span><span class="stl_60 stl_49 stl_758" style="word-spacing:-0.0472em;">：虽然这一章介绍的很多方法可以用于大多数其他语种，但是目前只关注英语的自然语言处理是没有 &nbsp;</span></div>
					<div class="stl_01" style="top:47.0086em; left:8.4568em;"><span class="stl_60 stl_49 stl_180" style="word-spacing:-0.0103em;">问题的。像 </span><span class="stl_61 stl_52 stl_180" style="word-spacing:-0.0103em;">Python</span><span class="stl_60 stl_49 stl_180" style="word-spacing:-0.0103em;"> 的自然语言处理工具包（</span><span class="stl_61 stl_52 stl_180" style="word-spacing:-0.0103em;">Natural</span><span class="stl_61 stl_52 stl_180" style="word-spacing:0.0659em;"> Language</span><span class="stl_61 stl_52 stl_180" style="word-spacing:0.0659em;"> Toolkit</span><span class="stl_60 stl_49 stl_180" style="word-spacing:0.0659em;">，</span><span class="stl_61 stl_52 stl_180" style="word-spacing:0.0659em;">NLTK</span><span class="stl_60 stl_49 stl_180" style="word-spacing:0.0659em;">）就是面向英语的。互 &nbsp;</span></div>
					<div class="stl_01" style="top:48.0086em; left:8.4567em;"><span class="stl_60 stl_49 stl_249" style="word-spacing:-0.0395em;">联网上 </span><span class="stl_61 stl_52 stl_249" style="word-spacing:-0.0395em;">55% </span><span class="stl_60 stl_49 stl_249" style="word-spacing:-0.0395em;">的内容依然是英文（其次是俄语和德语，均不足 </span><span class="stl_61 stl_52 stl_249" style="word-spacing:-0.0395em;">6%</span><span class="stl_60 stl_49 stl_249" style="word-spacing:-0.0395em;">，</span><span class="stl_61 stl_52 stl_249" style="word-spacing:-0.0395em;">http://w3techs.com/technologies/ &nbsp;</span></div>
					<div class="stl_01" style="top:49.0086em; left:8.4567em;"><span class="stl_61 stl_52 stl_759">overview/content_language/all</span><span class="stl_60 stl_49 stl_759">）。但是谁知道未来会怎样呢？英语占互联网大头的情况未来几乎肯定会 &nbsp;</span></div>
					<div class="stl_01" style="top:50.074em; left:8.4567em;"><span class="stl_60 stl_49 stl_10">变化，而且未来几年内就需要改变。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.3099em; left:36.5751em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.3099em; left:36.9812em;"><span class="stl_119 stl_22 stl_10">03 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_155.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_155.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_129 stl_49 stl_455" style="word-spacing:-0.0421em;">例如，</span><span class="stl_132 stl_52 stl_455" style="word-spacing:-0.0421em;">Shazam </span><span class="stl_129 stl_49 stl_455" style="word-spacing:-0.0421em;">音乐雷达是一种可以识别出一段音频中包含哪首歌的服务，即使音频中包 &nbsp;</span></div>
					<div class="stl_01" style="top:6.0452em; left:35.6258em;"><span class="stl_181 stl_52 stl_10">2</span></div>
					<div class="stl_01" style="top:6.0849em; left:5.6693em;"><span class="stl_129 stl_49 stl_648" style="word-spacing:-0.028em;">含了环绕的噪声或失真也没问题。</span><span class="stl_132 stl_52 stl_648" style="word-spacing:-0.028em;">Google </span><span class="stl_129 stl_49 stl_648" style="word-spacing:-0.028em;">正在通过图片内容识别自动增加识别文字。</span><span class="stl_129 stl_49 stl_648" style="word-spacing:-0.028em;"> 比 &nbsp;</span></div>
					<div class="stl_01" style="top:7.4126em; left:5.669em;"><span class="stl_129 stl_49 stl_153">如对已知的热狗图片和其他热狗图片进行对比，搜索引擎就可以通过不断地学习掌握热狗 &nbsp;</span></div>
					<div class="stl_01" style="top:8.6627em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">的特征，然后对其他图片进行模式识别，判断图片是不是热狗。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.051em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">8</span></div>
					<div class="stl_01" style="top:10.9801em; left:6.4924em;"><span class="stl_197 stl_18 stl_71">.1</span><span class="stl_160 stl_20 stl_71">ꢀ概括数据 &nbsp;</span></div>
					<div class="stl_01" style="top:13.4133em; left:5.6693em;"><span class="stl_129 stl_49 stl_242" style="word-spacing:-0.0466em;">在第 </span><span class="stl_132 stl_52 stl_242" style="word-spacing:-0.0466em;">7 </span><span class="stl_129 stl_49 stl_242" style="word-spacing:-0.0466em;">章里，我们介绍过如何把文本内容分解成 </span><span class="stl_132 stl_52 stl_242" style="word-spacing:-0.0466em;">n-gram </span><span class="stl_129 stl_49 stl_242" style="word-spacing:-0.0466em;">模型，或者说是 </span><span class="stl_357 stl_36 stl_242" style="word-spacing:-0.0466em;">n </span><span class="stl_129 stl_49 stl_242" style="word-spacing:-0.0466em;">个单词长度的 &nbsp;</span></div>
					<div class="stl_01" style="top:14.7411em; left:5.6701em;"><span class="stl_129 stl_49 stl_130">词组。从最基本的功能上说，这个集合可以用来确定这段文字中最常用的单词和短语。另 &nbsp;</span></div>
					<div class="stl_01" style="top:15.9911em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">外，还可以提取原文中那些最常用的短语周围的句子，对原文进行看似合理的概括。 &nbsp;</span></div>
					<div class="stl_01" style="top:17.9022em; left:5.6693em;"><span class="stl_129 stl_49 stl_251">我们即将用来做数据归纳的文字样本源自美国第九任总统威廉</span><span class="stl_259 stl_20 stl_251">·</span><span class="stl_129 stl_49 stl_251">亨利</span><span class="stl_259 stl_20 stl_251">·</span><span class="stl_129 stl_49 stl_251">哈里森的就职演 &nbsp;</span></div>
					<div class="stl_01" style="top:19.1522em; left:5.6677em;"><span class="stl_129 stl_49 stl_213">说。哈里森的总统生涯创下美国总统任职历史的两个记录：一个是最长的就职演说，另一 &nbsp;</span></div>
					<div class="stl_01" style="top:20.3248em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">个是最短的任职时间——</span><span class="stl_132 stl_52 stl_10">32 </span><span class="stl_129 stl_49 stl_10">天。 &nbsp;</span></div>
					<div class="stl_01" style="top:22.2358em; left:5.6693em;"><span class="stl_129 stl_49 stl_270">我们将用他的总统就职演说（</span><span class="stl_132 stl_52 stl_270">http://pythonscraping.com/</span><span class="stl_148 stl_52 stl_270">ﬁ</span><span class="stl_132 stl_52 stl_270">les/inaugurationSpeech.txt</span><span class="stl_129 stl_49 stl_270">）的全文 &nbsp;</span></div>
					<div class="stl_01" style="top:23.5639em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">作为这一章许多示例代码的数据源。 &nbsp;</span></div>
					<div class="stl_01" style="top:25.3973em; left:5.6693em;"><span class="stl_129 stl_49 stl_479" style="word-spacing:-0.0467em;">简单修改一下我们在第 </span><span class="stl_132 stl_52 stl_479" style="word-spacing:-0.0467em;">7 </span><span class="stl_129 stl_49 stl_479" style="word-spacing:-0.0467em;">章里用过的 </span><span class="stl_132 stl_52 stl_479" style="word-spacing:-0.0467em;">n-gram </span><span class="stl_129 stl_49 stl_479" style="word-spacing:-0.0467em;">模型，就可以获得 </span><span class="stl_132 stl_52 stl_479" style="word-spacing:-0.0467em;">2-gram </span><span class="stl_129 stl_49 stl_479" style="word-spacing:-0.0467em;">序列的频率数据， &nbsp;</span></div>
					<div class="stl_01" style="top:26.6355em; left:5.6693em;"><span class="stl_129 stl_49 stl_162" style="word-spacing:-0.0143em;">然后我们用 </span><span class="stl_132 stl_52 stl_162" style="word-spacing:-0.0143em;">Python </span><span class="stl_129 stl_49 stl_162" style="word-spacing:-0.0143em;">的 </span><span class="stl_188 stl_44 stl_207" style="word-spacing:-0.0151em;">operator</span><span class="stl_129 stl_49 stl_162" style="word-spacing:-0.0143em;">模块对 </span><span class="stl_132 stl_52 stl_162" style="word-spacing:-0.0143em;">2-gram </span><span class="stl_129 stl_49 stl_162" style="word-spacing:-0.0143em;">序列的频率字典进行排序： &nbsp;</span></div>
					<div class="stl_01" style="top:28.616em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urllib.request </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:29.449em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">bs4 </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:30.282em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">re &nbsp;</span></div>
					<div class="stl_01" style="top:31.115em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">string &nbsp;</span></div>
					<div class="stl_01" style="top:31.948em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">operator &nbsp;</span></div>
					<div class="stl_01" style="top:33.614em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">cleanInput(input): &nbsp;</span></div>
					<div class="stl_01" style="top:34.447em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">input = re.sub('</span><span class="stl_232 stl_44 stl_10">\n</span><span class="stl_116 stl_44 stl_10">+', " ", input).lower() &nbsp;</span></div>
					<div class="stl_01" style="top:35.28em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">input = re.sub('\[[0-9]*\]', "", input) &nbsp;</span></div>
					<div class="stl_01" style="top:36.113em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">input = re.sub(' +', " ", input) &nbsp;</span></div>
					<div class="stl_01" style="top:36.946em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">input = bytes(input, "UTF-8") &nbsp;</span></div>
					<div class="stl_01" style="top:37.779em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">input = input.decode("ascii", "ignore") &nbsp;</span></div>
					<div class="stl_01" style="top:38.612em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">cleanInput = [] &nbsp;</span></div>
					<div class="stl_01" style="top:39.445em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">input = input.split(' ') &nbsp;</span></div>
					<div class="stl_01" style="top:40.278em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">item </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">input: &nbsp;</span></div>
					<div class="stl_01" style="top:41.111em; left:10.227em;"><span class="stl_116 stl_44 stl_10">item = item.strip(string.punctuation) &nbsp;</span></div>
					<div class="stl_01" style="top:41.944em; left:10.227em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">len(item) &gt; 1 </span><span class="stl_232 stl_44 stl_10">or </span><span class="stl_116 stl_44 stl_10">(item.lower() == 'a' </span><span class="stl_232 stl_44 stl_10">or </span><span class="stl_116 stl_44 stl_10">item.lower() == 'i'): &nbsp;</span></div>
					<div class="stl_01" style="top:42.777em; left:11.6437em;"><span class="stl_116 stl_44 stl_10">cleanInput.append(item) &nbsp;</span></div>
					<div class="stl_01" style="top:43.61em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">cleanInput &nbsp;</span></div>
					<div class="stl_01" style="top:45.276em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">ngrams(input, n): &nbsp;</span></div>
					<div class="stl_01" style="top:46.109em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">input = cleanInput(input) &nbsp;</span></div>
					<div class="stl_01" style="top:49.0086em; left:5.6693em;"><span class="stl_60 stl_49 stl_760" style="word-spacing:0.0297em;">注 </span><span class="stl_61 stl_52 stl_760" style="word-spacing:0.0297em;">2</span><span class="stl_60 stl_49 stl_760" style="word-spacing:0.0297em;">：详情请见“</span><span class="stl_61 stl_52 stl_760" style="word-spacing:0.0297em;">A Picture Is Worth a Thousand (Coherent) Words: Building a Natural Description of Images</span><span class="stl_60 stl_49 stl_760" style="word-spacing:0.0297em;">”（一 &nbsp;</span></div>
					<div class="stl_01" style="top:50.0086em; left:7.512em;"><span class="stl_60 stl_49 stl_732" style="word-spacing:0.0408em;">图胜千言：图像含义自动描述的实现方法），</span><span class="stl_61 stl_52 stl_732" style="word-spacing:0.0408em;">2014 </span><span class="stl_60 stl_49 stl_732" style="word-spacing:0.0408em;">年 </span><span class="stl_61 stl_52 stl_732" style="word-spacing:0.0408em;">11 </span><span class="stl_60 stl_49 stl_732" style="word-spacing:0.0408em;">月 </span><span class="stl_61 stl_52 stl_732" style="word-spacing:0.0408em;">17 </span><span class="stl_60 stl_49 stl_732" style="word-spacing:0.0408em;">日（</span><span class="stl_61 stl_52 stl_732" style="word-spacing:0.0408em;">http://bit.ly/1HEJ8kX</span><span class="stl_60 stl_49 stl_732" style="word-spacing:0.0408em;">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">04 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 8</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_156.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_156.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8921em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">output = {} &nbsp;</span></div>
					<div class="stl_01" style="top:5.7251em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">i </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">range(len(input)-n+1): &nbsp;</span></div>
					<div class="stl_01" style="top:6.5581em; left:11.1719em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">ngramTemp = " ".join(input[i:i+n]) &nbsp;</span></div>
					<div class="stl_01" style="top:7.3911em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">ngramTemp </span><span class="stl_232 stl_44 stl_10">not in </span><span class="stl_116 stl_44 stl_10">output: &nbsp;</span></div>
					<div class="stl_01" style="top:8.2241em; left:12.5886em;"><span class="stl_116 stl_44 stl_10">output[ngramTemp] = 0 &nbsp;</span></div>
					<div class="stl_01" style="top:9.0571em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">output[ngramTemp] += 1 &nbsp;</span></div>
					<div class="stl_01" style="top:9.8901em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">output &nbsp;</span></div>
					<div class="stl_01" style="top:11.5561em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">content = str( &nbsp;</span></div>
					<div class="stl_01" style="top:12.3891em; left:10.4636em;"><span class="stl_116 stl_44 stl_10">urlopen("http://pythonscraping.com/files/inaugurationSpeech.txt").read(), &nbsp;</span></div>
					<div class="stl_01" style="top:13.2221em; left:13.6511em;"><span class="stl_116 stl_44 stl_10">utf-8') &nbsp;</span></div>
					<div class="stl_01" style="top:13.2221em; left:13.2969em;"><span class="stl_116 stl_44 stl_10">'</span></div>
					<div class="stl_01" style="top:14.0551em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">ngrams = ngrams(content, 2) &nbsp;</span></div>
					<div class="stl_01" style="top:14.8881em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">sortedNGrams = sorted(ngrams.items(), key = operator.itemgetter(1), reverse=True) &nbsp;</span></div>
					<div class="stl_01" style="top:15.7211em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(sortedNGrams) &nbsp;</span></div>
					<div class="stl_01" style="top:17.5242em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">输出结果的一部分是： &nbsp;</span></div>
					<div class="stl_01" style="top:19.415em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">[('of the', 213), ('in the', 65), ('to the', 61), ('by the', 41), ('t &nbsp;</span></div>
					<div class="stl_01" style="top:20.248em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">he constitution', 34), ('of our', 29), ('to be', 26), ('from the', 24 &nbsp;</span></div>
					<div class="stl_01" style="top:21.081em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">)</span></div>
					<div class="stl_01" style="top:21.914em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">3</span></div>
					<div class="stl_01" style="top:21.081em; left:8.6928em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">, ('the people', 24), ('and the', 23), ('it is', 23), ('that the', 2 &nbsp;</span></div>
					<div class="stl_01" style="top:21.914em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">), ('of a', 22), ('of their', 19) &nbsp;</span></div>
					<div class="stl_01" style="top:23.6361em; left:6.6142em;"><span class="stl_129 stl_49 stl_468" style="word-spacing:0.0566em;">这些 </span><span class="stl_132 stl_52 stl_468" style="word-spacing:0.0566em;">2-gram </span><span class="stl_129 stl_49 stl_468" style="word-spacing:0.0566em;">序列中，“</span><span class="stl_132 stl_52 stl_468" style="word-spacing:0.0566em;">the</span><span class="stl_132 stl_52 stl_468" style="word-spacing:0.1815em;"> constitution</span><span class="stl_129 stl_49 stl_468" style="word-spacing:0.1815em;">”像是演说的主旨，“</span><span class="stl_132 stl_52 stl_468" style="word-spacing:0.1815em;">of the</span><span class="stl_129 stl_49 stl_468" style="word-spacing:0.1815em;">”“</span><span class="stl_132 stl_52 stl_468" style="word-spacing:0.1815em;">in the</span><span class="stl_129 stl_49 stl_468" style="word-spacing:0.1815em;">”和“</span><span class="stl_132 stl_52 stl_468" style="word-spacing:0.1815em;">to</span><span class="stl_132 stl_52 stl_468" style="word-spacing:0.1815em;"> the</span><span class="stl_129 stl_49 stl_468" style="word-spacing:0.1815em;">”看 &nbsp;</span></div>
					<div class="stl_01" style="top:24.9638em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">起来并不重要。怎么才能用准确的方式去掉这些不想要的词呢？ &nbsp;</span></div>
					<div class="stl_01" style="top:26.8749em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">前人已经仔细地研究过这些“有意义的”单词和“没意义的”单词的差异了，他们的工作 &nbsp;</span></div>
					<div class="stl_01" style="top:28.0475em; left:6.6142em;"><span class="stl_129 stl_49 stl_473" style="word-spacing:-0.0243em;">可以帮助我们完成过滤工作。美国杨百翰大学的语言学教授 </span><span class="stl_132 stl_52 stl_473" style="word-spacing:-0.0243em;">Mark</span><span class="stl_132 stl_52 stl_473" style="word-spacing:0.0958em;"> Davies</span><span class="stl_129 stl_49 stl_473" style="word-spacing:-0.0244em;"> 一直在维护当代 &nbsp;</span></div>
					<div class="stl_01" style="top:29.2975em; left:6.6142em;"><span class="stl_129 stl_49 stl_73" style="word-spacing:0.1243em;">美式英语语料库（</span><span class="stl_132 stl_52 stl_73" style="word-spacing:0.1243em;">Corpus of Contemporary American English</span><span class="stl_129 stl_49 stl_73" style="word-spacing:0.1243em;">，</span><span class="stl_132 stl_52 stl_73" style="word-spacing:0.1243em;">http://corpus.byu.edu/coca/</span><span class="stl_129 stl_49 stl_73" style="word-spacing:0.1243em;">）， &nbsp;</span></div>
					<div class="stl_01" style="top:30.5476em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">里面包含了 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">1990~2012 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">年美国畅销作品里的超过 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">4.5 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">亿个单词。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.4586em; left:6.6142em;"><span class="stl_129 stl_49 stl_225" style="word-spacing:-0.0309em;">最常用的 </span><span class="stl_132 stl_52 stl_225" style="word-spacing:-0.0309em;">5000 </span><span class="stl_129 stl_49 stl_225" style="word-spacing:-0.0309em;">个单词列表可以免费获取，作为一个基本的过滤器来过滤最常用的 </span><span class="stl_132 stl_52 stl_225" style="word-spacing:-0.0309em;">2-gram &nbsp;</span></div>
					<div class="stl_01" style="top:33.6969em; left:6.6142em;"><span class="stl_129 stl_49 stl_643" style="word-spacing:-0.0177em;">序列绰绰有余。其实只用前 </span><span class="stl_132 stl_52 stl_643" style="word-spacing:-0.0177em;">100 </span><span class="stl_129 stl_49 stl_643" style="word-spacing:-0.0177em;">个单词就可以大幅改善分析结果，我们增加一个 </span><span class="stl_188 stl_44 stl_611" style="word-spacing:-0.0187em;">isCommon &nbsp;</span></div>
					<div class="stl_01" style="top:35.0366em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">函数来实现： &nbsp;</span></div>
					<div class="stl_01" style="top:36.9274em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">isCommon(ngram): &nbsp;</span></div>
					<div class="stl_01" style="top:37.7604em; left:9.7553em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">commonWords = ["the", "be", "and", "of", "a", "in", "to", "have", "it", &nbsp;</span></div>
					<div class="stl_01" style="top:38.5934em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:39.4264em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:40.2594em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:41.0924em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:41.9254em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:42.7584em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:43.5914em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:44.4244em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:45.2574em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:46.0904em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:46.9234em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:38.5934em; left:11.5261em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">i", "that", "for", "you", "he", "with", "on", "do", "say", "this", &nbsp;</span></div>
					<div class="stl_01" style="top:39.4264em; left:11.5261em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">they", "is", "an", "at", "but","we", "his", "from", "that", "not", &nbsp;</span></div>
					<div class="stl_01" style="top:40.2594em; left:11.5261em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">by", "she", "or", "as", "what", "go", "their","can", "who", "get", &nbsp;</span></div>
					<div class="stl_01" style="top:41.0924em; left:11.5261em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">if", "would", "her", "all", "my", "make", "about", "know", "will", &nbsp;</span></div>
					<div class="stl_01" style="top:41.9254em; left:11.5261em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">as", "up", "one", "time", "has", "been", "there", "year", "so", &nbsp;</span></div>
					<div class="stl_01" style="top:42.7584em; left:11.5261em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">think", "when", "which", "them", "some", "me", "people", "take", &nbsp;</span></div>
					<div class="stl_01" style="top:43.5914em; left:11.5261em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">out", "into", "just", "see", "him", "your", "come", "could", "now", &nbsp;</span></div>
					<div class="stl_01" style="top:44.4244em; left:11.5261em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">than", "like", "other", "how", "then", "its", "our", "two", "more", &nbsp;</span></div>
					<div class="stl_01" style="top:45.2574em; left:11.5261em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">these", "want", "way", "look", "first", "also", "new", "because", &nbsp;</span></div>
					<div class="stl_01" style="top:46.0904em; left:11.5261em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">day", "more", "use", "no", "man", "find", "here", "thing", "give", &nbsp;</span></div>
					<div class="stl_01" style="top:46.9234em; left:11.5261em;"><span class="stl_116 stl_44 stl_10">many", "well"] &nbsp;</span></div>
					<div class="stl_01" style="top:47.7564em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">word </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">ngram: &nbsp;</span></div>
					<div class="stl_01" style="top:48.5894em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">word </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">commonWords: &nbsp;</span></div>
					<div class="stl_01" style="top:49.4224em; left:12.5886em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">True &nbsp;</span></div>
					<div class="stl_01" style="top:50.2554em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">False &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:30.0283em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">自然语言处理 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">105 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_157.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_157.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_129 stl_49 stl_13" style="word-spacing:0.0251em;">这样处理之后，就可以得到在样本文字中出现的频率不低于三次的 </span><span class="stl_132 stl_52 stl_13" style="word-spacing:0.0251em;">2-gram </span><span class="stl_129 stl_49 stl_13" style="word-spacing:0.0251em;">序列，如下所示： &nbsp;</span></div>
					<div class="stl_01" style="top:6.8035em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">(</span></div>
					<div class="stl_01" style="top:6.8035em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">'united states', 10), ('executive department', 4), ('general governm &nbsp;</span></div>
					<div class="stl_01" style="top:7.6365em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">ent', 4), ('called upon', 3), ('government should', 3), ('whole count &nbsp;</span></div>
					<div class="stl_01" style="top:8.4695em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">ry', 3), ('mr jefferson', 3), ('chief magistrate', 3), ('same causes' &nbsp;</span></div>
					<div class="stl_01" style="top:9.3025em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">,</span></div>
					<div class="stl_01" style="top:9.3025em; left:8.102em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">3), ('legislative body', 3) &nbsp;</span></div>
					<div class="stl_01" style="top:11.0246em; left:5.6693em;"><span class="stl_129 stl_49 stl_761" style="word-spacing:0.1169em;">效果看着不错，列表中的前两项是“</span><span class="stl_132 stl_52 stl_761" style="word-spacing:0.1169em;">United States</span><span class="stl_129 stl_49 stl_761" style="word-spacing:0.1169em;">”和“</span><span class="stl_132 stl_52 stl_761" style="word-spacing:0.1169em;">executive department</span><span class="stl_129 stl_49 stl_761" style="word-spacing:0.1169em;">”，和我们对 &nbsp;</span></div>
					<div class="stl_01" style="top:12.3523em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">就职演说的期待是一样的。 &nbsp;</span></div>
					<div class="stl_01" style="top:14.1857em; left:5.6693em;"><span class="stl_129 stl_49 stl_163" style="word-spacing:-0.0397em;">这里需要注意的是，我们是用比较新的常用词列表过滤结果的，这对 </span><span class="stl_132 stl_52 stl_163" style="word-spacing:-0.0397em;">1841 </span><span class="stl_129 stl_49 stl_163" style="word-spacing:-0.0397em;">年写出来的文 &nbsp;</span></div>
					<div class="stl_01" style="top:15.436em; left:5.6693em;"><span class="stl_129 stl_49 stl_138" style="word-spacing:-0.0178em;">字来说可能不是非常合适。但是，因为我们只用了列表里前 </span><span class="stl_132 stl_52 stl_138" style="word-spacing:-0.0178em;">100 </span><span class="stl_129 stl_49 stl_138" style="word-spacing:-0.0178em;">个单词——我们姑且可以 &nbsp;</span></div>
					<div class="stl_01" style="top:16.686em; left:5.6693em;"><span class="stl_129 stl_49 stl_135" style="word-spacing:-0.0179em;">认为，随着年代的变化，这 </span><span class="stl_132 stl_52 stl_135" style="word-spacing:-0.0179em;">100 </span><span class="stl_129 stl_49 stl_135" style="word-spacing:-0.0179em;">个单词应该比列表最后的 </span><span class="stl_132 stl_52 stl_135" style="word-spacing:-0.0179em;">100 </span><span class="stl_129 stl_49 stl_135" style="word-spacing:-0.0179em;">个单词要更具稳定性——而 &nbsp;</span></div>
					<div class="stl_01" style="top:17.936em; left:5.6693em;"><span class="stl_129 stl_49 stl_273" style="word-spacing:-0.0394em;">且我们也获得了满意的结果，所以好像也不必挖掘或创建一组 </span><span class="stl_132 stl_52 stl_273" style="word-spacing:-0.0394em;">1841 </span><span class="stl_129 stl_49 stl_273" style="word-spacing:-0.0394em;">年最常用的单词列表 &nbsp;</span></div>
					<div class="stl_01" style="top:19.2637em; left:5.2735em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:19.2637em; left:6.0651em;"><span class="stl_129 stl_49 stl_416">虽然这样的努力可能会很有趣）。 &nbsp;</span></div>
					<div class="stl_01" style="top:21.1748em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">现在一些核心的主题词已经从文本中抽取出来了，它们怎么帮助我们归纳这段文字呢？一 &nbsp;</span></div>
					<div class="stl_01" style="top:22.3474em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">种方法是搜索包含每个核心 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">n-gram </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">序列的第一句话，这个方法的理论是英语中段落的首句 &nbsp;</span></div>
					<div class="stl_01" style="top:23.5975em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">往往是对后面内容的概述。前五个 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">2-gram </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">序列的搜索结果是： &nbsp;</span></div>
					<div class="stl_01" style="top:25.5481em; left:6.7325em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:25.5481em; left:7.7957em;"><span class="stl_132 stl_52 stl_73" style="word-spacing:0.0042em;">The Constitution of the United States is the instrument containing this grant of power to the &nbsp;</span></div>
					<div class="stl_01" style="top:26.7981em; left:7.7949em;"><span class="stl_132 stl_52 stl_73" style="word-spacing:-0.0001em;">several departments composing the government. &nbsp;</span></div>
					<div class="stl_01" style="top:28.0481em; left:6.7317em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:29.2982em; left:6.7317em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:30.5486em; left:6.7321em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:28.0481em; left:7.7949em;"><span class="stl_132 stl_52 stl_73" style="word-spacing:-0.0001em;">Such a one was afforded by the executive department constituted by the Constitution. &nbsp;</span></div>
					<div class="stl_01" style="top:29.2985em; left:7.7953em;"><span class="stl_132 stl_52 stl_73" style="word-spacing:-0.0001em;">The general government has seized upon none of the reserved rights of the states. &nbsp;</span></div>
					<div class="stl_01" style="top:30.5486em; left:7.7953em;"><span class="stl_132 stl_52 stl_73" style="word-spacing:0.0719em;">Called from a retirement which I had supposed was to continue for the residue of my life &nbsp;</span></div>
					<div class="stl_01" style="top:31.7986em; left:7.7953em;"><span class="stl_132 stl_52 stl_73" style="word-spacing:0.0789em;">to </span><span class="stl_148 stl_52 stl_73" style="word-spacing:0.0789em;">ﬁ</span><span class="stl_132 stl_52 stl_73" style="word-spacing:0.0789em;">ll the chief executive of</span><span class="stl_148 stl_52 stl_73" style="word-spacing:0.0789em;">ﬁ</span><span class="stl_132 stl_52 stl_73" style="word-spacing:0.0789em;">ce of this great and free nation, I appear before you, fellow- &nbsp;</span></div>
					<div class="stl_01" style="top:33.0484em; left:7.7953em;"><span class="stl_132 stl_52 stl_73" style="word-spacing:0.0456em;">citizens, to take the oaths which the constitution prescribes as a necessary quali</span><span class="stl_148 stl_52 stl_73" style="word-spacing:0.0456em;">ﬁ</span><span class="stl_132 stl_52 stl_73" style="word-spacing:0.0456em;">cation for &nbsp;</span></div>
					<div class="stl_01" style="top:34.2984em; left:7.7953em;"><span class="stl_132 stl_52 stl_484" style="word-spacing:0.0829em;">the performance of its duties; and in obedience to a custom coeval with our government &nbsp;</span></div>
					<div class="stl_01" style="top:35.5484em; left:7.7953em;"><span class="stl_132 stl_52 stl_282" style="word-spacing:0.0826em;">and what I believe to be your expectations I proceed to present to you a summary of the &nbsp;</span></div>
					<div class="stl_01" style="top:36.7984em; left:7.7953em;"><span class="stl_132 stl_52 stl_73" style="word-spacing:0.03em;">principles which will govern me in the discharge of the duties which I shall be called upon &nbsp;</span></div>
					<div class="stl_01" style="top:38.0485em; left:7.7953em;"><span class="stl_132 stl_52 stl_73" style="word-spacing:-0.0001em;">to perform. &nbsp;</span></div>
					<div class="stl_01" style="top:39.2985em; left:6.7321em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:39.2985em; left:7.7953em;"><span class="stl_132 stl_52 stl_73" style="word-spacing:0.0468em;">The presses in the necessary employment of the government should never be used to clear &nbsp;</span></div>
					<div class="stl_01" style="top:40.5485em; left:7.7953em;"><span class="stl_132 stl_52 stl_73" style="word-spacing:-0.0001em;">the guilty or to varnish crime. &nbsp;</span></div>
					<div class="stl_01" style="top:42.4199em; left:5.6697em;"><span class="stl_129 stl_49 stl_364" style="word-spacing:-0.0491em;">当然，这些估计还不能马上发布到 </span><span class="stl_132 stl_52 stl_364" style="word-spacing:-0.0491em;">CliffsNotes </span><span class="stl_129 stl_49 stl_364" style="word-spacing:-0.0491em;">上面，但是考虑到全文原来一共有 </span><span class="stl_132 stl_52 stl_364" style="word-spacing:-0.0491em;">217 </span><span class="stl_129 stl_49 stl_364" style="word-spacing:-0.0491em;">句 &nbsp;</span></div>
					<div class="stl_01" style="top:43.6702em; left:5.6693em;"><span class="stl_129 stl_49 stl_661" style="word-spacing:0.1494em;">话，而这里的第四句话（“</span><span class="stl_132 stl_52 stl_661" style="word-spacing:0.1494em;">Called from a retirement...</span><span class="stl_129 stl_49 stl_661" style="word-spacing:0.1494em;">”）已经把主题总结得很好了，作为初 &nbsp;</span></div>
					<div class="stl_01" style="top:44.998em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">稿应该能凑合。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.3863em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">8</span></div>
					<div class="stl_01" style="top:47.3154em; left:6.4924em;"><span class="stl_197 stl_18 stl_71">.2</span><span class="stl_160 stl_20 stl_71">ꢀ马尔可夫模型 &nbsp;</span></div>
					<div class="stl_01" style="top:49.7486em; left:5.6693em;"><span class="stl_129 stl_49 stl_639" style="word-spacing:0.1163em;">你可能听说过马尔可夫文字生成器（</span><span class="stl_132 stl_52 stl_639" style="word-spacing:0.1163em;">Markov text generator</span><span class="stl_129 stl_49 stl_639" style="word-spacing:0.1163em;">）。它们是一种非常受欢迎的娱 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">06 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 8</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_159.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_159.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:6.6142em;"><span class="stl_129 stl_49 stl_736" style="word-spacing:0.0011em;">乐方式，像 </span><span class="stl_132 stl_52 stl_736" style="word-spacing:0.0011em;">Twitov</span><span class="stl_132 stl_52 stl_736" style="word-spacing:0.1141em;"> App</span><span class="stl_129 stl_49 stl_736" style="word-spacing:0.1141em;">（</span><span class="stl_132 stl_52 stl_736" style="word-spacing:0.1141em;">http://twitov.extrafuture.com/</span><span class="stl_129 stl_49 stl_736" style="word-spacing:0.1141em;">），还可以用它们为傻瓜测试系统生 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1627em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">成看似真实的垃圾邮件。 &nbsp;</span></div>
					<div class="stl_01" style="top:8.0737em; left:6.6142em;"><span class="stl_129 stl_49 stl_153">这些文字生成器都是基于一种常用于分析大量随机事件的马尔可夫模型，随机事件的特点 &nbsp;</span></div>
					<div class="stl_01" style="top:9.3241em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">是一个离散事件发生之后，另一个离散事件将在前一个事件的条件下以一定的概率发生。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.1575em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">例如，我们可以对一个天气系统建立马尔可夫模型，如图 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">8-1 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">所示。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.5918em; left:17.2708em;"><span class="stl_762 stl_44 stl_10">7</span></div>
					<div class="stl_01" style="top:13.4953em; left:17.3172em;"><span class="stl_763 stl_523 stl_10">20% &nbsp;</span></div>
					<div class="stl_01" style="top:13.4953em; left:23.4244em;"><span class="stl_763 stl_523 stl_10">70% &nbsp;</span></div>
					<div class="stl_01" style="top:15.9114em; left:20.3709em;"><span class="stl_763 stl_523 stl_10">20% &nbsp;</span></div>
					<div class="stl_01" style="top:16.3559em; left:17.1312em;"><span class="stl_763 stl_523 stl_764">S</span><span class="stl_765 stl_519 stl_766">晴</span><span class="stl_763 stl_523 stl_764">un</span><span class="stl_765 stl_519 stl_766">天</span><span class="stl_763 stl_523 stl_764">ny &nbsp;</span></div>
					<div class="stl_01" style="top:16.3559em; left:23.1725em;"><span class="stl_763 stl_523 stl_767">C</span><span class="stl_765 stl_519 stl_768">多</span><span class="stl_763 stl_523 stl_767">lou</span><span class="stl_765 stl_519 stl_768">云</span><span class="stl_763 stl_523 stl_767">dy &nbsp;</span></div>
					<div class="stl_01" style="top:18.3564em; left:21.4636em;"><span class="stl_763 stl_523 stl_10">15% &nbsp;</span></div>
					<div class="stl_01" style="top:19.3892em; left:24.0931em;"><span class="stl_763 stl_523 stl_10">25% &nbsp;</span></div>
					<div class="stl_01" style="top:19.3892em; left:27.1486em;"><span class="stl_763 stl_523 stl_10">15% &nbsp;</span></div>
					<div class="stl_01" style="top:20.0724em; left:16.6029em;"><span class="stl_763 stl_523 stl_10">25% &nbsp;</span></div>
					<div class="stl_01" style="top:20.0724em; left:19.8541em;"><span class="stl_763 stl_523 stl_10">10% &nbsp;</span></div>
					<div class="stl_01" style="top:22.4013em; left:23.2726em;"><span class="stl_765 stl_519 stl_769">下</span><span class="stl_763 stl_523 stl_770">Rai</span><span class="stl_765 stl_519 stl_769">雨</span><span class="stl_763 stl_523 stl_770">ny &nbsp;</span></div>
					<div class="stl_01" style="top:25.3288em; left:23.4244em;"><span class="stl_763 stl_523 stl_10">50% &nbsp;</span></div>
					<div class="stl_01 stl_382" style="top:27.3033em; left:6.6142em;"><span class="stl_383 stl_20 stl_10" style="word-spacing:0em;">图 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:0em;">8-1</span><span class="stl_383 stl_20 stl_10" style="word-spacing:0em;">：马尔可夫模型描述的理论天气系统 &nbsp;</span></div>
					<div class="stl_01" style="top:29.1572em; left:6.6142em;"><span class="stl_129 stl_49 stl_298" style="word-spacing:-0.0449em;">在这个天气系统模型中，如果今天是晴天，那么明天有 </span><span class="stl_132 stl_52 stl_298" style="word-spacing:-0.0449em;">70% </span><span class="stl_129 stl_49 stl_298" style="word-spacing:-0.0449em;">的可能是晴天，</span><span class="stl_132 stl_52 stl_298" style="word-spacing:-0.0449em;">20% </span><span class="stl_129 stl_49 stl_298" style="word-spacing:-0.0449em;">的可能 &nbsp;</span></div>
					<div class="stl_01" style="top:30.4072em; left:6.6142em;"><span class="stl_129 stl_49 stl_397" style="word-spacing:-0.039em;">多云，</span><span class="stl_132 stl_52 stl_397" style="word-spacing:-0.039em;">10% </span><span class="stl_129 stl_49 stl_397" style="word-spacing:-0.039em;">的可能下雨。如果今天是下雨天，那么明天有 </span><span class="stl_132 stl_52 stl_397" style="word-spacing:-0.039em;">50% </span><span class="stl_129 stl_49 stl_397" style="word-spacing:-0.039em;">的可能也下雨，</span><span class="stl_132 stl_52 stl_397" style="word-spacing:-0.039em;">25% </span><span class="stl_129 stl_49 stl_397" style="word-spacing:-0.039em;">的可 &nbsp;</span></div>
					<div class="stl_01" style="top:31.6573em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">能是晴天，</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">25% </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">的可能是多云。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.6461em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">需要注意以下几点。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.519em; left:6.6142em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:38.0197em; left:6.614em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:40.5197em; left:6.614em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:43.0197em; left:6.614em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:35.4794em; left:7.6774em;"><span class="stl_129 stl_49 stl_211" style="word-spacing:-0.0202em;">任何一个节点引出的所有可能的总和必须等于 </span><span class="stl_132 stl_52 stl_211" style="word-spacing:-0.0202em;">100%</span><span class="stl_129 stl_49 stl_211" style="word-spacing:-0.0202em;">。无论是多么复杂的系统，必然会 &nbsp;</span></div>
					<div class="stl_01" style="top:36.8078em; left:7.6772em;"><span class="stl_129 stl_49 stl_10">在下一步发生若干事件中的一个事件。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.0578em; left:7.6772em;"><span class="stl_129 stl_49 stl_111">虽然这个天气系统在任一时间都只有三种可能，但是你可以用这个模型生成一个天气状 &nbsp;</span></div>
					<div class="stl_01" style="top:39.3078em; left:7.6772em;"><span class="stl_129 stl_49 stl_10">态的无限次转移列表。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.4801em; left:7.6772em;"><span class="stl_129 stl_49 stl_121" style="word-spacing:-0.0017em;">只有当前节点的状态会影响后一天的状态。如果你在“晴天”节点上，即使前 </span><span class="stl_132 stl_52 stl_121" style="word-spacing:-0.0017em;">100 </span><span class="stl_129 stl_49 stl_121" style="word-spacing:-0.0017em;">天都 &nbsp;</span></div>
					<div class="stl_01" style="top:41.7301em; left:7.6772em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">是晴天或雨天都没关系，明天晴天的概率还是 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">70%</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.0578em; left:7.6772em;"><span class="stl_129 stl_49 stl_121">有些节点可能比其他节点较难到达。这个现象的原因用数学来解释非常复杂，但是可以 &nbsp;</span></div>
					<div class="stl_01" style="top:44.3078em; left:7.6772em;"><span class="stl_129 stl_49 stl_121">直观地看出，在这个系统中任意时间节点上，第二天是“雨天”的可能性（指向它的箭 &nbsp;</span></div>
					<div class="stl_01" style="top:45.4801em; left:7.6772em;"><span class="stl_129 stl_49 stl_720">头概率之和小于“</span><span class="stl_132 stl_52 stl_720">100%</span><span class="stl_129 stl_49 stl_720">”）比“晴天”或“多云”要小很多。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.4688em; left:6.614em;"><span class="stl_129 stl_49 stl_130">很明显，这是一个很简单的系统，而马尔可夫模型可以演化成任意规模的复杂系统。事实 &nbsp;</span></div>
					<div class="stl_01" style="top:48.6412em; left:6.614em;"><span class="stl_129 stl_49 stl_726" style="word-spacing:-0.0345em;">上，</span><span class="stl_132 stl_52 stl_726" style="word-spacing:-0.0345em;">Google </span><span class="stl_129 stl_49 stl_726" style="word-spacing:-0.0345em;">的</span><span class="stl_132 stl_52 stl_726" style="word-spacing:-0.0346em;"> page</span><span class="stl_132 stl_52 stl_726" style="word-spacing:0.0815em;"> rank</span><span class="stl_129 stl_49 stl_726" style="word-spacing:-0.0346em;"> 算法也是基于马尔可夫模型，把网站做为节点，入站</span><span class="stl_132 stl_52 stl_726" style="word-spacing:-0.0346em;"> /</span><span class="stl_129 stl_49 stl_726" style="word-spacing:-0.0344em;"> 出站链接 &nbsp;</span></div>
					<div class="stl_01" style="top:49.8915em; left:6.6142em;"><span class="stl_129 stl_49 stl_660">做为节点之间的连线。连接某一个节点的“可能性”（</span><span class="stl_132 stl_52 stl_660">likelihood</span><span class="stl_129 stl_49 stl_660">）表示一个网站的相对关 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:30.0283em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">自然语言处理 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">107 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_160.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_160.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9126em; left:5.6693em;"><span class="stl_129 stl_49 stl_320">注度。也就是说，如果我们的天气系统表示一个微型互联网，那么“雨天”的页面等级 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1627em; left:5.2735em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:6.085em; left:6.0651em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">page rank</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">）相对比较低，而“多云”的页面等级相对比较高。 &nbsp;</span></div>
					<div class="stl_01" style="top:8.0737em; left:5.6693em;"><span class="stl_129 stl_49 stl_290">了解了这些概念之后，让我们再回到本节的主题，研究一个具体的例子：文本分析与写作。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.9848em; left:5.6693em;"><span class="stl_129 stl_49 stl_136">还用前面例子里分析的威廉</span><span class="stl_259 stl_20 stl_136">·</span><span class="stl_129 stl_49 stl_136">亨利</span><span class="stl_259 stl_20 stl_136">·</span><span class="stl_129 stl_49 stl_136">哈里森的就职演讲内容，我们可以写出下面的代码， &nbsp;</span></div>
					<div class="stl_01" style="top:11.1578em; left:5.6694em;"><span class="stl_129 stl_49 stl_10">通过演讲内容的结构生成任意长度的（下面示例中链长为 </span><span class="stl_132 stl_52 stl_10">100</span><span class="stl_129 stl_49 stl_10">）马尔可夫链组成的句子： &nbsp;</span></div>
					<div class="stl_01" style="top:13.1262em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urllib.request </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:13.9592em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">random </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">randint &nbsp;</span></div>
					<div class="stl_01" style="top:15.6252em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">wordListSum(wordList): &nbsp;</span></div>
					<div class="stl_01" style="top:16.4582em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">sum = 0 &nbsp;</span></div>
					<div class="stl_01" style="top:17.2912em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">word, value </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">wordList.items(): &nbsp;</span></div>
					<div class="stl_01" style="top:18.1242em; left:10.227em;"><span class="stl_116 stl_44 stl_10">sum += value &nbsp;</span></div>
					<div class="stl_01" style="top:18.9572em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">sum &nbsp;</span></div>
					<div class="stl_01" style="top:20.6232em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">retrieveRandomWord(wordList): &nbsp;</span></div>
					<div class="stl_01" style="top:22.2892em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">randIndex = randint(1, wordListSum(wordList)) &nbsp;</span></div>
					<div class="stl_01" style="top:23.1222em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">word, value </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">wordList.items(): &nbsp;</span></div>
					<div class="stl_01" style="top:23.9552em; left:10.227em;"><span class="stl_116 stl_44 stl_10">randIndex -= value &nbsp;</span></div>
					<div class="stl_01" style="top:24.7882em; left:10.227em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">randIndex &lt;= 0: &nbsp;</span></div>
					<div class="stl_01" style="top:25.6212em; left:11.6437em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">word &nbsp;</span></div>
					<div class="stl_01" style="top:27.2872em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">buildWordDict(text): &nbsp;</span></div>
					<div class="stl_01" style="top:28.1202em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:28.1416em; left:9.5187em;"><span class="stl_256 stl_49 stl_10">剔除换行符和引号 &nbsp;</span></div>
					<div class="stl_01" style="top:28.9532em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">text = text.replace("\n", " "); &nbsp;</span></div>
					<div class="stl_01" style="top:29.7862em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">text = text.replace("\"", ""); &nbsp;</span></div>
					<div class="stl_01" style="top:31.4522em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:32.2852em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:31.4736em; left:9.5187em;"><span class="stl_256 stl_49 stl_10">保证每个标点符号都和前面的单词在一起 &nbsp;</span></div>
					<div class="stl_01" style="top:32.3066em; left:9.5187em;"><span class="stl_256 stl_49 stl_156">这样不会被剔除，保留在马尔可夫链中 &nbsp;</span></div>
					<div class="stl_01" style="top:33.126em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">punctuation = [',', '.', ';',':'] &nbsp;</span></div>
					<div class="stl_01" style="top:33.959em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">symbol </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">punctuation: &nbsp;</span></div>
					<div class="stl_01" style="top:34.792em; left:10.227em;"><span class="stl_116 stl_44 stl_10">text = text.replace(symbol, " "+symbol+" "); &nbsp;</span></div>
					<div class="stl_01" style="top:36.458em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">words = text.split(" ") &nbsp;</span></div>
					<div class="stl_01" style="top:37.3124em; left:9.5187em;"><span class="stl_256 stl_49 stl_10">过滤空单词 &nbsp;</span></div>
					<div class="stl_01" style="top:37.291em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:38.124em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">words = [word </span><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">word </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">words </span><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">word != ""] &nbsp;</span></div>
					<div class="stl_01" style="top:39.79em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">wordDict = {} &nbsp;</span></div>
					<div class="stl_01" style="top:40.623em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">i </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">range(1, len(words)): &nbsp;</span></div>
					<div class="stl_01" style="top:41.456em; left:10.227em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">words[i-1] </span><span class="stl_232 stl_44 stl_10">not in </span><span class="stl_116 stl_44 stl_10">wordDict: &nbsp;</span></div>
					<div class="stl_01" style="top:42.289em; left:13.0604em;"><span class="stl_116 stl_44 stl_10"># </span><span class="stl_256 stl_49 stl_10">为单词新建一个词典 &nbsp;</span></div>
					<div class="stl_01" style="top:43.122em; left:11.6437em;"><span class="stl_116 stl_44 stl_10">wordDict[words[i-1]] = {} &nbsp;</span></div>
					<div class="stl_01" style="top:43.955em; left:10.227em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">words[i] </span><span class="stl_232 stl_44 stl_10">not in </span><span class="stl_116 stl_44 stl_10">wordDict[words[i-1]]: &nbsp;</span></div>
					<div class="stl_01" style="top:44.788em; left:11.6437em;"><span class="stl_116 stl_44 stl_10">wordDict[words[i-1]][words[i]] = 0 &nbsp;</span></div>
					<div class="stl_01" style="top:45.621em; left:10.227em;"><span class="stl_116 stl_44 stl_10">wordDict[words[i-1]][words[i]] = wordDict[words[i-1]][words[ &nbsp;</span></div>
					<div class="stl_01" style="top:46.454em; left:29.352em;"><span class="stl_116 stl_44 stl_10">i]] + 1 &nbsp;</span></div>
					<div class="stl_01" style="top:48.12em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">wordDict &nbsp;</span></div>
					<div class="stl_01" style="top:49.7927em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">text = str(urlopen("http://pythonscraping.com/files/inaugurationSpeech.txt") &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">08 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 8</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_161.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_161.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8921em; left:11.8803em;"><span class="stl_116 stl_44 stl_10">.read(), 'utf-8') &nbsp;</span></div>
					<div class="stl_01" style="top:5.7251em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">wordDict = buildWordDict(text) &nbsp;</span></div>
					<div class="stl_01" style="top:7.3911em; left:8.3386em;"><span class="stl_116 stl_44 stl_10"># </span><span class="stl_256 stl_49 stl_10">生成链长为</span><span class="stl_116 stl_44 stl_10">100</span><span class="stl_256 stl_49 stl_10">的马尔可夫链 &nbsp;</span></div>
					<div class="stl_01" style="top:8.2241em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">length = 100 &nbsp;</span></div>
					<div class="stl_01" style="top:9.0571em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">chain = "" &nbsp;</span></div>
					<div class="stl_01" style="top:9.8901em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">currentWord = "I" &nbsp;</span></div>
					<div class="stl_01" style="top:10.7231em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">i </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">range(0, length): &nbsp;</span></div>
					<div class="stl_01" style="top:11.5561em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">chain += currentWord+" " &nbsp;</span></div>
					<div class="stl_01" style="top:12.3891em; left:9.7553em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">currentWord = retrieveRandomWord(wordDict[currentWord]) &nbsp;</span></div>
					<div class="stl_01" style="top:14.0551em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(chain) &nbsp;</span></div>
					<div class="stl_01" style="top:15.8575em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">代码的输出结果每次都会变化，下面是其中一个胡言乱语的结果： &nbsp;</span></div>
					<div class="stl_01" style="top:17.7484em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">I sincerely believe in Chief Magistrate to make all necessary sacrifices and &nbsp;</span></div>
					<div class="stl_01" style="top:18.5814em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">oppression of the remedies which we may have occurred to me in the arrangement &nbsp;</span></div>
					<div class="stl_01" style="top:19.4144em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">and disbursement of the democratic claims them , consolatory to have been best &nbsp;</span></div>
					<div class="stl_01" style="top:20.2474em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">political power in fervently commending every other addition of legislation , by &nbsp;</span></div>
					<div class="stl_01" style="top:21.0804em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">the interests which violate that the Government would compare our aboriginal &nbsp;</span></div>
					<div class="stl_01" style="top:21.9134em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">neighbors the people to its accomplishment . The latter also susceptible of the &nbsp;</span></div>
					<div class="stl_01" style="top:22.7464em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Constitution not much mischief , disputes have left to betray . The maxim which &nbsp;</span></div>
					<div class="stl_01" style="top:23.5794em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">may sometimes be an impartial and to prevent the adoption or &nbsp;</span></div>
					<div class="stl_01" style="top:25.3805em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">那么代码是怎么实现的呢？ &nbsp;</span></div>
					<div class="stl_01" style="top:27.2798em; left:6.6142em;"><span class="stl_188 stl_44 stl_409">buildWordDict</span><span class="stl_129 stl_49 stl_182">函数把网上获取的演讲文本的字符串作为参数，然后对字符串做一些清理 &nbsp;</span></div>
					<div class="stl_01" style="top:28.5419em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">和格式化处理，去掉引号，把其他标点符号两端加上空格，这样就可以对每一个单词进行 &nbsp;</span></div>
					<div class="stl_01" style="top:29.7919em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">有效的处理。最后，再建立如下所示的一个二维字典——字典里有字典： &nbsp;</span></div>
					<div class="stl_01" style="top:31.6828em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">{</span></div>
					<div class="stl_01" style="top:31.6828em; left:8.6928em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">word_a : {word_b : 2, word_c : 1, word_d : 1}, &nbsp;</span></div>
					<div class="stl_01" style="top:32.5158em; left:8.6928em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">word_e : {word_b : 5, word_d : 2},...} &nbsp;</span></div>
					<div class="stl_01" style="top:34.2372em; left:6.6142em;"><span class="stl_129 stl_49 stl_512">在这个字典示例中，“</span><span class="stl_132 stl_52 stl_512">word_a</span><span class="stl_129 stl_49 stl_512">”出现了四次，有两次后面跟的单词是“</span><span class="stl_132 stl_52 stl_512">word_b</span><span class="stl_129 stl_49 stl_512">”，一次是 &nbsp;</span></div>
					<div class="stl_01" style="top:35.5649em; left:6.2183em;"><span class="stl_129 stl_49 stl_10">“</span></div>
					<div class="stl_01" style="top:35.4872em; left:7.01em;"><span class="stl_132 stl_52 stl_161">word_c</span><span class="stl_129 stl_49 stl_161">”，一次是“</span><span class="stl_132 stl_52 stl_161">word_d</span><span class="stl_129 stl_49 stl_161">”。“</span><span class="stl_132 stl_52 stl_161">word_e</span><span class="stl_129 stl_49 stl_161">”出现了七次，有五次后面跟的单词是“</span><span class="stl_132 stl_52 stl_161">word_b</span><span class="stl_129 stl_49 stl_161">”， &nbsp;</span></div>
					<div class="stl_01" style="top:36.7372em; left:6.6142em;"><span class="stl_129 stl_49 stl_257">两次是“</span><span class="stl_132 stl_52 stl_257">word_d</span><span class="stl_129 stl_49 stl_257">”。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.6482em; left:6.6142em;"><span class="stl_129 stl_49 stl_311" style="word-spacing:-0.0441em;">如果我们要画出这个结果的节点模型，那么“</span><span class="stl_132 stl_52 stl_311" style="word-spacing:-0.0441em;">word_a</span><span class="stl_129 stl_49 stl_311" style="word-spacing:-0.0441em;">”可能就有带 </span><span class="stl_132 stl_52 stl_311" style="word-spacing:-0.0441em;">50% </span><span class="stl_129 stl_49 stl_311" style="word-spacing:-0.0441em;">概率的箭头指向 &nbsp;</span></div>
					<div class="stl_01" style="top:39.9763em; left:6.2183em;"><span class="stl_129 stl_49 stl_10">“</span></div>
					<div class="stl_01" style="top:39.8986em; left:7.01em;"><span class="stl_132 stl_52 stl_771" style="word-spacing:0.0494em;">word_b</span><span class="stl_129 stl_49 stl_771" style="word-spacing:0.0494em;">”（四次中的两次），带 </span><span class="stl_132 stl_52 stl_771" style="word-spacing:0.0494em;">25% </span><span class="stl_129 stl_49 stl_771" style="word-spacing:0.0494em;">概率的箭头指向“</span><span class="stl_132 stl_52 stl_771" style="word-spacing:0.0494em;">word_c</span><span class="stl_129 stl_49 stl_771" style="word-spacing:0.0494em;">”，还有带 </span><span class="stl_132 stl_52 stl_771" style="word-spacing:0.0494em;">25% </span><span class="stl_129 stl_49 stl_771" style="word-spacing:0.0494em;">概率的箭头 &nbsp;</span></div>
					<div class="stl_01" style="top:41.1486em; left:6.6142em;"><span class="stl_129 stl_49 stl_574">指向“</span><span class="stl_132 stl_52 stl_574">word_d</span><span class="stl_129 stl_49 stl_574">”。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.1374em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">一旦字典建成，不管你现在看到了文章的哪个词，都可以用这个字典作为查询表来选择下 &nbsp;</span></div>
					<div class="stl_01" style="top:44.2702em; left:10.5725em;"><span class="stl_181 stl_52 stl_10">3</span></div>
					<div class="stl_01" style="top:44.31em; left:6.6142em;"><span class="stl_129 stl_49 stl_425" style="word-spacing:0.2992em;">一个节点。 这个字典的字典是这么使用的，如果我们现在位于“</span><span class="stl_132 stl_52 stl_425" style="word-spacing:0.2992em;">word_e</span><span class="stl_129 stl_49 stl_425" style="word-spacing:0.2992em;">”节点，那么下一 &nbsp;</span></div>
					<div class="stl_01" style="top:47.0086em; left:6.6142em;"><span class="stl_60 stl_49 stl_104" style="word-spacing:-0.0006em;">注 </span><span class="stl_61 stl_52 stl_104" style="word-spacing:-0.0006em;">3</span><span class="stl_60 stl_49 stl_104" style="word-spacing:-0.0006em;">：程序处理文本中的最后一个单词的下一个选择时可能会发生异常，因为这个单词后面没有单词。在我 &nbsp;</span></div>
					<div class="stl_01" style="top:48.0086em; left:8.4568em;"><span class="stl_60 stl_49 stl_393" style="word-spacing:0.0142em;">们的例子中，最后一个单词是点号（</span><span class="stl_61 stl_52 stl_393" style="word-spacing:0.0142em;">.</span><span class="stl_60 stl_49 stl_393" style="word-spacing:0.0142em;">），这样会很方便，因为它在演讲内容里一共出现了 </span><span class="stl_61 stl_52 stl_393" style="word-spacing:0.0142em;">215 </span><span class="stl_60 stl_49 stl_393" style="word-spacing:0.0142em;">次，所 &nbsp;</span></div>
					<div class="stl_01" style="top:49.074em; left:8.4567em;"><span class="stl_60 stl_49 stl_10">以选择下一个单词时不会出现问题。但是，在现实工作中，实现一个马尔可夫生成器时，文本的最后 &nbsp;</span></div>
					<div class="stl_01" style="top:50.074em; left:8.4567em;"><span class="stl_60 stl_49 stl_10">一个单词通常是需要慎重考虑的。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:30.0283em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">自然语言处理 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">109 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_162.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_162.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9005em; left:5.6693em;"><span class="stl_129 stl_49 stl_692" style="word-spacing:-0.0212em;">步就要把字典 </span><span class="stl_188 stl_44 stl_271" style="word-spacing:-0.0224em;">{word_b</span><span class="stl_188 stl_44 stl_271" style="word-spacing:0.0816em;"> : 5, word_d : 2}</span><span class="stl_129 stl_49 stl_692" style="word-spacing:0.0773em;">传递到</span><span class="stl_188 stl_44 stl_271" style="word-spacing:-0.0224em;"> retrieveRandomWord</span><span class="stl_129 stl_49 stl_692" style="word-spacing:-0.0212em;">函数。这个函数会按 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1627em; left:5.669em;"><span class="stl_129 stl_49 stl_10">照字典中单词频次的权重随机获取一个单词。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.996em; left:5.669em;"><span class="stl_129 stl_49 stl_287">先确定一个随机的开始词（示例中用的是经常使用的“</span><span class="stl_132 stl_52 stl_287">I</span><span class="stl_129 stl_49 stl_287">”），我们可以通过马尔可夫链随意 &nbsp;</span></div>
					<div class="stl_01" style="top:9.3241em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">地重复，生成我们需要的任意长度的句子。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.7592em; left:5.6693em;"><span class="stl_91 stl_20 stl_71">维基百科六度分割</span><span class="stl_772 stl_44 stl_71">：</span><span class="stl_91 stl_20 stl_71">终结篇 &nbsp;</span></div>
					<div class="stl_01" style="top:13.6164em; left:5.6693em;"><span class="stl_129 stl_49 stl_773" style="word-spacing:-0.0195em;">在第 </span><span class="stl_132 stl_52 stl_773" style="word-spacing:-0.0195em;">3 </span><span class="stl_129 stl_49 stl_773" style="word-spacing:-0.0195em;">章，我们创建了收集从凯文</span><span class="stl_259 stl_20 stl_773" style="word-spacing:-0.0195em;">·</span><span class="stl_129 stl_49 stl_773" style="word-spacing:-0.0195em;">贝肯开始的维基词条链接的爬虫，最后存储在数据库 &nbsp;</span></div>
					<div class="stl_01" style="top:14.9441em; left:5.669em;"><span class="stl_129 stl_49 stl_138">里。为什么这里又把这个游戏搬出来？因为它体现了一种从一个页面指向另一个页面的链 &nbsp;</span></div>
					<div class="stl_01" style="top:16.1164em; left:5.6693em;"><span class="stl_129 stl_49 stl_208" style="word-spacing:-0.0019em;">接路径选择问题（即找出 </span><span class="stl_132 stl_52 stl_208" style="word-spacing:-0.0019em;">https://en.wikipedia.org/wiki/Kevin_Bacon </span><span class="stl_129 stl_49 stl_208" style="word-spacing:-0.0019em;">和 </span><span class="stl_132 stl_52 stl_208" style="word-spacing:-0.0019em;">https://en.wikipedia. &nbsp;</span></div>
					<div class="stl_01" style="top:17.3665em; left:5.6693em;"><span class="stl_132 stl_52 stl_759" style="word-spacing:0.0119em;">org/wiki/Eric_Idle </span><span class="stl_129 stl_49 stl_759" style="word-spacing:0.0119em;">链接路径），这和从上面的马尔可夫链里找出一个单词到另一个单词的路 &nbsp;</span></div>
					<div class="stl_01" style="top:18.6164em; left:5.6693em;"><span class="stl_129 stl_49 stl_600" style="word-spacing:0.118em;">径的问题是一样的。这类问题被称为</span><span class="stl_269 stl_49 stl_600" style="word-spacing:0.118em;">有向图</span><span class="stl_129 stl_49 stl_600" style="word-spacing:0.118em;">（</span><span class="stl_132 stl_52 stl_600" style="word-spacing:0.118em;">directed graph</span><span class="stl_129 stl_49 stl_600" style="word-spacing:0.118em;">）问题，其中</span><span class="stl_132 stl_52 stl_600" style="word-spacing:-0.005em;"> A</span><span class="stl_129 stl_49 stl_600" style="word-spacing:-0.0052em;"> →</span><span class="stl_132 stl_52 stl_600" style="word-spacing:-0.005em;"> B</span><span class="stl_129 stl_49 stl_600" style="word-spacing:-0.005em;"> 连通，并 &nbsp;</span></div>
					<div class="stl_01" style="top:19.8664em; left:5.6692em;"><span class="stl_129 stl_49 stl_313" style="word-spacing:-0.0071em;">不意味着 </span><span class="stl_132 stl_52 stl_313" style="word-spacing:-0.0071em;">B </span><span class="stl_129 stl_49 stl_313" style="word-spacing:-0.0071em;">→ </span><span class="stl_132 stl_52 stl_313" style="word-spacing:-0.0071em;">A </span><span class="stl_129 stl_49 stl_313" style="word-spacing:-0.0071em;">同样连通。单词“</span><span class="stl_132 stl_52 stl_313" style="word-spacing:-0.0071em;">football</span><span class="stl_129 stl_49 stl_313" style="word-spacing:-0.0071em;">”后面可能经常跟的是单词“</span><span class="stl_132 stl_52 stl_313" style="word-spacing:-0.0071em;">player</span><span class="stl_129 stl_49 stl_313" style="word-spacing:-0.0071em;">”，但是单 &nbsp;</span></div>
					<div class="stl_01" style="top:21.1164em; left:5.6693em;"><span class="stl_129 stl_49 stl_774" style="word-spacing:0.033em;">词“</span><span class="stl_132 stl_52 stl_774" style="word-spacing:0.033em;">player</span><span class="stl_129 stl_49 stl_774" style="word-spacing:0.033em;">”后面却很少跟着单词“</span><span class="stl_132 stl_52 stl_774" style="word-spacing:0.033em;">football</span><span class="stl_129 stl_49 stl_774" style="word-spacing:0.033em;">”。虽然凯文</span><span class="stl_259 stl_20 stl_774" style="word-spacing:0.033em;">·</span><span class="stl_129 stl_49 stl_774" style="word-spacing:0.033em;">贝肯（</span><span class="stl_132 stl_52 stl_774" style="word-spacing:0.033em;">Kevin Bacon</span><span class="stl_129 stl_49 stl_774" style="word-spacing:0.033em;">）的维基词条 &nbsp;</span></div>
					<div class="stl_01" style="top:22.3665em; left:5.6685em;"><span class="stl_129 stl_49 stl_516">连接到他的老家费城（</span><span class="stl_132 stl_52 stl_516">Philadelphia</span><span class="stl_129 stl_49 stl_516">），但是费城的维基百科词条里却没有连接他的链接。 &nbsp;</span></div>
					<div class="stl_01" style="top:24.2775em; left:5.6685em;"><span class="stl_129 stl_49 stl_775" style="word-spacing:0.0666em;">相反，原来的凯文</span><span class="stl_259 stl_20 stl_775" style="word-spacing:0.0666em;">·</span><span class="stl_129 stl_49 stl_775" style="word-spacing:0.0666em;">贝肯六度分割游戏是一个</span><span class="stl_269 stl_49 stl_775" style="word-spacing:0.0666em;">无向图</span><span class="stl_129 stl_49 stl_775" style="word-spacing:0.0666em;">（</span><span class="stl_132 stl_52 stl_775" style="word-spacing:0.0666em;">undirected graph</span><span class="stl_129 stl_49 stl_775" style="word-spacing:0.0666em;">）问题。例如凯 &nbsp;</span></div>
					<div class="stl_01" style="top:25.5275em; left:5.6685em;"><span class="stl_129 stl_49 stl_463" style="word-spacing:0.0341em;">文</span><span class="stl_259 stl_20 stl_463" style="word-spacing:0.0341em;">· </span><span class="stl_129 stl_49 stl_463" style="word-spacing:0.0341em;">贝肯和朱莉娅</span><span class="stl_259 stl_20 stl_463" style="word-spacing:0.0341em;">·</span><span class="stl_129 stl_49 stl_463" style="word-spacing:0.0341em;">罗伯茨（</span><span class="stl_132 stl_52 stl_463" style="word-spacing:0.0341em;">Julia</span><span class="stl_132 stl_52 stl_463" style="word-spacing:0.0842em;"> Roberts</span><span class="stl_129 stl_49 stl_463" style="word-spacing:0.0842em;">）共同演过电影《别闯阴阳界》（</span><span class="stl_194 stl_36 stl_463" style="word-spacing:0.0842em;">Flatliners</span><span class="stl_129 stl_49 stl_463" style="word-spacing:0.0842em;">， &nbsp;</span></div>
					<div class="stl_01" style="top:26.8172em; left:5.6677em;"><span class="stl_132 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:26.7776em; left:6.0675em;"><span class="stl_132 stl_52 stl_139">990</span><span class="stl_129 stl_49 stl_139">），因此凯文</span><span class="stl_259 stl_20 stl_139">·</span><span class="stl_129 stl_49 stl_139">贝肯词条通过《别闯阴阳界》的维基词条会链接到朱莉娅</span><span class="stl_259 stl_20 stl_139">·</span><span class="stl_129 stl_49 stl_139">罗伯茨词 &nbsp;</span></div>
					<div class="stl_01" style="top:28.1053em; left:5.6685em;"><span class="stl_129 stl_49 stl_163">条，而朱莉娅</span><span class="stl_259 stl_20 stl_163">·</span><span class="stl_129 stl_49 stl_163">罗伯茨词条也会通过《别闯阴阳界》的维基词条链接到凯文</span><span class="stl_259 stl_20 stl_163">·</span><span class="stl_129 stl_49 stl_163">贝肯词条， &nbsp;</span></div>
					<div class="stl_01" style="top:29.3554em; left:5.6693em;"><span class="stl_129 stl_49 stl_139">两者的关系是相互的（就是没有“方向”性）。在计算机科学中，无向图问题相比有向图 &nbsp;</span></div>
					<div class="stl_01" style="top:30.6054em; left:5.6693em;"><span class="stl_129 stl_49 stl_205">问题不太常见，两者都属于计算难题。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.5165em; left:5.6693em;"><span class="stl_129 stl_49 stl_153">虽然解决这两类问题和对应的多个分支问题的方法有很多，但是在寻找有向图的最短路径 &nbsp;</span></div>
					<div class="stl_01" style="top:33.7669em; left:5.6693em;"><span class="stl_129 stl_49 stl_140">问题中，即找出维基百科中凯文</span><span class="stl_259 stl_20 stl_140">·</span><span class="stl_129 stl_49 stl_140">贝肯词条和其他词条之间最短链接路径的方法中，效果 &nbsp;</span></div>
					<div class="stl_01" style="top:34.9392em; left:5.6694em;"><span class="stl_129 stl_49 stl_164" style="word-spacing:0.0272em;">最好且最常用的一种方法是</span><span class="stl_269 stl_49 stl_164" style="word-spacing:0.0272em;">广度优先搜索</span><span class="stl_129 stl_49 stl_164" style="word-spacing:0.0272em;">（</span><span class="stl_132 stl_52 stl_164" style="word-spacing:0.0272em;">breadth-</span><span class="stl_148 stl_52 stl_164" style="word-spacing:0.0272em;">ﬁ</span><span class="stl_132 stl_52 stl_164" style="word-spacing:0.0272em;">rst search</span><span class="stl_129 stl_49 stl_164" style="word-spacing:0.0272em;">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.928em; left:5.6693em;"><span class="stl_129 stl_49 stl_153">广度优先搜索算法的思路是优先搜寻直接连接到起始页的所有链接（而不是找到一个链接 &nbsp;</span></div>
					<div class="stl_01" style="top:38.1784em; left:5.6693em;"><span class="stl_129 stl_49 stl_135">就纵向深入搜索）。如果这些链接不包含目标页面（你想要找的词条），就对第二层的链 &nbsp;</span></div>
					<div class="stl_01" style="top:39.4284em; left:5.6693em;"><span class="stl_129 stl_49 stl_139">接——连接到起始页的页面的所有链接——进行搜索。这个过程不断重复，直到达到搜索 &nbsp;</span></div>
					<div class="stl_01" style="top:40.6007em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">深度限制（本例中使用的层数限制是 </span><span class="stl_132 stl_52 stl_10">6 </span><span class="stl_129 stl_49 stl_10">层）或者找到目标页面为止。 &nbsp;</span></div>
					<div class="stl_01" style="top:42.5118em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">用第 </span><span class="stl_132 stl_52 stl_10">5 </span><span class="stl_129 stl_49 stl_10">章里获得的链接数据表，实现一个完整的广度优先搜索算法，代码如下所示： &nbsp;</span></div>
					<div class="stl_01" style="top:44.4805em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urllib.request </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:45.3135em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">bs4 </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:46.1465em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">pymysql &nbsp;</span></div>
					<div class="stl_01" style="top:47.8125em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">conn = pymysql.connect(host='127.0.0.1', unix_socket='/tmp/mysql.sock', &nbsp;</span></div>
					<div class="stl_01" style="top:48.6455em; left:15.5395em;"><span class="stl_116 stl_44 stl_10">user='root', passwd=None, db='mysql', charset='utf8') &nbsp;</span></div>
					<div class="stl_01" style="top:49.4785em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">cur = conn.cursor() &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">10 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 8</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_163.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_163.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8921em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">cur.execute("USE wikipedia") &nbsp;</span></div>
					<div class="stl_01" style="top:6.5581em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">class </span><span class="stl_116 stl_44 stl_10">SolutionFound(</span><span class="stl_232 stl_44 stl_10">RuntimeError</span><span class="stl_116 stl_44 stl_10">): &nbsp;</span></div>
					<div class="stl_01" style="top:7.3911em; left:9.4011em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">__init__(self, message): &nbsp;</span></div>
					<div class="stl_01" style="top:8.2241em; left:10.4636em;"><span class="stl_116 stl_44 stl_10">self.message = message &nbsp;</span></div>
					<div class="stl_01" style="top:9.8901em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">getLinks(fromPageId): &nbsp;</span></div>
					<div class="stl_01" style="top:10.7231em; left:9.7553em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">cur.execute("SELECT toPageId FROM links WHERE fromPageId = %s", (fromPageId)) &nbsp;</span></div>
					<div class="stl_01" style="top:11.5561em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">cur.rowcount == 0: &nbsp;</span></div>
					<div class="stl_01" style="top:12.3891em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">None &nbsp;</span></div>
					<div class="stl_01" style="top:13.2221em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">else</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:14.0551em; left:11.1719em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">return </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">[x[0] </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">for </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">x </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">in </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">cur.fetchall()] &nbsp;</span></div>
					<div class="stl_01" style="top:15.7211em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">constructDict(currentPageId): &nbsp;</span></div>
					<div class="stl_01" style="top:16.5541em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">links = getLinks(currentPageId) &nbsp;</span></div>
					<div class="stl_01" style="top:17.3871em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">links: &nbsp;</span></div>
					<div class="stl_01" style="top:18.2201em; left:11.1719em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">return </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">dict(zip(links, [{}]*len(links))) &nbsp;</span></div>
					<div class="stl_01" style="top:19.0531em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">{} &nbsp;</span></div>
					<div class="stl_01" style="top:20.7191em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:20.7405em; left:9.0469em;"><span class="stl_256 stl_49 stl_161">链接树要么为空，要么包含多个链接 &nbsp;</span></div>
					<div class="stl_01" style="top:21.5584em; left:8.3386em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">def </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">searchDepth(targetPageId, currentPageId, linkTree, depth): &nbsp;</span></div>
					<div class="stl_01" style="top:22.3914em; left:9.7552em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">depth == 0: &nbsp;</span></div>
					<div class="stl_01" style="top:23.2244em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:23.2458em; left:11.8803em;"><span class="stl_256 stl_49 stl_187">停止递归，返回结果 &nbsp;</span></div>
					<div class="stl_01" style="top:24.0581em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">linkTree &nbsp;</span></div>
					<div class="stl_01" style="top:24.8914em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">if not </span><span class="stl_116 stl_44 stl_10">linkTree: &nbsp;</span></div>
					<div class="stl_01" style="top:25.7244em; left:11.1719em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">linkTree = constructDict(currentPageId) &nbsp;</span></div>
					<div class="stl_01" style="top:26.5574em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">if not </span><span class="stl_116 stl_44 stl_10">linkTree: &nbsp;</span></div>
					<div class="stl_01" style="top:27.3904em; left:12.5886em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:27.4118em; left:13.2969em;"><span class="stl_256 stl_49 stl_161">若此节点页面无链接，则跳过此节点 &nbsp;</span></div>
					<div class="stl_01" style="top:28.2248em; left:12.5886em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">{} &nbsp;</span></div>
					<div class="stl_01" style="top:29.0581em; left:9.7553em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">if </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">targetPageId </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">in </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">linkTree.keys(): &nbsp;</span></div>
					<div class="stl_01" style="top:29.8911em; left:11.1719em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">print</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">("TARGET "+str(targetPageId)+" FOUND!") &nbsp;</span></div>
					<div class="stl_01" style="top:30.7241em; left:11.1719em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">raise </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">SolutionFound("PAGE: "+str(currentPageId)) &nbsp;</span></div>
					<div class="stl_01" style="top:32.3901em; left:9.7553em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">for </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">branchKey, branchValue </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">in </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">linkTree.items(): &nbsp;</span></div>
					<div class="stl_01" style="top:33.2231em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">try</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:34.0561em; left:12.5886em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:34.0775em; left:13.2969em;"><span class="stl_256 stl_49 stl_10">递归建立链接树 &nbsp;</span></div>
					<div class="stl_01" style="top:34.8891em; left:12.5886em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">linkTree[branchKey] = searchDepth(targetPageId, branchKey, &nbsp;</span></div>
					<div class="stl_01" style="top:35.7221em; left:24.6303em;"><span class="stl_116 stl_44 stl_10">branchValue, depth-1) &nbsp;</span></div>
					<div class="stl_01" style="top:36.5551em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">except </span><span class="stl_116 stl_44 stl_10">SolutionFound </span><span class="stl_232 stl_44 stl_10">as </span><span class="stl_116 stl_44 stl_10">e: &nbsp;</span></div>
					<div class="stl_01" style="top:37.3881em; left:12.5886em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(e.message) &nbsp;</span></div>
					<div class="stl_01" style="top:38.2253em; left:12.5886em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">raise </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">SolutionFound("PAGE: "+str(currentPageId)) &nbsp;</span></div>
					<div class="stl_01" style="top:39.0583em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">linkTree &nbsp;</span></div>
					<div class="stl_01" style="top:40.7243em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">try</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:41.5573em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">searchDepth(134951, 1, {}, 4) &nbsp;</span></div>
					<div class="stl_01" style="top:42.3903em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">("No solution found") &nbsp;</span></div>
					<div class="stl_01" style="top:43.2233em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">except </span><span class="stl_116 stl_44 stl_10">SolutionFound </span><span class="stl_232 stl_44 stl_10">as </span><span class="stl_116 stl_44 stl_10">e: &nbsp;</span></div>
					<div class="stl_01" style="top:44.0563em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(e.message) &nbsp;</span></div>
					<div class="stl_01" style="top:45.8454em; left:6.6142em;"><span class="stl_129 stl_49 stl_440" style="word-spacing:-0.0516em;">这里函数 </span><span class="stl_188 stl_44 stl_330" style="word-spacing:-0.0545em;">getLinks</span><span class="stl_129 stl_49 stl_440" style="word-spacing:-0.0516em;">和 </span><span class="stl_188 stl_44 stl_330" style="word-spacing:-0.0545em;">constructDict</span><span class="stl_129 stl_49 stl_440" style="word-spacing:-0.0516em;">是辅助函数，用来从数据库里获取给定页面的链接， &nbsp;</span></div>
					<div class="stl_01" style="top:47.0954em; left:6.6141em;"><span class="stl_129 stl_49 stl_580" style="word-spacing:-0.0416em;">然后把链接转换成字典。主函数 </span><span class="stl_188 stl_44 stl_454" style="word-spacing:-0.0439em;">searchDepth</span><span class="stl_129 stl_49 stl_580" style="word-spacing:-0.0416em;">会递归地执行，同时构建和搜索链接树，一 &nbsp;</span></div>
					<div class="stl_01" style="top:48.3575em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">次搜索一层。其运行规则如下所示。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:30.0283em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">自然语言处理 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">111 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_164.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_164.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8745em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:6.1246em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:4.9126em; left:6.7325em;"><span class="stl_129 stl_49 stl_595">如果递归限制已经到达（即程序已经调用过很多次），就停止搜索，返回结果。 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1626em; left:6.7325em;"><span class="stl_129 stl_49 stl_121">如果函数获取的链接字典是空的，就对当前页面的链接进行搜索。如果当前页面也没链 &nbsp;</span></div>
					<div class="stl_01" style="top:7.4127em; left:6.7323em;"><span class="stl_129 stl_49 stl_10">接，就返回空链接字典。 &nbsp;</span></div>
					<div class="stl_01" style="top:8.6246em; left:5.6691em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:8.5849em; left:6.7323em;"><span class="stl_129 stl_49 stl_776" style="word-spacing:-0.0235em;">如果当前页面包含我们搜索的页面链接，就把页面 </span><span class="stl_132 stl_52 stl_776" style="word-spacing:-0.0235em;">ID </span><span class="stl_129 stl_49 stl_776" style="word-spacing:-0.0235em;">复制到递归的栈顶，然后抛出一 &nbsp;</span></div>
					<div class="stl_01" style="top:9.8349em; left:6.7323em;"><span class="stl_129 stl_49 stl_315" style="word-spacing:-0.0349em;">个异常，显示页面已经找到。递归过程中的每个栈都会打印当前页面 </span><span class="stl_132 stl_52 stl_315" style="word-spacing:-0.0349em;">ID</span><span class="stl_129 stl_49 stl_315" style="word-spacing:-0.0349em;">，然后抛出异 &nbsp;</span></div>
					<div class="stl_01" style="top:11.085em; left:6.7323em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">常显示页面已经找到，最终打印在屏幕上的就是一个完整的页面 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">ID </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">路径列表。 &nbsp;</span></div>
					<div class="stl_01" style="top:12.4127em; left:6.7323em;"><span class="stl_129 stl_49 stl_10">如果链接没找到，把递归限制减一，然后调用函数搜索下一层链接。 &nbsp;</span></div>
					<div class="stl_01" style="top:12.3746em; left:5.6691em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:14.2461em; left:5.6691em;"><span class="stl_129 stl_49 stl_564" style="word-spacing:-0.0046em;">下面是凯文</span><span class="stl_259 stl_20 stl_564" style="word-spacing:-0.0046em;">·</span><span class="stl_129 stl_49 stl_564" style="word-spacing:-0.0046em;">贝肯词条（在数据库中页面 </span><span class="stl_132 stl_52 stl_564" style="word-spacing:-0.0046em;">ID </span><span class="stl_129 stl_49 stl_564" style="word-spacing:-0.0046em;">为 </span><span class="stl_132 stl_52 stl_564" style="word-spacing:-0.0046em;">1</span><span class="stl_129 stl_49 stl_564" style="word-spacing:-0.0046em;">）和埃里克</span><span class="stl_259 stl_20 stl_564" style="word-spacing:-0.0046em;">·</span><span class="stl_129 stl_49 stl_564" style="word-spacing:-0.0046em;">艾德尔词条（在数据库中页 &nbsp;</span></div>
					<div class="stl_01" style="top:15.4961em; left:5.6691em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">面 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">ID </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">为 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">78520</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">）的链接路径： &nbsp;</span></div>
					<div class="stl_01" style="top:17.4649em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">TARGET 134951 FOUND! &nbsp;</span></div>
					<div class="stl_01" style="top:18.2979em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">PAGE: 156224 &nbsp;</span></div>
					<div class="stl_01" style="top:19.1309em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">PAGE: 155545 &nbsp;</span></div>
					<div class="stl_01" style="top:19.9639em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">PAGE: 3 &nbsp;</span></div>
					<div class="stl_01" style="top:20.7969em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">PAGE: 1 &nbsp;</span></div>
					<div class="stl_01" style="top:22.5193em; left:5.6693em;"><span class="stl_129 stl_49 stl_504" style="word-spacing:0.1172em;">对应的链接名称是：</span><span class="stl_132 stl_52 stl_504" style="word-spacing:0.1172em;">Kevin Bacon</span><span class="stl_129 stl_49 stl_504" style="word-spacing:0.1432em;"> →</span><span class="stl_132 stl_52 stl_504" style="word-spacing:0.1172em;"> San Diego Comic Con International</span><span class="stl_129 stl_49 stl_504" style="word-spacing:0.1424em;"> →</span><span class="stl_132 stl_52 stl_504" style="word-spacing:0.1172em;"> Brian Froud</span><span class="stl_129 stl_49 stl_504" style="word-spacing:0.1172em;"> → &nbsp;</span></div>
					<div class="stl_01" style="top:23.7693em; left:5.6693em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Terry Jones </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">→ </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Eric Idle</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:25.7581em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">除了解决“六度分隔”问题和对句子中的一个词后面跟哪个词问题进行建模，有向图和无 &nbsp;</span></div>
					<div class="stl_01" style="top:27.0081em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">向图还可以对网络数据采集中的许多场景进行建模。例如，一个网站与其他网站的链接关 &nbsp;</span></div>
					<div class="stl_01" style="top:28.2585em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">系是什么？一篇学术论文与其他学术论文之间的引用关系如何？零售网站上哪些产品应该 &nbsp;</span></div>
					<div class="stl_01" style="top:29.4308em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">捆绑销售？这个链接的强度是什么？这个链接是双向链接（</span><span class="stl_132 stl_52 stl_10">reciprocal</span><span class="stl_129 stl_49 stl_10">）吗？ &nbsp;</span></div>
					<div class="stl_01" style="top:31.4196em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">了解这些基础知识对建模、可视化以及基于采集数据进行预测都非常有用。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.8082em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">8</span></div>
					<div class="stl_01" style="top:33.7373em; left:6.4924em;"><span class="stl_197 stl_18 stl_71">.3</span><span class="stl_160 stl_20 stl_71">ꢀ自然语言工具包 &nbsp;</span></div>
					<div class="stl_01" style="top:36.2483em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">到目前为止，本章主要讨论对文本中所有单词的统计分析。哪些单词使用得最频繁？哪些 &nbsp;</span></div>
					<div class="stl_01" style="top:37.4983em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">单词用得最少？一个单词后面跟着哪几个单词？这些单词是如何组合在一起的？我们应该 &nbsp;</span></div>
					<div class="stl_01" style="top:38.7483em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">做却还没做的事情，是理解每个单词的具体含义。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.5817em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">自然语言工具包（</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">Natural Language Toolkit</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">，</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">NLTK</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">）就是这样一个 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">库，用于识别和 &nbsp;</span></div>
					<div class="stl_01" style="top:41.8317em; left:5.6693em;"><span class="stl_129 stl_49 stl_456" style="word-spacing:0.1192em;">标记英语文本中各个词的词性（</span><span class="stl_132 stl_52 stl_456" style="word-spacing:0.1192em;">parts of speech</span><span class="stl_129 stl_49 stl_456" style="word-spacing:0.1192em;">）。这个项目于</span><span class="stl_132 stl_52 stl_456" style="word-spacing:0.0013em;"> 2000 </span><span class="stl_129 stl_49 stl_456" style="word-spacing:0.0013em;">年创建，经过 </span><span class="stl_132 stl_52 stl_456" style="word-spacing:0.0013em;">15</span><span class="stl_129 stl_49 stl_456" style="word-spacing:0.0013em;"> 年的 &nbsp;</span></div>
					<div class="stl_01" style="top:43.1597em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">发展，由来自世界各地的几十个开发者共同努力维护。虽然它的功能非常丰富（有几本书 &nbsp;</span></div>
					<div class="stl_01" style="top:44.3321em; left:5.6693em;"><span class="stl_129 stl_49 stl_360" style="word-spacing:0.0455em;">专门介绍 </span><span class="stl_132 stl_52 stl_360" style="word-spacing:0.0455em;">NLTK</span><span class="stl_129 stl_49 stl_360" style="word-spacing:0.0455em;">），但这一节只重点介绍几个用法。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.8195em; left:5.6693em;"><span class="stl_260 stl_18 stl_10">8</span></div>
					<div class="stl_01" style="top:46.7611em; left:6.3471em;"><span class="stl_260 stl_18 stl_71">.3.1</span><span class="stl_91 stl_20 stl_71">ꢀ安装与设置 &nbsp;</span></div>
					<div class="stl_01" style="top:48.7021em; left:5.6693em;"><span class="stl_132 stl_52 stl_71" style="word-spacing:-0.0411em;">NLTK </span><span class="stl_129 stl_49 stl_71" style="word-spacing:-0.0411em;">模块的安装方法和其他 </span><span class="stl_132 stl_52 stl_71" style="word-spacing:-0.0411em;">Python </span><span class="stl_129 stl_49 stl_71" style="word-spacing:-0.0411em;">模块一样，要么从 </span><span class="stl_132 stl_52 stl_71" style="word-spacing:-0.0411em;">NLTK </span><span class="stl_129 stl_49 stl_71" style="word-spacing:-0.0411em;">网站直接下载安装包进行 &nbsp;</span></div>
					<div class="stl_01" style="top:49.9521em; left:5.6693em;"><span class="stl_129 stl_49 stl_741">安装，要么用其他几个第三方安装器通过关键词“</span><span class="stl_132 stl_52 stl_741">nltk</span><span class="stl_129 stl_49 stl_741">”安装。详细的安装教程，请参考 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">12 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 8</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_166.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_166.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:6.6142em;"><span class="stl_132 stl_52 stl_597" style="word-spacing:0.0255em;">NLTK </span><span class="stl_129 stl_49 stl_597" style="word-spacing:0.0255em;">网站（</span><span class="stl_132 stl_52 stl_597" style="word-spacing:0.0255em;">http://www.nltk.org/install.html</span><span class="stl_129 stl_49 stl_597" style="word-spacing:0.0255em;">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:6.746em; left:6.6142em;"><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0032em;">模块安装之后，可以下载 </span><span class="stl_132 stl_52 stl_127" style="word-spacing:-0.0032em;">NLTK </span><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0032em;">自带的文本库，这样你就可以非常轻松地实验 </span><span class="stl_132 stl_52 stl_127" style="word-spacing:-0.0032em;">NLTK </span><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0032em;">的功 &nbsp;</span></div>
					<div class="stl_01" style="top:7.9964em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">能。在 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">命令行输入下面的命令即可： &nbsp;</span></div>
					<div class="stl_01" style="top:9.9649em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:10.7979em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:9.9649em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">&gt;&gt; </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">nltk &nbsp;</span></div>
					<div class="stl_01" style="top:10.7979em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">&gt;&gt; nltk.download() &nbsp;</span></div>
					<div class="stl_01" style="top:12.5193em; left:6.6142em;"><span class="stl_129 stl_49 stl_438" style="word-spacing:0.0555em;">两行命令会打开 </span><span class="stl_132 stl_52 stl_438" style="word-spacing:0.0555em;">NLTK </span><span class="stl_129 stl_49 stl_438" style="word-spacing:0.0555em;">的下载器（图 </span><span class="stl_132 stl_52 stl_438" style="word-spacing:0.0555em;">8-2</span><span class="stl_129 stl_49 stl_438" style="word-spacing:0.0555em;">）。 &nbsp;</span></div>
					<div class="stl_01 stl_382" style="top:35.1079em; left:6.6142em;"><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0139em;">图 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0139em;">8-2</span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0139em;">：</span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0139em;">NLTK </span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0139em;">下载器可以让你浏览和下载 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0139em;">NLTK </span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0139em;">模块的包和文本库 &nbsp;</span></div>
					<div class="stl_01" style="top:37.0395em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">推荐你安装所有的包。要下载的每个文件都是非常小的文本；你永远也不会知道后面会用 &nbsp;</span></div>
					<div class="stl_01" style="top:38.2896em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">到哪一个，而且任何时候都可以轻易地卸载它们。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.6993em; left:6.6142em;"><span class="stl_260 stl_18 stl_10">8</span></div>
					<div class="stl_01" style="top:40.641em; left:7.292em;"><span class="stl_260 stl_18 stl_71">.3.2</span><span class="stl_91 stl_20 stl_71">ꢀ用</span><span class="stl_260 stl_18 stl_71">NLTK</span><span class="stl_91 stl_20 stl_71">做统计分析 &nbsp;</span></div>
					<div class="stl_01" style="top:42.5819em; left:6.6142em;"><span class="stl_132 stl_52 stl_253" style="word-spacing:-0.0205em;">NLTK </span><span class="stl_129 stl_49 stl_253" style="word-spacing:-0.0205em;">很擅长生成一些统计信息，包括对一段文字的单词数量、单词频率和单词词性的统 &nbsp;</span></div>
					<div class="stl_01" style="top:43.9096em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">计。如果你只需要做一些简单直接的计算（比如，一段文字中不重复单词的数量），导入 &nbsp;</span></div>
					<div class="stl_01" style="top:45.0819em; left:6.6142em;"><span class="stl_132 stl_52 stl_302" style="word-spacing:-0.0214em;">NLTK </span><span class="stl_129 stl_49 stl_302" style="word-spacing:-0.0214em;">模块就太大材小用了——它是一个非常大的模块。但是，如果你还需要对文本做一 &nbsp;</span></div>
					<div class="stl_01" style="top:46.4097em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">些更有深度的分析，那么里面有许多函数可以帮你实现任何需要的统计指标。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.2313em; left:6.6142em;"><span class="stl_129 stl_49 stl_276" style="word-spacing:-0.0534em;">用 </span><span class="stl_132 stl_52 stl_276" style="word-spacing:-0.0534em;">NLTK </span><span class="stl_129 stl_49 stl_276" style="word-spacing:-0.0534em;">做统计分析一般是从 </span><span class="stl_188 stl_44 stl_777" style="word-spacing:-0.0564em;">Text</span><span class="stl_129 stl_49 stl_276" style="word-spacing:-0.0534em;">对象开始的。</span><span class="stl_188 stl_44 stl_777" style="word-spacing:-0.0564em;">Text</span><span class="stl_129 stl_49 stl_276" style="word-spacing:-0.0534em;">对象可以通过下面的方法用简单的 &nbsp;</span></div>
					<div class="stl_01" style="top:49.4934em; left:6.6139em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">字符串来创建： &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:30.0283em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">自然语言处理 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">113 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_167.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_167.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8919em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">nltk </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">word_tokenize &nbsp;</span></div>
					<div class="stl_01" style="top:5.7249em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">nltk </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">Text &nbsp;</span></div>
					<div class="stl_01" style="top:7.3909em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">tokens = word_tokenize("Here is some not very interesting text") &nbsp;</span></div>
					<div class="stl_01" style="top:8.2239em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">text = Text(tokens) &nbsp;</span></div>
					<div class="stl_01" style="top:9.9344em; left:5.6693em;"><span class="stl_188 stl_44 stl_204" style="word-spacing:-0.035em;">word_tokenize</span><span class="stl_129 stl_49 stl_778" style="word-spacing:-0.0332em;">函数的参数可以是任何 </span><span class="stl_132 stl_52 stl_778" style="word-spacing:-0.0332em;">Python </span><span class="stl_129 stl_49 stl_778" style="word-spacing:-0.0332em;">字符串。如果你手边没有任何长字符串，但 &nbsp;</span></div>
					<div class="stl_01" style="top:11.1844em; left:5.6694em;"><span class="stl_129 stl_49 stl_285" style="word-spacing:-0.014em;">是还想尝试一些功能，在 </span><span class="stl_132 stl_52 stl_285" style="word-spacing:-0.014em;">NLTK </span><span class="stl_129 stl_49 stl_285" style="word-spacing:-0.014em;">库里已经内置了几本书，可以用 </span><span class="stl_188 stl_44 stl_286" style="word-spacing:-0.0148em;">import</span><span class="stl_129 stl_49 stl_285" style="word-spacing:-0.014em;">函数导入： &nbsp;</span></div>
					<div class="stl_01" style="top:13.1649em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">nltk.book </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">* &nbsp;</span></div>
					<div class="stl_01" style="top:14.9638em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">这样会加载九本书： &nbsp;</span></div>
					<div class="stl_01" style="top:16.8547em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">*</span></div>
					<div class="stl_01" style="top:16.8547em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">** Introductory Examples for the NLTK Book *** &nbsp;</span></div>
					<div class="stl_01" style="top:17.6877em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Loading text1, ..., text9 and sent1, ..., sent9 &nbsp;</span></div>
					<div class="stl_01" style="top:18.5207em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Type the name of the text or sentence to view it. &nbsp;</span></div>
					<div class="stl_01" style="top:19.3537em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Type: 'texts()' or 'sents()' to list the materials. &nbsp;</span></div>
					<div class="stl_01" style="top:20.1867em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">text1: Moby Dick by Herman Melville 1851 &nbsp;</span></div>
					<div class="stl_01" style="top:21.0197em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">text2: Sense and Sensibility by Jane Austen 1811 &nbsp;</span></div>
					<div class="stl_01" style="top:21.8527em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">text3: The Book of Genesis &nbsp;</span></div>
					<div class="stl_01" style="top:22.6857em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">text4: Inaugural Address Corpus &nbsp;</span></div>
					<div class="stl_01" style="top:23.5187em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">text5: Chat Corpus &nbsp;</span></div>
					<div class="stl_01" style="top:24.3517em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">text6: Monty Python and the Holy Grail &nbsp;</span></div>
					<div class="stl_01" style="top:25.1847em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">text7: Wall Street Journal &nbsp;</span></div>
					<div class="stl_01" style="top:26.0177em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">text8: Personals Corpus &nbsp;</span></div>
					<div class="stl_01" style="top:26.8507em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">text9: The Man Who Was Thursday by G . K . Chesterton 1908 &nbsp;</span></div>
					<div class="stl_01" style="top:28.5757em; left:5.6693em;"><span class="stl_129 stl_49 stl_779" style="word-spacing:0.0938em;">在后面的例子，我们都用 </span><span class="stl_132 stl_52 stl_779" style="word-spacing:0.0938em;">text6</span><span class="stl_129 stl_49 stl_779" style="word-spacing:0.0938em;">，“</span><span class="stl_132 stl_52 stl_779" style="word-spacing:0.0938em;">Monty</span><span class="stl_132 stl_52 stl_779" style="word-spacing:0.0588em;"> Python and the Holy Grail</span><span class="stl_129 stl_49 stl_779" style="word-spacing:0.0588em;">”（一部</span><span class="stl_132 stl_52 stl_779" style="word-spacing:0.0938em;"> 1975</span><span class="stl_129 stl_49 stl_779" style="word-spacing:0.0938em;"> 年电影的剧本）。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.4868em; left:5.6693em;"><span class="stl_129 stl_49 stl_123" style="word-spacing:-0.0034em;">文本对象可以像普通的 </span><span class="stl_132 stl_52 stl_123" style="word-spacing:-0.0034em;">Python </span><span class="stl_129 stl_49 stl_123" style="word-spacing:-0.0034em;">数组那样操作，好像它们就是一个包含文本里所有单词的数 &nbsp;</span></div>
					<div class="stl_01" style="top:31.8149em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">组。用这个属性，你可以统计文本中不重复的单词，然后与总单词数据进行比较： &nbsp;</span></div>
					<div class="stl_01" style="top:33.7057em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:34.5387em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">7</span></div>
					<div class="stl_01" style="top:33.7057em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">&gt;&gt; len(text6)/len(words) &nbsp;</span></div>
					<div class="stl_01" style="top:34.5387em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">.833333333333333 &nbsp;</span></div>
					<div class="stl_01" style="top:36.3378em; left:5.6693em;"><span class="stl_129 stl_49 stl_153">前面的数据表明剧本中每个单词平均被使用了八次。你还可以将文本对象放到一个频率分 &nbsp;</span></div>
					<div class="stl_01" style="top:37.5757em; left:5.6693em;"><span class="stl_129 stl_49 stl_512" style="word-spacing:-0.0147em;">布对象 </span><span class="stl_188 stl_44 stl_152" style="word-spacing:-0.0155em;">FreqDist</span><span class="stl_129 stl_49 stl_512" style="word-spacing:-0.0147em;">中，查看哪些单词是最常用的，以及单词的频率是多少。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.4787em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:40.3117em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:41.1447em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:41.9777em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">[</span></div>
					<div class="stl_01" style="top:42.8107em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">1</span></div>
					<div class="stl_01" style="top:43.6437em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:44.4767em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">3</span></div>
					<div class="stl_01" style="top:39.4787em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">&gt;&gt; </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">nltk </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">FreqDist &nbsp;</span></div>
					<div class="stl_01" style="top:40.3117em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">&gt;&gt; fdist = FreqDist(text6) &nbsp;</span></div>
					<div class="stl_01" style="top:41.1447em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">&gt;&gt; fdist.most_common(10) &nbsp;</span></div>
					<div class="stl_01" style="top:41.9777em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">(':', 1197), ('.', 816), ('!', 801), (',', 731), ("'", 421), ('[', 3 &nbsp;</span></div>
					<div class="stl_01" style="top:42.8107em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">9), (']', 312), ('the', 299), ('I', 255), ('ARTHUR', 225)] &nbsp;</span></div>
					<div class="stl_01" style="top:43.6437em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">&gt;&gt; fdist["Grail"] &nbsp;</span></div>
					<div class="stl_01" style="top:44.4767em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">4</span></div>
					<div class="stl_01" style="top:46.2775em; left:5.6693em;"><span class="stl_129 stl_49 stl_780">因为这是一个剧本，所以剧本中创作的一些角色会显示出来。例如，全部大写的 &nbsp;</span></div>
					<div class="stl_01" style="top:47.5275em; left:5.2735em;"><span class="stl_129 stl_49 stl_10">“</span></div>
					<div class="stl_01" style="top:47.4498em; left:6.0651em;"><span class="stl_132 stl_52 stl_319" style="word-spacing:0.0904em;">ARTHUR</span><span class="stl_129 stl_49 stl_319" style="word-spacing:0.0904em;">”频繁地出现，因为它会出现在亚瑟王（</span><span class="stl_132 stl_52 stl_319" style="word-spacing:0.0904em;">King Arthur</span><span class="stl_129 stl_49 stl_319" style="word-spacing:0.0904em;">）每一句台词的前面。另 &nbsp;</span></div>
					<div class="stl_01" style="top:48.6998em; left:5.6693em;"><span class="stl_129 stl_49 stl_312">外，分号（</span><span class="stl_132 stl_52 stl_312">:</span><span class="stl_129 stl_49 stl_312">）也出现在每一行的开头，当作分隔符把人物的姓名和人物的台词分开。根据 &nbsp;</span></div>
					<div class="stl_01" style="top:49.9498em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">这个特征，我们可以看到这个电影剧本一共有 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">1197 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">句台词！ &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">14 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 8</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_168.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_168.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:6.6142em;"><span class="stl_129 stl_49 stl_145" style="word-spacing:-0.0521em;">在上一章我们已经用过的 </span><span class="stl_132 stl_52 stl_145" style="word-spacing:-0.0521em;">2-gram </span><span class="stl_129 stl_49 stl_145" style="word-spacing:-0.0521em;">模型，在 </span><span class="stl_132 stl_52 stl_145" style="word-spacing:-0.0521em;">NLTK </span><span class="stl_129 stl_49 stl_145" style="word-spacing:-0.0521em;">中称作 </span><span class="stl_132 stl_52 stl_145" style="word-spacing:-0.0521em;">bigrams</span><span class="stl_129 stl_49 stl_145" style="word-spacing:-0.0521em;">（你可能会听到有人把 &nbsp;</span></div>
					<div class="stl_01" style="top:6.0849em; left:7.01em;"><span class="stl_132 stl_52 stl_738" style="word-spacing:0.0289em;">-gram </span><span class="stl_129 stl_49 stl_738" style="word-spacing:0.0289em;">模型叫作“</span><span class="stl_132 stl_52 stl_738" style="word-spacing:0.0289em;">trigrams</span><span class="stl_129 stl_49 stl_738" style="word-spacing:0.0289em;">”，但是我个人还是更喜欢用 </span><span class="stl_132 stl_52 stl_738" style="word-spacing:0.0289em;">n-gram </span><span class="stl_129 stl_49 stl_738" style="word-spacing:0.0289em;">而不是 </span><span class="stl_132 stl_52 stl_738" style="word-spacing:0.0289em;">bigram </span><span class="stl_129 stl_49 stl_738" style="word-spacing:0.0289em;">或 </span><span class="stl_132 stl_52 stl_738" style="word-spacing:0.0289em;">trigram</span><span class="stl_129 stl_49 stl_738" style="word-spacing:0.0289em;">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.335em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">你可以用 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">NLTK </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">非常轻松地创建并搜索一个 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">2-gram </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">模型： &nbsp;</span></div>
					<div class="stl_01" style="top:6.1246em; left:6.6142em;"><span class="stl_132 stl_52 stl_10">3</span></div>
					<div class="stl_01" style="top:9.3035em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:10.1365em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:10.9695em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:11.8025em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:12.6355em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">1</span></div>
					<div class="stl_01" style="top:9.3035em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">&gt;&gt; </span><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">nltk </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">bigrams &nbsp;</span></div>
					<div class="stl_01" style="top:10.1365em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">&gt;&gt; bigrams = bigrams(text6) &nbsp;</span></div>
					<div class="stl_01" style="top:10.9695em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">&gt;&gt; bigramsDist = FreqDist(bigrams) &nbsp;</span></div>
					<div class="stl_01" style="top:11.8025em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">&gt;&gt; bigramsDist[("Sir", "Robin")] &nbsp;</span></div>
					<div class="stl_01" style="top:12.6355em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">8</span></div>
					<div class="stl_01" style="top:14.3458em; left:6.6142em;"><span class="stl_129 stl_49 stl_642" style="word-spacing:0.009em;">为了搜索 </span><span class="stl_132 stl_52 stl_642" style="word-spacing:0.009em;">2-gram </span><span class="stl_129 stl_49 stl_642" style="word-spacing:0.009em;">序列“</span><span class="stl_132 stl_52 stl_642" style="word-spacing:0.009em;">Sir</span><span class="stl_132 stl_52 stl_642" style="word-spacing:0.1279em;"> Robin</span><span class="stl_129 stl_49 stl_642" style="word-spacing:0.1279em;">”，我们需要把它分解成一个数组</span><span class="stl_188 stl_44 stl_288" style="word-spacing:0.0052em;"> ("Sir",</span><span class="stl_188 stl_44 stl_288" style="word-spacing:0.253em;"> "Robin")</span><span class="stl_129 stl_49 stl_642" style="word-spacing:0.2397em;">，用 &nbsp;</span></div>
					<div class="stl_01" style="top:15.5958em; left:6.6141em;"><span class="stl_129 stl_49 stl_332" style="word-spacing:-0.0371em;">来匹配这个 </span><span class="stl_132 stl_52 stl_332" style="word-spacing:-0.0371em;">2-gram </span><span class="stl_129 stl_49 stl_332" style="word-spacing:-0.0371em;">序列在频率分布中的表现方式。还有一个 </span><span class="stl_188 stl_44 stl_397" style="word-spacing:-0.0392em;">trigrams</span><span class="stl_129 stl_49 stl_332" style="word-spacing:-0.0371em;">模块，它的工作方 &nbsp;</span></div>
					<div class="stl_01" style="top:16.9235em; left:6.6142em;"><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0178em;">式完全相同。对于更一般的情形，你还可以导入 </span><span class="stl_188 stl_44 stl_209" style="word-spacing:-0.0188em;">ngrams</span><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0178em;">模块： &nbsp;</span></div>
					<div class="stl_01" style="top:18.8265em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:19.6595em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:20.4925em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:21.3255em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:22.1585em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">1</span></div>
					<div class="stl_01" style="top:18.8265em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">&gt;&gt; </span><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">nltk </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">ngrams &nbsp;</span></div>
					<div class="stl_01" style="top:19.6595em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">&gt;&gt; fourgrams = ngrams(text6, 4) &nbsp;</span></div>
					<div class="stl_01" style="top:20.4925em; left:8.6928em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">&gt;&gt; fourgramsDist = FreqDist(fourgrams) &nbsp;</span></div>
					<div class="stl_01" style="top:21.3255em; left:8.6928em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">&gt;&gt; fourgramsDist[("father", "smelt", "of", "elderberries")] &nbsp;</span></div>
					<div class="stl_01" style="top:23.8688em; left:6.6142em;"><span class="stl_129 stl_49 stl_445" style="word-spacing:-0.0395em;">这个 </span><span class="stl_188 stl_44 stl_177" style="word-spacing:-0.0417em;">ngrams</span><span class="stl_129 stl_49 stl_445" style="word-spacing:-0.0395em;">函数被用来把文本对象分解成任意规模的 </span><span class="stl_132 stl_52 stl_445" style="word-spacing:-0.0395em;">n-gram </span><span class="stl_129 stl_49 stl_445" style="word-spacing:-0.0395em;">序列，第二个参数决定规模 &nbsp;</span></div>
					<div class="stl_01" style="top:25.1309em; left:6.6142em;"><span class="stl_129 stl_49 stl_781" style="word-spacing:-0.0393em;">大小。在这个例子中，我把文本分解成了 </span><span class="stl_132 stl_52 stl_781" style="word-spacing:-0.0393em;">4-gram</span><span class="stl_129 stl_49 stl_781" style="word-spacing:-0.0393em;">。然后，我就可以查出“</span><span class="stl_132 stl_52 stl_781" style="word-spacing:-0.0393em;">father</span><span class="stl_132 stl_52 stl_781" style="word-spacing:0.0728em;"> smelt</span><span class="stl_132 stl_52 stl_781" style="word-spacing:0.0728em;"> of &nbsp;</span></div>
					<div class="stl_01" style="top:26.3809em; left:6.6142em;"><span class="stl_132 stl_52 stl_10">elderberries</span><span class="stl_129 stl_49 stl_10">”这个短语在剧本中只出现了一次。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.292em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">频率分布、文本对象和 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0002em;">n-gram </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">还可以整合在一个循环中进行迭代。例如，下面的程序就是 &nbsp;</span></div>
					<div class="stl_01" style="top:29.542em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">打印文本中所有以“</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">coconut</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">”开头的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">4-gram </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">序列： &nbsp;</span></div>
					<div class="stl_01" style="top:31.5107em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">nltk.book </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">* &nbsp;</span></div>
					<div class="stl_01" style="top:32.3437em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">nltk </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">ngrams &nbsp;</span></div>
					<div class="stl_01" style="top:33.1767em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">fourgrams = ngrams(text6, 4) &nbsp;</span></div>
					<div class="stl_01" style="top:34.0097em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">fourgram </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">fourgrams: &nbsp;</span></div>
					<div class="stl_01" style="top:34.8427em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">fourgram[0] == "coconut": &nbsp;</span></div>
					<div class="stl_01" style="top:35.6757em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(fourgram) &nbsp;</span></div>
					<div class="stl_01" style="top:37.3986em; left:6.6142em;"><span class="stl_132 stl_52 stl_782" style="word-spacing:-0.0669em;">NLTK </span><span class="stl_129 stl_49 stl_782" style="word-spacing:-0.0669em;">库设计了许多不同的工具和对象来组织、统计、排序和度量大段文字的含义。尽 &nbsp;</span></div>
					<div class="stl_01" style="top:38.6486em; left:6.6142em;"><span class="stl_129 stl_49 stl_552" style="word-spacing:-0.0573em;">管我们只是了解了 </span><span class="stl_132 stl_52 stl_552" style="word-spacing:-0.0573em;">NLTK </span><span class="stl_129 stl_49 stl_552" style="word-spacing:-0.0573em;">函数用法的皮毛，但是大多数工具都设计得非常好，而且熟悉 &nbsp;</span></div>
					<div class="stl_01" style="top:39.8986em; left:6.6142em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">的人很容易操作它们。 &nbsp;</span></div>
					<div class="stl_01" style="top:42.3861em; left:6.6142em;"><span class="stl_260 stl_18 stl_10">8</span></div>
					<div class="stl_01" style="top:42.3277em; left:7.292em;"><span class="stl_260 stl_18 stl_71">.3.3</span><span class="stl_91 stl_20 stl_71">ꢀ用</span><span class="stl_260 stl_18 stl_71">NLTK</span><span class="stl_91 stl_20 stl_71">做词性分析 &nbsp;</span></div>
					<div class="stl_01" style="top:44.3463em; left:6.6142em;"><span class="stl_129 stl_49 stl_418">到现在为止，我们只是基于拼写方式对比和分类遇到的所有单词，并没有区分同义词或 &nbsp;</span></div>
					<div class="stl_01" style="top:45.5964em; left:6.6142em;"><span class="stl_129 stl_49 stl_71">语境。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.5075em; left:6.6142em;"><span class="stl_129 stl_49 stl_644">虽然有人可能会认为同义词不处理也基本没什么问题，但是如果你看到了它们使用的频 &nbsp;</span></div>
					<div class="stl_01" style="top:48.7578em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">率，可能会吓一跳。大多数以英语为母语的人可能不会注意到两个词互为同义词，也很少 &nbsp;</span></div>
					<div class="stl_01" style="top:50.0078em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">会考虑同一个词在不同的语境中可能会导致意思混乱。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:30.0283em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">自然语言处理 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">115 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_169.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_169.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9126em; left:5.2735em;"><span class="stl_129 stl_49 stl_10">“</span></div>
					<div class="stl_01" style="top:4.8745em; left:6.0651em;"><span class="stl_132 stl_52 stl_73" style="word-spacing:0.0642em;">He was objective in achieving his objective of writing an objective philosophy, primarily using &nbsp;</span></div>
					<div class="stl_01" style="top:6.085em; left:5.6693em;"><span class="stl_132 stl_52 stl_663" style="word-spacing:0.105em;">verbs in the objective case</span><span class="stl_129 stl_49 stl_663" style="word-spacing:0.105em;">”（在实现他写作一本客观哲学书的目标时，他是客观的，因为他 &nbsp;</span></div>
					<div class="stl_01" style="top:7.4126em; left:5.6693em;"><span class="stl_129 stl_49 stl_153">在描述客观情况时主要用动词）这句话容易被人类理解，但是网络爬虫可能会认为是同样 &nbsp;</span></div>
					<div class="stl_01" style="top:8.585em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">的单词（</span><span class="stl_132 stl_52 stl_10">objective</span><span class="stl_129 stl_49 stl_10">）被用了四次，进而简单地忽略这四个单词各自不同的含义。 &nbsp;</span></div>
					<div class="stl_01" style="top:10.5737em; left:5.6693em;"><span class="stl_129 stl_49 stl_142">除了理清句子中各个词的词性，还要区分出某句话中一个单词的用法。例如，你可能会 &nbsp;</span></div>
					<div class="stl_01" style="top:11.824em; left:5.6693em;"><span class="stl_129 stl_49 stl_172">需要查找一些普通英文单词组成的公司名称，或者分析某个人对一个公司的评价，像 &nbsp;</span></div>
					<div class="stl_01" style="top:13.0741em; left:5.2735em;"><span class="stl_129 stl_49 stl_10">“</span></div>
					<div class="stl_01" style="top:12.9963em; left:6.0651em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.043em;">ACME Products is good</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.043em;">”和“</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.043em;">ACME Products is not bad</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.043em;">”意思是一样的，即使一句话里用 &nbsp;</span></div>
					<div class="stl_01" style="top:14.2463em; left:5.6693em;"><span class="stl_129 stl_49 stl_423">的是“</span><span class="stl_132 stl_52 stl_423">good</span><span class="stl_129 stl_49 stl_423">”，而另一句话用的是“</span><span class="stl_132 stl_52 stl_423">bad</span><span class="stl_129 stl_49 stl_423">”。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.8527em; left:16.1779em;"><span class="stl_469 stl_18 stl_244" style="word-spacing:-0.0133em;">Penn Treebank </span><span class="stl_268 stl_20 stl_244" style="word-spacing:-0.0133em;">语义标记 &nbsp;</span></div>
					<div class="stl_01" style="top:18.5017em; left:6.403em;"><span class="stl_132 stl_52 stl_130" style="word-spacing:-0.0172em;">NLTK </span><span class="stl_269 stl_49 stl_130" style="word-spacing:-0.0172em;">默认使用的语料标记系统是由美国宾夕法尼亚大学大学开发的颇受欢迎的 </span><span class="stl_132 stl_52 stl_130" style="word-spacing:-0.0172em;">Penn &nbsp;</span></div>
					<div class="stl_01" style="top:19.6267em; left:6.4117em;"><span class="stl_132 stl_52 stl_271" style="word-spacing:-0.0113em;">Treebank </span><span class="stl_269 stl_49 stl_271" style="word-spacing:-0.0113em;">项目（</span><span class="stl_132 stl_52 stl_271" style="word-spacing:-0.0113em;">http://www.cis.upenn.edu/~treebank/</span><span class="stl_269 stl_49 stl_271" style="word-spacing:-0.0113em;">）中的语料标记部分。虽然有些标 &nbsp;</span></div>
					<div class="stl_01" style="top:20.7516em; left:6.4156em;"><span class="stl_269 stl_49 stl_671" style="word-spacing:0.0121em;">记意思明确（比如，</span><span class="stl_132 stl_52 stl_671" style="word-spacing:0.0121em;">CC </span><span class="stl_269 stl_49 stl_671" style="word-spacing:0.0121em;">就是并列连接词，</span><span class="stl_132 stl_52 stl_671" style="word-spacing:0.0121em;">coordinating</span><span class="stl_132 stl_52 stl_671" style="word-spacing:0.1321em;"> conjunction</span><span class="stl_269 stl_49 stl_671" style="word-spacing:0.1321em;">），有些标记却比较 &nbsp;</span></div>
					<div class="stl_01" style="top:21.8766em; left:6.4227em;"><span class="stl_269 stl_49 stl_278" style="word-spacing:0.0284em;">模糊（比如，</span><span class="stl_132 stl_52 stl_278" style="word-spacing:0.0284em;">RP </span><span class="stl_269 stl_49 stl_278" style="word-spacing:0.0284em;">是一个小品词，</span><span class="stl_132 stl_52 stl_278" style="word-spacing:0.0284em;">particle</span><span class="stl_269 stl_49 stl_278" style="word-spacing:0.0284em;">）。下面是语义标记的对照表。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.7018em; left:6.6392em;"><span class="stl_426 stl_47 stl_10">缩ꢀꢀ写 &nbsp;</span></div>
					<div class="stl_01" style="top:24.8282em; left:6.6392em;"><span class="stl_61 stl_52 stl_10">CC &nbsp;</span></div>
					<div class="stl_01" style="top:23.7018em; left:17.4698em;"><span class="stl_426 stl_47 stl_10">全ꢀꢀ称 &nbsp;</span></div>
					<div class="stl_01" style="top:24.7948em; left:10.2992em;"><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">并列连接词（</span><span class="stl_61 stl_52 stl_10" style="word-spacing:0em;">Coordinating conjunction</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:25.9342em; left:10.2992em;"><span class="stl_60 stl_49 stl_10" style="word-spacing:0.0002em;">基数（</span><span class="stl_61 stl_52 stl_10" style="word-spacing:0.0002em;">Cardinal number</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0.0002em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:25.9675em; left:6.6392em;"><span class="stl_61 stl_52 stl_10">CD &nbsp;</span></div>
					<div class="stl_01" style="top:27.1068em; left:6.6392em;"><span class="stl_61 stl_52 stl_229">DT &nbsp;</span></div>
					<div class="stl_01" style="top:27.0735em; left:10.2992em;"><span class="stl_60 stl_49 stl_10">限定词（</span><span class="stl_61 stl_52 stl_10">Determiner</span><span class="stl_60 stl_49 stl_10">） &nbsp;</span></div>
					<div class="stl_01" style="top:28.2462em; left:6.6392em;"><span class="stl_61 stl_52 stl_386">EX &nbsp;</span></div>
					<div class="stl_01" style="top:28.2128em; left:10.2992em;"><span class="stl_60 stl_49 stl_783">表示存在性的“</span><span class="stl_61 stl_52 stl_783">there</span><span class="stl_60 stl_49 stl_783">”（</span><span class="stl_61 stl_52 stl_783">Existential</span><span class="stl_60 stl_49 stl_783">“</span><span class="stl_61 stl_52 stl_783">there</span><span class="stl_60 stl_49 stl_783">”） &nbsp;</span></div>
					<div class="stl_01" style="top:29.3522em; left:10.2998em;"><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">外来语（</span><span class="stl_61 stl_52 stl_10" style="word-spacing:0em;">Foreign word</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:29.3855em; left:6.6398em;"><span class="stl_61 stl_52 stl_229">FW &nbsp;</span></div>
					<div class="stl_01" style="top:30.5248em; left:6.6398em;"><span class="stl_61 stl_52 stl_10">IN &nbsp;</span></div>
					<div class="stl_01" style="top:30.4915em; left:10.2998em;"><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">介词，从属连词（</span><span class="stl_61 stl_52 stl_10" style="word-spacing:0em;">Preposition, subordinating conjunction</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:31.6308em; left:10.2998em;"><span class="stl_60 stl_49 stl_10">形容词（</span><span class="stl_61 stl_52 stl_10">Adjective</span><span class="stl_60 stl_49 stl_10">） &nbsp;</span></div>
					<div class="stl_01" style="top:31.6642em; left:6.6398em;"><span class="stl_61 stl_52 stl_229">JJ &nbsp;</span></div>
					<div class="stl_01" style="top:32.8035em; left:6.6398em;"><span class="stl_61 stl_52 stl_229">JJR &nbsp;</span></div>
					<div class="stl_01" style="top:32.7702em; left:10.2998em;"><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">形容词，比较级（</span><span class="stl_61 stl_52 stl_10" style="word-spacing:0em;">Adjective, comparative</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:33.9095em; left:10.2998em;"><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">形容词，最高级（</span><span class="stl_61 stl_52 stl_10" style="word-spacing:0em;">Adjective, superlative</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:35.0488em; left:10.2998em;"><span class="stl_60 stl_49 stl_10" style="word-spacing:0.0002em;">列表项标记符（</span><span class="stl_61 stl_52 stl_10" style="word-spacing:0.0002em;">List item marker</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0.0002em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:36.1882em; left:10.2998em;"><span class="stl_60 stl_49 stl_10">情态动词（</span><span class="stl_61 stl_52 stl_10">Modal</span><span class="stl_60 stl_49 stl_10">） &nbsp;</span></div>
					<div class="stl_01" style="top:33.9428em; left:6.6398em;"><span class="stl_61 stl_52 stl_229">JJS &nbsp;</span></div>
					<div class="stl_01" style="top:35.0822em; left:6.6398em;"><span class="stl_61 stl_52 stl_386">LS &nbsp;</span></div>
					<div class="stl_01" style="top:36.2215em; left:6.6398em;"><span class="stl_61 stl_52 stl_229">MD &nbsp;</span></div>
					<div class="stl_01" style="top:37.3608em; left:6.6398em;"><span class="stl_61 stl_52 stl_229">NN &nbsp;</span></div>
					<div class="stl_01" style="top:37.3275em; left:10.2998em;"><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">名词，单数或不可数（</span><span class="stl_61 stl_52 stl_10" style="word-spacing:0em;">Noun, singular or mass</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:38.4668em; left:10.2998em;"><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">名词，复数（</span><span class="stl_61 stl_52 stl_10" style="word-spacing:0em;">Noun, plural</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:38.5002em; left:6.6398em;"><span class="stl_61 stl_52 stl_229">NNS &nbsp;</span></div>
					<div class="stl_01" style="top:39.6395em; left:6.6398em;"><span class="stl_61 stl_52 stl_229">NNP &nbsp;</span></div>
					<div class="stl_01" style="top:40.7788em; left:6.6398em;"><span class="stl_61 stl_52 stl_229">NNPS &nbsp;</span></div>
					<div class="stl_01" style="top:41.9148em; left:6.6392em;"><span class="stl_61 stl_52 stl_229">PDT &nbsp;</span></div>
					<div class="stl_01" style="top:43.0542em; left:6.6392em;"><span class="stl_61 stl_52 stl_229">POS &nbsp;</span></div>
					<div class="stl_01" style="top:44.1935em; left:6.6392em;"><span class="stl_61 stl_52 stl_244">PRP &nbsp;</span></div>
					<div class="stl_01" style="top:45.3328em; left:6.6392em;"><span class="stl_61 stl_52 stl_244">PRP$ &nbsp;</span></div>
					<div class="stl_01" style="top:46.4722em; left:6.6392em;"><span class="stl_61 stl_52 stl_10">RB &nbsp;</span></div>
					<div class="stl_01" style="top:39.6062em; left:10.2998em;"><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">专有名词，单数（</span><span class="stl_61 stl_52 stl_10" style="word-spacing:0em;">Proper noun, singular</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:40.7422em; left:10.2998em;"><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">专有名词，复数（</span><span class="stl_61 stl_52 stl_10" style="word-spacing:0em;">Proper noun, plural</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:41.8815em; left:10.2992em;"><span class="stl_60 stl_49 stl_10">前置限定词（</span><span class="stl_61 stl_52 stl_10">Predeterminer</span><span class="stl_60 stl_49 stl_10">） &nbsp;</span></div>
					<div class="stl_01" style="top:43.0208em; left:10.2992em;"><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">名词所有格 </span><span class="stl_61 stl_52 stl_10" style="word-spacing:0em;">s </span><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">结尾（</span><span class="stl_61 stl_52 stl_10" style="word-spacing:0em;">Possessive ending</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:44.1602em; left:10.2992em;"><span class="stl_60 stl_49 stl_10" style="word-spacing:0.0002em;">人称代词（</span><span class="stl_61 stl_52 stl_10" style="word-spacing:0.0002em;">Personal pronoun</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0.0002em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:45.2995em; left:10.2992em;"><span class="stl_60 stl_49 stl_10" style="word-spacing:0.0002em;">物主代词（</span><span class="stl_61 stl_52 stl_10" style="word-spacing:0.0002em;">Possessive pronoun</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0.0002em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:46.4388em; left:10.2992em;"><span class="stl_60 stl_49 stl_10">副词（</span><span class="stl_61 stl_52 stl_10">Adverb</span><span class="stl_60 stl_49 stl_10">） &nbsp;</span></div>
					<div class="stl_01" style="top:47.6148em; left:6.6392em;"><span class="stl_61 stl_52 stl_10">RBR &nbsp;</span></div>
					<div class="stl_01" style="top:48.7542em; left:6.6392em;"><span class="stl_61 stl_52 stl_10">RBS &nbsp;</span></div>
					<div class="stl_01" style="top:47.5815em; left:10.2992em;"><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">副词，比较级（</span><span class="stl_61 stl_52 stl_10" style="word-spacing:0em;">Adverb, comparative</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:48.7208em; left:10.2992em;"><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">副词，最高级（</span><span class="stl_61 stl_52 stl_10" style="word-spacing:0em;">Adverb, superlative</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">16 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 8</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_170.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_170.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:5.8579em; left:26.7589em;"><span class="stl_48 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:5.8579em; left:27.5089em;"><span class="stl_48 stl_49 stl_689">续）ꢀꢀ &nbsp;</span></div>
					<div class="stl_01" style="top:7.4065em; left:7.5841em;"><span class="stl_426 stl_47 stl_10">缩ꢀꢀ写 &nbsp;</span></div>
					<div class="stl_01" style="top:7.4065em; left:19.2887em;"><span class="stl_426 stl_47 stl_10">全ꢀꢀ称 &nbsp;</span></div>
					<div class="stl_01" style="top:8.7321em; left:7.5841em;"><span class="stl_61 stl_52 stl_10">RP &nbsp;</span></div>
					<div class="stl_01" style="top:8.6988em; left:11.3387em;"><span class="stl_60 stl_49 stl_10">小品词（</span><span class="stl_61 stl_52 stl_10">Particle</span><span class="stl_60 stl_49 stl_10">） &nbsp;</span></div>
					<div class="stl_01" style="top:9.8381em; left:11.3387em;"><span class="stl_60 stl_49 stl_10">符号（</span><span class="stl_61 stl_52 stl_10">Symbol</span><span class="stl_60 stl_49 stl_10">） &nbsp;</span></div>
					<div class="stl_01" style="top:9.8715em; left:7.5841em;"><span class="stl_61 stl_52 stl_229">SYM &nbsp;</span></div>
					<div class="stl_01" style="top:11.0108em; left:7.5841em;"><span class="stl_61 stl_52 stl_386">TO &nbsp;</span></div>
					<div class="stl_01" style="top:10.9775em; left:11.3387em;"><span class="stl_60 stl_49 stl_784">介词“</span><span class="stl_61 stl_52 stl_784">to</span><span class="stl_60 stl_49 stl_784">”（“</span><span class="stl_61 stl_52 stl_784">to</span><span class="stl_60 stl_49 stl_784">”） &nbsp;</span></div>
					<div class="stl_01" style="top:12.1168em; left:11.3394em;"><span class="stl_60 stl_49 stl_10">感叹词（</span><span class="stl_61 stl_52 stl_10">Interjection</span><span class="stl_60 stl_49 stl_10">） &nbsp;</span></div>
					<div class="stl_01" style="top:12.1501em; left:7.5847em;"><span class="stl_61 stl_52 stl_229">UH &nbsp;</span></div>
					<div class="stl_01" style="top:13.2895em; left:7.5847em;"><span class="stl_61 stl_52 stl_229">VB &nbsp;</span></div>
					<div class="stl_01" style="top:13.2561em; left:11.3394em;"><span class="stl_60 stl_49 stl_10" style="word-spacing:0.0001em;">动词，一般形式（</span><span class="stl_61 stl_52 stl_10" style="word-spacing:0.0001em;">Verb, base form</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0.0001em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:14.3955em; left:11.3394em;"><span class="stl_60 stl_49 stl_10" style="word-spacing:0.0001em;">动词，过去时（</span><span class="stl_61 stl_52 stl_10" style="word-spacing:0.0001em;">Verb, past tense</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0.0001em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:14.4288em; left:7.5847em;"><span class="stl_61 stl_52 stl_244">VBD &nbsp;</span></div>
					<div class="stl_01" style="top:15.5681em; left:7.5854em;"><span class="stl_61 stl_52 stl_244">VBG &nbsp;</span></div>
					<div class="stl_01" style="top:16.7075em; left:7.5854em;"><span class="stl_61 stl_52 stl_244">VBN &nbsp;</span></div>
					<div class="stl_01" style="top:17.8468em; left:7.5854em;"><span class="stl_61 stl_52 stl_244">VBP &nbsp;</span></div>
					<div class="stl_01" style="top:18.9861em; left:7.5854em;"><span class="stl_61 stl_52 stl_244">VBZ &nbsp;</span></div>
					<div class="stl_01" style="top:20.1255em; left:7.5854em;"><span class="stl_61 stl_52 stl_10">WDT &nbsp;</span></div>
					<div class="stl_01" style="top:21.2648em; left:7.5854em;"><span class="stl_61 stl_52 stl_386">WP &nbsp;</span></div>
					<div class="stl_01" style="top:15.5348em; left:11.3401em;"><span class="stl_60 stl_49 stl_10" style="word-spacing:0.0001em;">动词，动名词或现在分词（</span><span class="stl_61 stl_52 stl_10" style="word-spacing:0.0001em;">Verb, gerund or present participle</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0.0001em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:16.6741em; left:11.3401em;"><span class="stl_60 stl_49 stl_10" style="word-spacing:0.0001em;">动词，过去分词（</span><span class="stl_61 stl_52 stl_10" style="word-spacing:0.0001em;">Verb, past participle</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0.0001em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:17.8135em; left:11.3401em;"><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">动词，非第三人称单数（</span><span class="stl_61 stl_52 stl_10" style="word-spacing:0em;">Verb, non-third person singular present</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:18.9528em; left:11.3401em;"><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">动词，第三人称单数（</span><span class="stl_61 stl_52 stl_10" style="word-spacing:0em;">Verb, third person singular present</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:20.0921em; left:11.3401em;"><span class="stl_61 stl_52 stl_10" style="word-spacing:0em;">Wh- </span><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">限定词（</span><span class="stl_61 stl_52 stl_10" style="word-spacing:0em;">Wh-determiner</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:21.2315em; left:11.3401em;"><span class="stl_61 stl_52 stl_10" style="word-spacing:0em;">Wh- </span><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">代词（</span><span class="stl_61 stl_52 stl_10" style="word-spacing:0em;">Wh-pronoun</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:22.4041em; left:7.5854em;"><span class="stl_61 stl_52 stl_10">WP$ &nbsp;</span></div>
					<div class="stl_01" style="top:23.5435em; left:7.5854em;"><span class="stl_61 stl_52 stl_73">WRB &nbsp;</span></div>
					<div class="stl_01" style="top:22.3708em; left:11.3401em;"><span class="stl_61 stl_52 stl_10" style="word-spacing:0.0001em;">Wh- </span><span class="stl_60 stl_49 stl_10" style="word-spacing:0.0001em;">物主代词（</span><span class="stl_61 stl_52 stl_10" style="word-spacing:0.0001em;">Possessive wh-pronoun</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0.0001em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:23.5101em; left:11.3401em;"><span class="stl_61 stl_52 stl_10" style="word-spacing:-0.0001em;">Wh- </span><span class="stl_60 stl_49 stl_10" style="word-spacing:-0.0001em;">副词（</span><span class="stl_61 stl_52 stl_10" style="word-spacing:-0.0001em;">Wh-adverb</span><span class="stl_60 stl_49 stl_10" style="word-spacing:-0.0001em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:25.8109em; left:6.6142em;"><span class="stl_129 stl_49 stl_785" style="word-spacing:0.0014em;">除了度量语言，</span><span class="stl_132 stl_52 stl_785" style="word-spacing:0.0014em;">NLTK </span><span class="stl_129 stl_49 stl_785" style="word-spacing:0.0014em;">还可以用它的超级大字典分析文本内容，帮助人们寻找单词的含义。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.061em; left:6.6142em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0002em;">NLTK </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0002em;">的一个基本功能是识别句子中各个词的词性： &nbsp;</span></div>
					<div class="stl_01" style="top:29.0295em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:29.8625em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:30.6955em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:29.0295em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">&gt;&gt; </span><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">nltk.book </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">* &nbsp;</span></div>
					<div class="stl_01" style="top:29.8625em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">&gt;&gt; </span><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">nltk </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">word_tokenize &nbsp;</span></div>
					<div class="stl_01" style="top:30.6955em; left:8.6928em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">&gt;&gt; text = word_tokenize("Strange women lying in ponds distributing swords is no &nbsp;</span></div>
					<div class="stl_01" style="top:31.5285em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">basis </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">for </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">a system of government.</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0.5em;"> Supreme</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;"> executive power derives </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">a</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;"> mandate &nbsp;</span></div>
					<div class="stl_01" style="top:32.3615em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">the masses, </span><span class="stl_232 stl_44 stl_10">not from </span><span class="stl_116 stl_44 stl_10">some farcical aquatic ceremony.") &nbsp;</span></div>
					<div class="stl_01" style="top:33.1945em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:34.0275em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:34.8605em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">[</span></div>
					<div class="stl_01" style="top:35.6935em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">,</span></div>
					<div class="stl_01" style="top:36.5265em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">,</span></div>
					<div class="stl_01" style="top:37.3595em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">(</span></div>
					<div class="stl_01" style="top:33.1945em; left:8.6927em;"><span class="stl_116 stl_44 stl_10">&gt;&gt; </span><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">nltk </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">pos_tag &nbsp;</span></div>
					<div class="stl_01" style="top:34.0275em; left:8.6927em;"><span class="stl_116 stl_44 stl_10">&gt;&gt; pos_tag(text) &nbsp;</span></div>
					<div class="stl_01" style="top:34.8605em; left:8.6927em;"><span class="stl_116 stl_44 stl_10">('Strange', 'NNP'), ('women', 'NNS'), ('lying', 'VBG'), ('in', 'IN') &nbsp;</span></div>
					<div class="stl_01" style="top:35.6935em; left:9.0469em;"><span class="stl_116 stl_44 stl_10">('ponds', 'NNS'), ('distributing', 'VBG'), ('swords', 'NNS'), ('is' &nbsp;</span></div>
					<div class="stl_01" style="top:36.5265em; left:9.0469em;"><span class="stl_116 stl_44 stl_10">'VBZ'), ('no', 'DT'), ('basis', 'NN'), ('for', 'IN'), ('a', 'DT'), &nbsp;</span></div>
					<div class="stl_01" style="top:37.3595em; left:8.6927em;"><span class="stl_116 stl_44 stl_10">'system', 'NN'), ('of', 'IN'), ('government', 'NN'), ('.', '.'), ('S &nbsp;</span></div>
					<div class="stl_01" style="top:38.1925em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">upreme', 'NNP'), ('executive', 'NN'), ('power', 'NN'), ('derives', 'N &nbsp;</span></div>
					<div class="stl_01" style="top:39.0255em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">NS'), ('from', 'IN'), ('a', 'DT'), ('mandate', 'NN'), ('from', 'IN'), &nbsp;</span></div>
					<div class="stl_01" style="top:39.8585em; left:8.6927em;"><span class="stl_116 stl_44 stl_10">(</span></div>
					<div class="stl_01" style="top:39.8585em; left:9.0469em;"><span class="stl_116 stl_44 stl_10">'the', 'DT'), ('masses', 'NNS'), (',', ','), ('not', 'RB'), ('from' &nbsp;</span></div>
					<div class="stl_01" style="top:40.6915em; left:9.0469em;"><span class="stl_116 stl_44 stl_10">'IN'), ('some', 'DT'), ('farcical', 'JJ'), ('aquatic', 'JJ'), ('cer &nbsp;</span></div>
					<div class="stl_01" style="top:41.5245em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">emony', 'NN'), ('.', '.')] &nbsp;</span></div>
					<div class="stl_01" style="top:40.6915em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">,</span></div>
					<div class="stl_01" style="top:43.2506em; left:6.6142em;"><span class="stl_129 stl_49 stl_650" style="word-spacing:-0.0098em;">每个单词被分开放在一个元组中，一边是单词，一边是 </span><span class="stl_132 stl_52 stl_650" style="word-spacing:-0.0098em;">NLTK </span><span class="stl_129 stl_49 stl_650" style="word-spacing:-0.0098em;">识别的词性标记（每个词性 &nbsp;</span></div>
					<div class="stl_01" style="top:44.5006em; left:6.6142em;"><span class="stl_129 stl_49 stl_755" style="word-spacing:0.0146em;">标记的具体含义请参考前面的 </span><span class="stl_132 stl_52 stl_755" style="word-spacing:0.0146em;">Penn</span><span class="stl_132 stl_52 stl_755" style="word-spacing:0.1377em;"> Treebank</span><span class="stl_129 stl_49 stl_755" style="word-spacing:0.0137em;"> 标记表）。虽然这看起来像是非常简单直接的 &nbsp;</span></div>
					<div class="stl_01" style="top:45.8283em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">查询，但是要正确地完成任务其实很复杂度，用下面的例子看更直观： &nbsp;</span></div>
					<div class="stl_01" style="top:47.7191em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:48.5521em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&gt;</span></div>
					<div class="stl_01" style="top:49.3851em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">[</span></div>
					<div class="stl_01" style="top:47.7191em; left:8.6928em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">&gt;&gt; text = word_tokenize("The dust was thick so he had to dust") &nbsp;</span></div>
					<div class="stl_01" style="top:48.5521em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">&gt;&gt; pos_tag(text) &nbsp;</span></div>
					<div class="stl_01" style="top:49.3851em; left:8.6928em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">('The', 'DT'), ('dust', 'NN'), ('was', 'VBD'), ('thick', 'JJ'), ('so &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:30.0283em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">自然语言处理 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">117 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_171.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_171.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8921em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">'</span></div>
					<div class="stl_01" style="top:5.7251em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">]</span></div>
					<div class="stl_01" style="top:4.8921em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">, 'RB'), ('he', 'PRP'), ('had', 'VBD'), ('to', 'TO'), ('dust', 'VB') &nbsp;</span></div>
					<div class="stl_01" style="top:7.4465em; left:5.6693em;"><span class="stl_129 stl_49 stl_391">需要注意的是，“</span><span class="stl_132 stl_52 stl_391">dust</span><span class="stl_129 stl_49 stl_391">”在这句话里出现过两次：一次是名词，而另一次是动词。</span><span class="stl_132 stl_52 stl_391">NLTK &nbsp;</span></div>
					<div class="stl_01" style="top:8.6965em; left:5.6693em;"><span class="stl_129 stl_49 stl_565" style="word-spacing:-0.0076em;">可以基于句子的内容正确地识别出对应的用法。</span><span class="stl_132 stl_52 stl_565" style="word-spacing:-0.0076em;">NLTK </span><span class="stl_129 stl_49 stl_565" style="word-spacing:-0.0076em;">用英语的上下文无关文法（</span><span class="stl_132 stl_52 stl_565" style="word-spacing:-0.0076em;">context- &nbsp;</span></div>
					<div class="stl_01" style="top:9.9465em; left:5.6693em;"><span class="stl_132 stl_52 stl_173" style="word-spacing:0.0852em;">free grammar</span><span class="stl_129 stl_49 stl_173" style="word-spacing:0.0852em;">）识别词性。上下文无关文法基本上可以看成一个规则集合，用一个有序的 &nbsp;</span></div>
					<div class="stl_01" style="top:11.1965em; left:5.6693em;"><span class="stl_129 stl_49 stl_253" style="word-spacing:-0.0205em;">列表确定一个词后面可以跟哪些词。</span><span class="stl_132 stl_52 stl_253" style="word-spacing:-0.0205em;">NLTK </span><span class="stl_129 stl_49 stl_253" style="word-spacing:-0.0205em;">的上下文无关文法确定的是一个词性后面可以 &nbsp;</span></div>
					<div class="stl_01" style="top:12.4465em; left:5.6693em;"><span class="stl_129 stl_49 stl_216" style="word-spacing:-0.0326em;">跟哪些词性。无论什么时候，只要遇到像“</span><span class="stl_132 stl_52 stl_216" style="word-spacing:-0.0326em;">dust</span><span class="stl_129 stl_49 stl_216" style="word-spacing:-0.0326em;">”这样一个含义不明确的单词，</span><span class="stl_132 stl_52 stl_216" style="word-spacing:-0.0326em;">NLTK </span><span class="stl_129 stl_49 stl_216" style="word-spacing:-0.0326em;">都 &nbsp;</span></div>
					<div class="stl_01" style="top:13.7742em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">会用上下文无关文法的规则来判断，然后确定一个合适的词性。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.4233em; left:17.1348em;"><span class="stl_268 stl_20 stl_10">机器学习和机器训练 &nbsp;</span></div>
					<div class="stl_01" style="top:17.9519em; left:6.403em;"><span class="stl_269 stl_49 stl_140" style="word-spacing:-0.017em;">你也可以对 </span><span class="stl_132 stl_52 stl_140" style="word-spacing:-0.017em;">NLTK </span><span class="stl_269 stl_49 stl_140" style="word-spacing:-0.017em;">进行训练，创建一个全新的上下文无关文法规则，比如，一种外语 &nbsp;</span></div>
					<div class="stl_01" style="top:19.0769em; left:6.3927em;"><span class="stl_269 stl_49 stl_10" style="word-spacing:0.0023em;">的上下文无关文法规则。如果你用 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0023em;">Penn Treebank </span><span class="stl_269 stl_49 stl_10" style="word-spacing:0.0023em;">词性标记手工完成了那种语言的大部 &nbsp;</span></div>
					<div class="stl_01" style="top:20.2018em; left:6.3927em;"><span class="stl_269 stl_49 stl_353" style="word-spacing:-0.0294em;">分文本的语义标记，那么你就可以把结果传给 </span><span class="stl_132 stl_52 stl_353" style="word-spacing:-0.0294em;">NLTK</span><span class="stl_269 stl_49 stl_353" style="word-spacing:-0.0294em;">，然后训练它对其他未标记的文 &nbsp;</span></div>
					<div class="stl_01" style="top:21.4045em; left:6.399em;"><span class="stl_269 stl_49 stl_359">本进行语义标记。在任何一个机器学习案例中，机器训练都是不可或缺的部分，这一 &nbsp;</span></div>
					<div class="stl_01" style="top:22.4517em; left:6.395em;"><span class="stl_269 stl_49 stl_10" style="word-spacing:0em;">点我们将在第 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">11 </span><span class="stl_269 stl_49 stl_10" style="word-spacing:0em;">章训练爬虫识别验证码（</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">CAPTCHA</span><span class="stl_269 stl_49 stl_10" style="word-spacing:0em;">）时介绍。 &nbsp;</span></div>
					<div class="stl_01" style="top:24.6811em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">那么，知道某段文字中一个词是动词还是名词有什么用呢？在计算机科学研究室里做研究 &nbsp;</span></div>
					<div class="stl_01" style="top:25.9312em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">可能非常好用，但是它对网络数据采集有什么用呢？ &nbsp;</span></div>
					<div class="stl_01" style="top:27.8423em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">网络数据采集经常需要处理搜索的问题。你在采集了一个网站的文字之后，可能想从文字 &nbsp;</span></div>
					<div class="stl_01" style="top:29.0149em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">里面搜索“</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">google</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">”这个词，但你要的是作为动词的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">google</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">，不要作为专用名词的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Google</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.2648em; left:5.6693em;"><span class="stl_129 stl_49 stl_694" style="word-spacing:-0.0297em;">或者你就想查找 </span><span class="stl_132 stl_52 stl_694" style="word-spacing:-0.0297em;">Google </span><span class="stl_129 stl_49 stl_694" style="word-spacing:-0.0297em;">公司的名称 </span><span class="stl_132 stl_52 stl_694" style="word-spacing:-0.0297em;">Google</span><span class="stl_129 stl_49 stl_694" style="word-spacing:-0.0297em;">，但是不想通过首字母大写来找出答案（人们 &nbsp;</span></div>
					<div class="stl_01" style="top:31.5028em; left:5.6693em;"><span class="stl_129 stl_49 stl_672" style="word-spacing:0.0126em;">可能忘记将首字母大写，直接写成 </span><span class="stl_132 stl_52 stl_672" style="word-spacing:0.0126em;">google</span><span class="stl_129 stl_49 stl_672" style="word-spacing:0.0126em;">）。那么这时函数 </span><span class="stl_188 stl_44 stl_699" style="word-spacing:0.0133em;">pos_tag</span><span class="stl_129 stl_49 stl_672" style="word-spacing:0.0126em;">就很管用了： &nbsp;</span></div>
					<div class="stl_01" style="top:33.4833em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">nltk </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">word_tokenize, sent_tokenize, pos_tag &nbsp;</span></div>
					<div class="stl_01" style="top:34.3163em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">sentences = sent_tokenize("Google is one of the best companies in the world. &nbsp;</span></div>
					<div class="stl_01" style="top:35.1493em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">I constantly google myself to see what I'm up to.") &nbsp;</span></div>
					<div class="stl_01" style="top:35.9823em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">nouns = ['NN', 'NNS', 'NNP', 'NNPS'] &nbsp;</span></div>
					<div class="stl_01" style="top:37.6483em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">sentence </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">sentences: &nbsp;</span></div>
					<div class="stl_01" style="top:38.4813em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">"google" </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">sentence.lower(): &nbsp;</span></div>
					<div class="stl_01" style="top:39.3143em; left:10.227em;"><span class="stl_116 stl_44 stl_10">taggedWords = pos_tag(word_tokenize(sentence)) &nbsp;</span></div>
					<div class="stl_01" style="top:40.1473em; left:11.6437em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">word </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">taggleWords: &nbsp;</span></div>
					<div class="stl_01" style="top:40.9803em; left:13.0604em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">word[0].lower() == "google" </span><span class="stl_232 stl_44 stl_10">and </span><span class="stl_116 stl_44 stl_10">word[1] </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">nouns: &nbsp;</span></div>
					<div class="stl_01" style="top:41.8133em; left:14.477em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(sentence) &nbsp;</span></div>
					<div class="stl_01" style="top:43.5378em; left:5.6693em;"><span class="stl_129 stl_49 stl_205">这段代码只会打印包含单词“</span><span class="stl_132 stl_52 stl_205">google</span><span class="stl_129 stl_49 stl_205">”（或“</span><span class="stl_132 stl_52 stl_205">Google</span><span class="stl_129 stl_49 stl_205">”）作为名词而非动词的句子。当然， &nbsp;</span></div>
					<div class="stl_01" style="top:44.7878em; left:5.6693em;"><span class="stl_129 stl_49 stl_786" style="word-spacing:0.038em;">你也可以更明确地要求只打印标记是“</span><span class="stl_132 stl_52 stl_786" style="word-spacing:0.038em;">NNP</span><span class="stl_129 stl_49 stl_786" style="word-spacing:0.038em;">”（专用名词）的“</span><span class="stl_132 stl_52 stl_786" style="word-spacing:0.038em;">Google</span><span class="stl_129 stl_49 stl_786" style="word-spacing:0.038em;">”，但是 </span><span class="stl_132 stl_52 stl_786" style="word-spacing:0.038em;">NLTK </span><span class="stl_129 stl_49 stl_786" style="word-spacing:0.038em;">有时 &nbsp;</span></div>
					<div class="stl_01" style="top:46.1156em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">也会判断错误，所以最好还是给自己留一些余地，具体情况由项目而定。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.9372em; left:5.6693em;"><span class="stl_129 stl_49 stl_787" style="word-spacing:-0.0715em;">自然语言中的许多歧义问题都可以用 </span><span class="stl_132 stl_52 stl_787" style="word-spacing:-0.0715em;">NLTK </span><span class="stl_129 stl_49 stl_787" style="word-spacing:-0.0715em;">的 </span><span class="stl_188 stl_44 stl_788" style="word-spacing:-0.0755em;">pos_tag</span><span class="stl_129 stl_49 stl_787" style="word-spacing:-0.0715em;">解决。不只是搜索目标单词或短 &nbsp;</span></div>
					<div class="stl_01" style="top:49.277em; left:5.669em;"><span class="stl_129 stl_49 stl_10">语，而是搜索带标记的目标单词或短语，这样可以大大提高爬虫搜索的准确率和效率。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">18 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 8</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_172.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_172.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.799em; left:6.6142em;"><span class="stl_197 stl_18 stl_10">8</span></div>
					<div class="stl_01" style="top:4.7282em; left:7.4373em;"><span class="stl_197 stl_18 stl_71">.4</span><span class="stl_160 stl_20 stl_71">ꢀ其他资源 &nbsp;</span></div>
					<div class="stl_01" style="top:7.2391em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">通过机器处理、分析和理解自然语言是计算机科学中最难的任务之一，在这个领域中有数 &nbsp;</span></div>
					<div class="stl_01" style="top:8.4891em; left:6.6142em;"><span class="stl_129 stl_49 stl_153">不清的专著和学术论文。我希望这里介绍的一点儿内容可以让你的视野超越传统的网络数 &nbsp;</span></div>
					<div class="stl_01" style="top:9.7391em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">据采集，或至少在从事需要进行自然语言分析的项目时清楚应该从哪儿下手。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.5725em; left:6.6142em;"><span class="stl_129 stl_49 stl_789" style="word-spacing:-0.0854em;">有许多非常优秀的学习资源专门介绍自然语言处理和 </span><span class="stl_132 stl_52 stl_789" style="word-spacing:-0.0854em;">Python </span><span class="stl_129 stl_49 stl_789" style="word-spacing:-0.0854em;">的 </span><span class="stl_132 stl_52 stl_789" style="word-spacing:-0.0854em;">NLTK</span><span class="stl_129 stl_49 stl_789" style="word-spacing:-0.0854em;">。尤其是 </span><span class="stl_132 stl_52 stl_789" style="word-spacing:-0.0854em;">Steven &nbsp;</span></div>
					<div class="stl_01" style="top:12.8228em; left:6.6142em;"><span class="stl_132 stl_52 stl_790" style="word-spacing:0.1091em;">Bird</span><span class="stl_129 stl_49 stl_790" style="word-spacing:0.1091em;">、</span><span class="stl_132 stl_52 stl_790" style="word-spacing:0.1091em;">Ewan Klein</span><span class="stl_129 stl_49 stl_790" style="word-spacing:0.1091em;"> 和 </span><span class="stl_132 stl_52 stl_790" style="word-spacing:0.0011em;">Edward</span><span class="stl_132 stl_52 stl_790" style="word-spacing:0.1091em;"> Loper</span><span class="stl_129 stl_49 stl_790" style="word-spacing:0.0011em;"> 合著的 </span><span class="stl_194 stl_36 stl_790" style="word-spacing:0.0011em;">Natural</span><span class="stl_194 stl_36 stl_790" style="word-spacing:0.1092em;"> Language Processing with</span><span class="stl_194 stl_36 stl_790" style="word-spacing:0.1092em;"> Python</span><span class="stl_129 stl_49 stl_790" style="word-spacing:0.1092em;">（</span><span class="stl_132 stl_52 stl_790" style="word-spacing:0.1092em;">http:// &nbsp;</span></div>
					<div class="stl_01" style="top:14.0728em; left:6.6142em;"><span class="stl_132 stl_52 stl_10">shop.oreilly.com/product/9780596516499.do</span><span class="stl_129 stl_49 stl_10">）对这个主题进行了详细的分析和介绍。 &nbsp;</span></div>
					<div class="stl_01" style="top:15.9839em; left:6.6142em;"><span class="stl_129 stl_49 stl_206" style="word-spacing:0.1208em;">另外，</span><span class="stl_132 stl_52 stl_206" style="word-spacing:0.1208em;">James Pustejovsky</span><span class="stl_129 stl_49 stl_206" style="word-spacing:0.1208em;"> 和 </span><span class="stl_132 stl_52 stl_206" style="word-spacing:0.0059em;">Amber</span><span class="stl_132 stl_52 stl_206" style="word-spacing:0.1209em;"> Stubbs</span><span class="stl_129 stl_49 stl_206" style="word-spacing:0.0058em;"> 合著的</span><span class="stl_194 stl_36 stl_206" style="word-spacing:0.0039em;"> Natural</span><span class="stl_194 stl_36 stl_206" style="word-spacing:0.1211em;"> Language</span><span class="stl_194 stl_36 stl_206" style="word-spacing:0.1031em;"> Annotation</span><span class="stl_194 stl_36 stl_206" style="word-spacing:0.1203em;"> for</span><span class="stl_194 stl_36 stl_206" style="word-spacing:0.1203em;"> Machine &nbsp;</span></div>
					<div class="stl_01" style="top:17.2342em; left:6.6142em;"><span class="stl_194 stl_36 stl_154">Learning</span><span class="stl_129 stl_49 stl_154">（</span><span class="stl_132 stl_52 stl_154">http://shop.oreilly.com/product/0636920020578.do</span><span class="stl_129 stl_49 stl_154">），为自然语言处理提供了更深 &nbsp;</span></div>
					<div class="stl_01" style="top:18.4842em; left:6.6142em;"><span class="stl_129 stl_49 stl_216" style="word-spacing:-0.0314em;">刻的理论指导。学习该书需要有 </span><span class="stl_132 stl_52 stl_216" style="word-spacing:-0.0314em;">Python </span><span class="stl_129 stl_49 stl_216" style="word-spacing:-0.0314em;">基础，书中介绍的主题都可以用 </span><span class="stl_132 stl_52 stl_216" style="word-spacing:-0.0314em;">Python </span><span class="stl_129 stl_49 stl_216" style="word-spacing:-0.0314em;">的 </span><span class="stl_132 stl_52 stl_216" style="word-spacing:-0.0314em;">NLTK &nbsp;</span></div>
					<div class="stl_01" style="top:19.8119em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">完美地实现。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:30.0283em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">自然语言处理 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">119 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_173.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_173.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:9.4423em; left:32.1698em;"><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.064em;">第 </span><span class="stl_215 stl_18 stl_10" style="word-spacing:-0.064em;">9 </span><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.064em;">章 &nbsp;</span></div>
					<div class="stl_01 stl_69" style="top:12.7975em; left:6.1504em;"><span class="stl_70 stl_20 stl_71">穿越网页表单与登录窗口进行采集 &nbsp;</span></div>
					<div class="stl_01" style="top:24.5006em; left:5.6693em;"><span class="stl_129 stl_49 stl_140">当你真正迈出网络数据采集基础之门的时候，遇到的第一个问题很可能是：“我怎么获取 &nbsp;</span></div>
					<div class="stl_01" style="top:25.7506em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">登录窗口背后的信息呢？”今天，网络正在朝着页面交互、社交媒体、用户产生内容的趋 &nbsp;</span></div>
					<div class="stl_01" style="top:27.0006em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">势不断地演进。表单和登录窗口是许多网站中不可或缺的组成部分。不过，它们还是比较 &nbsp;</span></div>
					<div class="stl_01" style="top:28.2506em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">容易处理的。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.1617em; left:5.6693em;"><span class="stl_129 stl_49 stl_157">到目前为止，我们示例中的网络爬虫在和大多数网站的服务器进行数据交互时，都是用 &nbsp;</span></div>
					<div class="stl_01" style="top:31.3222em; left:5.6693em;"><span class="stl_132 stl_52 stl_361" style="word-spacing:-0.0404em;">HTTP </span><span class="stl_129 stl_49 stl_361" style="word-spacing:-0.0404em;">协议的 </span><span class="stl_188 stl_44 stl_580" style="word-spacing:-0.0427em;">GET</span><span class="stl_129 stl_49 stl_361" style="word-spacing:-0.0404em;">方法去请求信息。这一章，我们将重点介绍 </span><span class="stl_188 stl_44 stl_580" style="word-spacing:-0.0427em;">POST</span><span class="stl_129 stl_49 stl_361" style="word-spacing:-0.0404em;">方法，即把信息推送给 &nbsp;</span></div>
					<div class="stl_01" style="top:32.662em; left:5.6697em;"><span class="stl_129 stl_49 stl_10">网络服务器进行存储和分析。 &nbsp;</span></div>
					<div class="stl_01" style="top:34.5613em; left:5.6697em;"><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0129em;">页面表单基本上可以看成是一种用户提交 </span><span class="stl_188 stl_44 stl_218" style="word-spacing:-0.0136em;">POST</span><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0129em;">请求的方式，且这种请求方式是服务器能够 &nbsp;</span></div>
					<div class="stl_01" style="top:35.7336em; left:5.6691em;"><span class="stl_129 stl_49 stl_440" style="word-spacing:-0.055em;">理解和使用的。就像网站的 </span><span class="stl_132 stl_52 stl_440" style="word-spacing:-0.055em;">URL </span><span class="stl_129 stl_49 stl_440" style="word-spacing:-0.055em;">链接可以帮助用户发送 </span><span class="stl_188 stl_44 stl_330" style="word-spacing:-0.058em;">GET</span><span class="stl_129 stl_49 stl_440" style="word-spacing:-0.055em;">请求一样，</span><span class="stl_132 stl_52 stl_440" style="word-spacing:-0.055em;">HTML </span><span class="stl_129 stl_49 stl_440" style="word-spacing:-0.055em;">表单可以 &nbsp;</span></div>
					<div class="stl_01" style="top:37.0613em; left:5.6689em;"><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0119em;">帮助用户发出 </span><span class="stl_188 stl_44 stl_218" style="word-spacing:-0.0126em;">POST</span><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0119em;">请求。当然，我们也可以用一点儿代码来自己创建这些请求，然后通过 &nbsp;</span></div>
					<div class="stl_01" style="top:38.3234em; left:5.6691em;"><span class="stl_129 stl_49 stl_10">网络爬虫把它们提交给服务器。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.7117em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">9</span></div>
					<div class="stl_01" style="top:40.6409em; left:6.4924em;"><span class="stl_197 stl_18 stl_71" style="word-spacing:0.0001em;">.1</span><span class="stl_160 stl_20 stl_71" style="word-spacing:0.0001em;">ꢀ</span><span class="stl_197 stl_18 stl_71" style="word-spacing:0.0001em;">Python Requests</span><span class="stl_160 stl_20 stl_71" style="word-spacing:0.0001em;">库 &nbsp;</span></div>
					<div class="stl_01" style="top:43.0741em; left:5.6693em;"><span class="stl_129 stl_49 stl_714" style="word-spacing:-0.0459em;">虽然用 </span><span class="stl_132 stl_52 stl_714" style="word-spacing:-0.0459em;">Python </span><span class="stl_129 stl_49 stl_714" style="word-spacing:-0.0459em;">的标准库也可以控制网页表单，但是有时用一点儿语法糖可以让生活更甜 &nbsp;</span></div>
					<div class="stl_01" style="top:44.3121em; left:5.6693em;"><span class="stl_129 stl_49 stl_777" style="word-spacing:-0.0552em;">蜜。当你想做比 </span><span class="stl_188 stl_44 stl_429" style="word-spacing:-0.0583em;">urllib</span><span class="stl_129 stl_49 stl_777" style="word-spacing:-0.0552em;">库能够实现的基本 </span><span class="stl_188 stl_44 stl_429" style="word-spacing:-0.0583em;">GET</span><span class="stl_129 stl_49 stl_777" style="word-spacing:-0.0552em;">请求更多的事情时，可以看看 </span><span class="stl_132 stl_52 stl_777" style="word-spacing:-0.0552em;">Python </span><span class="stl_129 stl_49 stl_777" style="word-spacing:-0.0552em;">标准 &nbsp;</span></div>
					<div class="stl_01" style="top:45.6519em; left:5.669em;"><span class="stl_129 stl_49 stl_10">库之外的第三方库。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.4853em; left:5.669em;"><span class="stl_132 stl_52 stl_152" style="word-spacing:-0.0086em;">Requests </span><span class="stl_129 stl_49 stl_152" style="word-spacing:-0.0086em;">库（</span><span class="stl_132 stl_52 stl_152" style="word-spacing:-0.0086em;">http://www.python-requests.org/</span><span class="stl_129 stl_49 stl_152" style="word-spacing:-0.0086em;">）就是这样一个擅长处理那些复杂的 </span><span class="stl_132 stl_52 stl_152" style="word-spacing:-0.0086em;">HTTP </span><span class="stl_129 stl_49 stl_152" style="word-spacing:-0.0086em;">请 &nbsp;</span></div>
					<div class="stl_01" style="top:48.7356em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">求、</span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">cookie</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">、</span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">header</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">（响应头和请求头）等内容的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">第三方库。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.3099em; left:5.6693em;"><span class="stl_119 stl_22 stl_10">120 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_174.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_174.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0002em;">下面是 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0002em;">Requests </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0002em;">的创建者 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0002em;">Kenneth Reitz </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0002em;">对 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0002em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0002em;">标准库工具的评价。 &nbsp;</span></div>
					<div class="stl_01" style="top:6.7222em; left:7.6772em;"><span class="stl_132 stl_52 stl_252" style="word-spacing:-0.0207em;">Python </span><span class="stl_129 stl_49 stl_252" style="word-spacing:-0.0207em;">的标准库 </span><span class="stl_116 stl_44 stl_498" style="word-spacing:-0.0232em;">urllib2</span><span class="stl_129 stl_49 stl_252" style="word-spacing:-0.0207em;">为你提供了大多数 </span><span class="stl_132 stl_52 stl_252" style="word-spacing:-0.0207em;">HTTP </span><span class="stl_129 stl_49 stl_252" style="word-spacing:-0.0207em;">功能，但是它的 </span><span class="stl_132 stl_52 stl_252" style="word-spacing:-0.0207em;">API </span><span class="stl_129 stl_49 stl_252" style="word-spacing:-0.0207em;">非常差劲。这是 &nbsp;</span></div>
					<div class="stl_01" style="top:8.074em; left:7.6771em;"><span class="stl_129 stl_49 stl_121">因为它是经过许多年一步步建立起来的——不同时期要面对的是不同的网络环境。于是 &nbsp;</span></div>
					<div class="stl_01" style="top:9.3241em; left:7.6772em;"><span class="stl_129 stl_49 stl_331">为了完成最简单的任务，它需要耗费大量的工作（甚至要重写整个方法）。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.1575em; left:7.6772em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">事情不应该这样复杂，更不应该发生在 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">里。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.0686em; left:6.614em;"><span class="stl_129 stl_49 stl_471" style="word-spacing:-0.0298em;">和任何 </span><span class="stl_132 stl_52 stl_471" style="word-spacing:-0.0298em;">Python </span><span class="stl_129 stl_49 stl_471" style="word-spacing:-0.0298em;">第三方库一样，</span><span class="stl_132 stl_52 stl_471" style="word-spacing:-0.0298em;">Requests </span><span class="stl_129 stl_49 stl_471" style="word-spacing:-0.0298em;">库也可以用其他第三方 </span><span class="stl_132 stl_52 stl_471" style="word-spacing:-0.0298em;">Python </span><span class="stl_129 stl_49 stl_471" style="word-spacing:-0.0298em;">库管理器安装，比 &nbsp;</span></div>
					<div class="stl_01" style="top:14.3192em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">如 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">pip</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">，或者直接下载源代码（</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">https://github.com/kennethreitz/requests/tarball/master</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">）安装。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.7852em; left:6.6142em;"><span class="stl_197 stl_18 stl_10">9</span></div>
					<div class="stl_01" style="top:16.7144em; left:7.4373em;"><span class="stl_197 stl_18 stl_71">.2</span><span class="stl_160 stl_20 stl_71">ꢀ提交一个基本表单 &nbsp;</span></div>
					<div class="stl_01" style="top:19.1476em; left:6.6142em;"><span class="stl_129 stl_49 stl_479" style="word-spacing:-0.0487em;">大多数网页表单都是由一些 </span><span class="stl_132 stl_52 stl_479" style="word-spacing:-0.0487em;">HTML </span><span class="stl_129 stl_49 stl_479" style="word-spacing:-0.0487em;">字段、一个提交按钮、一个在表单处理完之后跳转的 &nbsp;</span></div>
					<div class="stl_01" style="top:20.4753em; left:6.2183em;"><span class="stl_129 stl_49 stl_10">“</span></div>
					<div class="stl_01" style="top:20.3855em; left:7.0298em;"><span class="stl_129 stl_49 stl_700" style="word-spacing:-0.018em;">执行结果”（表单属性 </span><span class="stl_188 stl_44 stl_401" style="word-spacing:-0.019em;">action</span><span class="stl_129 stl_49 stl_700" style="word-spacing:-0.018em;">的值）页面构成。虽然这些 </span><span class="stl_132 stl_52 stl_700" style="word-spacing:-0.018em;">HTML </span><span class="stl_129 stl_49 stl_700" style="word-spacing:-0.018em;">字段通常由文字内容构 &nbsp;</span></div>
					<div class="stl_01" style="top:21.7253em; left:6.6143em;"><span class="stl_129 stl_49 stl_10">成，但是也可以实现文件上传或其他非文字内容。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.5587em; left:6.6143em;"><span class="stl_129 stl_49 stl_638" style="word-spacing:-0.0479em;">因为大多数主流网站都会在它们的 </span><span class="stl_132 stl_52 stl_638" style="word-spacing:-0.0479em;">robots.txt </span><span class="stl_129 stl_49 stl_638" style="word-spacing:-0.0479em;">文件里注明禁止爬虫接入登录表单（附录 </span><span class="stl_132 stl_52 stl_638" style="word-spacing:-0.0479em;">C &nbsp;</span></div>
					<div class="stl_01" style="top:24.8867em; left:6.6142em;"><span class="stl_129 stl_49 stl_159">介绍了采集这类表单的相关法律责任），所以为了安全起见，我在网站里放入了一组不 &nbsp;</span></div>
					<div class="stl_01" style="top:26.059em; left:6.6142em;"><span class="stl_129 stl_49 stl_662" style="word-spacing:-0.0724em;">同类型的表单和登录内容，这样你就可以用网络爬虫采集了。最简单的表单位于 </span><span class="stl_132 stl_52 stl_662" style="word-spacing:-0.0724em;">http:// &nbsp;</span></div>
					<div class="stl_01" style="top:27.309em; left:6.6142em;"><span class="stl_132 stl_52 stl_10">pythonscraping.com/pages/</span><span class="stl_148 stl_52 stl_10">ﬁ</span><span class="stl_132 stl_52 stl_10">les/form.html</span><span class="stl_129 stl_49 stl_10">。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.2978em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">这个表单的源代码是： &nbsp;</span></div>
					<div class="stl_01" style="top:31.2292em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:31.1888em; left:8.6928em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">form </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">method="post" action="processing.php"</span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:32.0218em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">First name: </span><span class="stl_232 stl_44 stl_10">&lt;input </span><span class="stl_116 stl_44 stl_10">type="text" name="firstname"</span><span class="stl_232 stl_44 stl_10">&gt;&lt;br&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:32.8548em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Last name: </span><span class="stl_232 stl_44 stl_10">&lt;input </span><span class="stl_116 stl_44 stl_10">type="text" name="lastname"</span><span class="stl_232 stl_44 stl_10">&gt;&lt;br&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:33.7282em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:34.5612em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:33.6878em; left:8.6927em;"><span class="stl_232 stl_44 stl_10">input </span><span class="stl_116 stl_44 stl_10">type="submit" value="Submit"</span><span class="stl_232 stl_44 stl_10">&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:34.5612em; left:8.6927em;"><span class="stl_232 stl_44 stl_10">/form&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:36.309em; left:6.6142em;"><span class="stl_129 stl_49 stl_285" style="word-spacing:-0.0115em;">这里有几点需要注意一下：首先，两个输入字段的名称是 </span><span class="stl_453 stl_44 stl_286" style="word-spacing:-0.0121em;">ﬁ</span><span class="stl_188 stl_44 stl_286" style="word-spacing:-0.0121em;">rstname</span><span class="stl_129 stl_49 stl_285" style="word-spacing:-0.0115em;">和 </span><span class="stl_188 stl_44 stl_286" style="word-spacing:-0.0121em;">lastname</span><span class="stl_129 stl_49 stl_285" style="word-spacing:-0.0115em;">，这一点非 &nbsp;</span></div>
					<div class="stl_01" style="top:37.5711em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">常重要。字段的名称决定了表单被确认后要被传送到服务器上的变量名称。如果你想模拟 &nbsp;</span></div>
					<div class="stl_01" style="top:38.8212em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">表单提交数据的行为，你就需要保证你的变量名称与字段名称是一一对应的。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.6545em; left:6.6142em;"><span class="stl_129 stl_49 stl_372" style="word-spacing:-0.0248em;">还需要注意表单的真实行为其实发生在 </span><span class="stl_132 stl_52 stl_372" style="word-spacing:-0.0248em;">processing.php</span><span class="stl_129 stl_49 stl_372" style="word-spacing:-0.0248em;">（绝对路径是 </span><span class="stl_132 stl_52 stl_372" style="word-spacing:-0.0248em;">http://pythonscraping. &nbsp;</span></div>
					<div class="stl_01" style="top:41.8927em; left:6.6142em;"><span class="stl_132 stl_52 stl_205" style="word-spacing:-0.0035em;">com/</span><span class="stl_148 stl_52 stl_205" style="word-spacing:-0.0035em;">ﬁ</span><span class="stl_132 stl_52 stl_205" style="word-spacing:-0.0035em;">les/processing.php</span><span class="stl_129 stl_49 stl_205" style="word-spacing:-0.0035em;">）。表单的任何 </span><span class="stl_188 stl_44 stl_179" style="word-spacing:-0.0037em;">POST</span><span class="stl_129 stl_49 stl_205" style="word-spacing:-0.0035em;">请求其实都发生在这个页面上，并非表单本身 &nbsp;</span></div>
					<div class="stl_01" style="top:43.1548em; left:6.614em;"><span class="stl_129 stl_49 stl_171" style="word-spacing:-0.0126em;">所在的页面。切记：</span><span class="stl_132 stl_52 stl_171" style="word-spacing:-0.0126em;">HTML </span><span class="stl_129 stl_49 stl_171" style="word-spacing:-0.0126em;">表单的目的，只是帮助网站的访问者发送格式合理的请求，向 &nbsp;</span></div>
					<div class="stl_01" style="top:44.4825em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">服务器请求没有出现的页面。除非你要对请求的设计样式进行研究，否则不需要花太多时 &nbsp;</span></div>
					<div class="stl_01" style="top:45.7325em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">间在表单所在的页面上。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.5659em; left:6.6142em;"><span class="stl_129 stl_49 stl_117" style="word-spacing:-0.012em;">用 </span><span class="stl_132 stl_52 stl_117" style="word-spacing:-0.012em;">Requests </span><span class="stl_129 stl_49 stl_117" style="word-spacing:-0.012em;">库提交表单只用四行代码就可以实现，包括导入库文件和打印内容的语句（是 &nbsp;</span></div>
					<div class="stl_01" style="top:48.894em; left:6.6142em;"><span class="stl_129 stl_49 stl_438">的，就是这么简单）： &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:22.9033em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">穿越网页表单与登录窗口进行采集 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">121 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_175.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_175.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8919em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">requests &nbsp;</span></div>
					<div class="stl_01" style="top:6.5579em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">params = {'firstname': 'Ryan', 'lastname': 'Mitchell'} &nbsp;</span></div>
					<div class="stl_01" style="top:7.3909em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">r = requests.post("http://pythonscraping.com/files/processing.php", data=params) &nbsp;</span></div>
					<div class="stl_01" style="top:8.2239em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(r.text) &nbsp;</span></div>
					<div class="stl_01" style="top:10.0242em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">表单被提交之后，程序应该会返回执行页面的源代码，包括这行内容： &nbsp;</span></div>
					<div class="stl_01" style="top:11.915em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Hello there, Ryan Mitchell! &nbsp;</span></div>
					<div class="stl_01" style="top:13.6361em; left:5.6693em;"><span class="stl_129 stl_49 stl_659" style="word-spacing:-0.0182em;">这个程序还可以用来处理许多网站的简单表单。比如 </span><span class="stl_132 stl_52 stl_659" style="word-spacing:-0.0182em;">O</span><span class="stl_134 stl_36 stl_659" style="word-spacing:-0.0182em;">’</span><span class="stl_132 stl_52 stl_659" style="word-spacing:-0.0182em;">Reilly</span><span class="stl_132 stl_52 stl_659" style="word-spacing:0.1018em;"> Media</span><span class="stl_129 stl_49 stl_659" style="word-spacing:-0.018em;"> 新闻订阅页面的表单 &nbsp;</span></div>
					<div class="stl_01" style="top:14.9638em; left:5.6691em;"><span class="stl_129 stl_49 stl_10">源代码如下所示： &nbsp;</span></div>
					<div class="stl_01" style="top:16.8949em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:16.8545em; left:7.7479em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">form </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">action="http://post.oreilly.com/client/o/oreilly/forms/ &nbsp;</span></div>
					<div class="stl_01" style="top:17.6875em; left:12.352em;"><span class="stl_116 stl_44 stl_10">quicksignup.cgi" id="example_form2" method="POST"</span><span class="stl_232 stl_44 stl_10">&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:18.5609em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:19.3939em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:20.2269em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:18.5205em; left:9.1645em;"><span class="stl_232 stl_44 stl_10">input </span><span class="stl_116 stl_44 stl_10">name="client_token" type="hidden" value="oreilly" </span><span class="stl_232 stl_44 stl_10">/&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:19.3535em; left:9.1645em;"><span class="stl_232 stl_44 stl_10">input </span><span class="stl_116 stl_44 stl_10">name="subscribe" type="hidden" value="optin" </span><span class="stl_232 stl_44 stl_10">/&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:20.1865em; left:9.1645em;"><span class="stl_232 stl_44 stl_10">input </span><span class="stl_116 stl_44 stl_10">name="success_url" type="hidden" value="http://oreilly.com/store/ &nbsp;</span></div>
					<div class="stl_01" style="top:21.0195em; left:13.4145em;"><span class="stl_116 stl_44 stl_10">newsletter-thankyou.html" </span><span class="stl_232 stl_44 stl_10">/&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:21.8929em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:21.8525em; left:9.1645em;"><span class="stl_232 stl_44 stl_10">input </span><span class="stl_116 stl_44 stl_10">name="error_url" type="hidden" value="http://oreilly.com/store/ &nbsp;</span></div>
					<div class="stl_01" style="top:22.6855em; left:13.4145em;"><span class="stl_116 stl_44 stl_10">newsletter-signup-error.html" </span><span class="stl_232 stl_44 stl_10">/&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:23.5589em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:24.3919em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:25.2249em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:23.5185em; left:9.1645em;"><span class="stl_232 stl_44 stl_10">input </span><span class="stl_116 stl_44 stl_10">name="topic_or_dod" type="hidden" value="1" </span><span class="stl_232 stl_44 stl_10">/&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:24.3515em; left:9.1645em;"><span class="stl_232 stl_44 stl_10">input </span><span class="stl_116 stl_44 stl_10">name="source" type="hidden" value="orm-home-t1-dotd" </span><span class="stl_232 stl_44 stl_10">/&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:25.2249em; left:9.1645em;"><span class="stl_232 stl_44 stl_10">fieldset&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:26.0579em; left:10.227em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:26.0175em; left:10.5812em;"><span class="stl_232 stl_44 stl_10">input </span><span class="stl_116 stl_44 stl_10">class="email_address long" maxlength="200" name= &nbsp;</span></div>
					<div class="stl_01" style="top:26.8505em; left:14.8312em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:27.6835em; left:14.8312em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:26.8505em; left:15.1854em;"><span class="stl_116 stl_44 stl_10">email_addr" size="25" type="text" value= &nbsp;</span></div>
					<div class="stl_01" style="top:27.6835em; left:15.1854em;"><span class="stl_116 stl_44 stl_10">Enter your email here" </span><span class="stl_232 stl_44 stl_10">/&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:28.5569em; left:10.227em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:28.5165em; left:10.5812em;"><span class="stl_232 stl_44 stl_10">button </span><span class="stl_116 stl_44 stl_10">alt="Join" class="skinny" name="submit" onclick= &nbsp;</span></div>
					<div class="stl_01" style="top:29.3495em; left:15.8937em;"><span class="stl_116 stl_44 stl_10">return addClickTracking('orm','ebook','rightrail','dod' &nbsp;</span></div>
					<div class="stl_01" style="top:30.1825em; left:24.7479em;"><span class="stl_116 stl_44 stl_10">;" value="submit"</span><span class="stl_232 stl_44 stl_10">&gt;</span><span class="stl_116 stl_44 stl_10">Join</span><span class="stl_232 stl_44 stl_10">&lt;/button&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:29.3495em; left:15.5395em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:30.1825em; left:24.3937em;"><span class="stl_116 stl_44 stl_10">)</span></div>
					<div class="stl_01" style="top:31.0559em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">&lt;/fieldset&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:31.8889em; left:7.7479em;"><span class="stl_232 stl_44 stl_10">/form&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:31.8889em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:33.6534em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">虽然第一次看这些会觉得恐怖，但是大多数情况下（后面我们会介绍异常）你只需要关注 &nbsp;</span></div>
					<div class="stl_01" style="top:34.9035em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">两件事： &nbsp;</span></div>
					<div class="stl_01" style="top:36.7764em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:38.0268em; left:5.669em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:36.8028em; left:6.7325em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0003em;">你想提交数据的字段名称（在这个例子中是 </span><span class="stl_188 stl_44 stl_10" style="word-spacing:-0.0003em;">email_addr</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0003em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:37.9751em; left:6.7322em;"><span class="stl_129 stl_49 stl_313" style="word-spacing:-0.0153em;">表单的 </span><span class="stl_188 stl_44 stl_238" style="word-spacing:-0.0161em;">action</span><span class="stl_129 stl_49 stl_313" style="word-spacing:-0.0153em;">属性，也就是表单提交后网站会显示的页面（在这个例子中是 </span><span class="stl_132 stl_52 stl_313" style="word-spacing:-0.0153em;">http://post. &nbsp;</span></div>
					<div class="stl_01" style="top:39.2372em; left:6.7321em;"><span class="stl_132 stl_52 stl_10">oreilly.com/client/o/oreilly/forms/quicksignup.cgi</span><span class="stl_129 stl_49 stl_10">） &nbsp;</span></div>
					<div class="stl_01" style="top:41.226em; left:5.6689em;"><span class="stl_129 stl_49 stl_10">把对应的信息增加到请求信息中，运行代码即可： &nbsp;</span></div>
					<div class="stl_01" style="top:43.117em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">requests &nbsp;</span></div>
					<div class="stl_01" style="top:43.95em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">params = {'email_addr': 'ryan.e.mitchell@gmail.com'} &nbsp;</span></div>
					<div class="stl_01" style="top:44.783em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">r = requests.post("http://post.oreilly.com/client/o/oreilly/forms/ &nbsp;</span></div>
					<div class="stl_01" style="top:45.616em; left:14.1229em;"><span class="stl_116 stl_44 stl_10">quicksignup.cgi", data=params) &nbsp;</span></div>
					<div class="stl_01" style="top:46.449em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(r.text) &nbsp;</span></div>
					<div class="stl_01" style="top:48.1715em; left:5.6693em;"><span class="stl_129 stl_49 stl_153" style="word-spacing:-0.0164em;">在这个示例中，你真正加入 </span><span class="stl_132 stl_52 stl_153" style="word-spacing:-0.0164em;">O</span><span class="stl_134 stl_36 stl_153" style="word-spacing:-0.0164em;">’</span><span class="stl_132 stl_52 stl_153" style="word-spacing:-0.0164em;">Reilly </span><span class="stl_129 stl_49 stl_153" style="word-spacing:-0.0164em;">的邮件列表之前，还要在网站上填写另一个表单，同 &nbsp;</span></div>
					<div class="stl_01" style="top:49.4992em; left:5.6695em;"><span class="stl_129 stl_49 stl_130">样的代码也可以应用到需要填写的新表单上。不过，如果你自己在家做，希望你慎用这些 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">22 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 9</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_176.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_176.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0005em;">知识，不要给 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0005em;">O</span><span class="stl_134 stl_36 stl_10" style="word-spacing:-0.0005em;">’</span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0005em;">Reilly </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0005em;">出版社提交无效的注册。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.3009em; left:6.6142em;"><span class="stl_197 stl_18 stl_10">9</span></div>
					<div class="stl_01" style="top:7.2301em; left:7.4373em;"><span class="stl_197 stl_18 stl_71">.3</span><span class="stl_160 stl_20 stl_71">ꢀ单选按钮</span><span class="stl_791 stl_44 stl_71">、</span><span class="stl_160 stl_20 stl_71">复选框和其他输入 &nbsp;</span></div>
					<div class="stl_01" style="top:9.6633em; left:6.6142em;"><span class="stl_129 stl_49 stl_283" style="word-spacing:-0.013em;">显然，并非所有的网页表单都只是一堆文本字段和一个提交按钮。</span><span class="stl_132 stl_52 stl_283" style="word-spacing:-0.013em;">HTML </span><span class="stl_129 stl_49 stl_283" style="word-spacing:-0.013em;">标准里提供了大 &nbsp;</span></div>
					<div class="stl_01" style="top:10.9133em; left:6.6142em;"><span class="stl_129 stl_49 stl_75" style="word-spacing:-0.0031em;">量可用的表单字段：单选按钮、复选框和下拉选框等。在 </span><span class="stl_132 stl_52 stl_75" style="word-spacing:-0.0031em;">HTML5 </span><span class="stl_129 stl_49 stl_75" style="word-spacing:-0.0031em;">里面，还有其他的控件， &nbsp;</span></div>
					<div class="stl_01" style="top:12.1633em; left:6.6142em;"><span class="stl_129 stl_49 stl_792" style="word-spacing:0.0147em;">像滚动条（范围输入字段）、邮箱、日期等。自定义的 </span><span class="stl_132 stl_52 stl_792" style="word-spacing:0.0147em;">JavaScript </span><span class="stl_129 stl_49 stl_792" style="word-spacing:0.0147em;">字段可谓无所不能，可以 &nbsp;</span></div>
					<div class="stl_01" style="top:13.4134em; left:6.6142em;"><span class="stl_129 stl_49 stl_595">实现取色器（</span><span class="stl_132 stl_52 stl_595">colorpicker</span><span class="stl_129 stl_49 stl_595">）、日历以及开发者能想到的任何功能。 &nbsp;</span></div>
					<div class="stl_01" style="top:15.4021em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">无论表单的字段看起来多么复杂，仍然只有两件事是需要关注的：字段名称和值。字段名 &nbsp;</span></div>
					<div class="stl_01" style="top:16.6404em; left:6.6142em;"><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0124em;">称可以通过查看源代码寻找 </span><span class="stl_188 stl_44 stl_218" style="word-spacing:-0.0131em;">name</span><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0124em;">属性轻易获得。而字段的值有时会比较复杂，有可能是在 &nbsp;</span></div>
					<div class="stl_01" style="top:17.8248em; left:6.614em;"><span class="stl_129 stl_49 stl_657" style="word-spacing:-0.0296em;">表单提交之前通过 </span><span class="stl_132 stl_52 stl_657" style="word-spacing:-0.0296em;">JavaScript </span><span class="stl_129 stl_49 stl_657" style="word-spacing:-0.0296em;">生成的。取色器就是一个比较奇怪的表单字段，它可能会用 &nbsp;</span></div>
					<div class="stl_01" style="top:19.1404em; left:6.6142em;"><span class="stl_129 stl_49 stl_402" style="word-spacing:-0.0417em;">类似 </span><span class="stl_188 stl_44 stl_561" style="word-spacing:-0.044em;">#F03030</span><span class="stl_129 stl_49 stl_402" style="word-spacing:-0.0417em;">这样的值。 &nbsp;</span></div>
					<div class="stl_01" style="top:21.0635em; left:6.614em;"><span class="stl_129 stl_49 stl_153">如果你不确定一个输入字段值的数据格式，有一些工具可以跟踪浏览器正在通过网站发出 &nbsp;</span></div>
					<div class="stl_01" style="top:22.3018em; left:6.6142em;"><span class="stl_129 stl_49 stl_332" style="word-spacing:-0.0431em;">或接受的 </span><span class="stl_188 stl_44 stl_333" style="word-spacing:-0.0455em;">GET</span><span class="stl_129 stl_49 stl_332" style="word-spacing:-0.0431em;">和 </span><span class="stl_188 stl_44 stl_333" style="word-spacing:-0.0455em;">POST</span><span class="stl_129 stl_49 stl_332" style="word-spacing:-0.0431em;">请求的内容。之前提到过，跟踪 </span><span class="stl_188 stl_44 stl_333" style="word-spacing:-0.0455em;">GET</span><span class="stl_129 stl_49 stl_332" style="word-spacing:-0.0431em;">请求效果最好也最直接的手段就 &nbsp;</span></div>
					<div class="stl_01" style="top:23.4862em; left:6.6144em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">是看网站的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">URL </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">链接。如果 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">URL </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">链接像这样： &nbsp;</span></div>
					<div class="stl_01" style="top:25.4547em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">http://domainname.com?thing1=foo&amp;thing2=bar &nbsp;</span></div>
					<div class="stl_01" style="top:27.2535em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">你明白这个请求就是下面这种表单： &nbsp;</span></div>
					<div class="stl_01" style="top:29.1846em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:30.0176em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:30.8506em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:31.6836em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:32.5166em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:29.1442em; left:8.6928em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">form </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">method="GET" action="someProcessor.php"</span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:29.9772em; left:8.6927em;"><span class="stl_232 stl_44 stl_10">input </span><span class="stl_116 stl_44 stl_10">type="someCrazyInputType" name="thing1" value="foo" </span><span class="stl_232 stl_44 stl_10">/&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:30.8102em; left:8.6927em;"><span class="stl_232 stl_44 stl_10">input </span><span class="stl_116 stl_44 stl_10">type="anotherCrazyInputType" name="thing2" value="bar" </span><span class="stl_232 stl_44 stl_10">/&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:31.6432em; left:8.6927em;"><span class="stl_232 stl_44 stl_10">input </span><span class="stl_116 stl_44 stl_10">type="submit" value="Submit" </span><span class="stl_232 stl_44 stl_10">/&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:32.5166em; left:8.6927em;"><span class="stl_232 stl_44 stl_10">/form&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:34.1988em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">对应的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">参数就是： &nbsp;</span></div>
					<div class="stl_01" style="top:36.1673em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">{</span></div>
					<div class="stl_01" style="top:36.1673em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">'thing1':'foo', 'thing2':'bar'} &nbsp;</span></div>
					<div class="stl_01" style="top:37.8884em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">具体内容如图 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">9-1 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">所示。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:22.9033em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">穿越网页表单与登录窗口进行采集 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">123 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_178.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_178.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01 stl_382" style="top:24.5788em; left:5.6693em;"><span class="stl_383 stl_20 stl_793" style="word-spacing:0.1069em;">图 </span><span class="stl_384 stl_18 stl_793" style="word-spacing:0.1069em;">9-1</span><span class="stl_383 stl_20 stl_793" style="word-spacing:0.1069em;">：表单字段值如方框所示，其中 </span><span class="stl_384 stl_18 stl_793" style="word-spacing:0.1069em;">POST</span><span class="stl_383 stl_20 stl_793" style="word-spacing:0.0793em;"> 请求参数“</span><span class="stl_384 stl_18 stl_793" style="word-spacing:0.0793em;">thing1</span><span class="stl_383 stl_20 stl_793" style="word-spacing:0.0793em;">”和“</span><span class="stl_384 stl_18 stl_793" style="word-spacing:0.0793em;">thing2</span><span class="stl_383 stl_20 stl_793" style="word-spacing:0.0793em;">”对应的值是“</span><span class="stl_384 stl_18 stl_793" style="word-spacing:0.0793em;">foo</span><span class="stl_383 stl_20 stl_793" style="word-spacing:0.0793em;">”和“</span><span class="stl_384 stl_18 stl_793" style="word-spacing:0.0793em;">bar</span><span class="stl_383 stl_20 stl_793" style="word-spacing:0.0793em;">” &nbsp;</span></div>
					<div class="stl_01" style="top:26.4983em; left:5.6693em;"><span class="stl_129 stl_49 stl_590" style="word-spacing:-0.0637em;">如果你遇到了一个看着比较复杂的 </span><span class="stl_188 stl_44 stl_513" style="word-spacing:-0.0673em;">POST</span><span class="stl_129 stl_49 stl_590" style="word-spacing:-0.0637em;">表单，并且想查看浏览器向服务器传递了哪些参 &nbsp;</span></div>
					<div class="stl_01" style="top:27.6827em; left:5.6694em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">数，最简单的方法就是用 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Chrome </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">浏览器的审查元素（</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">inspector</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">）或开发者工具查看。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.5938em; left:5.6694em;"><span class="stl_132 stl_52 stl_424" style="word-spacing:0.0209em;">Chrome </span><span class="stl_129 stl_49 stl_424" style="word-spacing:0.0209em;">浏览器的开发者工具可以在菜单中通过更多工具→开发者工具打开（快捷键 </span><span class="stl_132 stl_52 stl_424" style="word-spacing:0.0209em;">F12</span><span class="stl_129 stl_49 stl_424" style="word-spacing:0.0209em;">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.9218em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">它提供了浏览器与网站交互时产生的所有请求细节，是一种查看请求参数的好方法。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.3101em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">9</span></div>
					<div class="stl_01" style="top:33.2393em; left:6.4924em;"><span class="stl_197 stl_18 stl_71">.4</span><span class="stl_160 stl_20 stl_71">ꢀ提交文件和图像 &nbsp;</span></div>
					<div class="stl_01" style="top:35.7502em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">虽然上传文件在网络上很普遍，但是对于网络数据采集其实不太常用。但是，如果你想为 &nbsp;</span></div>
					<div class="stl_01" style="top:37.0002em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">自己网站的文件上传功能写一个测试实例，也是可以实现的。不管怎么说，掌握工作原理 &nbsp;</span></div>
					<div class="stl_01" style="top:38.2503em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">总是有用的。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.0836em; left:5.6693em;"><span class="stl_129 stl_49 stl_391" style="word-spacing:-0.0265em;">在 </span><span class="stl_132 stl_52 stl_391" style="word-spacing:-0.0265em;">http://pythonscraping/files/form2.html </span><span class="stl_129 stl_49 stl_391" style="word-spacing:-0.0265em;">有一个文件上传表单，页面上表单的源代码如下 &nbsp;</span></div>
					<div class="stl_01" style="top:41.4114em; left:5.6693em;"><span class="stl_129 stl_49 stl_71">所示： &nbsp;</span></div>
					<div class="stl_01" style="top:43.3427em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:43.3024em; left:7.7479em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">form </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">action="processing2.php" method="post" enctype="multipart/form-data"</span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:44.1354em; left:8.102em;"><span class="stl_116 stl_44 stl_10">Submit a jpg, png, or gif: </span><span class="stl_232 stl_44 stl_10">&lt;input </span><span class="stl_116 stl_44 stl_10">type="file" name="image"</span><span class="stl_232 stl_44 stl_10">&gt;&lt;br&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:45.0087em; left:8.102em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:45.8417em; left:7.7479em;"><span class="stl_232 stl_44 stl_10">/form&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:44.9684em; left:8.4562em;"><span class="stl_232 stl_44 stl_10">input </span><span class="stl_116 stl_44 stl_10">type="submit" value="Upload File"</span><span class="stl_232 stl_44 stl_10">&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:45.8417em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:47.5892em; left:5.6693em;"><span class="stl_129 stl_49 stl_167" style="word-spacing:-0.0498em;">文件上传表单除了 </span><span class="stl_188 stl_44 stl_715" style="word-spacing:-0.0526em;">&lt;input&gt;</span><span class="stl_129 stl_49 stl_167" style="word-spacing:-0.0498em;">标签里有一个 </span><span class="stl_188 stl_44 stl_715" style="word-spacing:-0.0526em;">type</span><span class="stl_129 stl_49 stl_167" style="word-spacing:-0.0498em;">属性是 </span><span class="stl_453 stl_44 stl_715" style="word-spacing:-0.0526em;">ﬁ</span><span class="stl_188 stl_44 stl_715" style="word-spacing:-0.0526em;">le</span><span class="stl_129 stl_49 stl_167" style="word-spacing:-0.0498em;">，看起来和之前看到的文字字段 &nbsp;</span></div>
					<div class="stl_01" style="top:48.7736em; left:5.6694em;"><span class="stl_129 stl_49 stl_290" style="word-spacing:0.0049em;">的表单没什么两样。其实，</span><span class="stl_132 stl_52 stl_290" style="word-spacing:0.0049em;">Python Requests </span><span class="stl_129 stl_49 stl_290" style="word-spacing:0.0049em;">库对这种表单的处理方式也和之前的非常相似： &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">24 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 9</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_179.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_179.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8919em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">requests &nbsp;</span></div>
					<div class="stl_01" style="top:6.5579em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">files = {'uploadFile': open('../files/Python-logo.png', 'rb')} &nbsp;</span></div>
					<div class="stl_01" style="top:7.3909em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">r = requests.post("http://pythonscraping.com/pages/processing2.php", &nbsp;</span></div>
					<div class="stl_01" style="top:8.2239em; left:14.7136em;"><span class="stl_116 stl_44 stl_10">files=files) &nbsp;</span></div>
					<div class="stl_01" style="top:9.0569em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(r.text) &nbsp;</span></div>
					<div class="stl_01" style="top:10.8454em; left:6.6142em;"><span class="stl_129 stl_49 stl_794" style="word-spacing:-0.0584em;">需要注意，这里提交给表单字段 </span><span class="stl_188 stl_44 stl_690" style="word-spacing:-0.0616em;">uploadFile</span><span class="stl_129 stl_49 stl_794" style="word-spacing:-0.0584em;">的值不是一个简单的字符串了，而是一个用 &nbsp;</span></div>
					<div class="stl_01" style="top:12.0177em; left:6.6142em;"><span class="stl_188 stl_44 stl_364" style="word-spacing:-0.0526em;">open</span><span class="stl_129 stl_49 stl_439" style="word-spacing:-0.0498em;">函数打开的 </span><span class="stl_132 stl_52 stl_439" style="word-spacing:-0.0498em;">Python </span><span class="stl_129 stl_49 stl_439" style="word-spacing:-0.0498em;">文件对象。在这个例子中，我提交了一个保存在我电脑上的图像 &nbsp;</span></div>
					<div class="stl_01" style="top:13.2798em; left:6.6145em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">文件，文件路径是相对这个 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">程序所在位置的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">../</span><span class="stl_148 stl_52 stl_10" style="word-spacing:0em;">ﬁ</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">les/Python-logo.png</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:15.2686em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">没错，就是这么简单！ &nbsp;</span></div>
					<div class="stl_01" style="top:17.6573em; left:6.6142em;"><span class="stl_197 stl_18 stl_10">9</span></div>
					<div class="stl_01" style="top:17.5864em; left:7.4373em;"><span class="stl_197 stl_18 stl_71">.5</span><span class="stl_160 stl_20 stl_71">ꢀ处理登录和</span><span class="stl_197 stl_18 stl_71">cookie &nbsp;</span></div>
					<div class="stl_01" style="top:20.0973em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">到此为止，我们介绍过的大多数表单都允许你向网站提交信息，或者让你在提交表单后立 &nbsp;</span></div>
					<div class="stl_01" style="top:21.3473em; left:6.6142em;"><span class="stl_129 stl_49 stl_320">即看到想要的页面信息。那么，这些表单和登录表单（当你浏览网站时让你保持“已登 &nbsp;</span></div>
					<div class="stl_01" style="top:22.5974em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">录”状态）有什么不同？ &nbsp;</span></div>
					<div class="stl_01" style="top:24.4308em; left:6.6142em;"><span class="stl_129 stl_49 stl_650" style="word-spacing:-0.0103em;">大多数新式的网站都用 </span><span class="stl_132 stl_52 stl_650" style="word-spacing:-0.0103em;">cookie </span><span class="stl_129 stl_49 stl_650" style="word-spacing:-0.0103em;">跟踪用户是否已登录的状态信息。一旦网站验证了你的登录 &nbsp;</span></div>
					<div class="stl_01" style="top:25.6811em; left:6.6142em;"><span class="stl_129 stl_49 stl_740" style="word-spacing:-0.0541em;">权证，它就会将它们保存在你的浏览器的 </span><span class="stl_132 stl_52 stl_740" style="word-spacing:-0.0541em;">cookie </span><span class="stl_129 stl_49 stl_740" style="word-spacing:-0.0541em;">中，里面通常包含一个服务器生成的令 &nbsp;</span></div>
					<div class="stl_01" style="top:26.9311em; left:6.6142em;"><span class="stl_129 stl_49 stl_300" style="word-spacing:-0.0096em;">牌、登录有效时限和状态跟踪信息。网站会把这个 </span><span class="stl_132 stl_52 stl_300" style="word-spacing:-0.0096em;">cookie </span><span class="stl_129 stl_49 stl_300" style="word-spacing:-0.0096em;">当作信息验证的证据，在你浏览 &nbsp;</span></div>
					<div class="stl_01" style="top:28.1811em; left:6.6142em;"><span class="stl_129 stl_49 stl_489" style="word-spacing:-0.0102em;">网站的每个页面时出示给服务器。在 </span><span class="stl_132 stl_52 stl_489" style="word-spacing:-0.0102em;">20 </span><span class="stl_129 stl_49 stl_489" style="word-spacing:-0.0102em;">世纪 </span><span class="stl_132 stl_52 stl_489" style="word-spacing:-0.0102em;">90 </span><span class="stl_129 stl_49 stl_489" style="word-spacing:-0.0102em;">年代中期广泛使用 </span><span class="stl_132 stl_52 stl_489" style="word-spacing:-0.0102em;">cookie </span><span class="stl_129 stl_49 stl_489" style="word-spacing:-0.0102em;">之前，保证用户 &nbsp;</span></div>
					<div class="stl_01" style="top:29.5088em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">安全验证并跟踪用户是网站上的一大问题。 &nbsp;</span></div>
					<div class="stl_01" style="top:31.3422em; left:6.6142em;"><span class="stl_129 stl_49 stl_184" style="word-spacing:-0.0099em;">虽然 </span><span class="stl_132 stl_52 stl_184" style="word-spacing:-0.0099em;">cookie </span><span class="stl_129 stl_49 stl_184" style="word-spacing:-0.0099em;">为网络开发者解决了大问题，但同时却为网络爬虫带来了大问题。你可以一整 &nbsp;</span></div>
					<div class="stl_01" style="top:32.5925em; left:6.6142em;"><span class="stl_129 stl_49 stl_252" style="word-spacing:-0.0191em;">天只提交一次登录表单，但是如果你没有一直关注表单后来回传给你的那个 </span><span class="stl_132 stl_52 stl_252" style="word-spacing:-0.0191em;">cookie</span><span class="stl_129 stl_49 stl_252" style="word-spacing:-0.0191em;">，那么 &nbsp;</span></div>
					<div class="stl_01" style="top:33.9202em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">一段时间以后再次访问新页面时，你的登录状态就会丢失，需要重新登录。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.7536em; left:6.6142em;"><span class="stl_129 stl_49 stl_111" style="word-spacing:-0.0029em;">我在 </span><span class="stl_132 stl_52 stl_111" style="word-spacing:-0.0029em;">http://pythonscraping.com/pages/cookies/login.html </span><span class="stl_129 stl_49 stl_111" style="word-spacing:-0.0029em;">建了一个简单的登录表单（用户名可 &nbsp;</span></div>
					<div class="stl_01" style="top:37.0039em; left:6.6142em;"><span class="stl_129 stl_49 stl_430">以是任意值，但是密码必须是“</span><span class="stl_132 stl_52 stl_430">password</span><span class="stl_129 stl_49 stl_430">”）。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.915em; left:6.6142em;"><span class="stl_129 stl_49 stl_205">这个表单在欢迎页面（</span><span class="stl_132 stl_52 stl_205">http://pythonscraping.com/pages/cookies/welcome.php</span><span class="stl_129 stl_49 stl_205">）处理，里面包 &nbsp;</span></div>
					<div class="stl_01" style="top:40.1653em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">含一个简介页面：</span><span class="stl_132 stl_52 stl_10">http://pythonscraping.com/pages/cookies/pro</span><span class="stl_148 stl_52 stl_10">ﬁ</span><span class="stl_132 stl_52 stl_10">le.php</span><span class="stl_129 stl_49 stl_10">。 &nbsp;</span></div>
					<div class="stl_01" style="top:42.1541em; left:6.6142em;"><span class="stl_129 stl_49 stl_153">如果在登录网站之前你想进入欢迎页面或者简介页面，会看到一个错误信息和访问前请先 &nbsp;</span></div>
					<div class="stl_01" style="top:43.3267em; left:6.6142em;"><span class="stl_129 stl_49 stl_401" style="word-spacing:-0.02em;">登录的指令。在简介页面中，网站会检测浏览器的 </span><span class="stl_132 stl_52 stl_401" style="word-spacing:-0.02em;">cookie</span><span class="stl_129 stl_49 stl_401" style="word-spacing:-0.02em;">，看它有没有页面已登录的设置 &nbsp;</span></div>
					<div class="stl_01" style="top:44.6545em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">信息。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.4878em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">用 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">Requests </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">库跟踪 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">cookie </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">同样很简单： &nbsp;</span></div>
					<div class="stl_01" style="top:48.4565em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">requests &nbsp;</span></div>
					<div class="stl_01" style="top:50.1225em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">params = {'username': 'Ryan', 'password': 'password'} &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:22.9033em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">穿越网页表单与登录窗口进行采集 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">125 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_180.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_180.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8921em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">r = requests.post("http://pythonscraping.com/pages/cookies/welcome.php", params) &nbsp;</span></div>
					<div class="stl_01" style="top:5.7251em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">print</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">("Cookie is set to:") &nbsp;</span></div>
					<div class="stl_01" style="top:6.5581em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(r.cookies.get_dict()) &nbsp;</span></div>
					<div class="stl_01" style="top:7.3911em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">("-----------") &nbsp;</span></div>
					<div class="stl_01" style="top:8.2241em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">print</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">("Going to profile page...") &nbsp;</span></div>
					<div class="stl_01" style="top:9.0571em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">r = requests.get("http://pythonscraping.com/pages/cookies/profile.php", &nbsp;</span></div>
					<div class="stl_01" style="top:9.8901em; left:13.4145em;"><span class="stl_116 stl_44 stl_10">cookies=r.cookies) &nbsp;</span></div>
					<div class="stl_01" style="top:10.7231em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(r.text) &nbsp;</span></div>
					<div class="stl_01" style="top:12.5242em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">这里我向欢迎页面发送了一个登录参数，它的作用就像登录表单的处理器。然后我从请求 &nbsp;</span></div>
					<div class="stl_01" style="top:13.6844em; left:5.6693em;"><span class="stl_129 stl_49 stl_648" style="word-spacing:-0.0265em;">结果中获取 </span><span class="stl_132 stl_52 stl_648" style="word-spacing:-0.0265em;">cookie</span><span class="stl_129 stl_49 stl_648" style="word-spacing:-0.0265em;">，打印登录状态的验证结果，然后再通过 </span><span class="stl_188 stl_44 stl_652" style="word-spacing:-0.028em;">cookies</span><span class="stl_129 stl_49 stl_648" style="word-spacing:-0.0265em;">参数把 </span><span class="stl_132 stl_52 stl_648" style="word-spacing:-0.0265em;">cookie </span><span class="stl_129 stl_49 stl_648" style="word-spacing:-0.0265em;">发送到 &nbsp;</span></div>
					<div class="stl_01" style="top:15.0242em; left:5.6692em;"><span class="stl_129 stl_49 stl_10">简介页面。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.9353em; left:5.6692em;"><span class="stl_129 stl_49 stl_172">对简单的访问这样处理没有问题，但是如果你面对的网站比较复杂，它经常暗自调整 &nbsp;</span></div>
					<div class="stl_01" style="top:18.1079em; left:5.6693em;"><span class="stl_132 stl_52 stl_795" style="word-spacing:-0.093em;">cookie</span><span class="stl_129 stl_49 stl_795" style="word-spacing:-0.093em;">，或者如果你从一开始就完全不想要用 </span><span class="stl_132 stl_52 stl_795" style="word-spacing:-0.093em;">cookie</span><span class="stl_129 stl_49 stl_795" style="word-spacing:-0.093em;">，该怎么处理呢？ </span><span class="stl_132 stl_52 stl_795" style="word-spacing:-0.093em;">Requests </span><span class="stl_129 stl_49 stl_795" style="word-spacing:-0.093em;">库的 &nbsp;</span></div>
					<div class="stl_01" style="top:19.4235em; left:5.6693em;"><span class="stl_188 stl_44 stl_586">session</span><span class="stl_129 stl_49 stl_199">函数可以完美地解决这些问题： &nbsp;</span></div>
					<div class="stl_01" style="top:21.3263em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">requests &nbsp;</span></div>
					<div class="stl_01" style="top:22.9923em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">session = requests.Session() &nbsp;</span></div>
					<div class="stl_01" style="top:24.6583em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">params = {'username': 'username', 'password': 'password'} &nbsp;</span></div>
					<div class="stl_01" style="top:25.4913em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">s = session.post("http://pythonscraping.com/pages/cookies/welcome.php", params) &nbsp;</span></div>
					<div class="stl_01" style="top:26.3243em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">print</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">("Cookie is set to:") &nbsp;</span></div>
					<div class="stl_01" style="top:27.1573em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(s.cookies.get_dict()) &nbsp;</span></div>
					<div class="stl_01" style="top:27.9903em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">("-----------") &nbsp;</span></div>
					<div class="stl_01" style="top:28.8233em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">print</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">("Going to profile page...") &nbsp;</span></div>
					<div class="stl_01" style="top:29.6563em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">s = session.get("http://pythonscraping.com/pages/cookies/profile.php") &nbsp;</span></div>
					<div class="stl_01" style="top:30.4893em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(s.text) &nbsp;</span></div>
					<div class="stl_01" style="top:32.2021em; left:5.6693em;"><span class="stl_129 stl_49 stl_492" style="word-spacing:-0.024em;">在这个例子中，会话（</span><span class="stl_132 stl_52 stl_492" style="word-spacing:-0.024em;">session</span><span class="stl_129 stl_49 stl_492" style="word-spacing:-0.024em;">）对象（调用 </span><span class="stl_188 stl_44 stl_208" style="word-spacing:-0.0253em;">requests.Session()</span><span class="stl_129 stl_49 stl_492" style="word-spacing:-0.024em;">获取）会持续跟踪会话信 &nbsp;</span></div>
					<div class="stl_01" style="top:33.4642em; left:5.6697em;"><span class="stl_129 stl_49 stl_398" style="word-spacing:-0.0253em;">息，像 </span><span class="stl_132 stl_52 stl_398" style="word-spacing:-0.0253em;">cookie</span><span class="stl_129 stl_49 stl_398" style="word-spacing:-0.0253em;">、</span><span class="stl_132 stl_52 stl_398" style="word-spacing:-0.0253em;">header</span><span class="stl_129 stl_49 stl_398" style="word-spacing:-0.0253em;">，甚至包括运行 </span><span class="stl_132 stl_52 stl_398" style="word-spacing:-0.0253em;">HTTP </span><span class="stl_129 stl_49 stl_398" style="word-spacing:-0.0253em;">协议的信息，比如 </span><span class="stl_132 stl_52 stl_398" style="word-spacing:-0.0253em;">HTTPAdapter</span><span class="stl_129 stl_49 stl_398" style="word-spacing:-0.0253em;">（为 </span><span class="stl_132 stl_52 stl_398" style="word-spacing:-0.0253em;">HTTP &nbsp;</span></div>
					<div class="stl_01" style="top:34.7142em; left:5.6693em;"><span class="stl_129 stl_49 stl_156" style="word-spacing:0.0624em;">和 </span><span class="stl_132 stl_52 stl_156" style="word-spacing:0.0624em;">HTTPS </span><span class="stl_129 stl_49 stl_156" style="word-spacing:0.0624em;">的链接会话提供统一接口）。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.6253em; left:5.6693em;"><span class="stl_132 stl_52 stl_320" style="word-spacing:-0.0632em;">Requests </span><span class="stl_129 stl_49 stl_320" style="word-spacing:-0.0632em;">是一个非常给力的库，程序员完全不用费脑子，也不用写代码，可能只逊色于 &nbsp;</span></div>
					<div class="stl_01" style="top:37.8756em; left:5.6693em;"><span class="stl_132 stl_52 stl_790" style="word-spacing:0.0061em;">Selenium</span><span class="stl_129 stl_49 stl_790" style="word-spacing:0.0061em;">（第 </span><span class="stl_132 stl_52 stl_790" style="word-spacing:0.0061em;">10 </span><span class="stl_129 stl_49 stl_790" style="word-spacing:0.0061em;">章将会介绍）。虽然写网络爬虫的时候，你可能想放手让 </span><span class="stl_132 stl_52 stl_790" style="word-spacing:0.0061em;">Requests </span><span class="stl_129 stl_49 stl_790" style="word-spacing:0.0061em;">库替自 &nbsp;</span></div>
					<div class="stl_01" style="top:39.1256em; left:5.6693em;"><span class="stl_129 stl_49 stl_461" style="word-spacing:-0.031em;">己做所有的事情，但是持续关注 </span><span class="stl_132 stl_52 stl_461" style="word-spacing:-0.031em;">cookie </span><span class="stl_129 stl_49 stl_461" style="word-spacing:-0.031em;">的状态，掌握它们可以控制的范围是非常重要的。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.4534em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">这样可以避免痛苦地调试和追寻网站行为异常，节省很多时间。 &nbsp;</span></div>
					<div class="stl_01" style="top:42.8048em; left:5.6693em;"><span class="stl_260 stl_18 stl_71">HTTP</span><span class="stl_91 stl_20 stl_71">基本接入认证 &nbsp;</span></div>
					<div class="stl_01" style="top:44.7457em; left:5.6693em;"><span class="stl_129 stl_49 stl_239" style="word-spacing:-0.0105em;">在发明 </span><span class="stl_132 stl_52 stl_239" style="word-spacing:-0.0105em;">cookie</span><span class="stl_129 stl_49 stl_239" style="word-spacing:-0.0103em;"> 之前，处理网站登录最常用的方法就是用</span><span class="stl_132 stl_52 stl_239" style="word-spacing:-0.0105em;"> HTTP</span><span class="stl_129 stl_49 stl_239" style="word-spacing:-0.0107em;"> 基本接入认证（</span><span class="stl_132 stl_52 stl_239" style="word-spacing:-0.0107em;">HTTP</span><span class="stl_132 stl_52 stl_239" style="word-spacing:0.1113em;"> basic &nbsp;</span></div>
					<div class="stl_01" style="top:45.9957em; left:5.6693em;"><span class="stl_132 stl_52 stl_184" style="word-spacing:0.1133em;">access authentication</span><span class="stl_129 stl_49 stl_184" style="word-spacing:0.1133em;">）。有时还能见到它们，尤其是在一些安全性较高的网站或公司网站， &nbsp;</span></div>
					<div class="stl_01" style="top:47.2457em; left:5.6693em;"><span class="stl_129 stl_49 stl_209" style="word-spacing:-0.0086em;">以及一些 </span><span class="stl_132 stl_52 stl_209" style="word-spacing:-0.0086em;">API </span><span class="stl_129 stl_49 stl_209" style="word-spacing:-0.0086em;">的使用上。我在 </span><span class="stl_132 stl_52 stl_209" style="word-spacing:-0.0086em;">http://pythonscraping.com/pages/auth/login.php </span><span class="stl_129 stl_49 stl_209" style="word-spacing:-0.0086em;">用这种认证方 &nbsp;</span></div>
					<div class="stl_01" style="top:48.4957em; left:5.6693em;"><span class="stl_129 stl_49 stl_258" style="word-spacing:0.0769em;">法创建了一个页面（图 </span><span class="stl_132 stl_52 stl_258" style="word-spacing:0.0769em;">9-2</span><span class="stl_129 stl_49 stl_258" style="word-spacing:0.0769em;">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">26 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 9</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_182.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_182.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01 stl_382" style="top:17.3995em; left:6.6142em;"><span class="stl_383 stl_20 stl_10" style="word-spacing:0em;">图 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:0em;">9-2</span><span class="stl_383 stl_20 stl_10" style="word-spacing:0em;">：基本接入认证页面，用户必须通过用户名和密码才能登录 &nbsp;</span></div>
					<div class="stl_01" style="top:19.2535em; left:6.6142em;"><span class="stl_129 stl_49 stl_77">和前面的例子一样，你可以用任意用户名，但是密码必须是“</span><span class="stl_132 stl_52 stl_77">password</span><span class="stl_129 stl_49 stl_77">”。 &nbsp;</span></div>
					<div class="stl_01" style="top:21.1528em; left:6.6142em;"><span class="stl_132 stl_52 stl_267" style="word-spacing:-0.0194em;">Requests </span><span class="stl_129 stl_49 stl_267" style="word-spacing:-0.0194em;">库有一个 </span><span class="stl_188 stl_44 stl_213" style="word-spacing:-0.0205em;">auth</span><span class="stl_129 stl_49 stl_267" style="word-spacing:-0.0194em;">模块专门用来处理 </span><span class="stl_132 stl_52 stl_267" style="word-spacing:-0.0194em;">HTTP </span><span class="stl_129 stl_49 stl_267" style="word-spacing:-0.0194em;">认证： &nbsp;</span></div>
					<div class="stl_01" style="top:23.1333em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">requests &nbsp;</span></div>
					<div class="stl_01" style="top:23.9663em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">requests.auth </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">AuthBase &nbsp;</span></div>
					<div class="stl_01" style="top:24.7993em; left:8.3386em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">requests.auth </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">HTTPBasicAuth &nbsp;</span></div>
					<div class="stl_01" style="top:26.4653em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">auth = HTTPBasicAuth('ryan', 'password') &nbsp;</span></div>
					<div class="stl_01" style="top:27.2983em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">r = requests.post(url="http://pythonscraping.com/pages/auth/login.php", auth= &nbsp;</span></div>
					<div class="stl_01" style="top:28.1313em; left:15.0678em;"><span class="stl_116 stl_44 stl_10">auth) &nbsp;</span></div>
					<div class="stl_01" style="top:28.9643em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(r.text) &nbsp;</span></div>
					<div class="stl_01" style="top:30.7535em; left:6.6142em;"><span class="stl_129 stl_49 stl_142" style="word-spacing:-0.0657em;">虽然这看着像是一个普通的 </span><span class="stl_188 stl_44 stl_796" style="word-spacing:-0.0693em;">POST</span><span class="stl_129 stl_49 stl_142" style="word-spacing:-0.0657em;">请求，但是有一个 </span><span class="stl_188 stl_44 stl_796" style="word-spacing:-0.0693em;">HTTPBasicAuth</span><span class="stl_129 stl_49 stl_142" style="word-spacing:-0.0657em;">对象作为 </span><span class="stl_188 stl_44 stl_796" style="word-spacing:-0.0693em;">auth</span><span class="stl_129 stl_49 stl_142" style="word-spacing:-0.0657em;">参数传 &nbsp;</span></div>
					<div class="stl_01" style="top:32.0155em; left:6.614em;"><span class="stl_129 stl_49 stl_130">递到请求中。显示的结果将是用户名和密码验证成功的页面（如果验证失败，就是一个拒 &nbsp;</span></div>
					<div class="stl_01" style="top:33.2656em; left:6.6142em;"><span class="stl_129 stl_49 stl_412">绝接入页面）。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.6539em; left:6.6142em;"><span class="stl_197 stl_18 stl_10">9</span></div>
					<div class="stl_01" style="top:35.583em; left:7.4373em;"><span class="stl_197 stl_18 stl_71">.6</span><span class="stl_160 stl_20 stl_71">ꢀ其他表单问题 &nbsp;</span></div>
					<div class="stl_01" style="top:38.0163em; left:6.6142em;"><span class="stl_129 stl_49 stl_692" style="word-spacing:0.1027em;">表单是网络恶意机器人（</span><span class="stl_132 stl_52 stl_692" style="word-spacing:0.1027em;">malicious bots</span><span class="stl_129 stl_49 stl_692" style="word-spacing:0.1027em;">）酷爱的网站切入点。你当然不希望机器人创建垃 &nbsp;</span></div>
					<div class="stl_01" style="top:39.344em; left:6.6142em;"><span class="stl_129 stl_49 stl_139">圾账号，占用昂贵的服务器资源，或者在博客上提交垃圾评论。因此，新式的网站经常在 &nbsp;</span></div>
					<div class="stl_01" style="top:40.5163em; left:6.6142em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0002em;">HTML </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">中使用很多安全措施，让表单不能被快速穿越。 &nbsp;</span></div>
					<div class="stl_01" style="top:42.4273em; left:6.6142em;"><span class="stl_129 stl_49 stl_165" style="word-spacing:-0.0328em;">关于验证码（</span><span class="stl_132 stl_52 stl_165" style="word-spacing:-0.0328em;">CAPTCHA</span><span class="stl_129 stl_49 stl_165" style="word-spacing:-0.0328em;">）的作用，请查看第 </span><span class="stl_132 stl_52 stl_165" style="word-spacing:-0.0328em;">11 </span><span class="stl_129 stl_49 stl_165" style="word-spacing:-0.0328em;">章内容，里面介绍了 </span><span class="stl_132 stl_52 stl_165" style="word-spacing:-0.0328em;">Python </span><span class="stl_129 stl_49 stl_165" style="word-spacing:-0.0328em;">的图像处理 &nbsp;</span></div>
					<div class="stl_01" style="top:43.7554em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">和文本识别方法。 &nbsp;</span></div>
					<div class="stl_01" style="top:45.6665em; left:6.6142em;"><span class="stl_129 stl_49 stl_153">如果你在提交表单的时候遇到了一个莫名其妙的错误，或者服务器一直以陌生的理由拒绝 &nbsp;</span></div>
					<div class="stl_01" style="top:46.8391em; left:6.6142em;"><span class="stl_129 stl_49 stl_797" style="word-spacing:0.0444em;">你，请查看第 </span><span class="stl_132 stl_52 stl_797" style="word-spacing:0.0444em;">12 </span><span class="stl_129 stl_49 stl_797" style="word-spacing:0.0444em;">章内容，里面介绍了蜜罐（</span><span class="stl_132 stl_52 stl_797" style="word-spacing:0.0444em;">honey</span><span class="stl_132 stl_52 stl_797" style="word-spacing:0.1269em;"> pot</span><span class="stl_129 stl_49 stl_797" style="word-spacing:0.1269em;">）、隐含字段（</span><span class="stl_132 stl_52 stl_797" style="word-spacing:0.1269em;">hidden</span><span class="stl_148 stl_52 stl_797" style="word-spacing:0.1269em;"> ﬁ</span><span class="stl_132 stl_52 stl_797" style="word-spacing:0.1269em;">eld</span><span class="stl_129 stl_49 stl_797" style="word-spacing:0.1269em;">），以及其 &nbsp;</span></div>
					<div class="stl_01" style="top:48.1668em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">他保护网页表单的安全措施。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:22.9033em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">穿越网页表单与登录窗口进行采集 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">127 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_183.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_183.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:9.4423em; left:30.9726em;"><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.0687em;">第 </span><span class="stl_215 stl_18 stl_10" style="word-spacing:-0.0687em;">1 0 </span><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.0687em;">章 &nbsp;</span></div>
					<div class="stl_01 stl_316" style="top:12.4146em; left:23.7477em;"><span class="stl_70 stl_20 stl_71">采集</span><span class="stl_317 stl_318 stl_71">JavaScript &nbsp;</span></div>
					<div class="stl_01" style="top:24.5006em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">客户端脚本语言是运行在浏览器而非服务器上的语言。客户端语言成功的前提是浏览器拥 &nbsp;</span></div>
					<div class="stl_01" style="top:25.6729em; left:5.6693em;"><span class="stl_129 stl_49 stl_798" style="word-spacing:0.0333em;">有正确地解释和执行这类语言的能力（这也是在浏览器上禁止 </span><span class="stl_132 stl_52 stl_798" style="word-spacing:0.0333em;">JavaScript </span><span class="stl_129 stl_49 stl_798" style="word-spacing:0.0333em;">非常容易的原因）。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.6617em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">在一定程度上，由于很难让所有浏览器开发商都认可同一个标准，所以客户端语言比服务 &nbsp;</span></div>
					<div class="stl_01" style="top:28.912em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">器端语言要少很多。不过这在网络数据采集的时候是件好事：要处理的语言越少越好。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.7454em; left:5.6693em;"><span class="stl_129 stl_49 stl_690" style="word-spacing:-0.0556em;">通常，你在网上遇到的客户端语言只有两种：</span><span class="stl_132 stl_52 stl_690" style="word-spacing:-0.0556em;">ActionScript</span><span class="stl_129 stl_49 stl_690" style="word-spacing:-0.0556em;">（开发 </span><span class="stl_132 stl_52 stl_690" style="word-spacing:-0.0556em;">Flash </span><span class="stl_129 stl_49 stl_690" style="word-spacing:-0.0556em;">应用的语言）和 &nbsp;</span></div>
					<div class="stl_01" style="top:31.9957em; left:5.6693em;"><span class="stl_132 stl_52 stl_312" style="word-spacing:-0.0039em;">JavaScript</span><span class="stl_129 stl_49 stl_312" style="word-spacing:-0.0039em;">。今天 </span><span class="stl_132 stl_52 stl_312" style="word-spacing:-0.0039em;">ActionScript </span><span class="stl_129 stl_49 stl_312" style="word-spacing:-0.0039em;">的使用率比 </span><span class="stl_132 stl_52 stl_312" style="word-spacing:-0.0039em;">10 </span><span class="stl_129 stl_49 stl_312" style="word-spacing:-0.0039em;">年前低很多，经常用于流媒体文件播放，用作 &nbsp;</span></div>
					<div class="stl_01" style="top:33.2458em; left:5.6693em;"><span class="stl_129 stl_49 stl_131" style="word-spacing:0.0015em;">在线游戏平台，或者是网站上那些没人想看更没人点击的“介绍”页面。总之，采集 </span><span class="stl_132 stl_52 stl_131" style="word-spacing:0.0015em;">Flash &nbsp;</span></div>
					<div class="stl_01" style="top:34.4958em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">页面的需要并不多，所以我重点介绍新式网页中普遍使用的客户端语言：</span><span class="stl_132 stl_52 stl_10">JavaScript</span><span class="stl_129 stl_49 stl_10">。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.4068em; left:5.6693em;"><span class="stl_129 stl_49 stl_166" style="word-spacing:-0.0376em;">到目前为止，</span><span class="stl_132 stl_52 stl_166" style="word-spacing:-0.0376em;">JavaScript </span><span class="stl_129 stl_49 stl_166" style="word-spacing:-0.0376em;">是网络上最常用也是支持者最多的客户端脚本语言。它可以收集 &nbsp;</span></div>
					<div class="stl_01" style="top:37.7348em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">用户的跟踪数据，不需要重载页面直接提交表单，在页面嵌入多媒体文件，甚至运行网页 &nbsp;</span></div>
					<div class="stl_01" style="top:38.9071em; left:5.6693em;"><span class="stl_129 stl_49 stl_657" style="word-spacing:-0.0295em;">游戏。那些看起来非常简单的页面背后通常使用了许多 </span><span class="stl_132 stl_52 stl_657" style="word-spacing:-0.0295em;">JavaScript </span><span class="stl_129 stl_49 stl_657" style="word-spacing:-0.0295em;">文件。你可以在网页源 &nbsp;</span></div>
					<div class="stl_01" style="top:40.2228em; left:5.6693em;"><span class="stl_129 stl_49 stl_170" style="word-spacing:-0.0278em;">代码的 </span><span class="stl_188 stl_44 stl_359" style="word-spacing:-0.0293em;">&lt;script&gt;</span><span class="stl_129 stl_49 stl_170" style="word-spacing:-0.0278em;">标签之间看到它们： &nbsp;</span></div>
					<div class="stl_01" style="top:42.1257em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:43.7917em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:42.1257em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">script&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:42.9587em; left:8.8104em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">alert("This creates a pop-up using JavaScript"); &nbsp;</span></div>
					<div class="stl_01" style="top:43.7917em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">/script&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:46.068em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:45.9972em; left:6.4924em;"><span class="stl_197 stl_18 stl_71">0.1</span><span class="stl_160 stl_20 stl_71">ꢀ</span><span class="stl_197 stl_18 stl_71">JavaScript</span><span class="stl_160 stl_20 stl_71">简介 &nbsp;</span></div>
					<div class="stl_01" style="top:48.4304em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">对要采集的语言预先做些了解会很有用。自己熟悉一下 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">JavaScript </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">总会有好处。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.3099em; left:5.6693em;"><span class="stl_119 stl_22 stl_10">128 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_184.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_184.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:6.6142em;"><span class="stl_132 stl_52 stl_611" style="word-spacing:-0.0144em;">JavaScript </span><span class="stl_129 stl_49 stl_611" style="word-spacing:-0.0144em;">是一种弱类型语言，其语法通常可以与 </span><span class="stl_132 stl_52 stl_611" style="word-spacing:-0.0144em;">C++ </span><span class="stl_129 stl_49 stl_611" style="word-spacing:-0.0144em;">和 </span><span class="stl_132 stl_52 stl_611" style="word-spacing:-0.0144em;">Java </span><span class="stl_129 stl_49 stl_611" style="word-spacing:-0.0144em;">做对比。虽然语法中的一些 &nbsp;</span></div>
					<div class="stl_01" style="top:6.0849em; left:6.6142em;"><span class="stl_129 stl_49 stl_359" style="word-spacing:-0.0223em;">元素，比如操作符、循环条件和数组，都与 </span><span class="stl_132 stl_52 stl_359" style="word-spacing:-0.0223em;">C++</span><span class="stl_129 stl_49 stl_359" style="word-spacing:-0.0223em;">、</span><span class="stl_132 stl_52 stl_359" style="word-spacing:-0.0223em;">Java </span><span class="stl_129 stl_49 stl_359" style="word-spacing:-0.0223em;">语法很接近，但是 </span><span class="stl_132 stl_52 stl_359" style="word-spacing:-0.0223em;">JavaScript </span><span class="stl_129 stl_49 stl_359" style="word-spacing:-0.0223em;">的弱 &nbsp;</span></div>
					<div class="stl_01" style="top:7.4127em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">类型和脚本形式被一些程序员看成是折磨人的怪兽。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.246em; left:6.6142em;"><span class="stl_129 stl_49 stl_447" style="word-spacing:-0.01em;">例如，下面的 </span><span class="stl_132 stl_52 stl_447" style="word-spacing:-0.01em;">JavaScript </span><span class="stl_129 stl_49 stl_447" style="word-spacing:-0.01em;">程序通过递归方式计算 </span><span class="stl_132 stl_52 stl_447" style="word-spacing:-0.01em;">Fibonacci </span><span class="stl_129 stl_49 stl_447" style="word-spacing:-0.01em;">序列，最后把结果打印在浏览器 &nbsp;</span></div>
					<div class="stl_01" style="top:10.5741em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">的开发者控制台里： &nbsp;</span></div>
					<div class="stl_01" style="top:12.4649em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:12.4649em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">script&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:13.2979em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">function </span><span class="stl_116 stl_44 stl_10">fibonacci(a, b){ &nbsp;</span></div>
					<div class="stl_01" style="top:14.1309em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">var </span><span class="stl_116 stl_44 stl_10">nextNum = a + b; &nbsp;</span></div>
					<div class="stl_01" style="top:14.9639em; left:9.7553em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">console.log(nextNum+" is in the Fibonacci sequence"); &nbsp;</span></div>
					<div class="stl_01" style="top:15.7969em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">if</span><span class="stl_116 stl_44 stl_10">(nextNum &lt; 100){ &nbsp;</span></div>
					<div class="stl_01" style="top:16.6299em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">fibonacci(b, nextNum); &nbsp;</span></div>
					<div class="stl_01" style="top:17.4629em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">}</span></div>
					<div class="stl_01" style="top:18.2959em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">}</span></div>
					<div class="stl_01" style="top:19.1289em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">fibonacci(1, 1); &nbsp;</span></div>
					<div class="stl_01" style="top:19.9619em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:19.9619em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">/script&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:21.6739em; left:6.6142em;"><span class="stl_129 stl_49 stl_486" style="word-spacing:-0.0422em;">注意 </span><span class="stl_132 stl_52 stl_486" style="word-spacing:-0.0422em;">JavaScript </span><span class="stl_129 stl_49 stl_486" style="word-spacing:-0.0422em;">里所有的变量都用 </span><span class="stl_188 stl_44 stl_443" style="word-spacing:-0.0445em;">var</span><span class="stl_129 stl_49 stl_486" style="word-spacing:-0.0422em;">关键词字进行定义。这与 </span><span class="stl_132 stl_52 stl_486" style="word-spacing:-0.0422em;">PHP </span><span class="stl_129 stl_49 stl_486" style="word-spacing:-0.0422em;">里的 </span><span class="stl_188 stl_44 stl_443" style="word-spacing:-0.0445em;">$</span><span class="stl_129 stl_49 stl_486" style="word-spacing:-0.0422em;">符号类似，或 &nbsp;</span></div>
					<div class="stl_01" style="top:22.9239em; left:6.6139em;"><span class="stl_129 stl_49 stl_400" style="word-spacing:-0.0108em;">者 </span><span class="stl_132 stl_52 stl_400" style="word-spacing:-0.0108em;">Java </span><span class="stl_129 stl_49 stl_400" style="word-spacing:-0.0108em;">和 </span><span class="stl_132 stl_52 stl_400" style="word-spacing:-0.0108em;">C++ </span><span class="stl_129 stl_49 stl_400" style="word-spacing:-0.0108em;">里的类型声明（</span><span class="stl_188 stl_44 stl_211" style="word-spacing:-0.0114em;">int</span><span class="stl_129 stl_49 stl_400" style="word-spacing:-0.0108em;">、</span><span class="stl_188 stl_44 stl_211" style="word-spacing:-0.0114em;">String</span><span class="stl_129 stl_49 stl_400" style="word-spacing:-0.0108em;">、</span><span class="stl_188 stl_44 stl_211" style="word-spacing:-0.0114em;">List</span><span class="stl_129 stl_49 stl_400" style="word-spacing:-0.0108em;">等）。</span><span class="stl_132 stl_52 stl_400" style="word-spacing:-0.0108em;">Python </span><span class="stl_129 stl_49 stl_400" style="word-spacing:-0.0108em;">不太一样，它没有这种显 &nbsp;</span></div>
					<div class="stl_01" style="top:24.2637em; left:6.6145em;"><span class="stl_129 stl_49 stl_10">式的变量声明。 &nbsp;</span></div>
					<div class="stl_01" style="top:26.0971em; left:6.6145em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">JavaScript </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">还有一个非常好的特性，就是把函数作为变量使用： &nbsp;</span></div>
					<div class="stl_01" style="top:28.066em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:28.066em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">script&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:28.899em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">var </span><span class="stl_116 stl_44 stl_10">fibonacci = </span><span class="stl_232 stl_44 stl_10">function</span><span class="stl_116 stl_44 stl_10">() { &nbsp;</span></div>
					<div class="stl_01" style="top:29.732em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">var </span><span class="stl_116 stl_44 stl_10">a = 1; &nbsp;</span></div>
					<div class="stl_01" style="top:30.565em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">var </span><span class="stl_116 stl_44 stl_10">b = 1; &nbsp;</span></div>
					<div class="stl_01" style="top:31.398em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">return function</span><span class="stl_116 stl_44 stl_10">() { &nbsp;</span></div>
					<div class="stl_01" style="top:32.231em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">var </span><span class="stl_116 stl_44 stl_10">temp = b; &nbsp;</span></div>
					<div class="stl_01" style="top:33.064em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">b = a + b; &nbsp;</span></div>
					<div class="stl_01" style="top:33.897em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">a = temp; &nbsp;</span></div>
					<div class="stl_01" style="top:34.73em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">b; &nbsp;</span></div>
					<div class="stl_01" style="top:35.563em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">}</span></div>
					<div class="stl_01" style="top:36.396em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">}</span></div>
					<div class="stl_01" style="top:37.229em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">var </span><span class="stl_116 stl_44 stl_10">fibInstance = fibonacci(); &nbsp;</span></div>
					<div class="stl_01" style="top:38.062em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">console.log(fibInstance()+" is in the Fibonacci sequence"); &nbsp;</span></div>
					<div class="stl_01" style="top:38.895em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">console.log(fibInstance()+" is in the Fibonacci sequence"); &nbsp;</span></div>
					<div class="stl_01" style="top:39.728em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">console.log(fibInstance()+" is in the Fibonacci sequence"); &nbsp;</span></div>
					<div class="stl_01" style="top:40.561em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:40.561em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">/script&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:42.287em; left:6.6142em;"><span class="stl_129 stl_49 stl_266" style="word-spacing:-0.0387em;">第一次看到这段代码可能有点儿头晕，不过如果你把这种特性看成 </span><span class="stl_132 stl_52 stl_266" style="word-spacing:-0.0387em;">Lambda </span><span class="stl_129 stl_49 stl_266" style="word-spacing:-0.0387em;">表达式（第 </span><span class="stl_132 stl_52 stl_266" style="word-spacing:-0.0387em;">2 &nbsp;</span></div>
					<div class="stl_01" style="top:43.6027em; left:6.6142em;"><span class="stl_129 stl_49 stl_405" style="word-spacing:0.0122em;">章介绍过），就会很简单了。变量 </span><span class="stl_188 stl_44 stl_646" style="word-spacing:0.0129em;">fibonacci</span><span class="stl_129 stl_49 stl_405" style="word-spacing:0.0122em;">被定义成一个函数。它的函数值返回一个递增 &nbsp;</span></div>
					<div class="stl_01" style="top:44.787em; left:6.614em;"><span class="stl_129 stl_49 stl_659" style="word-spacing:-0.0176em;">的 </span><span class="stl_132 stl_52 stl_659" style="word-spacing:-0.0176em;">Fibonacci </span><span class="stl_129 stl_49 stl_659" style="word-spacing:-0.0176em;">序列里较大的值。每次当它被调用时会返回 </span><span class="stl_132 stl_52 stl_659" style="word-spacing:-0.0176em;">Fibonacci </span><span class="stl_129 stl_49 stl_659" style="word-spacing:-0.0176em;">的计算函数，再次执行 &nbsp;</span></div>
					<div class="stl_01" style="top:46.1148em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">序列计算，并增加函数变量的值。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.9482em; left:6.6142em;"><span class="stl_129 stl_49 stl_273" style="word-spacing:-0.0388em;">虽然这样看起来有点儿复杂，但是在解决一些问题时，比如计算 </span><span class="stl_132 stl_52 stl_273" style="word-spacing:-0.0388em;">Fibonacci </span><span class="stl_129 stl_49 stl_273" style="word-spacing:-0.0388em;">序列值，这种 &nbsp;</span></div>
					<div class="stl_01" style="top:49.2761em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">模式还是比较合适的。在处理用户行为和回调函数时，把函数作为变量进行传递是非常方 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:29.8582em;"><span class="stl_126 stl_20 stl_229" style="word-spacing:0.4053em;">采集</span><span class="stl_119 stl_22 stl_229" style="word-spacing:0.4053em;">JavaScript </span><span class="stl_126 stl_20 stl_229" style="word-spacing:0.4053em;">｜ </span><span class="stl_119 stl_22 stl_229" style="word-spacing:0.4053em;">129 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_185.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_185.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">便的，另外在阅读 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">JavaScript </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">代码的时候必须适应这种编程方式。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.2641em; left:5.6693em;"><span class="stl_91 stl_20 stl_71">常用</span><span class="stl_260 stl_18 stl_71">JavaScript</span><span class="stl_91 stl_20 stl_71">库 &nbsp;</span></div>
					<div class="stl_01" style="top:9.205em; left:5.6693em;"><span class="stl_129 stl_49 stl_799" style="word-spacing:-0.0699em;">虽然了解 </span><span class="stl_132 stl_52 stl_799" style="word-spacing:-0.0699em;">JavaScript </span><span class="stl_129 stl_49 stl_799" style="word-spacing:-0.0699em;">语言本身的语法很重要，但是在新式的网络中你必然要使用至少一 &nbsp;</span></div>
					<div class="stl_01" style="top:10.455em; left:5.6693em;"><span class="stl_129 stl_49 stl_800" style="word-spacing:-0.1128em;">种 </span><span class="stl_132 stl_52 stl_800" style="word-spacing:-0.1128em;">JavaScript </span><span class="stl_129 stl_49 stl_800" style="word-spacing:-0.1128em;">语言的第三方库。在查看网页源代码的时候，你可能会看到很多常用的 &nbsp;</span></div>
					<div class="stl_01" style="top:11.705em; left:5.6693em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">JavaScript </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">库。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.6161em; left:5.6693em;"><span class="stl_129 stl_49 stl_801" style="word-spacing:-0.0516em;">用 </span><span class="stl_132 stl_52 stl_801" style="word-spacing:-0.0516em;">Python </span><span class="stl_129 stl_49 stl_801" style="word-spacing:-0.0516em;">执行 </span><span class="stl_132 stl_52 stl_801" style="word-spacing:-0.0516em;">JavaScript </span><span class="stl_129 stl_49 stl_801" style="word-spacing:-0.0516em;">代码的效率非常低，既费时又费力，尤其是在处理规模较大的 &nbsp;</span></div>
					<div class="stl_01" style="top:14.8664em; left:5.6693em;"><span class="stl_132 stl_52 stl_301" style="word-spacing:-0.01em;">JavaScript </span><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.01em;">代码时。如果有绕过 </span><span class="stl_132 stl_52 stl_301" style="word-spacing:-0.01em;">JavaScript </span><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.01em;">并直接解析它的方法（不需要执行它就可以获得 &nbsp;</span></div>
					<div class="stl_01" style="top:16.1165em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">信息）会非常实用，可以帮你避开一大堆 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">JavaScript </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">的麻烦事。 &nbsp;</span></div>
					<div class="stl_01" style="top:18.0456em; left:5.6693em;"><span class="stl_387 stl_18 stl_244" style="word-spacing:0.0005em;">1. jQuery &nbsp;</span></div>
					<div class="stl_01" style="top:19.2775em; left:5.6693em;"><span class="stl_132 stl_52 stl_483" style="word-spacing:-0.0075em;">jQuery </span><span class="stl_129 stl_49 stl_483" style="word-spacing:-0.0075em;">是一个十分常见的库，</span><span class="stl_132 stl_52 stl_483" style="word-spacing:-0.0075em;">70% </span><span class="stl_129 stl_49 stl_483" style="word-spacing:-0.0075em;">最流行的网站（约 </span><span class="stl_132 stl_52 stl_483" style="word-spacing:-0.0075em;">200 </span><span class="stl_129 stl_49 stl_483" style="word-spacing:-0.0075em;">万）和约 </span><span class="stl_132 stl_52 stl_483" style="word-spacing:-0.0075em;">30% </span><span class="stl_129 stl_49 stl_483" style="word-spacing:-0.0075em;">的其他网站（约 </span><span class="stl_132 stl_52 stl_483" style="word-spacing:-0.0075em;">2 &nbsp;</span></div>
					<div class="stl_01" style="top:20.4881em; left:11.211em;"><span class="stl_181 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:20.5278em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.2915em;">亿）都在使用。 一个网站使用</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;"> jQuery</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;"> 的特征，就是源代码里包含了</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;"> jQuery</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;"> 入口，比如： &nbsp;</span></div>
					<div class="stl_01" style="top:22.5366em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:22.4962em; left:7.7479em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">script </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"</span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">&gt;&lt;/ &nbsp;</span></div>
					<div class="stl_01" style="top:23.3696em; left:7.7479em;"><span class="stl_232 stl_44 stl_10">script&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:25.0508em; left:5.6693em;"><span class="stl_129 stl_49 stl_283" style="word-spacing:-0.0122em;">如果你在一个网站上看到了 </span><span class="stl_132 stl_52 stl_283" style="word-spacing:-0.0122em;">jQuery</span><span class="stl_129 stl_49 stl_283" style="word-spacing:-0.0122em;">，那么采集这个网站数据的时候要格外小心。</span><span class="stl_132 stl_52 stl_283" style="word-spacing:-0.0122em;">jQuery </span><span class="stl_129 stl_49 stl_283" style="word-spacing:-0.0122em;">可 &nbsp;</span></div>
					<div class="stl_01" style="top:26.3008em; left:5.6693em;"><span class="stl_129 stl_49 stl_802" style="word-spacing:-0.0144em;">以动态地创建 </span><span class="stl_132 stl_52 stl_802" style="word-spacing:-0.0144em;">HTML </span><span class="stl_129 stl_49 stl_802" style="word-spacing:-0.0144em;">内容，只有在 </span><span class="stl_132 stl_52 stl_802" style="word-spacing:-0.0144em;">JavaScript </span><span class="stl_129 stl_49 stl_802" style="word-spacing:-0.0144em;">代码执行之后才会显示。如果你用传统的方 &nbsp;</span></div>
					<div class="stl_01" style="top:27.5508em; left:5.6693em;"><span class="stl_129 stl_49 stl_271" style="word-spacing:-0.0184em;">法采集页面内容，就只能获得 </span><span class="stl_132 stl_52 stl_271" style="word-spacing:-0.0184em;">JavaScript </span><span class="stl_129 stl_49 stl_271" style="word-spacing:-0.0184em;">代码执行之前页面上的内容（我们将在 </span><span class="stl_132 stl_52 stl_271" style="word-spacing:-0.0184em;">10.2 </span><span class="stl_129 stl_49 stl_271" style="word-spacing:-0.0184em;">节详 &nbsp;</span></div>
					<div class="stl_01" style="top:28.8785em; left:5.6693em;"><span class="stl_129 stl_49 stl_574">细介绍这个采集问题）。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.7896em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">另外，这些页面还可能包含动画、用户交互内容和嵌入式媒体，这些内容对网络数据采集 &nbsp;</span></div>
					<div class="stl_01" style="top:32.0397em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">都是挑战。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.8911em; left:5.6693em;"><span class="stl_387 stl_18 stl_244" style="word-spacing:0.0003em;">2. Google Analytics &nbsp;</span></div>
					<div class="stl_01" style="top:35.0839em; left:18.6612em;"><span class="stl_181 stl_52 stl_10">2</span></div>
					<div class="stl_01" style="top:35.1231em; left:5.6693em;"><span class="stl_129 stl_49 stl_106" style="word-spacing:-0.0011em;">有一半的网站都在用 </span><span class="stl_132 stl_52 stl_106" style="word-spacing:-0.0011em;">Google</span><span class="stl_132 stl_52 stl_106" style="word-spacing:0.1241em;"> Analytics</span><span class="stl_129 stl_49 stl_106" style="word-spacing:0.041em;"> ，它可能是网站最常用的</span><span class="stl_132 stl_52 stl_106" style="word-spacing:-0.0011em;"> JavaScript</span><span class="stl_129 stl_49 stl_106" style="word-spacing:-0.0009em;"> 库和最受欢迎的 &nbsp;</span></div>
					<div class="stl_01" style="top:36.3736em; left:5.6695em;"><span class="stl_129 stl_49 stl_294" style="word-spacing:-0.0052em;">用户跟踪工具。其实，</span><span class="stl_132 stl_52 stl_294" style="word-spacing:-0.0052em;">http://pythonscraping.com </span><span class="stl_129 stl_49 stl_294" style="word-spacing:-0.0052em;">和 </span><span class="stl_132 stl_52 stl_294" style="word-spacing:-0.0052em;">http://www.oreilly.com/ </span><span class="stl_129 stl_49 stl_294" style="word-spacing:-0.0052em;">都用了 </span><span class="stl_132 stl_52 stl_294" style="word-spacing:-0.0052em;">Google &nbsp;</span></div>
					<div class="stl_01" style="top:37.6237em; left:5.6693em;"><span class="stl_132 stl_52 stl_73">Analytics</span><span class="stl_129 stl_49 stl_73">。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.5348em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">很容易判断一个页面是不是使用了 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Google</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.1101em;"> Analytics</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.1101em;">。如果网站使用了它，在页面底部会有 &nbsp;</span></div>
					<div class="stl_01" style="top:40.7848em; left:5.6693em;"><span class="stl_129 stl_49 stl_745" style="word-spacing:0.015em;">类似如下所示的 </span><span class="stl_132 stl_52 stl_745" style="word-spacing:0.015em;">JavaScript </span><span class="stl_129 stl_49 stl_745" style="word-spacing:0.015em;">代码（取自 </span><span class="stl_132 stl_52 stl_745" style="word-spacing:0.015em;">O</span><span class="stl_134 stl_36 stl_745" style="word-spacing:0.015em;">’</span><span class="stl_132 stl_52 stl_745" style="word-spacing:0.015em;">Reilly Media </span><span class="stl_129 stl_49 stl_745" style="word-spacing:0.015em;">网站）： &nbsp;</span></div>
					<div class="stl_01" style="top:42.7536em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:43.5866em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:42.7536em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">!-- Google Analytics --&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:43.5866em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">script type="text/javascript"&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:47.0086em; left:5.6693em;"><span class="stl_60 stl_49 stl_695" style="word-spacing:0.0156em;">注 </span><span class="stl_61 stl_52 stl_695" style="word-spacing:0.0156em;">1</span><span class="stl_60 stl_49 stl_695" style="word-spacing:0.0156em;">：</span><span class="stl_61 stl_52 stl_695" style="word-spacing:0.0156em;">Dave</span><span class="stl_61 stl_52 stl_695" style="word-spacing:0.0408em;"> Methvin</span><span class="stl_60 stl_49 stl_695" style="word-spacing:0.0408em;"> 于 </span><span class="stl_61 stl_52 stl_695" style="word-spacing:0.0156em;">2014 </span><span class="stl_60 stl_49 stl_695" style="word-spacing:0.0156em;">年 </span><span class="stl_61 stl_52 stl_695" style="word-spacing:0.0156em;">1 </span><span class="stl_60 stl_49 stl_695" style="word-spacing:0.0156em;">月 </span><span class="stl_61 stl_52 stl_695" style="word-spacing:0.0156em;">13 </span><span class="stl_60 stl_49 stl_695" style="word-spacing:0.0156em;">日在他的博客中发表了“</span><span class="stl_61 stl_52 stl_695" style="word-spacing:0.0156em;">The</span><span class="stl_61 stl_52 stl_695" style="word-spacing:0.0402em;"> State of jQuery</span><span class="stl_61 stl_52 stl_695" style="word-spacing:0.0402em;"> 2014</span><span class="stl_60 stl_49 stl_695" style="word-spacing:0.0402em;">”（</span><span class="stl_61 stl_52 stl_695" style="word-spacing:0.0402em;">http://blog.jquery. &nbsp;</span></div>
					<div class="stl_01" style="top:48.0086em; left:7.512em;"><span class="stl_61 stl_52 stl_10">com/2014/01/13/the-state-of-jquery-2014/</span><span class="stl_60 stl_49 stl_10">）一文，里面包含了大量的统计数据。 &nbsp;</span></div>
					<div class="stl_01" style="top:49.0086em; left:5.6693em;"><span class="stl_60 stl_49 stl_368" style="word-spacing:-0.019em;">注 </span><span class="stl_61 stl_52 stl_368" style="word-spacing:-0.019em;">2</span><span class="stl_60 stl_49 stl_368" style="word-spacing:-0.019em;">：</span><span class="stl_61 stl_52 stl_368" style="word-spacing:-0.019em;">W3Techs,</span><span class="stl_60 stl_49 stl_368" style="word-spacing:-0.019em;">“</span><span class="stl_61 stl_52 stl_368" style="word-spacing:-0.019em;">Usage</span><span class="stl_61 stl_52 stl_368" style="word-spacing:0.0866em;"> Statistics and Market Share of Google Analytics for</span><span class="stl_61 stl_52 stl_368" style="word-spacing:0.0866em;"> Websites</span><span class="stl_60 stl_49 stl_368" style="word-spacing:0.0866em;">”</span><span class="stl_61 stl_52 stl_368" style="word-spacing:0.0866em;">(&lt;http://w3techs.com/ &nbsp;</span></div>
					<div class="stl_01" style="top:50.0086em; left:7.5118em;"><span class="stl_61 stl_52 stl_10">technologies/details/ta-googleanalytics/all/all)</span><span class="stl_60 stl_49 stl_10">。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">30 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 10</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_186.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_186.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8919em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">var </span><span class="stl_116 stl_44 stl_10">_gaq = _gaq || []; &nbsp;</span></div>
					<div class="stl_01" style="top:5.7249em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">_</span></div>
					<div class="stl_01" style="top:6.5579em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">_</span></div>
					<div class="stl_01" style="top:7.3909em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">_</span></div>
					<div class="stl_01" style="top:8.2239em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">_</span></div>
					<div class="stl_01" style="top:9.0569em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">_</span></div>
					<div class="stl_01" style="top:5.7249em; left:8.6928em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">gaq.push(['_setAccount', 'UA-4591498-1']); &nbsp;</span></div>
					<div class="stl_01" style="top:6.5579em; left:8.6928em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">gaq.push(['_setDomainName', 'oreilly.com']); &nbsp;</span></div>
					<div class="stl_01" style="top:7.3909em; left:8.6928em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">gaq.push(['_addIgnoredRef', 'oreilly.com']); &nbsp;</span></div>
					<div class="stl_01" style="top:8.2239em; left:8.6928em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">gaq.push(['_setSiteSpeedSampleRate', 50]); &nbsp;</span></div>
					<div class="stl_01" style="top:9.0569em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">gaq.push(['_trackPageview']); &nbsp;</span></div>
					<div class="stl_01" style="top:10.7229em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">(</span></div>
					<div class="stl_01" style="top:11.5559em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">'</span></div>
					<div class="stl_01" style="top:10.7229em; left:8.6928em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">function</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">() { </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">var </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">ga = document.createElement('script'); ga.type = &nbsp;</span></div>
					<div class="stl_01" style="top:11.5559em; left:8.6928em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">text/javascript'; ga.async = </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">true</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">; ga.src = ('https:' == &nbsp;</span></div>
					<div class="stl_01" style="top:12.3889em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">document.location.protocol ? 'https://ssl' : 'http://www') + &nbsp;</span></div>
					<div class="stl_01" style="top:13.2219em; left:8.6928em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">.google-analytics.com/ga.js'; </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">var </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">s = &nbsp;</span></div>
					<div class="stl_01" style="top:13.2219em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">'</span></div>
					<div class="stl_01" style="top:14.0549em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">document.getElementsByTagName('script')[0]; &nbsp;</span></div>
					<div class="stl_01" style="top:14.8879em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">s.parentNode.insertBefore(ga, s); })(); &nbsp;</span></div>
					<div class="stl_01" style="top:16.5539em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:16.5539em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">/script&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:18.2798em; left:6.6142em;"><span class="stl_129 stl_49 stl_319" style="word-spacing:-0.0287em;">如果一个网站使用了 </span><span class="stl_132 stl_52 stl_319" style="word-spacing:-0.0287em;">Google</span><span class="stl_132 stl_52 stl_319" style="word-spacing:0.0905em;"> Analytics</span><span class="stl_129 stl_49 stl_319" style="word-spacing:-0.0289em;"> 或其他类似的网络分析系统，而你不想让网站知道 &nbsp;</span></div>
					<div class="stl_01" style="top:19.5298em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">你在采集数据，就要确保把那些分析工具的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">cookie </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">或者所有 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">cookie </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">都关掉。 &nbsp;</span></div>
					<div class="stl_01" style="top:21.3885em; left:6.6142em;"><span class="stl_387 stl_18 stl_10">3</span></div>
					<div class="stl_01" style="top:21.3481em; left:7.0543em;"><span class="stl_387 stl_18 stl_244" style="word-spacing:0.0005em;">. Google</span><span class="stl_388 stl_20 stl_244" style="word-spacing:0.0005em;">地图 &nbsp;</span></div>
					<div class="stl_01" style="top:22.6197em; left:6.6142em;"><span class="stl_129 stl_49 stl_368" style="word-spacing:-0.0149em;">只要你上过网，就一定见过内嵌 </span><span class="stl_132 stl_52 stl_368" style="word-spacing:-0.0149em;">Google </span><span class="stl_129 stl_49 stl_368" style="word-spacing:-0.0149em;">地图的网站。用 </span><span class="stl_132 stl_52 stl_368" style="word-spacing:-0.0149em;">Google </span><span class="stl_129 stl_49 stl_368" style="word-spacing:-0.0149em;">地图的 </span><span class="stl_132 stl_52 stl_368" style="word-spacing:-0.0149em;">API </span><span class="stl_129 stl_49 stl_368" style="word-spacing:-0.0149em;">很容易在任何 &nbsp;</span></div>
					<div class="stl_01" style="top:23.9481em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">网站上嵌入地图。 &nbsp;</span></div>
					<div class="stl_01" style="top:25.7109em; left:6.6142em;"><span class="stl_129 stl_49 stl_486" style="word-spacing:-0.0418em;">如果你要采集任何的位置数据，理解 </span><span class="stl_132 stl_52 stl_486" style="word-spacing:-0.0418em;">Google </span><span class="stl_129 stl_49 stl_486" style="word-spacing:-0.0418em;">地图的工作方式可以让你轻松地获取格式规 &nbsp;</span></div>
					<div class="stl_01" style="top:26.9609em; left:6.6142em;"><span class="stl_129 stl_49 stl_486" style="word-spacing:-0.0418em;">范的经纬度坐标和具体地址。在 </span><span class="stl_132 stl_52 stl_486" style="word-spacing:-0.0418em;">Google </span><span class="stl_129 stl_49 stl_486" style="word-spacing:-0.0418em;">地图上，显示一个位置最常用的方法就是用</span><span class="stl_269 stl_49 stl_486" style="word-spacing:-0.0418em;">标记 &nbsp;</span></div>
					<div class="stl_01" style="top:28.2887em; left:6.2183em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:28.2887em; left:7.01em;"><span class="stl_129 stl_49 stl_412">一个大头针）。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.0516em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">标记可以用下面的代码插在 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">Google </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">地图上： &nbsp;</span></div>
					<div class="stl_01" style="top:31.949em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">var </span><span class="stl_116 stl_44 stl_10">marker = </span><span class="stl_232 stl_44 stl_10">new </span><span class="stl_116 stl_44 stl_10">google.maps.Marker({ &nbsp;</span></div>
					<div class="stl_01" style="top:32.782em; left:10.4636em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">position: </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">new </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">google.maps.LatLng(-25.363882,131.044922), &nbsp;</span></div>
					<div class="stl_01" style="top:33.615em; left:10.4636em;"><span class="stl_116 stl_44 stl_10">map: map, &nbsp;</span></div>
					<div class="stl_01" style="top:34.448em; left:10.4636em;"><span class="stl_116 stl_44 stl_10">title: 'Some marker text' &nbsp;</span></div>
					<div class="stl_01" style="top:35.281em; left:9.0469em;"><span class="stl_116 stl_44 stl_10">}</span></div>
					<div class="stl_01" style="top:35.281em; left:9.4011em;"><span class="stl_116 stl_44 stl_10">); &nbsp;</span></div>
					<div class="stl_01" style="top:36.9915em; left:6.6142em;"><span class="stl_132 stl_52 stl_648" style="word-spacing:-0.0278em;">Python </span><span class="stl_129 stl_49 stl_648" style="word-spacing:-0.0278em;">可以轻松地抽取出所有位置在 </span><span class="stl_188 stl_44 stl_652" style="word-spacing:-0.0293em;">google.maps.LatLng()</span><span class="stl_129 stl_49 stl_648" style="word-spacing:-0.0278em;">里的坐标，生成一组经 </span><span class="stl_132 stl_52 stl_648" style="word-spacing:-0.0278em;">/ </span><span class="stl_129 stl_49 stl_648" style="word-spacing:-0.0278em;">纬度 &nbsp;</span></div>
					<div class="stl_01" style="top:38.3313em; left:6.6146em;"><span class="stl_129 stl_49 stl_10">坐标值。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.118em; left:6.6146em;"><span class="stl_129 stl_49 stl_721" style="word-spacing:0.0176em;">通过 </span><span class="stl_132 stl_52 stl_721" style="word-spacing:0.0176em;">Google </span><span class="stl_129 stl_49 stl_721" style="word-spacing:0.0176em;">的“地理坐标反向查询”</span><span class="stl_132 stl_52 stl_721" style="word-spacing:0.0176em;">API</span><span class="stl_129 stl_49 stl_721" style="word-spacing:0.0176em;">（</span><span class="stl_132 stl_52 stl_721" style="word-spacing:0.0176em;">https://developers.google.com/maps/documentation/ &nbsp;</span></div>
					<div class="stl_01" style="top:41.3678em; left:6.6146em;"><span class="stl_132 stl_52 stl_586">javascript/examples/geocoding-reverse</span><span class="stl_129 stl_49 stl_586">），你可以把这些经纬度坐标组解析成格式规范的地 &nbsp;</span></div>
					<div class="stl_01" style="top:42.6955em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">址，便于存储和分析。 &nbsp;</span></div>
					<div class="stl_01" style="top:45.0365em; left:6.6142em;"><span class="stl_197 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:44.9657em; left:7.4373em;"><span class="stl_197 stl_18 stl_71">0.2</span><span class="stl_160 stl_20 stl_71">ꢀ</span><span class="stl_197 stl_18 stl_71">Ajax</span><span class="stl_160 stl_20 stl_71">和动态</span><span class="stl_197 stl_18 stl_71">HTML &nbsp;</span></div>
					<div class="stl_01" style="top:47.3989em; left:6.6142em;"><span class="stl_129 stl_49 stl_130" style="word-spacing:-0.0172em;">到目前为止，我们与网站服务器通信的唯一方式，就是发出 </span><span class="stl_132 stl_52 stl_130" style="word-spacing:-0.0172em;">HTTP </span><span class="stl_129 stl_49 stl_130" style="word-spacing:-0.0172em;">请求获取新页面。如果 &nbsp;</span></div>
					<div class="stl_01" style="top:48.7266em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">提交表单之后，或从服务器获取信息之后，网站的页面不需要重新刷新，那么你访问的网 &nbsp;</span></div>
					<div class="stl_01" style="top:49.8989em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">站就在用 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Ajax </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">技术。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:29.8582em;"><span class="stl_126 stl_20 stl_229" style="word-spacing:0.4053em;">采集</span><span class="stl_119 stl_22 stl_229" style="word-spacing:0.4053em;">JavaScript </span><span class="stl_126 stl_20 stl_229" style="word-spacing:0.4053em;">｜ </span><span class="stl_119 stl_22 stl_229" style="word-spacing:0.4053em;">131 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_187.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_187.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_129 stl_49 stl_237" style="word-spacing:-0.0089em;">与一些人的印象不太一样，</span><span class="stl_132 stl_52 stl_237" style="word-spacing:-0.0089em;">Ajax </span><span class="stl_129 stl_49 stl_237" style="word-spacing:-0.0089em;">其实并不是一门语言，而是用来完成网络任务（可以认为 &nbsp;</span></div>
					<div class="stl_01" style="top:6.0849em; left:5.6693em;"><span class="stl_129 stl_49 stl_639" style="word-spacing:-0.0057em;">它与网络数据采集差不多）的一系列技术。</span><span class="stl_132 stl_52 stl_639" style="word-spacing:-0.0057em;">Ajax </span><span class="stl_129 stl_49 stl_639" style="word-spacing:-0.0057em;">全称是</span><span class="stl_132 stl_52 stl_639" style="word-spacing:-0.0057em;"> Asynchronous</span><span class="stl_132 stl_52 stl_639" style="word-spacing:0.1163em;"> JavaScript and</span><span class="stl_132 stl_52 stl_639" style="word-spacing:0.1163em;"> XML &nbsp;</span></div>
					<div class="stl_01" style="top:7.4127em; left:5.2735em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:7.3349em; left:6.0715em;"><span class="stl_129 stl_49 stl_673" style="word-spacing:0.0155em;">异步 </span><span class="stl_132 stl_52 stl_673" style="word-spacing:0.0155em;">JavaScript </span><span class="stl_129 stl_49 stl_673" style="word-spacing:0.0155em;">和 </span><span class="stl_132 stl_52 stl_673" style="word-spacing:0.0155em;">XML</span><span class="stl_129 stl_49 stl_673" style="word-spacing:0.0155em;">），网站不需要使用单独的页面请求就可以和网络服务器进行交互 &nbsp;</span></div>
					<div class="stl_01" style="top:8.5849em; left:6.1015em;"><span class="stl_129 stl_49 stl_303" style="word-spacing:-0.0096em;">收发信息）。需要注意的是：你不应该说“这个网站是 </span><span class="stl_132 stl_52 stl_303" style="word-spacing:-0.0096em;">Ajax </span><span class="stl_129 stl_49 stl_303" style="word-spacing:-0.0096em;">写的”。正确的说法应该是 &nbsp;</span></div>
					<div class="stl_01" style="top:9.835em; left:6.0651em;"><span class="stl_129 stl_49 stl_674" style="word-spacing:0.0625em;">这个表单用 </span><span class="stl_132 stl_52 stl_674" style="word-spacing:0.0625em;">Ajax </span><span class="stl_129 stl_49 stl_674" style="word-spacing:0.0625em;">与网络服务器通信”。 &nbsp;</span></div>
					<div class="stl_01" style="top:8.6627em; left:5.2735em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:9.9127em; left:5.2735em;"><span class="stl_129 stl_49 stl_10">“</span></div>
					<div class="stl_01" style="top:11.7461em; left:5.6693em;"><span class="stl_129 stl_49 stl_603" style="word-spacing:-0.021em;">和 </span><span class="stl_132 stl_52 stl_603" style="word-spacing:-0.021em;">Ajax</span><span class="stl_129 stl_49 stl_603" style="word-spacing:-0.021em;"> 一样，动态</span><span class="stl_132 stl_52 stl_603" style="word-spacing:-0.021em;"> HTML</span><span class="stl_129 stl_49 stl_603" style="word-spacing:-0.021em;">（</span><span class="stl_132 stl_52 stl_603" style="word-spacing:-0.021em;">dynamic</span><span class="stl_132 stl_52 stl_603" style="word-spacing:0.0942em;"> HTML</span><span class="stl_129 stl_49 stl_603" style="word-spacing:0.0942em;">，</span><span class="stl_132 stl_52 stl_603" style="word-spacing:0.0942em;">DHTML</span><span class="stl_129 stl_49 stl_603" style="word-spacing:0.0942em;">）也是一系列用于解决网络问题的 &nbsp;</span></div>
					<div class="stl_01" style="top:12.9963em; left:5.6693em;"><span class="stl_129 stl_49 stl_183" style="word-spacing:-0.0236em;">技术集合。</span><span class="stl_132 stl_52 stl_183" style="word-spacing:-0.0236em;">DHTML </span><span class="stl_129 stl_49 stl_183" style="word-spacing:-0.0236em;">是用客户端语言改变页面的 </span><span class="stl_132 stl_52 stl_183" style="word-spacing:-0.0236em;">HTML </span><span class="stl_129 stl_49 stl_183" style="word-spacing:-0.0236em;">元素（</span><span class="stl_132 stl_52 stl_183" style="word-spacing:-0.0236em;">HTML</span><span class="stl_129 stl_49 stl_183" style="word-spacing:-0.0236em;">、</span><span class="stl_132 stl_52 stl_183" style="word-spacing:-0.0236em;">CSS</span><span class="stl_129 stl_49 stl_183" style="word-spacing:-0.0236em;">，或者二者皆 &nbsp;</span></div>
					<div class="stl_01" style="top:14.324em; left:5.6693em;"><span class="stl_129 stl_49 stl_140">被改变）。比如，页面上的按钮只有当用户移动鼠标之后才出现，背景色可能每次点击都 &nbsp;</span></div>
					<div class="stl_01" style="top:15.4964em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">会改变，或者用一个 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Ajax </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">请求触发页面加载一段新内容。 &nbsp;</span></div>
					<div class="stl_01" style="top:17.4851em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">值得注意的是，虽然“动态”这个词往往和“移动”或“变化”联系在一起，但是那些使 &nbsp;</span></div>
					<div class="stl_01" style="top:18.6578em; left:5.6693em;"><span class="stl_129 stl_49 stl_123" style="word-spacing:-0.0033em;">用了交互 </span><span class="stl_132 stl_52 stl_123" style="word-spacing:-0.0033em;">HTML </span><span class="stl_129 stl_49 stl_123" style="word-spacing:-0.0033em;">组件、图像可以移动，或者带有嵌入式媒体文件的网页，并不一定就是动 &nbsp;</span></div>
					<div class="stl_01" style="top:19.9078em; left:5.6693em;"><span class="stl_129 stl_49 stl_171" style="word-spacing:-0.0128em;">态 </span><span class="stl_132 stl_52 stl_171" style="word-spacing:-0.0128em;">HTML</span><span class="stl_129 stl_49 stl_171" style="word-spacing:-0.0128em;">，即使页面看起来是动态的。另外，一些表面看起来极其单调、静态的页面，底 &nbsp;</span></div>
					<div class="stl_01" style="top:21.1578em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">层却可能是用 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">DHTML </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">处理的，关键要看有没有用 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">JavaScript </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">控制 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">HTML </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">和 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">CSS </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">元素。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.1465em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">如果你采集过许多网站，很可能会遇到这样一种情况。你在浏览器上看到的内容，与你用 &nbsp;</span></div>
					<div class="stl_01" style="top:24.3969em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">爬虫从网站上采集的内容不一样。你可能会怀疑自己是不是哪个细节没处理好，希望找出 &nbsp;</span></div>
					<div class="stl_01" style="top:25.6469em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">内容采集不出来的原因。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.4803em; left:5.6693em;"><span class="stl_129 stl_49 stl_397" style="word-spacing:-0.0409em;">有时你还会发现，网页用一个加载页面把你引到另一个页面上，但是网页的 </span><span class="stl_132 stl_52 stl_397" style="word-spacing:-0.0409em;">URL </span><span class="stl_129 stl_49 stl_397" style="word-spacing:-0.0409em;">链接在 &nbsp;</span></div>
					<div class="stl_01" style="top:28.8083em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">这个过程中一直没有变化。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.6417em; left:5.6693em;"><span class="stl_129 stl_49 stl_281" style="word-spacing:-0.0292em;">这些都是因为你的爬虫不能执行那些让页面产生各种神奇效果的 </span><span class="stl_132 stl_52 stl_281" style="word-spacing:-0.0292em;">JavaScript </span><span class="stl_129 stl_49 stl_281" style="word-spacing:-0.0292em;">代码。如果网 &nbsp;</span></div>
					<div class="stl_01" style="top:31.892em; left:5.6693em;"><span class="stl_129 stl_49 stl_328" style="word-spacing:-0.0243em;">站的 </span><span class="stl_132 stl_52 stl_328" style="word-spacing:-0.0243em;">HTML </span><span class="stl_129 stl_49 stl_328" style="word-spacing:-0.0243em;">页面没有运行 </span><span class="stl_132 stl_52 stl_328" style="word-spacing:-0.0243em;">JavaScript</span><span class="stl_129 stl_49 stl_328" style="word-spacing:-0.0243em;">，就可能和你在浏览器里看到的样子完全不同，因为 &nbsp;</span></div>
					<div class="stl_01" style="top:33.1421em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">浏览器可以正确地执行 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">JavaScript</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.0531em; left:5.6693em;"><span class="stl_129 stl_49 stl_803" style="word-spacing:-0.0515em;">那些使用了 </span><span class="stl_132 stl_52 stl_803" style="word-spacing:-0.0515em;">Ajax </span><span class="stl_129 stl_49 stl_803" style="word-spacing:-0.0515em;">或 </span><span class="stl_132 stl_52 stl_803" style="word-spacing:-0.0515em;">DHTML </span><span class="stl_129 stl_49 stl_803" style="word-spacing:-0.0515em;">技术改变 </span><span class="stl_132 stl_52 stl_803" style="word-spacing:-0.0515em;">/ </span><span class="stl_129 stl_49 stl_803" style="word-spacing:-0.0515em;">加载内容的页面，可能有一些采集手段，但是用 &nbsp;</span></div>
					<div class="stl_01" style="top:36.3034em; left:5.6693em;"><span class="stl_132 stl_52 stl_490" style="word-spacing:-0.0097em;">Python </span><span class="stl_129 stl_49 stl_490" style="word-spacing:-0.0097em;">解决这个问题只有两种途径：直接从 </span><span class="stl_132 stl_52 stl_490" style="word-spacing:-0.0097em;">JavaScript </span><span class="stl_129 stl_49 stl_490" style="word-spacing:-0.0097em;">代码里采集内容，或者用 </span><span class="stl_132 stl_52 stl_490" style="word-spacing:-0.0097em;">Python </span><span class="stl_129 stl_49 stl_490" style="word-spacing:-0.0097em;">的 &nbsp;</span></div>
					<div class="stl_01" style="top:37.5535em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">第三方库运行 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">JavaScript</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">，直接采集你在浏览器里看到的页面。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.9826em; left:5.6693em;"><span class="stl_91 stl_20 stl_198">在</span><span class="stl_260 stl_18 stl_198">Python</span><span class="stl_91 stl_20 stl_198">中用</span><span class="stl_260 stl_18 stl_198">Selenium</span><span class="stl_91 stl_20 stl_198">执行</span><span class="stl_260 stl_18 stl_198">JavaScript &nbsp;</span></div>
					<div class="stl_01" style="top:41.9235em; left:5.6693em;"><span class="stl_132 stl_52 stl_403">Selenium</span><span class="stl_129 stl_49 stl_403">（</span><span class="stl_132 stl_52 stl_403">http://www.seleniumhq.org/</span><span class="stl_129 stl_49 stl_403">）是一个强大的网络数据采集工具，其最初是为网 &nbsp;</span></div>
					<div class="stl_01" style="top:43.2512em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">站自动化测试而开发的。近几年，它还被广泛用于获取精确的网站快照，因为它们可以直 &nbsp;</span></div>
					<div class="stl_01" style="top:44.4235em; left:5.6693em;"><span class="stl_129 stl_49 stl_687" style="word-spacing:-0.0154em;">接运行在浏览器上。</span><span class="stl_132 stl_52 stl_687" style="word-spacing:-0.0154em;">Selenium </span><span class="stl_129 stl_49 stl_687" style="word-spacing:-0.0154em;">可以让浏览器自动加载页面，获取需要的数据，甚至页面截 &nbsp;</span></div>
					<div class="stl_01" style="top:45.7512em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">屏，或者判断网站上某些动作是否发生。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.5846em; left:5.6693em;"><span class="stl_132 stl_52 stl_804" style="word-spacing:-0.1003em;">Selenium </span><span class="stl_129 stl_49 stl_804" style="word-spacing:-0.1003em;">自己不带浏览器，它需要与第三方浏览器结合在一起使用。例如，如果你在 &nbsp;</span></div>
					<div class="stl_01" style="top:48.8349em; left:5.6693em;"><span class="stl_132 stl_52 stl_338" style="word-spacing:-0.0232em;">Firefox </span><span class="stl_129 stl_49 stl_338" style="word-spacing:-0.0232em;">上运行 </span><span class="stl_132 stl_52 stl_338" style="word-spacing:-0.0232em;">Selenium</span><span class="stl_129 stl_49 stl_338" style="word-spacing:-0.0232em;">，可以直接看到一个 </span><span class="stl_132 stl_52 stl_338" style="word-spacing:-0.0232em;">Firefox </span><span class="stl_129 stl_49 stl_338" style="word-spacing:-0.0232em;">窗口被打开，进入网站，然后执行你 &nbsp;</span></div>
					<div class="stl_01" style="top:50.1626em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">在代码中设置的动作。虽然这样可以看得更清楚，但是我更喜欢让程序在后台运行，所以 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">32 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 10</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_188.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_188.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">我用一个叫 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">PhantomJS</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">（</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">http://phantomjs.org/download.html</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">）的工具代替真实的浏览器。 &nbsp;</span></div>
					<div class="stl_01" style="top:6.746em; left:6.6142em;"><span class="stl_132 stl_52 stl_254" style="word-spacing:-0.0376em;">PhantomJS </span><span class="stl_129 stl_49 stl_254" style="word-spacing:-0.0376em;">是一个“无头”（</span><span class="stl_132 stl_52 stl_254" style="word-spacing:-0.0376em;">headless</span><span class="stl_129 stl_49 stl_254" style="word-spacing:-0.0376em;">）浏览器。它会把网站加载到内存并执行页面上的 &nbsp;</span></div>
					<div class="stl_01" style="top:7.9963em; left:6.6142em;"><span class="stl_132 stl_52 stl_496" style="word-spacing:-0.0277em;">JavaScript</span><span class="stl_129 stl_49 stl_496" style="word-spacing:-0.0277em;">，但是它不会向用户展示网页的图形界面。把 </span><span class="stl_132 stl_52 stl_496" style="word-spacing:-0.0277em;">Selenium </span><span class="stl_129 stl_49 stl_496" style="word-spacing:-0.0277em;">和 </span><span class="stl_132 stl_52 stl_496" style="word-spacing:-0.0277em;">PhantomJS </span><span class="stl_129 stl_49 stl_496" style="word-spacing:-0.0277em;">结合在一 &nbsp;</span></div>
					<div class="stl_01" style="top:9.2463em; left:6.6142em;"><span class="stl_129 stl_49 stl_496" style="word-spacing:-0.0284em;">起，就可以运行一个非常强大的网络爬虫了，可以处理 </span><span class="stl_132 stl_52 stl_496" style="word-spacing:-0.0284em;">cookie</span><span class="stl_129 stl_49 stl_496" style="word-spacing:-0.0284em;">、</span><span class="stl_132 stl_52 stl_496" style="word-spacing:-0.0284em;">JavaScrip</span><span class="stl_129 stl_49 stl_496" style="word-spacing:-0.0284em;">、</span><span class="stl_132 stl_52 stl_496" style="word-spacing:-0.0284em;">header</span><span class="stl_129 stl_49 stl_496" style="word-spacing:-0.0284em;">，以及 &nbsp;</span></div>
					<div class="stl_01" style="top:10.5741em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">任何你需要做的事情。 &nbsp;</span></div>
					<div class="stl_01" style="top:12.4075em; left:6.6142em;"><span class="stl_129 stl_49 stl_300" style="word-spacing:-0.0023em;">你可以从 </span><span class="stl_132 stl_52 stl_300" style="word-spacing:-0.0023em;">PyPI </span><span class="stl_129 stl_49 stl_300" style="word-spacing:-0.0023em;">网站（</span><span class="stl_132 stl_52 stl_300" style="word-spacing:-0.0023em;">https://pypi.python.org/simple/selenium/</span><span class="stl_129 stl_49 stl_300" style="word-spacing:-0.0023em;">）下载 </span><span class="stl_132 stl_52 stl_300" style="word-spacing:-0.0023em;">Selenium </span><span class="stl_129 stl_49 stl_300" style="word-spacing:-0.0023em;">库，也可以用 &nbsp;</span></div>
					<div class="stl_01" style="top:13.6578em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">第三方管理器（像 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">pip</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">）用命令行安装。 &nbsp;</span></div>
					<div class="stl_01" style="top:15.5688em; left:6.6142em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0598em;">PhantomJS </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0598em;">也</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.009em;"> 可</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.009em;"> 以</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.009em;"> 从</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.009em;"> 它</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.009em;"> 的</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.009em;"> 官</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.009em;"> 方</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.009em;"> 网</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.009em;"> 站（</span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.009em;">http://phantomjs.org/download.html</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.009em;">）</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.009em;"> 下</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.009em;"> 载。</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.009em;"> 因</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.009em;"> 为 &nbsp;</span></div>
					<div class="stl_01" style="top:16.8192em; left:6.6142em;"><span class="stl_132 stl_52 stl_239" style="word-spacing:-0.0107em;">PhantomJS </span><span class="stl_129 stl_49 stl_239" style="word-spacing:-0.0107em;">是一个功能完善（虽然无头）的浏览器，并非一个 </span><span class="stl_132 stl_52 stl_239" style="word-spacing:-0.0107em;">Python </span><span class="stl_129 stl_49 stl_239" style="word-spacing:-0.0107em;">库，所以它不需要像 &nbsp;</span></div>
					<div class="stl_01" style="top:18.0692em; left:6.6142em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">的其他库一样安装，也不能用 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">pip </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">安装。 &nbsp;</span></div>
					<div class="stl_01" style="top:19.9803em; left:6.6142em;"><span class="stl_129 stl_49 stl_746" style="word-spacing:0.0145em;">虽然有很多页面都用 </span><span class="stl_132 stl_52 stl_746" style="word-spacing:0.0145em;">Ajax </span><span class="stl_129 stl_49 stl_746" style="word-spacing:0.0145em;">加载数据（尤其是 </span><span class="stl_132 stl_52 stl_746" style="word-spacing:0.0145em;">Google</span><span class="stl_129 stl_49 stl_746" style="word-spacing:0.0145em;">），我还是在 </span><span class="stl_132 stl_52 stl_746" style="word-spacing:0.0145em;">http://pythonscraping.com/ &nbsp;</span></div>
					<div class="stl_01" style="top:21.2306em; left:6.6142em;"><span class="stl_132 stl_52 stl_84" style="word-spacing:-0.0079em;">pages/javascript/ajaxDemo.html </span><span class="stl_129 stl_49 stl_84" style="word-spacing:-0.0079em;">建了一个简单的页面来运行我们的爬虫。这个页面上有一些 &nbsp;</span></div>
					<div class="stl_01" style="top:22.4806em; left:6.6142em;"><span class="stl_129 stl_49 stl_123" style="word-spacing:-0.0033em;">简单的文字，是手工敲在 </span><span class="stl_132 stl_52 stl_123" style="word-spacing:-0.0033em;">HTML </span><span class="stl_129 stl_49 stl_123" style="word-spacing:-0.0033em;">代码里的，打开页面两秒钟之后，页面就会被替换成一个 &nbsp;</span></div>
					<div class="stl_01" style="top:23.7306em; left:6.6142em;"><span class="stl_132 stl_52 stl_484" style="word-spacing:-0.0092em;">Ajax </span><span class="stl_129 stl_49 stl_484" style="word-spacing:-0.0092em;">生成的内容。如果我们用传统的方法采集这个页面，只能获取加载前的页面，而我们 &nbsp;</span></div>
					<div class="stl_01" style="top:24.9806em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">真正需要的信息（</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Ajax </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">执行之后的页面）却抓不到。 &nbsp;</span></div>
					<div class="stl_01" style="top:26.8917em; left:6.6142em;"><span class="stl_132 stl_52 stl_338" style="word-spacing:-0.0216em;">Selenium </span><span class="stl_129 stl_49 stl_338" style="word-spacing:-0.0216em;">库是一个在 </span><span class="stl_132 stl_52 stl_338" style="word-spacing:-0.0216em;">WebDriver </span><span class="stl_129 stl_49 stl_338" style="word-spacing:-0.0216em;">上调用的 </span><span class="stl_132 stl_52 stl_338" style="word-spacing:-0.0216em;">API</span><span class="stl_129 stl_49 stl_338" style="word-spacing:-0.0216em;">。</span><span class="stl_132 stl_52 stl_338" style="word-spacing:-0.0216em;">WebDriver </span><span class="stl_129 stl_49 stl_338" style="word-spacing:-0.0216em;">有点儿像可以加载网站的浏览 &nbsp;</span></div>
					<div class="stl_01" style="top:28.142em; left:6.6142em;"><span class="stl_129 stl_49 stl_297" style="word-spacing:-0.0049em;">器，但是它也可以像 </span><span class="stl_132 stl_52 stl_297" style="word-spacing:-0.0049em;">BeautifulSoup </span><span class="stl_129 stl_49 stl_297" style="word-spacing:-0.0049em;">对象一样用来查找页面元素，与页面上的元素进行交互 &nbsp;</span></div>
					<div class="stl_01" style="top:29.4697em; left:6.2183em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:29.4697em; left:7.01em;"><span class="stl_129 stl_49 stl_432">发送文本、点击等），以及执行其他动作来运行网络爬虫。 &nbsp;</span></div>
					<div class="stl_01" style="top:31.3031em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">下面的代码可以获取前面测试页面上 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Ajax</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">“墙”后面的内容： &nbsp;</span></div>
					<div class="stl_01" style="top:33.2718em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">selenium </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">webdriver &nbsp;</span></div>
					<div class="stl_01" style="top:34.1048em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">time &nbsp;</span></div>
					<div class="stl_01" style="top:35.7708em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">driver = webdriver.PhantomJS(executable_path='') &nbsp;</span></div>
					<div class="stl_01" style="top:36.6038em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">driver.get("http://pythonscraping.com/pages/javascript/ajaxDemo.html") &nbsp;</span></div>
					<div class="stl_01" style="top:37.4368em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">time.sleep(3) &nbsp;</span></div>
					<div class="stl_01" style="top:38.2698em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(driver.find_element_by_id('content').text) &nbsp;</span></div>
					<div class="stl_01" style="top:39.1028em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">driver.close() &nbsp;</span></div>
					<div class="stl_01" style="top:40.8264em; left:6.6142em;"><span class="stl_129 stl_49 stl_209" style="word-spacing:-0.0117em;">这段代码用 </span><span class="stl_132 stl_52 stl_209" style="word-spacing:-0.0117em;">PhantomJS</span><span class="stl_129 stl_49 stl_209" style="word-spacing:-0.0119em;"> 库创建了一个新的</span><span class="stl_132 stl_52 stl_209" style="word-spacing:-0.0117em;"> Selenium</span><span class="stl_132 stl_52 stl_209" style="word-spacing:0.1054em;"> WebDriver</span><span class="stl_129 stl_49 stl_209" style="word-spacing:0.1054em;">，首先用</span><span class="stl_132 stl_52 stl_209" style="word-spacing:-0.0117em;"> WebDriver</span><span class="stl_129 stl_49 stl_209" style="word-spacing:-0.0117em;"> 加载页 &nbsp;</span></div>
					<div class="stl_01" style="top:42.0764em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">面，然后暂停执行 </span><span class="stl_132 stl_52 stl_10">3 </span><span class="stl_129 stl_49 stl_10">秒钟，再查看页面获取（希望已经加载完成的）内容。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.9875em; left:6.6142em;"><span class="stl_129 stl_49 stl_805" style="word-spacing:-0.058em;">依据你的 </span><span class="stl_132 stl_52 stl_805" style="word-spacing:-0.058em;">PhantomJS </span><span class="stl_129 stl_49 stl_805" style="word-spacing:-0.058em;">安装位置，在创建新的 </span><span class="stl_132 stl_52 stl_805" style="word-spacing:-0.058em;">PhantomJS WebDriver </span><span class="stl_129 stl_49 stl_805" style="word-spacing:-0.058em;">的时候，你需要在 &nbsp;</span></div>
					<div class="stl_01" style="top:45.2379em; left:6.6142em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0003em;">Selenium </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0003em;">的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0003em;">WebDriver </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0003em;">接入点指明 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0003em;">PhantomJS </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0003em;">可执行文件的路径： &nbsp;</span></div>
					<div class="stl_01" style="top:47.2064em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">driver = webdriver.PhantomJS(executable_path='/path/to/download/ &nbsp;</span></div>
					<div class="stl_01" style="top:48.0394em; left:18.6094em;"><span class="stl_116 stl_44 stl_10">phantomjs-1.9.8-macosx/bin/phantomjs') &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:29.8582em;"><span class="stl_126 stl_20 stl_229" style="word-spacing:0.4053em;">采集</span><span class="stl_119 stl_22 stl_229" style="word-spacing:0.4053em;">JavaScript </span><span class="stl_126 stl_20 stl_229" style="word-spacing:0.4053em;">｜ </span><span class="stl_119 stl_22 stl_229" style="word-spacing:0.4053em;">133 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_189.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_189.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:5.5298em; left:17.4012em;"><span class="stl_469 stl_18 stl_244" style="word-spacing:-0.0267em;">Selenium </span><span class="stl_268 stl_20 stl_244" style="word-spacing:-0.0267em;">的选择器 &nbsp;</span></div>
					<div class="stl_01" style="top:7.1419em; left:6.403em;"><span class="stl_269 stl_49 stl_806" style="word-spacing:-0.1452em;">在之前的几章里，我们用过 </span><span class="stl_132 stl_52 stl_806" style="word-spacing:-0.1452em;">BeautifulSoup </span><span class="stl_269 stl_49 stl_806" style="word-spacing:-0.1452em;">的选择器选择页面的元素，比如 </span><span class="stl_807 stl_44 stl_808" style="word-spacing:-0.1623em;">ﬁ</span><span class="stl_116 stl_44 stl_808" style="word-spacing:-0.1623em;">nd </span><span class="stl_269 stl_49 stl_806" style="word-spacing:-0.1452em;">和 &nbsp;</span></div>
					<div class="stl_01" style="top:8.2669em; left:6.403em;"><span class="stl_807 stl_44 stl_229" style="word-spacing:0.0004em;">ﬁ</span><span class="stl_116 stl_44 stl_229" style="word-spacing:0.0004em;">ndAll</span><span class="stl_269 stl_49 stl_229" style="word-spacing:0.0004em;">。</span><span class="stl_132 stl_52 stl_229" style="word-spacing:0.0004em;">Selenium </span><span class="stl_269 stl_49 stl_229" style="word-spacing:0.0004em;">在 </span><span class="stl_132 stl_52 stl_229" style="word-spacing:0.0004em;">WebDriver </span><span class="stl_269 stl_49 stl_229" style="word-spacing:0.0004em;">的 </span><span class="stl_132 stl_52 stl_229" style="word-spacing:0.0004em;">DOM </span><span class="stl_269 stl_49 stl_229" style="word-spacing:0.0004em;">中使用了全新的选择器来查找元素，不过它们 &nbsp;</span></div>
					<div class="stl_01" style="top:9.5065em; left:6.4039em;"><span class="stl_269 stl_49 stl_10">都使用非常直截了当的名称。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.0671em; left:6.4039em;"><span class="stl_269 stl_49 stl_205" style="word-spacing:-0.0085em;">在这个例子中，我们用的选择器是 </span><span class="stl_116 stl_44 stl_300" style="word-spacing:-0.0095em;">find_element_by_id</span><span class="stl_269 stl_49 stl_205" style="word-spacing:-0.0085em;">，虽然下面的选择器也可以获取 &nbsp;</span></div>
					<div class="stl_01" style="top:12.2289em; left:6.4023em;"><span class="stl_269 stl_49 stl_10">同样的结果： &nbsp;</span></div>
					<div class="stl_01" style="top:13.7931em; left:8.1274em;"><span class="stl_116 stl_44 stl_10">driver.find_element_by_css_selector("#content") &nbsp;</span></div>
					<div class="stl_01" style="top:14.6261em; left:8.1274em;"><span class="stl_116 stl_44 stl_10">driver.find_element_by_tag_name("div") &nbsp;</span></div>
					<div class="stl_01" style="top:16.401em; left:6.403em;"><span class="stl_269 stl_49 stl_364" style="word-spacing:-0.0466em;">当然，如果你想选择页面上具有同样特征的多个元素，可以用 </span><span class="stl_116 stl_44 stl_221" style="word-spacing:-0.0521em;">elements</span><span class="stl_269 stl_49 stl_364" style="word-spacing:-0.0466em;">（换成复数） &nbsp;</span></div>
					<div class="stl_01" style="top:17.4852em; left:6.4024em;"><span class="stl_269 stl_49 stl_10" style="word-spacing:0em;">来返回一个 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_269 stl_49 stl_10" style="word-spacing:0em;">列表： &nbsp;</span></div>
					<div class="stl_01" style="top:19.1271em; left:8.1274em;"><span class="stl_116 stl_44 stl_10">driver.find_elements_by_css_selector("#content") &nbsp;</span></div>
					<div class="stl_01" style="top:19.9601em; left:8.1274em;"><span class="stl_116 stl_44 stl_10">driver.find_elements_by_css_selector("div") &nbsp;</span></div>
					<div class="stl_01" style="top:21.6573em; left:6.403em;"><span class="stl_269 stl_49 stl_712" style="word-spacing:-0.0525em;">另外，如果你还是想用 </span><span class="stl_132 stl_52 stl_712" style="word-spacing:-0.0525em;">BeautifulSoup </span><span class="stl_269 stl_49 stl_712" style="word-spacing:-0.0525em;">来解析网页内容，可以用 </span><span class="stl_132 stl_52 stl_712" style="word-spacing:-0.0525em;">WebDriver </span><span class="stl_269 stl_49 stl_712" style="word-spacing:-0.0525em;">的 </span><span class="stl_116 stl_44 stl_809" style="word-spacing:-0.0587em;">page_ &nbsp;</span></div>
					<div class="stl_01" style="top:22.8599em; left:6.4029em;"><span class="stl_116 stl_44 stl_359">source</span><span class="stl_269 stl_49 stl_586">函数返回页面的源代码字符串。 &nbsp;</span></div>
					<div class="stl_01" style="top:24.4611em; left:8.1274em;"><span class="stl_116 stl_44 stl_10">pageSource = driver.page_source &nbsp;</span></div>
					<div class="stl_01" style="top:25.2941em; left:8.1274em;"><span class="stl_116 stl_44 stl_10">bsObj = BeautifulSoup(pageSource) &nbsp;</span></div>
					<div class="stl_01" style="top:26.1271em; left:8.1274em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(bsObj.find(id="content").get_text()) &nbsp;</span></div>
					<div class="stl_01" style="top:28.2294em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">如果程序配置都正确，上面的程序会在几秒钟以后显示下面的结果： &nbsp;</span></div>
					<div class="stl_01" style="top:30.1202em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Here is some important text you want to retrieve! &nbsp;</span></div>
					<div class="stl_01" style="top:30.9532em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">A button to click! &nbsp;</span></div>
					<div class="stl_01" style="top:32.6626em; left:5.6693em;"><span class="stl_129 stl_49 stl_810" style="word-spacing:-0.0491em;">需要注意的是，虽然页面里有一个元素是 </span><span class="stl_132 stl_52 stl_810" style="word-spacing:-0.0491em;">HTML </span><span class="stl_129 stl_49 stl_810" style="word-spacing:-0.0491em;">按钮，但是 </span><span class="stl_132 stl_52 stl_810" style="word-spacing:-0.0491em;">Selenium </span><span class="stl_129 stl_49 stl_810" style="word-spacing:-0.0491em;">的 </span><span class="stl_188 stl_44 stl_568" style="word-spacing:-0.0519em;">.text</span><span class="stl_129 stl_49 stl_810" style="word-spacing:-0.0491em;">函数可以 &nbsp;</span></div>
					<div class="stl_01" style="top:34.0024em; left:5.6691em;"><span class="stl_129 stl_49 stl_10">获取按钮的文本内容，就像它获取页面上其他元素内容的方式一样。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.9017em; left:5.6691em;"><span class="stl_129 stl_49 stl_490" style="word-spacing:-0.0126em;">如果 </span><span class="stl_188 stl_44 stl_239" style="word-spacing:-0.0133em;">time.sleep</span><span class="stl_129 stl_49 stl_490" style="word-spacing:-0.0126em;">的暂停时间由三秒改成一秒，那么上面程序采集的文本就会变成： &nbsp;</span></div>
					<div class="stl_01" style="top:37.8046em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">This is some content that will appear on the page while it's loading. &nbsp;</span></div>
					<div class="stl_01" style="top:38.6376em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">You don't care about scraping this. &nbsp;</span></div>
					<div class="stl_01" style="top:40.4367em; left:5.6693em;"><span class="stl_129 stl_49 stl_231">虽然这个方法奏效了，但是效率还不够高，在处理规模较大的网站时还是可能会出问题。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.6867em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">页面的加载时间是不确定的，具体依赖于服务器某一毫秒的负载情况，以及不断变化的网 &nbsp;</span></div>
					<div class="stl_01" style="top:42.9367em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">速。虽然这个页面加载可能只需要花两秒多的时间，但是我们设置了三秒的等待时间以确 &nbsp;</span></div>
					<div class="stl_01" style="top:44.109em; left:5.6693em;"><span class="stl_129 stl_49 stl_182" style="word-spacing:-0.0468em;">保页面完全加载成功。一种更加有效的方法是，让 </span><span class="stl_132 stl_52 stl_182" style="word-spacing:-0.0468em;">Selenium </span><span class="stl_129 stl_49 stl_182" style="word-spacing:-0.0468em;">不断地检查某个元素是否存 &nbsp;</span></div>
					<div class="stl_01" style="top:45.4367em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">在，以此确定页面是否已经完全加载，如果页面加载成功就执行后面的程序。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.2584em; left:5.6693em;"><span class="stl_129 stl_49 stl_512" style="word-spacing:-0.0148em;">下面的程序用 </span><span class="stl_132 stl_52 stl_512" style="word-spacing:-0.0148em;">id </span><span class="stl_129 stl_49 stl_512" style="word-spacing:-0.0148em;">是 </span><span class="stl_188 stl_44 stl_152" style="word-spacing:-0.0156em;">loadedButton</span><span class="stl_129 stl_49 stl_512" style="word-spacing:-0.0148em;">的按钮检查页面是不是已经完全加载： &nbsp;</span></div>
					<div class="stl_01" style="top:49.2388em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">selenium.webdriver.common.by </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">By &nbsp;</span></div>
					<div class="stl_01" style="top:50.0718em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">selenium.webdriver.support.ui </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">WebDriverWait &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">34 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 10</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_190.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_190.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8919em; left:8.3386em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">selenium.webdriver.support </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">expected_conditions </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">as </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">EC &nbsp;</span></div>
					<div class="stl_01" style="top:6.5579em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">driver = webdriver.PhantomJS(executable_path='') &nbsp;</span></div>
					<div class="stl_01" style="top:7.3909em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">driver.get("http://pythonscraping.com/pages/javascript/ajaxDemo.html") &nbsp;</span></div>
					<div class="stl_01" style="top:8.2239em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">try</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:9.0569em; left:9.7552em;"><span class="stl_116 stl_44 stl_10">element = WebDriverWait(driver, 10).until( &nbsp;</span></div>
					<div class="stl_01" style="top:9.8899em; left:16.4844em;"><span class="stl_116 stl_44 stl_10">EC.presence_of_element_located((By.ID, "loadedButton"))) &nbsp;</span></div>
					<div class="stl_01" style="top:10.7229em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">finally</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:11.5559em; left:9.7552em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(driver.find_element_by_id("content").text) &nbsp;</span></div>
					<div class="stl_01" style="top:12.3889em; left:9.7552em;"><span class="stl_116 stl_44 stl_10">driver.close() &nbsp;</span></div>
					<div class="stl_01" style="top:14.1788em; left:6.6142em;"><span class="stl_129 stl_49 stl_168" style="word-spacing:-0.0088em;">程序里新导入了一些新的模块，最需要注意的就是 </span><span class="stl_188 stl_44 stl_811" style="word-spacing:-0.0092em;">WebDriverWait</span><span class="stl_129 stl_49 stl_168" style="word-spacing:-0.0088em;">和 </span><span class="stl_188 stl_44 stl_811" style="word-spacing:-0.0092em;">expected_conditions</span><span class="stl_129 stl_49 stl_168" style="word-spacing:-0.0088em;">， &nbsp;</span></div>
					<div class="stl_01" style="top:15.3632em; left:6.6139em;"><span class="stl_129 stl_49 stl_812" style="word-spacing:0.0275em;">这两个模块组合起来构成了 </span><span class="stl_132 stl_52 stl_812" style="word-spacing:0.0275em;">Selenium </span><span class="stl_129 stl_49 stl_812" style="word-spacing:0.0275em;">的</span><span class="stl_269 stl_49 stl_812" style="word-spacing:0.0275em;">隐式等待</span><span class="stl_129 stl_49 stl_812" style="word-spacing:0.0275em;">（</span><span class="stl_132 stl_52 stl_812" style="word-spacing:0.0275em;">implicit wait</span><span class="stl_129 stl_49 stl_812" style="word-spacing:0.0275em;">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:17.2742em; left:6.6147em;"><span class="stl_129 stl_49 stl_200" style="word-spacing:-0.0267em;">隐式等待与显式等待的不同之处在于，隐式等待是等 </span><span class="stl_132 stl_52 stl_200" style="word-spacing:-0.0267em;">DOM </span><span class="stl_129 stl_49 stl_200" style="word-spacing:-0.0267em;">中某个状态发生后再继续运行 &nbsp;</span></div>
					<div class="stl_01" style="top:18.6023em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">代码（没有明确的等待时间，但是有最大等待时限，只要在时限内就可以），而显式等待 &nbsp;</span></div>
					<div class="stl_01" style="top:19.7746em; left:6.6142em;"><span class="stl_129 stl_49 stl_726" style="word-spacing:-0.0367em;">明确设置了等待时间，如前面例子的等待三秒钟。在隐式等待中，</span><span class="stl_132 stl_52 stl_726" style="word-spacing:-0.0367em;">DOM </span><span class="stl_129 stl_49 stl_726" style="word-spacing:-0.0367em;">触发的状态是用 &nbsp;</span></div>
					<div class="stl_01" style="top:21.0125em; left:6.6142em;"><span class="stl_188 stl_44 stl_293" style="word-spacing:-0.0016em;">expected_conditions</span><span class="stl_129 stl_49 stl_600" style="word-spacing:-0.0015em;">定义的（这里导入后用了别名 </span><span class="stl_188 stl_44 stl_293" style="word-spacing:-0.0016em;">EC</span><span class="stl_129 stl_49 stl_600" style="word-spacing:-0.0015em;">，是经常使用的简称）。在 </span><span class="stl_132 stl_52 stl_600" style="word-spacing:-0.0015em;">Selenium &nbsp;</span></div>
					<div class="stl_01" style="top:22.2746em; left:6.6143em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">库里面元素被触发的期望条件（</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">expected condition</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">）有很多种，包括： &nbsp;</span></div>
					<div class="stl_01" style="top:24.2253em; left:6.6143em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:25.4753em; left:6.6143em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:26.7253em; left:6.6142em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:27.9753em; left:6.6142em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:24.2634em; left:7.6775em;"><span class="stl_129 stl_49 stl_10">弹出一个提示框 &nbsp;</span></div>
					<div class="stl_01" style="top:25.5134em; left:7.6774em;"><span class="stl_129 stl_49 stl_10">一个元素被选中（比如文本框） &nbsp;</span></div>
					<div class="stl_01" style="top:26.7634em; left:7.6774em;"><span class="stl_129 stl_49 stl_10">页面的标题改变了，或者某个文字显示在页面上或者某个元素里 &nbsp;</span></div>
					<div class="stl_01" style="top:27.9358em; left:7.6774em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">一个元素在 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0002em;">DOM </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">中变成可见的，或者一个元素从 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0002em;">DOM </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">中消失了 &nbsp;</span></div>
					<div class="stl_01" style="top:29.9245em; left:6.6142em;"><span class="stl_129 stl_49 stl_813">当然，大多数的期望条件在使用前都需要你先指定等待的目标元素。元素用</span><span class="stl_269 stl_49 stl_813">定位器 &nbsp;</span></div>
					<div class="stl_01" style="top:31.1751em; left:6.2183em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:31.0974em; left:7.01em;"><span class="stl_132 stl_52 stl_456">locator</span><span class="stl_129 stl_49 stl_456">）指定。注意，定位器与选择器是不一样的（请看前面关于选择器的介绍）。定位 &nbsp;</span></div>
					<div class="stl_01" style="top:32.413em; left:6.6142em;"><span class="stl_129 stl_49 stl_285" style="word-spacing:-0.0139em;">器是一种抽象的查询语言，用 </span><span class="stl_188 stl_44 stl_286" style="word-spacing:-0.0147em;">By</span><span class="stl_129 stl_49 stl_285" style="word-spacing:-0.0139em;">对象表示，可以用于不同的场合，包括创建选择器。 &nbsp;</span></div>
					<div class="stl_01" style="top:34.2467em; left:6.6145em;"><span class="stl_129 stl_49 stl_162" style="word-spacing:-0.0145em;">在下面的示例代码中，一个定位器被用来查找 </span><span class="stl_132 stl_52 stl_162" style="word-spacing:-0.0145em;">id </span><span class="stl_129 stl_49 stl_162" style="word-spacing:-0.0145em;">是 </span><span class="stl_188 stl_44 stl_207" style="word-spacing:-0.0153em;">loadedButton</span><span class="stl_129 stl_49 stl_162" style="word-spacing:-0.0145em;">的按钮： &nbsp;</span></div>
					<div class="stl_01" style="top:36.2274em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">EC.presence_of_element_located((By.ID, "loadedButton")) &nbsp;</span></div>
					<div class="stl_01" style="top:37.9364em; left:6.6142em;"><span class="stl_129 stl_49 stl_283" style="word-spacing:-0.0154em;">定位器还可以用来创建选择器，配合 </span><span class="stl_132 stl_52 stl_283" style="word-spacing:-0.0154em;">WebDriver </span><span class="stl_129 stl_49 stl_283" style="word-spacing:-0.0154em;">的 </span><span class="stl_188 stl_44 stl_222" style="word-spacing:-0.0163em;">find_element</span><span class="stl_129 stl_49 stl_283" style="word-spacing:-0.0154em;">函数使用： &nbsp;</span></div>
					<div class="stl_01" style="top:39.9169em; left:8.3386em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">print</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">(driver.find_element(By.ID, "content").text) &nbsp;</span></div>
					<div class="stl_01" style="top:41.7158em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">下面这行代码的功能和示例代码中一样： &nbsp;</span></div>
					<div class="stl_01" style="top:43.6065em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(driver.find_element_by_id("content").text) &nbsp;</span></div>
					<div class="stl_01" style="top:45.4054em; left:6.6142em;"><span class="stl_129 stl_49 stl_139">如果你可以不用定位器，就不要用，毕竟这样可以少导入一个模块。但是，定位器是一种 &nbsp;</span></div>
					<div class="stl_01" style="top:46.6555em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">十分方便的工具，可以用在不同的应用中，并且具有很好的灵活性。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.5548em; left:6.6142em;"><span class="stl_129 stl_49 stl_170" style="word-spacing:-0.0278em;">下面是定位器通过 </span><span class="stl_188 stl_44 stl_359" style="word-spacing:-0.0293em;">By</span><span class="stl_129 stl_49 stl_170" style="word-spacing:-0.0278em;">对象进行选择的策略。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:29.8582em;"><span class="stl_126 stl_20 stl_229" style="word-spacing:0.4053em;">采集</span><span class="stl_119 stl_22 stl_229" style="word-spacing:0.4053em;">JavaScript </span><span class="stl_126 stl_20 stl_229" style="word-spacing:0.4053em;">｜ </span><span class="stl_119 stl_22 stl_229" style="word-spacing:0.4053em;">135 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_191.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_191.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8745em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:7.9651em; left:5.6694em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:4.9112em; left:6.7323em;"><span class="stl_188 stl_44 stl_10">ID &nbsp;</span></div>
					<div class="stl_01" style="top:6.0729em; left:6.7323em;"><span class="stl_129 stl_49 stl_400" style="word-spacing:-0.0227em;">在上面的例子里用过；通过 </span><span class="stl_132 stl_52 stl_400" style="word-spacing:-0.0227em;">HTML </span><span class="stl_129 stl_49 stl_400" style="word-spacing:-0.0227em;">的 </span><span class="stl_188 stl_44 stl_401" style="word-spacing:-0.0239em;">id</span><span class="stl_129 stl_49 stl_400" style="word-spacing:-0.0227em;">属性查找元素。 &nbsp;</span></div>
					<div class="stl_01" style="top:8.0018em; left:6.7323em;"><span class="stl_188 stl_44 stl_10">CLASS_NAME &nbsp;</span></div>
					<div class="stl_01" style="top:9.1634em; left:6.7323em;"><span class="stl_129 stl_49 stl_298" style="word-spacing:-0.0415em;">通过 </span><span class="stl_132 stl_52 stl_298" style="word-spacing:-0.0415em;">HTML </span><span class="stl_129 stl_49 stl_298" style="word-spacing:-0.0415em;">的 </span><span class="stl_188 stl_44 stl_299" style="word-spacing:-0.0438em;">class</span><span class="stl_129 stl_49 stl_298" style="word-spacing:-0.0415em;">属性来查找元素。为什么这个函数是 </span><span class="stl_188 stl_44 stl_299" style="word-spacing:-0.0438em;">CLASS_NAME</span><span class="stl_129 stl_49 stl_298" style="word-spacing:-0.0415em;">，而不是简单的 &nbsp;</span></div>
					<div class="stl_01" style="top:10.4134em; left:6.7323em;"><span class="stl_188 stl_44 stl_445" style="word-spacing:-0.0381em;">CLASS</span><span class="stl_129 stl_49 stl_814" style="word-spacing:-0.0361em;">？在 </span><span class="stl_132 stl_52 stl_814" style="word-spacing:-0.0361em;">Selenium </span><span class="stl_129 stl_49 stl_814" style="word-spacing:-0.0361em;">的 </span><span class="stl_132 stl_52 stl_814" style="word-spacing:-0.0361em;">Java </span><span class="stl_129 stl_49 stl_814" style="word-spacing:-0.0361em;">库里使用 </span><span class="stl_188 stl_44 stl_445" style="word-spacing:-0.0381em;">object.CLASS</span><span class="stl_129 stl_49 stl_814" style="word-spacing:-0.0361em;">可能会出现问题，</span><span class="stl_188 stl_44 stl_445" style="word-spacing:-0.0381em;">.class</span><span class="stl_129 stl_49 stl_814" style="word-spacing:-0.0361em;">是 </span><span class="stl_132 stl_52 stl_814" style="word-spacing:-0.0361em;">Java </span><span class="stl_129 stl_49 stl_814" style="word-spacing:-0.0361em;">保 &nbsp;</span></div>
					<div class="stl_01" style="top:11.6634em; left:6.7326em;"><span class="stl_129 stl_49 stl_452" style="word-spacing:-0.0125em;">留的一个方法。为了让 </span><span class="stl_132 stl_52 stl_452" style="word-spacing:-0.0125em;">Selenium </span><span class="stl_129 stl_49 stl_452" style="word-spacing:-0.0125em;">语法可以兼容不同的语言，就用 </span><span class="stl_188 stl_44 stl_490" style="word-spacing:-0.0132em;">CLASS_NAME</span><span class="stl_129 stl_49 stl_452" style="word-spacing:-0.0125em;">代替。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.6261em; left:5.6692em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:18.0376em; left:5.6691em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:13.6632em; left:6.7323em;"><span class="stl_188 stl_44 stl_10">CSS_SELECTOR &nbsp;</span></div>
					<div class="stl_01" style="top:14.8248em; left:6.7323em;"><span class="stl_129 stl_49 stl_698" style="word-spacing:-0.0753em;">通过 </span><span class="stl_132 stl_52 stl_698" style="word-spacing:-0.0753em;">CSS </span><span class="stl_129 stl_49 stl_698" style="word-spacing:-0.0753em;">的 </span><span class="stl_188 stl_44 stl_320" style="word-spacing:-0.0795em;">class</span><span class="stl_129 stl_49 stl_698" style="word-spacing:-0.0753em;">、</span><span class="stl_188 stl_44 stl_320" style="word-spacing:-0.0795em;">id</span><span class="stl_129 stl_49 stl_698" style="word-spacing:-0.0753em;">、</span><span class="stl_188 stl_44 stl_320" style="word-spacing:-0.0795em;">tag </span><span class="stl_129 stl_49 stl_698" style="word-spacing:-0.0753em;">属性名来查找元素，用 </span><span class="stl_188 stl_44 stl_320" style="word-spacing:-0.0795em;">#idName</span><span class="stl_129 stl_49 stl_698" style="word-spacing:-0.0753em;">、</span><span class="stl_188 stl_44 stl_320" style="word-spacing:-0.0795em;">.className</span><span class="stl_129 stl_49 stl_698" style="word-spacing:-0.0753em;">、</span><span class="stl_188 stl_44 stl_320" style="word-spacing:-0.0795em;">tagName &nbsp;</span></div>
					<div class="stl_01" style="top:16.1646em; left:6.7323em;"><span class="stl_129 stl_49 stl_71">表示。 &nbsp;</span></div>
					<div class="stl_01" style="top:18.0746em; left:6.7323em;"><span class="stl_188 stl_44 stl_10">LINK_TEXT &nbsp;</span></div>
					<div class="stl_01" style="top:19.2362em; left:6.7323em;"><span class="stl_129 stl_49 stl_206" style="word-spacing:0.0007em;">通过链接文字查找 </span><span class="stl_132 stl_52 stl_206" style="word-spacing:0.0007em;">HTML </span><span class="stl_129 stl_49 stl_206" style="word-spacing:0.0007em;">的 </span><span class="stl_188 stl_44 stl_815" style="word-spacing:0.0007em;">&lt;a&gt;</span><span class="stl_129 stl_49 stl_206" style="word-spacing:0.0007em;">标签。例如，如果一个链接的文字是“</span><span class="stl_132 stl_52 stl_206" style="word-spacing:0.0007em;">Next</span><span class="stl_129 stl_49 stl_206" style="word-spacing:0.0007em;">”，就可以 &nbsp;</span></div>
					<div class="stl_01" style="top:20.5639em; left:6.7326em;"><span class="stl_129 stl_49 stl_369" style="word-spacing:-0.0219em;">用 </span><span class="stl_188 stl_44 stl_370" style="word-spacing:-0.0232em;">(By.LINK_TEXT, "Next")</span><span class="stl_129 stl_49 stl_369" style="word-spacing:-0.0219em;">来选择。 &nbsp;</span></div>
					<div class="stl_01" style="top:22.449em; left:5.6691em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:25.6104em; left:5.6692em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:28.7718em; left:5.6697em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:31.9332em; left:5.6691em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:22.486em; left:6.7323em;"><span class="stl_188 stl_44 stl_10">PARTIAL_LINK_TEXT &nbsp;</span></div>
					<div class="stl_01" style="top:23.7254em; left:6.7323em;"><span class="stl_129 stl_49 stl_68" style="word-spacing:-0.02em;">与 </span><span class="stl_188 stl_44 stl_692" style="word-spacing:-0.0211em;">LINK_TEXT</span><span class="stl_129 stl_49 stl_68" style="word-spacing:-0.02em;">类似，只是通过部分链接文字来查找。 &nbsp;</span></div>
					<div class="stl_01" style="top:25.6475em; left:6.7323em;"><span class="stl_188 stl_44 stl_10">NAME &nbsp;</span></div>
					<div class="stl_01" style="top:26.8091em; left:6.7323em;"><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0178em;">通过 </span><span class="stl_132 stl_52 stl_367" style="word-spacing:-0.0178em;">HTML </span><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0178em;">标签的 </span><span class="stl_188 stl_44 stl_209" style="word-spacing:-0.0188em;">name</span><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0178em;">属性查找。这在处理 </span><span class="stl_132 stl_52 stl_367" style="word-spacing:-0.0178em;">HTML </span><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0178em;">表单时非常方便。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.8089em; left:6.7323em;"><span class="stl_188 stl_44 stl_10">TAG_NAME &nbsp;</span></div>
					<div class="stl_01" style="top:29.9826em; left:6.7323em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">通过 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">HTML </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">标签的名称查找。 &nbsp;</span></div>
					<div class="stl_01" style="top:31.9703em; left:6.7323em;"><span class="stl_188 stl_44 stl_10">XPATH &nbsp;</span></div>
					<div class="stl_01" style="top:33.2096em; left:6.7323em;"><span class="stl_129 stl_49 stl_138" style="word-spacing:-0.0208em;">用 </span><span class="stl_188 stl_44 stl_296" style="word-spacing:-0.022em;">XPath</span><span class="stl_129 stl_49 stl_138" style="word-spacing:-0.0208em;">表达式（语法在下面介绍）选择匹配的元素。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.7502em; left:18.98em;"><span class="stl_469 stl_18 stl_10" style="word-spacing:-0.028em;">XPath </span><span class="stl_268 stl_20 stl_10" style="word-spacing:-0.028em;">语法 &nbsp;</span></div>
					<div class="stl_01" style="top:37.3992em; left:6.3905em;"><span class="stl_132 stl_52 stl_302" style="word-spacing:0.0999em;">XPath</span><span class="stl_269 stl_49 stl_302" style="word-spacing:0.0999em;">（</span><span class="stl_132 stl_52 stl_302" style="word-spacing:0.0999em;">XML Path</span><span class="stl_269 stl_49 stl_302" style="word-spacing:0.0999em;">，</span><span class="stl_132 stl_52 stl_302" style="word-spacing:0.0999em;">XML</span><span class="stl_269 stl_49 stl_302" style="word-spacing:-0.0191em;"> 路径）是在</span><span class="stl_132 stl_52 stl_302" style="word-spacing:-0.0192em;"> XML</span><span class="stl_269 stl_49 stl_302" style="word-spacing:-0.0191em;"> 文档中导航和选择元素的查询语言。它由 &nbsp;</span></div>
					<div class="stl_01" style="top:38.5242em; left:6.392em;"><span class="stl_132 stl_52 stl_135" style="word-spacing:-0.0139em;">W3C </span><span class="stl_269 stl_49 stl_135" style="word-spacing:-0.0139em;">于 </span><span class="stl_132 stl_52 stl_135" style="word-spacing:-0.0139em;">1999 </span><span class="stl_269 stl_49 stl_135" style="word-spacing:-0.0139em;">年创建，在 </span><span class="stl_132 stl_52 stl_135" style="word-spacing:-0.0139em;">Python</span><span class="stl_269 stl_49 stl_135" style="word-spacing:-0.0139em;">、</span><span class="stl_132 stl_52 stl_135" style="word-spacing:-0.0139em;">Java </span><span class="stl_269 stl_49 stl_135" style="word-spacing:-0.0139em;">和 </span><span class="stl_132 stl_52 stl_135" style="word-spacing:-0.0139em;">C# </span><span class="stl_269 stl_49 stl_135" style="word-spacing:-0.0139em;">这些语言中有时会用 </span><span class="stl_132 stl_52 stl_135" style="word-spacing:-0.0139em;">XPath </span><span class="stl_269 stl_49 stl_135" style="word-spacing:-0.0139em;">来处理 </span><span class="stl_132 stl_52 stl_135" style="word-spacing:-0.0139em;">XML &nbsp;</span></div>
					<div class="stl_01" style="top:39.7269em; left:6.3865em;"><span class="stl_269 stl_49 stl_10">文档。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.2467em; left:6.3865em;"><span class="stl_269 stl_49 stl_512" style="word-spacing:-0.008em;">虽然 </span><span class="stl_132 stl_52 stl_512" style="word-spacing:-0.008em;">BeautifulSoup </span><span class="stl_269 stl_49 stl_512" style="word-spacing:-0.008em;">不支持 </span><span class="stl_132 stl_52 stl_512" style="word-spacing:-0.008em;">XPath</span><span class="stl_269 stl_49 stl_512" style="word-spacing:-0.008em;">，但是本书中的很多库（</span><span class="stl_132 stl_52 stl_512" style="word-spacing:-0.008em;">lxml</span><span class="stl_269 stl_49 stl_512" style="word-spacing:-0.008em;">、</span><span class="stl_132 stl_52 stl_512" style="word-spacing:-0.008em;">Selenium</span><span class="stl_269 stl_49 stl_512" style="word-spacing:-0.008em;">、</span><span class="stl_132 stl_52 stl_512" style="word-spacing:-0.008em;">Scrapy </span><span class="stl_269 stl_49 stl_512" style="word-spacing:-0.008em;">等） &nbsp;</span></div>
					<div class="stl_01" style="top:42.3348em; left:6.3897em;"><span class="stl_269 stl_49 stl_816" style="word-spacing:-0.0244em;">都支持。它的使用方式通常和 </span><span class="stl_132 stl_52 stl_816" style="word-spacing:-0.0244em;">CSS </span><span class="stl_269 stl_49 stl_816" style="word-spacing:-0.0244em;">选择器（比如 </span><span class="stl_116 stl_44 stl_146" style="word-spacing:-0.0272em;">mytag#idname</span><span class="stl_269 stl_49 stl_816" style="word-spacing:-0.0244em;">）一样，虽然它原本被 &nbsp;</span></div>
					<div class="stl_01" style="top:43.4966em; left:6.3897em;"><span class="stl_269 stl_49 stl_10" style="word-spacing:0.0001em;">设计用于处理更规范的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">XML </span><span class="stl_269 stl_49 stl_10" style="word-spacing:0.0001em;">文档而不是 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">HTML </span><span class="stl_269 stl_49 stl_10" style="word-spacing:0.0001em;">文档。 &nbsp;</span></div>
					<div class="stl_01" style="top:45.0942em; left:6.3897em;"><span class="stl_269 stl_49 stl_10">在 </span><span class="stl_132 stl_52 stl_10">XPath </span><span class="stl_269 stl_49 stl_10">语法中有四个重要概念。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.7314em; left:6.3897em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:46.7695em; left:7.4529em;"><span class="stl_269 stl_49 stl_10">根节点和非根节点 &nbsp;</span></div>
					<div class="stl_01" style="top:47.9679em; left:7.4529em;"><span class="stl_228 stl_36 stl_10">♦</span></div>
					<div class="stl_01" style="top:49.2175em; left:7.4536em;"><span class="stl_228 stl_36 stl_10">♦</span></div>
					<div class="stl_01" style="top:47.9047em; left:8.5164em;"><span class="stl_116 stl_44 stl_636" style="word-spacing:-0.0266em;">/div</span><span class="stl_129 stl_49 stl_85" style="word-spacing:-0.0238em;">选择 </span><span class="stl_132 stl_52 stl_85" style="word-spacing:-0.0238em;">div </span><span class="stl_129 stl_49 stl_85" style="word-spacing:-0.0238em;">节点，只有当它是文档的根节点时 &nbsp;</span></div>
					<div class="stl_01" style="top:49.1547em; left:8.5164em;"><span class="stl_116 stl_44 stl_253" style="word-spacing:-0.0243em;">//div</span><span class="stl_129 stl_49 stl_369" style="word-spacing:-0.0218em;">选择文档中所有的 </span><span class="stl_132 stl_52 stl_369" style="word-spacing:-0.0218em;">div </span><span class="stl_129 stl_49 stl_369" style="word-spacing:-0.0218em;">节点（包括非根节点） &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">36 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 10</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_192.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_192.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:5.6206em; left:7.3478em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:9.3706em; left:7.3482em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:5.6587em; left:8.411em;"><span class="stl_269 stl_49 stl_10">通过属性选择节点 &nbsp;</span></div>
					<div class="stl_01" style="top:6.8571em; left:8.411em;"><span class="stl_228 stl_36 stl_10">♦</span></div>
					<div class="stl_01" style="top:8.107em; left:8.4107em;"><span class="stl_228 stl_36 stl_10">♦</span></div>
					<div class="stl_01" style="top:6.8718em; left:9.4738em;"><span class="stl_116 stl_44 stl_563" style="word-spacing:-0.0588em;">//@href</span><span class="stl_129 stl_49 stl_817" style="word-spacing:-0.0526em;">选择带 </span><span class="stl_116 stl_44 stl_563" style="word-spacing:-0.0588em;">href</span><span class="stl_129 stl_49 stl_817" style="word-spacing:-0.0526em;">属性的所有节点 &nbsp;</span></div>
					<div class="stl_01" style="top:8.0441em; left:9.4738em;"><span class="stl_116 stl_44 stl_650" style="word-spacing:-0.0118em;">//a[@href='http://google.com']</span><span class="stl_129 stl_49 stl_179" style="word-spacing:-0.0106em;">选择页面中所有指向 </span><span class="stl_132 stl_52 stl_179" style="word-spacing:-0.0106em;">Google </span><span class="stl_129 stl_49 stl_179" style="word-spacing:-0.0106em;">网站的链接 &nbsp;</span></div>
					<div class="stl_01" style="top:9.4087em; left:8.4114em;"><span class="stl_269 stl_49 stl_10">通过位置选择节点 &nbsp;</span></div>
					<div class="stl_01" style="top:10.607em; left:8.4114em;"><span class="stl_228 stl_36 stl_10">♦</span></div>
					<div class="stl_01" style="top:11.857em; left:8.4108em;"><span class="stl_228 stl_36 stl_10">♦</span></div>
					<div class="stl_01" style="top:13.107em; left:8.411em;"><span class="stl_228 stl_36 stl_10">♦</span></div>
					<div class="stl_01" style="top:10.6218em; left:9.4738em;"><span class="stl_116 stl_44 stl_652">//a[3]</span><span class="stl_129 stl_49 stl_200">选择文档中的第三个链接 &nbsp;</span></div>
					<div class="stl_01" style="top:11.8718em; left:9.4738em;"><span class="stl_116 stl_44 stl_271">//table[last()]</span><span class="stl_129 stl_49 stl_68">选择文档中的最后一个表 &nbsp;</span></div>
					<div class="stl_01" style="top:13.1219em; left:9.4738em;"><span class="stl_116 stl_44 stl_271" style="word-spacing:-0.0224em;">//a[position() &lt; 3]</span><span class="stl_129 stl_49 stl_68" style="word-spacing:-0.02em;">选择文档中的前三个链接 &nbsp;</span></div>
					<div class="stl_01" style="top:14.3706em; left:7.3482em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:14.3839em; left:8.4114em;"><span class="stl_269 stl_49 stl_10">星号（</span><span class="stl_188 stl_44 stl_10">*</span><span class="stl_269 stl_49 stl_10">）匹配任意字符或节点，可以在不同条件下使用 &nbsp;</span></div>
					<div class="stl_01" style="top:15.6071em; left:8.4114em;"><span class="stl_228 stl_36 stl_10">♦</span></div>
					<div class="stl_01" style="top:15.6219em; left:9.4738em;"><span class="stl_116 stl_44 stl_818" style="word-spacing:-0.0586em;">//table/tr/*</span><span class="stl_129 stl_49 stl_189" style="word-spacing:-0.0524em;">选择所有表格行 </span><span class="stl_116 stl_44 stl_818" style="word-spacing:-0.0586em;">tr</span><span class="stl_129 stl_49 stl_189" style="word-spacing:-0.0524em;">标签的所有的子节点（这很适合选择 </span><span class="stl_116 stl_44 stl_818" style="word-spacing:-0.0586em;">th</span><span class="stl_129 stl_49 stl_189" style="word-spacing:-0.0524em;">和 </span><span class="stl_116 stl_44 stl_818" style="word-spacing:-0.0586em;">td</span><span class="stl_129 stl_49 stl_189" style="word-spacing:-0.0524em;">标 &nbsp;</span></div>
					<div class="stl_01" style="top:16.896em; left:9.4736em;"><span class="stl_129 stl_49 stl_10">签） &nbsp;</span></div>
					<div class="stl_01" style="top:18.107em; left:8.4112em;"><span class="stl_228 stl_36 stl_10">♦</span></div>
					<div class="stl_01" style="top:18.1339em; left:9.4738em;"><span class="stl_188 stl_44 stl_397" style="word-spacing:-0.048em;">//div[@*]</span><span class="stl_129 stl_49 stl_266" style="word-spacing:-0.0455em;">选择带任意属性的所有 </span><span class="stl_188 stl_44 stl_397" style="word-spacing:-0.048em;">div</span><span class="stl_129 stl_49 stl_266" style="word-spacing:-0.0455em;">标签 &nbsp;</span></div>
					<div class="stl_01" style="top:19.8036em; left:7.3476em;"><span class="stl_269 stl_49 stl_819" style="word-spacing:-0.0353em;">当然，</span><span class="stl_132 stl_52 stl_819" style="word-spacing:-0.0353em;">XPath </span><span class="stl_269 stl_49 stl_819" style="word-spacing:-0.0353em;">还有很多高级的语法特征。经过这些年的发展，它已经变成一种非常复 &nbsp;</span></div>
					<div class="stl_01" style="top:20.9693em; left:7.3531em;"><span class="stl_269 stl_49 stl_214" style="word-spacing:0.0118em;">杂的查询语言，可以使用布尔类型、函数（如 </span><span class="stl_116 stl_44 stl_656" style="word-spacing:0.0132em;">position()</span><span class="stl_269 stl_49 stl_214" style="word-spacing:0.0118em;">），以及大量这里没介绍的操 &nbsp;</span></div>
					<div class="stl_01" style="top:22.1311em; left:7.3449em;"><span class="stl_269 stl_49 stl_10">作符。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.651em; left:7.3449em;"><span class="stl_269 stl_49 stl_170" style="word-spacing:-0.0228em;">如果这里介绍的几个 </span><span class="stl_132 stl_52 stl_170" style="word-spacing:-0.0228em;">XPath </span><span class="stl_269 stl_49 stl_170" style="word-spacing:-0.0228em;">功能解决不了你的 </span><span class="stl_132 stl_52 stl_170" style="word-spacing:-0.0228em;">HTML </span><span class="stl_269 stl_49 stl_170" style="word-spacing:-0.0228em;">或 </span><span class="stl_132 stl_52 stl_170" style="word-spacing:-0.0228em;">XML </span><span class="stl_269 stl_49 stl_170" style="word-spacing:-0.0228em;">元素选择问题，请参考 &nbsp;</span></div>
					<div class="stl_01" style="top:24.776em; left:7.3544em;"><span class="stl_269 stl_49 stl_820" style="word-spacing:0.0154em;">微软的 </span><span class="stl_132 stl_52 stl_820" style="word-spacing:0.0154em;">XPath </span><span class="stl_269 stl_49 stl_820" style="word-spacing:0.0154em;">语法页面（</span><span class="stl_132 stl_52 stl_820" style="word-spacing:0.0154em;">https://msdn.microsoft.com/en-us/enus/library/ms256471</span><span class="stl_269 stl_49 stl_820" style="word-spacing:0.0154em;">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.4826em; left:6.6142em;"><span class="stl_197 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:27.4118em; left:7.4373em;"><span class="stl_197 stl_18 stl_71">0.3</span><span class="stl_160 stl_20 stl_71">ꢀ处理重定向 &nbsp;</span></div>
					<div class="stl_01" style="top:29.845em; left:6.6142em;"><span class="stl_129 stl_49 stl_281" style="word-spacing:-0.0292em;">客户端重定向是在服务器将页面内容发送到浏览器之前，由浏览器执行 </span><span class="stl_132 stl_52 stl_281" style="word-spacing:-0.0292em;">JavaScript </span><span class="stl_129 stl_49 stl_281" style="word-spacing:-0.0292em;">完成的 &nbsp;</span></div>
					<div class="stl_01" style="top:31.1727em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">页面跳转，而不是服务器完成的跳转。当使用浏览器访问页面的时候，有时很难区分这两 &nbsp;</span></div>
					<div class="stl_01" style="top:32.4227em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">种重定向。由于客户端重定向执行很快，加载页面时你甚至感觉不到任何延迟，所以会让 &nbsp;</span></div>
					<div class="stl_01" style="top:33.6728em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">你觉得这个重定向就是一个服务器端重定向。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.3954em; left:6.6142em;"><span class="stl_129 stl_49 stl_454">但是，在进行网络数据采集的时候，这两种重定向的差异是非常明显的。根据具体情况， &nbsp;</span></div>
					<div class="stl_01" style="top:36.5554em; left:6.6142em;"><span class="stl_129 stl_49 stl_708" style="word-spacing:-0.0694em;">服务器端重定向一般都可以轻松地通过 </span><span class="stl_132 stl_52 stl_708" style="word-spacing:-0.0694em;">Python </span><span class="stl_129 stl_49 stl_708" style="word-spacing:-0.0694em;">的 </span><span class="stl_188 stl_44 stl_821" style="word-spacing:-0.0733em;">urllib</span><span class="stl_129 stl_49 stl_708" style="word-spacing:-0.0694em;">库解决，不需要使用 </span><span class="stl_132 stl_52 stl_708" style="word-spacing:-0.0694em;">Selenium &nbsp;</span></div>
					<div class="stl_01" style="top:37.8952em; left:6.2184em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:37.8174em; left:7.0663em;"><span class="stl_129 stl_49 stl_822" style="word-spacing:-0.0862em;">更多的介绍请参考第 </span><span class="stl_132 stl_52 stl_822" style="word-spacing:-0.0862em;">3 </span><span class="stl_129 stl_49 stl_822" style="word-spacing:-0.0862em;">章）。客户端重定向却不能这样处理，除非你有工具可以执行 &nbsp;</span></div>
					<div class="stl_01" style="top:39.0675em; left:6.6142em;"><span class="stl_132 stl_52 stl_10">JavaScript</span><span class="stl_129 stl_49 stl_10">。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.7899em; left:6.6142em;"><span class="stl_132 stl_52 stl_106" style="word-spacing:-0.0008em;">Selenium </span><span class="stl_129 stl_49 stl_106" style="word-spacing:-0.0008em;">可以执行这种 </span><span class="stl_132 stl_52 stl_106" style="word-spacing:-0.0008em;">JavaScript </span><span class="stl_129 stl_49 stl_106" style="word-spacing:-0.0008em;">重定向，和它处理其他 </span><span class="stl_132 stl_52 stl_106" style="word-spacing:-0.0008em;">JavaScript </span><span class="stl_129 stl_49 stl_106" style="word-spacing:-0.0008em;">的方式一样；但是这类 &nbsp;</span></div>
					<div class="stl_01" style="top:42.1176em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">重定向的主要问题是什么时候停止页面监控，也就是说，怎么识别一个页面已经完成重定 &nbsp;</span></div>
					<div class="stl_01" style="top:43.2899em; left:6.6142em;"><span class="stl_129 stl_49 stl_504" style="word-spacing:-0.0031em;">向。在 </span><span class="stl_132 stl_52 stl_504" style="word-spacing:-0.0031em;">http://pythonscraping.com/pages/javascript/redirectDemo2.html </span><span class="stl_129 stl_49 stl_504" style="word-spacing:-0.0031em;">的示例页面是客户端重 &nbsp;</span></div>
					<div class="stl_01" style="top:44.6176em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">定向的例子，有两秒的延迟。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.34em; left:6.6142em;"><span class="stl_129 stl_49 stl_780">我们可以用一种智能的方法来检测客户端重定向是否完成，首先从页面开始加载 &nbsp;</span></div>
					<div class="stl_01" style="top:47.5123em; left:6.6142em;"><span class="stl_129 stl_49 stl_823" style="word-spacing:-0.1537em;">时就“监视”</span><span class="stl_132 stl_52 stl_823" style="word-spacing:-0.1537em;">DOM </span><span class="stl_129 stl_49 stl_823" style="word-spacing:-0.1537em;">中的一个元素，然后重复调用这个元素直到 </span><span class="stl_132 stl_52 stl_823" style="word-spacing:-0.1537em;">Selenium </span><span class="stl_129 stl_49 stl_823" style="word-spacing:-0.1537em;">抛出一个 &nbsp;</span></div>
					<div class="stl_01" style="top:48.7502em; left:6.6142em;"><span class="stl_188 stl_44 stl_239" style="word-spacing:-0.0121em;">StaleElementReferenceException</span><span class="stl_129 stl_49 stl_218" style="word-spacing:-0.0115em;">异常；也就是说，元素不在页面的 </span><span class="stl_132 stl_52 stl_218" style="word-spacing:-0.0115em;">DOM </span><span class="stl_129 stl_49 stl_218" style="word-spacing:-0.0115em;">里了，说明这时 &nbsp;</span></div>
					<div class="stl_01" style="top:50.09em; left:6.614em;"><span class="stl_129 stl_49 stl_10">网站已经跳转： &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:29.8582em;"><span class="stl_126 stl_20 stl_229" style="word-spacing:0.4053em;">采集</span><span class="stl_119 stl_22 stl_229" style="word-spacing:0.4053em;">JavaScript </span><span class="stl_126 stl_20 stl_229" style="word-spacing:0.4053em;">｜ </span><span class="stl_119 stl_22 stl_229" style="word-spacing:0.4053em;">137 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_193.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_193.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8919em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">selenium </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">webdriver &nbsp;</span></div>
					<div class="stl_01" style="top:5.7249em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">time &nbsp;</span></div>
					<div class="stl_01" style="top:6.5579em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">selenium.webdriver.remote.webelement </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">WebElement &nbsp;</span></div>
					<div class="stl_01" style="top:7.3909em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">selenium.common.exceptions </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">StaleElementReferenceException &nbsp;</span></div>
					<div class="stl_01" style="top:9.0569em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">waitForLoad(driver): &nbsp;</span></div>
					<div class="stl_01" style="top:9.8899em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">elem = driver.find_element_by_tag_name("html") &nbsp;</span></div>
					<div class="stl_01" style="top:10.7229em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">count = 0 &nbsp;</span></div>
					<div class="stl_01" style="top:11.5559em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">while </span><span class="stl_116 stl_44 stl_10">True: &nbsp;</span></div>
					<div class="stl_01" style="top:12.3889em; left:10.227em;"><span class="stl_116 stl_44 stl_10">count += 1 &nbsp;</span></div>
					<div class="stl_01" style="top:13.2219em; left:10.227em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">count &gt; 20: &nbsp;</span></div>
					<div class="stl_01" style="top:14.0549em; left:11.6437em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">("Timing out after 10 seconds and returning") &nbsp;</span></div>
					<div class="stl_01" style="top:14.9283em; left:11.6437em;"><span class="stl_232 stl_44 stl_10">return &nbsp;</span></div>
					<div class="stl_01" style="top:15.7209em; left:10.227em;"><span class="stl_116 stl_44 stl_10">time.sleep(.5) &nbsp;</span></div>
					<div class="stl_01" style="top:16.5539em; left:10.227em;"><span class="stl_232 stl_44 stl_10">try</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:17.3869em; left:11.6437em;"><span class="stl_116 stl_44 stl_10">elem == driver.find_element_by_tag_name("html") &nbsp;</span></div>
					<div class="stl_01" style="top:18.2199em; left:10.227em;"><span class="stl_232 stl_44 stl_10">except </span><span class="stl_116 stl_44 stl_10">StaleElementReferenceException: &nbsp;</span></div>
					<div class="stl_01" style="top:19.0933em; left:11.6437em;"><span class="stl_232 stl_44 stl_10">return &nbsp;</span></div>
					<div class="stl_01" style="top:20.7189em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">driver = webdriver.PhantomJS(executable_path='&lt;Path to Phantom Js&gt;') &nbsp;</span></div>
					<div class="stl_01" style="top:21.5519em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">driver.get("http://pythonscraping.com/pages/javascript/redirectDemo1.html") &nbsp;</span></div>
					<div class="stl_01" style="top:22.3849em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">waitForLoad(driver) &nbsp;</span></div>
					<div class="stl_01" style="top:23.2179em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(driver.page_source) &nbsp;</span></div>
					<div class="stl_01" style="top:24.9344em; left:5.6693em;"><span class="stl_129 stl_49 stl_471" style="word-spacing:-0.0328em;">这个程序每半分钟检查一次网页，看看 </span><span class="stl_188 stl_44 stl_366" style="word-spacing:-0.0346em;">html</span><span class="stl_129 stl_49 stl_471" style="word-spacing:-0.0328em;">标签还在不在，时限为 </span><span class="stl_132 stl_52 stl_471" style="word-spacing:-0.0328em;">10 </span><span class="stl_129 stl_49 stl_471" style="word-spacing:-0.0328em;">秒钟，不过检查的 &nbsp;</span></div>
					<div class="stl_01" style="top:26.2742em; left:5.6692em;"><span class="stl_129 stl_49 stl_10">时间间隔和时限都可以根据实际情况随意调整。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">38 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 10</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_194.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_194.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:9.4423em; left:31.9175em;"><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.0687em;">第 </span><span class="stl_215 stl_18 stl_10" style="word-spacing:-0.0687em;">1 1 </span><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.0687em;">章 &nbsp;</span></div>
					<div class="stl_01 stl_69" style="top:12.7975em; left:19.3953em;"><span class="stl_70 stl_20 stl_71">图像识别与文字处理 &nbsp;</span></div>
					<div class="stl_01" style="top:24.4229em; left:6.6142em;"><span class="stl_129 stl_49 stl_486" style="word-spacing:-0.0418em;">从 </span><span class="stl_132 stl_52 stl_486" style="word-spacing:-0.0418em;">Google </span><span class="stl_129 stl_49 stl_486" style="word-spacing:-0.0418em;">的无人驾驶汽车到可以识别假钞的自动售卖机，机器视觉一直都是一个应用广 &nbsp;</span></div>
					<div class="stl_01" style="top:25.7506em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">泛且具有深远的影响和雄伟的愿景的领域。在这一章里，我们将重点介绍机器视觉的一个 &nbsp;</span></div>
					<div class="stl_01" style="top:26.9229em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">分支：文字识别，介绍如何用一些 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">库来识别和使用在线图片中的文字。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.9117em; left:6.6142em;"><span class="stl_129 stl_49 stl_177">当你不想让自己的文字被网络机器人采集时，把文字做成图片放在网页上是常用的办法。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.162em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">在一些联系人通讯录里经常可以看到，一个邮箱地址被部分或全部转换成图片。人们可能 &nbsp;</span></div>
					<div class="stl_01" style="top:31.412em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">觉察不出明显的差异，但是机器人阅读这些图片会非常困难，这种方法可以防止多数垃圾 &nbsp;</span></div>
					<div class="stl_01" style="top:32.662em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">邮件发送器轻易地获取你的邮箱地址。 &nbsp;</span></div>
					<div class="stl_01" style="top:34.5731em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.082em;">利 用 这 种 人 类 用 户 可 以 正 常 读 取 但 是 大 多 数 机 器 人 都 没 法 读 取 的 图 片， 验 证 码 &nbsp;</span></div>
					<div class="stl_01" style="top:35.8234em; left:6.2183em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:35.7457em; left:7.01em;"><span class="stl_132 stl_52 stl_554">CAPTCHA</span><span class="stl_129 stl_49 stl_554">）就出现了。验证码读取的难易程度也大不相同，有些验证码比其他的更加难 &nbsp;</span></div>
					<div class="stl_01" style="top:37.0734em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">读，后面我们会介绍这种问题。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.9845em; left:6.6142em;"><span class="stl_129 stl_49 stl_157">但是，验证码并不是网络爬虫数据采集时需要进行图像转文字翻译工作的唯一对象。目 &nbsp;</span></div>
					<div class="stl_01" style="top:40.2346em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">前，有很多文档都是简单地扫描后直接放到网上，它们和互联网上的很多文档一样都没法 &nbsp;</span></div>
					<div class="stl_01" style="top:41.4848em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">儿直接使用，尽管它们都“近在眼前”。如果无法将图像转为文字，要想使用这些文档的 &nbsp;</span></div>
					<div class="stl_01" style="top:42.7349em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">内容，就只能人工手敲了——没人愿意花时间干这事儿。 &nbsp;</span></div>
					<div class="stl_01" style="top:44.5683em; left:6.6142em;"><span class="stl_129 stl_49 stl_742" style="word-spacing:0.1296em;">将图像翻译成文字一般被称为</span><span class="stl_269 stl_49 stl_742" style="word-spacing:0.1296em;">光学文字识别</span><span class="stl_129 stl_49 stl_742" style="word-spacing:0.1296em;">（</span><span class="stl_132 stl_52 stl_742" style="word-spacing:0.1296em;">Optical Character Recognition</span><span class="stl_129 stl_49 stl_742" style="word-spacing:0.1296em;">，</span><span class="stl_132 stl_52 stl_742" style="word-spacing:0.1296em;">OCR</span><span class="stl_129 stl_49 stl_742" style="word-spacing:0.1296em;">）。可以 &nbsp;</span></div>
					<div class="stl_01" style="top:45.8186em; left:6.6145em;"><span class="stl_129 stl_49 stl_512" style="word-spacing:-0.0129em;">实现 </span><span class="stl_132 stl_52 stl_512" style="word-spacing:-0.0129em;">OCR </span><span class="stl_129 stl_49 stl_512" style="word-spacing:-0.0129em;">的底层库并不多，目前很多库都是使用共同的几个底层 </span><span class="stl_132 stl_52 stl_512" style="word-spacing:-0.0129em;">OCR </span><span class="stl_129 stl_49 stl_512" style="word-spacing:-0.0129em;">库，或者是在上面 &nbsp;</span></div>
					<div class="stl_01" style="top:47.0686em; left:6.6142em;"><span class="stl_129 stl_49 stl_417" style="word-spacing:-0.0397em;">进行定制。这类 </span><span class="stl_132 stl_52 stl_417" style="word-spacing:-0.0397em;">OCR </span><span class="stl_129 stl_49 stl_417" style="word-spacing:-0.0397em;">系统有时会变得非常复杂，所有我建议你在实践这一章的代码示例 &nbsp;</span></div>
					<div class="stl_01" style="top:48.3963em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">之前先阅读下一节的内容。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.3099em; left:36.5751em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.3099em; left:36.9812em;"><span class="stl_119 stl_22 stl_10">39 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_195.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_195.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.799em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:4.7282em; left:6.4924em;"><span class="stl_197 stl_18 stl_71">1.1</span><span class="stl_160 stl_20 stl_71">ꢀ</span><span class="stl_197 stl_18 stl_71">OCR</span><span class="stl_160 stl_20 stl_71">库概述 &nbsp;</span></div>
					<div class="stl_01" style="top:7.1614em; left:5.6693em;"><span class="stl_129 stl_49 stl_186" style="word-spacing:-0.0124em;">在读取和处理图像、图像相关的机器学习以及创建图像等任务中，</span><span class="stl_132 stl_52 stl_186" style="word-spacing:-0.0124em;">Python </span><span class="stl_129 stl_49 stl_186" style="word-spacing:-0.0124em;">一直都是非常出 &nbsp;</span></div>
					<div class="stl_01" style="top:8.4114em; left:5.6693em;"><span class="stl_129 stl_49 stl_586" style="word-spacing:-0.0225em;">色的语言。虽然有很多库可以进行图像处理，但在这里我们只重点介绍两个库：</span><span class="stl_132 stl_52 stl_586" style="word-spacing:-0.0225em;">Pillow </span><span class="stl_129 stl_49 stl_586" style="word-spacing:-0.0225em;">和 &nbsp;</span></div>
					<div class="stl_01" style="top:9.6615em; left:5.6693em;"><span class="stl_132 stl_52 stl_10">Tesseract</span><span class="stl_129 stl_49 stl_10">。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.5725em; left:5.6693em;"><span class="stl_129 stl_49 stl_201" style="word-spacing:-0.0155em;">每个库都可以从它们的网站上下载并安装（</span><span class="stl_132 stl_52 stl_201" style="word-spacing:-0.0155em;">http://pillow.readthedocs.org/installation.html </span><span class="stl_129 stl_49 stl_201" style="word-spacing:-0.0155em;">和 &nbsp;</span></div>
					<div class="stl_01" style="top:12.8225em; left:5.6693em;"><span class="stl_132 stl_52 stl_735" style="word-spacing:0.0055em;">https://pypi.python.org/pypi/pytesseract</span><span class="stl_129 stl_49 stl_735" style="word-spacing:0.0055em;">），或者用第三方管理器（像 </span><span class="stl_132 stl_52 stl_735" style="word-spacing:0.0055em;">pip</span><span class="stl_129 stl_49 stl_735" style="word-spacing:0.0055em;">）通过“</span><span class="stl_132 stl_52 stl_735" style="word-spacing:0.0055em;">pillow</span><span class="stl_129 stl_49 stl_735" style="word-spacing:0.0055em;">”和 &nbsp;</span></div>
					<div class="stl_01" style="top:14.1505em; left:5.2735em;"><span class="stl_129 stl_49 stl_10">“</span></div>
					<div class="stl_01" style="top:14.0728em; left:6.0651em;"><span class="stl_132 stl_52 stl_10">pytesseract</span><span class="stl_129 stl_49 stl_10">”进行安装。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.5603em; left:5.6693em;"><span class="stl_260 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:16.502em; left:6.3471em;"><span class="stl_260 stl_18 stl_198">1.1.1</span><span class="stl_91 stl_20 stl_198">ꢀ</span><span class="stl_260 stl_18 stl_198">Pillow &nbsp;</span></div>
					<div class="stl_01" style="top:18.4429em; left:5.6693em;"><span class="stl_129 stl_49 stl_210" style="word-spacing:-0.0112em;">尽管 </span><span class="stl_132 stl_52 stl_210" style="word-spacing:-0.0112em;">Pillow </span><span class="stl_129 stl_49 stl_210" style="word-spacing:-0.0112em;">算不上是图像处理功能最全的库，但是它拥有你需要使用的全部功能，除非你 &nbsp;</span></div>
					<div class="stl_01" style="top:19.6929em; left:5.6693em;"><span class="stl_129 stl_49 stl_171" style="word-spacing:-0.0128em;">要用 </span><span class="stl_132 stl_52 stl_171" style="word-spacing:-0.0128em;">Python </span><span class="stl_129 stl_49 stl_171" style="word-spacing:-0.0128em;">重写一个 </span><span class="stl_132 stl_52 stl_171" style="word-spacing:-0.0128em;">Photoshop </span><span class="stl_129 stl_49 stl_171" style="word-spacing:-0.0128em;">或进行更加复杂的研究。它也是一个文档健全且十分易用 &nbsp;</span></div>
					<div class="stl_01" style="top:21.0206em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">的库。 &nbsp;</span></div>
					<div class="stl_01" style="top:22.854em; left:5.6693em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0002em;">Pillow </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0002em;">是从</span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;"> Python</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0639em;"> 2.x</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;"> 版本的</span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;"> Python</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;"> 图像库（</span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">Python</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0634em;"> Imaging</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0634em;"> Library</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0634em;">，</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0634em;">PIL</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0634em;">）分出来的，支 &nbsp;</span></div>
					<div class="stl_01" style="top:24.1043em; left:5.6693em;"><span class="stl_129 stl_49 stl_510" style="word-spacing:-0.0203em;">持 </span><span class="stl_132 stl_52 stl_510" style="word-spacing:-0.0203em;">Python</span><span class="stl_132 stl_52 stl_510" style="word-spacing:0.0987em;"> 3.x</span><span class="stl_129 stl_49 stl_510" style="word-spacing:-0.0203em;"> 版本。和</span><span class="stl_132 stl_52 stl_510" style="word-spacing:-0.0203em;"> PIL</span><span class="stl_129 stl_49 stl_510" style="word-spacing:-0.0201em;"> 一样，</span><span class="stl_132 stl_52 stl_510" style="word-spacing:-0.0201em;">Pillow</span><span class="stl_129 stl_49 stl_510" style="word-spacing:-0.0204em;"> 也可以轻松地导入代码，并通过大量的过滤、修 &nbsp;</span></div>
					<div class="stl_01" style="top:25.432em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">饰甚至像素级的变换操作处理图片： &nbsp;</span></div>
					<div class="stl_01" style="top:27.3227em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">PIL </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Image, ImageFilter &nbsp;</span></div>
					<div class="stl_01" style="top:28.9887em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">kitten = Image.open("kitten.jpg") &nbsp;</span></div>
					<div class="stl_01" style="top:29.8217em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">blurryKitten = kitten.filter(ImageFilter.GaussianBlur) &nbsp;</span></div>
					<div class="stl_01" style="top:30.6547em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">blurryKitten.save("kitten_blurred.jpg") &nbsp;</span></div>
					<div class="stl_01" style="top:31.4877em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">blurryKitten.show() &nbsp;</span></div>
					<div class="stl_01" style="top:33.2106em; left:5.6693em;"><span class="stl_129 stl_49 stl_308" style="word-spacing:-0.0428em;">在上面这个例子中，图片 </span><span class="stl_132 stl_52 stl_308" style="word-spacing:-0.0428em;">kitten.jpg </span><span class="stl_129 stl_49 stl_308" style="word-spacing:-0.0428em;">会在默认的图片浏览器里打开，不过看着会有点儿模 &nbsp;</span></div>
					<div class="stl_01" style="top:34.4606em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">糊。之后这个比较模糊的图片被另存为 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">kitten_blurred.jpg</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">，与原图放在一个文件夹里。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.3717em; left:5.6693em;"><span class="stl_129 stl_49 stl_824" style="word-spacing:-0.0554em;">我们可以用 </span><span class="stl_132 stl_52 stl_824" style="word-spacing:-0.0554em;">Pillow </span><span class="stl_129 stl_49 stl_824" style="word-spacing:-0.0554em;">完成图片的预处理，让机器可以更方便地读取图片。除了这些简单的 &nbsp;</span></div>
					<div class="stl_01" style="top:37.622em; left:5.6693em;"><span class="stl_129 stl_49 stl_140" style="word-spacing:-0.0159em;">事情之外，</span><span class="stl_132 stl_52 stl_140" style="word-spacing:-0.0159em;">Pillow </span><span class="stl_129 stl_49 stl_140" style="word-spacing:-0.0159em;">还可以完成许多复杂的图像处理工作。更多的信息，请查看 </span><span class="stl_132 stl_52 stl_140" style="word-spacing:-0.0159em;">Pillow </span><span class="stl_129 stl_49 stl_140" style="word-spacing:-0.0159em;">文档 &nbsp;</span></div>
					<div class="stl_01" style="top:38.9497em; left:5.2735em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:38.872em; left:6.0651em;"><span class="stl_132 stl_52 stl_98">http://pillow.readthedocs.org/</span><span class="stl_129 stl_49 stl_98">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.3595em; left:5.6693em;"><span class="stl_260 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:41.3012em; left:6.3471em;"><span class="stl_260 stl_18 stl_71">1.1.2</span><span class="stl_91 stl_20 stl_71">ꢀ</span><span class="stl_260 stl_18 stl_71">Tesseract &nbsp;</span></div>
					<div class="stl_01" style="top:43.2421em; left:5.6693em;"><span class="stl_132 stl_52 stl_636" style="word-spacing:-0.0182em;">Tesseract </span><span class="stl_129 stl_49 stl_636" style="word-spacing:-0.0182em;">是一个 </span><span class="stl_132 stl_52 stl_636" style="word-spacing:-0.0182em;">OCR </span><span class="stl_129 stl_49 stl_636" style="word-spacing:-0.0182em;">库，目前由 </span><span class="stl_132 stl_52 stl_636" style="word-spacing:-0.0182em;">Google </span><span class="stl_129 stl_49 stl_636" style="word-spacing:-0.0182em;">赞助（</span><span class="stl_132 stl_52 stl_636" style="word-spacing:-0.0182em;">Google </span><span class="stl_129 stl_49 stl_636" style="word-spacing:-0.0182em;">也是一家以 </span><span class="stl_132 stl_52 stl_636" style="word-spacing:-0.0182em;">OCR </span><span class="stl_129 stl_49 stl_636" style="word-spacing:-0.0182em;">和机器学习技术 &nbsp;</span></div>
					<div class="stl_01" style="top:44.4921em; left:5.6693em;"><span class="stl_129 stl_49 stl_278" style="word-spacing:0.0283em;">闻名于世的公司）。</span><span class="stl_132 stl_52 stl_278" style="word-spacing:0.0283em;">Tesseract </span><span class="stl_129 stl_49 stl_278" style="word-spacing:0.0283em;">是目前公认最优秀、最精确的开源 </span><span class="stl_132 stl_52 stl_278" style="word-spacing:0.0283em;">OCR </span><span class="stl_129 stl_49 stl_278" style="word-spacing:0.0283em;">系统。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.4032em; left:5.6693em;"><span class="stl_129 stl_49 stl_710" style="word-spacing:-0.015em;">除了极高的精确度，</span><span class="stl_132 stl_52 stl_710" style="word-spacing:-0.015em;">Tesseract </span><span class="stl_129 stl_49 stl_710" style="word-spacing:-0.015em;">也具有很高的灵活性。它可以通过训练识别出任何字体（只 &nbsp;</span></div>
					<div class="stl_01" style="top:47.6535em; left:5.6693em;"><span class="stl_129 stl_49 stl_97" style="word-spacing:0.0251em;">要这些字体的风格保持不变就可以，后面我们会介绍），也可以识别出任何 </span><span class="stl_132 stl_52 stl_97" style="word-spacing:0.0251em;">Unicode </span><span class="stl_129 stl_49 stl_97" style="word-spacing:0.0251em;">字符。 &nbsp;</span></div>
					<div class="stl_01" style="top:49.5528em; left:5.6693em;"><span class="stl_129 stl_49 stl_315" style="word-spacing:-0.0314em;">和本书前面提到的那些库不同，</span><span class="stl_132 stl_52 stl_315" style="word-spacing:-0.0314em;">Tesseract </span><span class="stl_129 stl_49 stl_315" style="word-spacing:-0.0314em;">是一个 </span><span class="stl_132 stl_52 stl_315" style="word-spacing:-0.0314em;">Python </span><span class="stl_129 stl_49 stl_315" style="word-spacing:-0.0314em;">的命令行工具，不是通过 </span><span class="stl_188 stl_44 stl_610" style="word-spacing:-0.0331em;">import &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">40 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 11</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_196.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_196.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8229em; left:6.6142em;"><span class="stl_129 stl_49 stl_512" style="word-spacing:-0.0147em;">语句导入的库。安装之后，要用 </span><span class="stl_188 stl_44 stl_152" style="word-spacing:-0.0155em;">tesseract</span><span class="stl_129 stl_49 stl_512" style="word-spacing:-0.0147em;">命令在 </span><span class="stl_132 stl_52 stl_512" style="word-spacing:-0.0147em;">Python </span><span class="stl_129 stl_49 stl_512" style="word-spacing:-0.0147em;">的外面运行。 &nbsp;</span></div>
					<div class="stl_01" style="top:6.7245em; left:6.6143em;"><span class="stl_388 stl_20 stl_10">安装</span><span class="stl_387 stl_18 stl_10">Tesseract &nbsp;</span></div>
					<div class="stl_01" style="top:7.996em; left:6.6143em;"><span class="stl_129 stl_49 stl_340" style="word-spacing:-0.0151em;">在 </span><span class="stl_132 stl_52 stl_340" style="word-spacing:-0.0151em;">Windows </span><span class="stl_129 stl_49 stl_340" style="word-spacing:-0.0151em;">系统上，下载方便的可执行安装文件（</span><span class="stl_132 stl_52 stl_340" style="word-spacing:-0.0151em;">https://code.google.com/p/tesseract-ocr/ &nbsp;</span></div>
					<div class="stl_01" style="top:9.2463em; left:6.6142em;"><span class="stl_132 stl_52 stl_370" style="word-spacing:-0.018em;">downloads/list</span><span class="stl_129 stl_49 stl_370" style="word-spacing:-0.018em;">）安装即可。写到这里的时候，最新的版本是 </span><span class="stl_132 stl_52 stl_370" style="word-spacing:-0.018em;">3.02</span><span class="stl_129 stl_49 stl_370" style="word-spacing:-0.018em;">，新版本应该也可以这样 &nbsp;</span></div>
					<div class="stl_01" style="top:10.5741em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">安装。 &nbsp;</span></div>
					<div class="stl_01" style="top:12.3957em; left:6.6142em;"><span class="stl_132 stl_52 stl_170" style="word-spacing:-0.028em;">Linux </span><span class="stl_129 stl_49 stl_170" style="word-spacing:-0.028em;">用户可以通过 </span><span class="stl_188 stl_44 stl_359" style="word-spacing:-0.0295em;">apt-get</span><span class="stl_129 stl_49 stl_170" style="word-spacing:-0.028em;">安装： &nbsp;</span></div>
					<div class="stl_01" style="top:14.3763em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:14.3763em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">sudo apt-get tesseract-ocr &nbsp;</span></div>
					<div class="stl_01" style="top:16.0974em; left:6.6142em;"><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0076em;">在 </span><span class="stl_132 stl_52 stl_301" style="word-spacing:-0.0076em;">Mac </span><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0076em;">上安装 </span><span class="stl_132 stl_52 stl_301" style="word-spacing:-0.0076em;">Tesseract </span><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0076em;">有点儿复杂，不过用 </span><span class="stl_132 stl_52 stl_301" style="word-spacing:-0.0076em;">Homebrew</span><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0076em;">（</span><span class="stl_132 stl_52 stl_301" style="word-spacing:-0.0076em;">http://brew.sh/</span><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0076em;">）等第三方库可以 &nbsp;</span></div>
					<div class="stl_01" style="top:17.3474em; left:6.6142em;"><span class="stl_129 stl_49 stl_273" style="word-spacing:-0.0364em;">很方便地安装。</span><span class="stl_132 stl_52 stl_273" style="word-spacing:-0.0364em;">Homebrew </span><span class="stl_129 stl_49 stl_273" style="word-spacing:-0.0364em;">在第 </span><span class="stl_132 stl_52 stl_273" style="word-spacing:-0.0364em;">5 </span><span class="stl_129 stl_49 stl_273" style="word-spacing:-0.0364em;">章介绍 </span><span class="stl_132 stl_52 stl_273" style="word-spacing:-0.0364em;">MySQL </span><span class="stl_129 stl_49 stl_273" style="word-spacing:-0.0364em;">安装过程时提到过。例如，你可以用下 &nbsp;</span></div>
					<div class="stl_01" style="top:18.5974em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">面两行代码首先安装 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Homebrew</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">，然后再安装 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Tesseract</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">： &nbsp;</span></div>
					<div class="stl_01" style="top:20.566em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:22.232em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:20.566em; left:8.6928em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">ruby -e "</span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">$(</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">curl -fsSL https://raw.githubusercontent.com/Homebrew/ \ &nbsp;</span></div>
					<div class="stl_01" style="top:21.399em; left:12.5886em;"><span class="stl_116 stl_44 stl_10">install/master/install</span><span class="stl_232 stl_44 stl_10">)</span><span class="stl_116 stl_44 stl_10">" &nbsp;</span></div>
					<div class="stl_01" style="top:22.232em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">brew install tesseract &nbsp;</span></div>
					<div class="stl_01" style="top:23.9537em; left:6.6142em;"><span class="stl_129 stl_49 stl_825" style="word-spacing:-0.0003em;">也可以从 </span><span class="stl_132 stl_52 stl_825" style="word-spacing:-0.0003em;">Tesseract </span><span class="stl_129 stl_49 stl_825" style="word-spacing:-0.0003em;">项目下载页面（</span><span class="stl_132 stl_52 stl_825" style="word-spacing:-0.0003em;">https://code.google.com/p/tesseract-ocr/downloads/list</span><span class="stl_129 stl_49 stl_825" style="word-spacing:-0.0003em;">）下 &nbsp;</span></div>
					<div class="stl_01" style="top:25.2814em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">载源代码安装。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.1148em; left:6.6142em;"><span class="stl_129 stl_49 stl_600" style="word-spacing:-0.0055em;">要使用 </span><span class="stl_132 stl_52 stl_600" style="word-spacing:-0.0055em;">Tesseract </span><span class="stl_129 stl_49 stl_600" style="word-spacing:-0.0055em;">的功能，比如后面的示例中训练程序识别字母，你需要先在系统中设置一 &nbsp;</span></div>
					<div class="stl_01" style="top:28.353em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0003em;">个新的环境变量 </span><span class="stl_188 stl_44 stl_10" style="word-spacing:-0.0003em;">$TESSDATA_PREFIX</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0003em;">，让 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0003em;">Tesseract </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0003em;">知道训练的数据文件存储在哪里。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.2762em; left:6.6141em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">在大多数 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Linux </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">系统和 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Mac OS X </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">系统上，你可以这么设置： &nbsp;</span></div>
					<div class="stl_01" style="top:32.2451em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:32.2451em; left:8.6928em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">export TESSDATA_PREFIX=/usr/local/share/ &nbsp;</span></div>
					<div class="stl_01" style="top:33.9541em; left:6.6142em;"><span class="stl_129 stl_49 stl_352" style="word-spacing:-0.0255em;">值得注意的是，虽然 </span><span class="stl_188 stl_44 stl_353" style="word-spacing:-0.0269em;">/usr/local/share/</span><span class="stl_129 stl_49 stl_352" style="word-spacing:-0.0255em;">是 </span><span class="stl_132 stl_52 stl_352" style="word-spacing:-0.0255em;">Tesseract </span><span class="stl_129 stl_49 stl_352" style="word-spacing:-0.0255em;">的默认数据存储位置，但是你还是应 &nbsp;</span></div>
					<div class="stl_01" style="top:35.2939em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">该仔细地检查一下，确保自己的安装没问题。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.1273em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">在 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">Windows </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">系统上也类似，你可以通过下面这行命令设置环境变量： &nbsp;</span></div>
					<div class="stl_01" style="top:39.0961em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:39.0961em; left:8.6928em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">setx TESSDATA_PREFIX C:\Program Files\Tesseract OCR\ &nbsp;</span></div>
					<div class="stl_01" style="top:41.3933em; left:6.6142em;"><span class="stl_260 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:41.335em; left:7.292em;"><span class="stl_260 stl_18 stl_71">1.1.3</span><span class="stl_91 stl_20 stl_71">ꢀ</span><span class="stl_260 stl_18 stl_71">NumPy &nbsp;</span></div>
					<div class="stl_01" style="top:43.2759em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">虽然 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">NumPy </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">并非解决 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">OCR </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">问题时必须使用的库，但是如果你想训练 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">Tesseract </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">识别本章后 &nbsp;</span></div>
					<div class="stl_01" style="top:44.5259em; left:6.6142em;"><span class="stl_129 stl_49 stl_176" style="word-spacing:-0.0038em;">面提到的字符或字体，那么就会用到它。</span><span class="stl_132 stl_52 stl_176" style="word-spacing:-0.0038em;">NumPy </span><span class="stl_129 stl_49 stl_176" style="word-spacing:-0.0038em;">是一个非常强大的库，具有大量线性代数 &nbsp;</span></div>
					<div class="stl_01" style="top:45.7759em; left:6.6142em;"><span class="stl_129 stl_49 stl_826" style="word-spacing:-0.0138em;">以及大规模科学计算的方法。因为 </span><span class="stl_132 stl_52 stl_826" style="word-spacing:-0.0138em;">NumPy </span><span class="stl_129 stl_49 stl_826" style="word-spacing:-0.0138em;">可以用数学方法把图片表示成巨大的像素数组， &nbsp;</span></div>
					<div class="stl_01" style="top:47.0259em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0005em;">所以它可以流畅地配合 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0005em;">Tesseract </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0005em;">完成任务。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.937em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">和其他 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">库一样，</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">NumPy </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">可以通过第三方包管理器（比如 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">pip</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">）来安装： &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:27.6533em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">图像识别与文字处理 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">141 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_198.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_198.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8921em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:4.8921em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">pip install numpy &nbsp;</span></div>
					<div class="stl_01" style="top:7.1678em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:7.0969em; left:6.4924em;"><span class="stl_197 stl_18 stl_71">1.2</span><span class="stl_160 stl_20 stl_71">ꢀ处理格式规范的文字 &nbsp;</span></div>
					<div class="stl_01" style="top:9.6078em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">你要处理的大多数文字都是比较干净、格式规范的。格式规范的文字通常可以满足一些需 &nbsp;</span></div>
					<div class="stl_01" style="top:10.8579em; left:5.6693em;"><span class="stl_129 stl_49 stl_156">求，不过究竟什么是“格式混乱”，什么算“格式规范”，确实因人而异。 &nbsp;</span></div>
					<div class="stl_01" style="top:12.769em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">通常，格式规范的文字具有以下特点： &nbsp;</span></div>
					<div class="stl_01" style="top:14.6419em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:15.8919em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:17.142em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:18.392em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:14.68em; left:6.7325em;"><span class="stl_129 stl_49 stl_10">使用一个标准字体（不包含手写体、草书，或者十分“花哨的”字体） &nbsp;</span></div>
					<div class="stl_01" style="top:15.93em; left:6.7325em;"><span class="stl_129 stl_49 stl_10">虽然被复印或拍照，字体还是很清晰，没有多余的痕迹或污点 &nbsp;</span></div>
					<div class="stl_01" style="top:17.1801em; left:6.7325em;"><span class="stl_129 stl_49 stl_10">排列整齐，没有歪歪斜斜的字 &nbsp;</span></div>
					<div class="stl_01" style="top:18.4301em; left:6.7325em;"><span class="stl_129 stl_49 stl_10">没有超出图片范围，也没有残缺不全，或紧紧贴在图片的边缘 &nbsp;</span></div>
					<div class="stl_01" style="top:20.3412em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">文字的一些格式问题在图片预处理时可以进行解决。例如，可以把图片转换成灰度图，调 &nbsp;</span></div>
					<div class="stl_01" style="top:21.5921em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">整亮度和对比度，还可以根据需要进行裁剪和旋转。但是，这些做法在进行更具扩展性的 &nbsp;</span></div>
					<div class="stl_01" style="top:22.7644em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">训练时会遇到一些限制。详情请见 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">11.3 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">节。 &nbsp;</span></div>
					<div class="stl_01" style="top:24.6755em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">图 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">11-1 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">是格式规范文字的理想示例。 &nbsp;</span></div>
					<div class="stl_01 stl_382" style="top:32.6352em; left:5.6693em;"><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.011em;">图 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.011em;">11-1</span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.011em;">：样本文字被保存为 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.011em;">tif </span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.011em;">文件，将由 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.011em;">Tesseract </span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.011em;">读取 &nbsp;</span></div>
					<div class="stl_01" style="top:34.4892em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">你可以通过下面的命令运行 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Tesseract</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">，读取文件并把结果写到一个文本文件中： &nbsp;</span></div>
					<div class="stl_01" style="top:36.4577em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:36.4577em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">tesseract text.tif textoutput | cat textoutput.txt &nbsp;</span></div>
					<div class="stl_01" style="top:38.1788em; left:5.6693em;"><span class="stl_129 stl_49 stl_827" style="word-spacing:-0.1336em;">输出结果的第一行是 </span><span class="stl_132 stl_52 stl_827" style="word-spacing:-0.1336em;">Tesseract </span><span class="stl_129 stl_49 stl_827" style="word-spacing:-0.1336em;">的版本信息，表明它正在运行，后面是图片识别结果 &nbsp;</span></div>
					<div class="stl_01" style="top:39.4288em; left:5.6693em;"><span class="stl_132 stl_52 stl_73" style="word-spacing:-0.0009em;">textoutput.txt </span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0009em;">文件里的内容： &nbsp;</span></div>
					<div class="stl_01" style="top:41.3974em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Tesseract Open Source OCR Engine v3.02.02 with Leptonica &nbsp;</span></div>
					<div class="stl_01" style="top:42.2304em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">This is some text, written in Arial, that will be read by &nbsp;</span></div>
					<div class="stl_01" style="top:43.0634em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Tesseract. Here are some symbols: !@#$%"&amp;'() &nbsp;</span></div>
					<div class="stl_01" style="top:44.773em; left:5.6693em;"><span class="stl_129 stl_49 stl_271">你会发现识别结果很准确，不过符号“</span><span class="stl_132 stl_52 stl_271">^</span><span class="stl_129 stl_49 stl_271">”和“</span><span class="stl_188 stl_44 stl_85">*</span><span class="stl_129 stl_49 stl_271">”分别被表示成了双引号和单引号。大体 &nbsp;</span></div>
					<div class="stl_01" style="top:46.1128em; left:5.669em;"><span class="stl_129 stl_49 stl_10">上可以让你很舒服地阅读。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.9462em; left:5.669em;"><span class="stl_129 stl_49 stl_452" style="word-spacing:-0.0102em;">图片先进行模糊处理，转换成一个 </span><span class="stl_132 stl_52 stl_452" style="word-spacing:-0.0102em;">JPG </span><span class="stl_129 stl_49 stl_452" style="word-spacing:-0.0102em;">压缩格式的图片，再增加一点儿背景渐变，识别效 &nbsp;</span></div>
					<div class="stl_01" style="top:49.1966em; left:5.6693em;"><span class="stl_129 stl_49 stl_161" style="word-spacing:0.0667em;">果就会变得很差（如图 </span><span class="stl_132 stl_52 stl_161" style="word-spacing:0.0667em;">11-2 </span><span class="stl_129 stl_49 stl_161" style="word-spacing:0.0667em;">所示）。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">42 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 11</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_201.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_201.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01 stl_382" style="top:10.8829em; left:6.6142em;"><span class="stl_383 stl_20 stl_10" style="word-spacing:0em;">图 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:0em;">11-2</span><span class="stl_383 stl_20 stl_10" style="word-spacing:0em;">：你在网上看到的许多图片可能都像这样 &nbsp;</span></div>
					<div class="stl_01" style="top:12.7369em; left:6.6142em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0009em;">Tesseract </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0009em;">不能完整处理这个图片，主要是因为图片背景色是渐变的，最终结果是这样： &nbsp;</span></div>
					<div class="stl_01" style="top:14.7054em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">This is some text, written In Arlal, that" &nbsp;</span></div>
					<div class="stl_01" style="top:15.5384em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Tesseract. Here are some symbols: _ &nbsp;</span></div>
					<div class="stl_01" style="top:17.2598em; left:6.6142em;"><span class="stl_129 stl_49 stl_710" style="word-spacing:-0.015em;">你会发现，随着背景色从左到右不断加深，文字变得越来越难以识别，</span><span class="stl_132 stl_52 stl_710" style="word-spacing:-0.015em;">Tesseract </span><span class="stl_129 stl_49 stl_710" style="word-spacing:-0.015em;">识别出的 &nbsp;</span></div>
					<div class="stl_01" style="top:18.5098em; left:6.6142em;"><span class="stl_129 stl_49 stl_811" style="word-spacing:-0.0076em;">每一行的最后几个字符都是错的。另外，经过 </span><span class="stl_132 stl_52 stl_811" style="word-spacing:-0.0076em;">JPG </span><span class="stl_129 stl_49 stl_811" style="word-spacing:-0.0076em;">格式转换和模糊效果处理，</span><span class="stl_132 stl_52 stl_811" style="word-spacing:-0.0076em;">Tesseract </span><span class="stl_129 stl_49 stl_811" style="word-spacing:-0.0076em;">更 &nbsp;</span></div>
					<div class="stl_01" style="top:19.7599em; left:6.6142em;"><span class="stl_129 stl_49 stl_634">难识别小写“</span><span class="stl_132 stl_52 stl_634">i</span><span class="stl_129 stl_49 stl_634">”和大写“</span><span class="stl_132 stl_52 stl_634">I</span><span class="stl_129 stl_49 stl_634">”以及数字“</span><span class="stl_132 stl_52 stl_634">1</span><span class="stl_129 stl_49 stl_634">”。 &nbsp;</span></div>
					<div class="stl_01" style="top:21.6709em; left:6.6142em;"><span class="stl_129 stl_49 stl_288" style="word-spacing:0.0029em;">遇到这类问题，可以先用 </span><span class="stl_132 stl_52 stl_288" style="word-spacing:0.0029em;">Python </span><span class="stl_129 stl_49 stl_288" style="word-spacing:0.0029em;">脚本对图片进行清理。利用 </span><span class="stl_132 stl_52 stl_288" style="word-spacing:0.0029em;">Pillow </span><span class="stl_129 stl_49 stl_288" style="word-spacing:0.0029em;">库，我们可以创建一个 &nbsp;</span></div>
					<div class="stl_01" style="top:22.921em; left:6.6142em;"><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0148em;">阈值过滤器来去掉渐变的背景色，只把文字留下来，从而让图片更加清晰，便于 </span><span class="stl_132 stl_52 stl_367" style="word-spacing:-0.0148em;">Tesseract &nbsp;</span></div>
					<div class="stl_01" style="top:24.249em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">读取： &nbsp;</span></div>
					<div class="stl_01" style="top:26.1397em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">PIL </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">Image &nbsp;</span></div>
					<div class="stl_01" style="top:26.9727em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">subprocess &nbsp;</span></div>
					<div class="stl_01" style="top:28.6387em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">cleanFile(filePath, newFilePath): &nbsp;</span></div>
					<div class="stl_01" style="top:29.4717em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">image = Image.open(filePath) &nbsp;</span></div>
					<div class="stl_01" style="top:31.1377em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:31.159em; left:10.4636em;"><span class="stl_256 stl_49 stl_258">对图片进行阈值过滤，然后保存 &nbsp;</span></div>
					<div class="stl_01" style="top:31.9728em; left:9.7553em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">image = image.point(</span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">lambda </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">x: 0 </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">if </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">x&lt;143 </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">else </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">255) &nbsp;</span></div>
					<div class="stl_01" style="top:32.8058em; left:9.7552em;"><span class="stl_116 stl_44 stl_10">image.save(newFilePath) &nbsp;</span></div>
					<div class="stl_01" style="top:34.4718em; left:9.7552em;"><span class="stl_116 stl_44 stl_10"># </span><span class="stl_256 stl_49 stl_10">调用系统的</span><span class="stl_116 stl_44 stl_10">tesseract</span><span class="stl_256 stl_49 stl_10">命令对图片进行</span><span class="stl_116 stl_44 stl_10">OCR</span><span class="stl_256 stl_49 stl_10">识别 &nbsp;</span></div>
					<div class="stl_01" style="top:35.3048em; left:9.7552em;"><span class="stl_116 stl_44 stl_10">subprocess.call(["tesseract", newFilePath, "output"]) &nbsp;</span></div>
					<div class="stl_01" style="top:36.9708em; left:9.7552em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:36.9922em; left:10.4636em;"><span class="stl_256 stl_49 stl_10">打开文件读取结果 &nbsp;</span></div>
					<div class="stl_01" style="top:37.8038em; left:9.7552em;"><span class="stl_116 stl_44 stl_10">outputFile = open("output.txt", 'r') &nbsp;</span></div>
					<div class="stl_01" style="top:38.6368em; left:9.7552em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(outputFile.read()) &nbsp;</span></div>
					<div class="stl_01" style="top:39.4698em; left:9.7552em;"><span class="stl_116 stl_44 stl_10">outputFile.close() &nbsp;</span></div>
					<div class="stl_01" style="top:41.1358em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">cleanFile("text_2.jpg", "text_2_clean.png") &nbsp;</span></div>
					<div class="stl_01" style="top:42.8609em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">自动创建的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">text_2_clean.png</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">，如下图所示。 &nbsp;</span></div>
					<div class="stl_01 stl_382" style="top:49.3749em; left:6.6142em;"><span class="stl_383 stl_20 stl_10" style="word-spacing:0em;">图 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:0em;">11-3</span><span class="stl_383 stl_20 stl_10" style="word-spacing:0em;">：通过一个阈值对前面的“模糊”图片进行过滤的结果 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:27.6533em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">图像识别与文字处理 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">143 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_202.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_202.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0156em;">除了一些标点符号不太清晰或丢失了，大部分文字都被读出来了。</span><span class="stl_132 stl_52 stl_367" style="word-spacing:-0.0156em;">Tesseract </span><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0156em;">给出了最好的 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1627em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">结果： &nbsp;</span></div>
					<div class="stl_01" style="top:8.0535em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">This us some text' written In Anal, that will be read by &nbsp;</span></div>
					<div class="stl_01" style="top:8.8865em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Tesseract Here are some symbols: !@#$%"&amp;'() &nbsp;</span></div>
					<div class="stl_01" style="top:10.6079em; left:5.6693em;"><span class="stl_129 stl_49 stl_600" style="word-spacing:-0.0055em;">图片上的点和逗号经过处理后变得非常小，不论从我们的视角还是 </span><span class="stl_132 stl_52 stl_600" style="word-spacing:-0.0055em;">Tesseract </span><span class="stl_129 stl_49 stl_600" style="word-spacing:-0.0055em;">的视角看，这 &nbsp;</span></div>
					<div class="stl_01" style="top:11.8579em; left:5.6693em;"><span class="stl_129 stl_49 stl_481" style="word-spacing:0.0023em;">些都从图片上基本消失了。还有一点失误是把“</span><span class="stl_132 stl_52 stl_481" style="word-spacing:0.0023em;">Arial</span><span class="stl_129 stl_49 stl_481" style="word-spacing:0.0023em;">”看成了“</span><span class="stl_132 stl_52 stl_481" style="word-spacing:0.0023em;">Anal</span><span class="stl_129 stl_49 stl_481" style="word-spacing:0.0023em;">”，这是 </span><span class="stl_132 stl_52 stl_481" style="word-spacing:0.0023em;">Tesseract </span><span class="stl_129 stl_49 stl_481" style="word-spacing:0.0023em;">把 &nbsp;</span></div>
					<div class="stl_01" style="top:13.1856em; left:5.2735em;"><span class="stl_129 stl_49 stl_10">“</span></div>
					<div class="stl_01" style="top:13.1079em; left:6.0651em;"><span class="stl_132 stl_52 stl_10">r</span><span class="stl_129 stl_49 stl_10">”和“</span><span class="stl_132 stl_52 stl_10">i</span><span class="stl_129 stl_49 stl_10">”都解释成了“</span><span class="stl_132 stl_52 stl_10">n</span><span class="stl_129 stl_49 stl_10">”的结果。 &nbsp;</span></div>
					<div class="stl_01" style="top:15.0967em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">不过，相比上一版本被截断的识别结果，这版算有很大进步了。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.9301em; left:5.6693em;"><span class="stl_132 stl_52 stl_162" style="word-spacing:-0.012em;">Tesseract </span><span class="stl_129 stl_49 stl_162" style="word-spacing:-0.012em;">最大的缺点是对渐变背景色的处理。之前那个版本中，</span><span class="stl_132 stl_52 stl_162" style="word-spacing:-0.012em;">Tesseract </span><span class="stl_129 stl_49 stl_162" style="word-spacing:-0.012em;">的算法在读取文 &nbsp;</span></div>
					<div class="stl_01" style="top:18.1807em; left:5.6693em;"><span class="stl_129 stl_49 stl_216" style="word-spacing:-0.0335em;">字之前自动尝试调整图片对比度，但是如果你用 </span><span class="stl_132 stl_52 stl_216" style="word-spacing:-0.0335em;">Pillow </span><span class="stl_129 stl_49 stl_216" style="word-spacing:-0.0335em;">库这样的工具对图片进行预处理， &nbsp;</span></div>
					<div class="stl_01" style="top:19.5085em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">效果会更好。 &nbsp;</span></div>
					<div class="stl_01" style="top:21.3419em; left:5.6693em;"><span class="stl_129 stl_49 stl_464" style="word-spacing:-0.0053em;">在提交给 </span><span class="stl_132 stl_52 stl_464" style="word-spacing:-0.0053em;">Tesseract </span><span class="stl_129 stl_49 stl_464" style="word-spacing:-0.0053em;">处理之前，那些带标题的、带有大片空白的图片，或者有其他问题的图 &nbsp;</span></div>
					<div class="stl_01" style="top:22.6699em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">片，都应该做预处理。 &nbsp;</span></div>
					<div class="stl_01" style="top:25.1745em; left:5.6693em;"><span class="stl_91 stl_20 stl_71">从网站图片中抓取文字 &nbsp;</span></div>
					<div class="stl_01" style="top:26.9622em; left:5.6693em;"><span class="stl_129 stl_49 stl_583" style="word-spacing:-0.0449em;">用 </span><span class="stl_132 stl_52 stl_583" style="word-spacing:-0.0449em;">Tesseract </span><span class="stl_129 stl_49 stl_583" style="word-spacing:-0.0449em;">读取硬盘里图片上的文字，可能不怎么令人兴奋，但当我们把它和网络爬虫 &nbsp;</span></div>
					<div class="stl_01" style="top:28.2899em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">组合使用时，就能成为一个强大的工具。网站上的图片可能并不是故意把文字做得很花哨 &nbsp;</span></div>
					<div class="stl_01" style="top:29.54em; left:5.2735em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:29.4622em; left:6.0699em;"><span class="stl_129 stl_49 stl_599" style="word-spacing:0.0179em;">就像餐馆菜单的 </span><span class="stl_132 stl_52 stl_599" style="word-spacing:0.0179em;">JPG </span><span class="stl_129 stl_49 stl_599" style="word-spacing:0.0179em;">图片上的艺术字），但它们上面的文字对网络爬虫来说就是隐藏起来 &nbsp;</span></div>
					<div class="stl_01" style="top:30.79em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">了，我将在下一个例子里演示。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.6233em; left:5.6693em;"><span class="stl_129 stl_49 stl_75" style="word-spacing:-0.0025em;">虽然亚马逊的 </span><span class="stl_132 stl_52 stl_75" style="word-spacing:-0.0025em;">robots.txt </span><span class="stl_129 stl_49 stl_75" style="word-spacing:-0.0025em;">文件允许抓取网站的产品页面，但是图书的预览页通常不让网络机 &nbsp;</span></div>
					<div class="stl_01" style="top:33.8736em; left:5.6693em;"><span class="stl_129 stl_49 stl_582" style="word-spacing:-0.0071em;">器人采集。图书的预览页是通过用户触发 </span><span class="stl_132 stl_52 stl_582" style="word-spacing:-0.0071em;">Ajax </span><span class="stl_129 stl_49 stl_582" style="word-spacing:-0.0071em;">脚本进行加载的，预览图片隐藏在 </span><span class="stl_132 stl_52 stl_582" style="word-spacing:-0.0071em;">div </span><span class="stl_129 stl_49 stl_582" style="word-spacing:-0.0071em;">节点 &nbsp;</span></div>
					<div class="stl_01" style="top:35.1236em; left:5.6693em;"><span class="stl_129 stl_49 stl_375" style="word-spacing:-0.0315em;">下面；其实，普通的访问者会觉得它们看起来更像是一个 </span><span class="stl_132 stl_52 stl_375" style="word-spacing:-0.0315em;">Flash </span><span class="stl_129 stl_49 stl_375" style="word-spacing:-0.0315em;">动画，而不是一个图片文 &nbsp;</span></div>
					<div class="stl_01" style="top:36.4514em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">件。当然，即使我们能获得图片，要把它们读成文字也没那么简单。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.2453em; left:36.2238em;"><span class="stl_181 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:38.3625em; left:5.6693em;"><span class="stl_129 stl_49 stl_368" style="word-spacing:0.2677em;">下面的程序就解决了这个问题：首先导航到托尔斯泰的《战争与和平》的大字号印刷版 ， &nbsp;</span></div>
					<div class="stl_01" style="top:39.5351em; left:5.669em;"><span class="stl_129 stl_49 stl_236" style="word-spacing:-0.0413em;">打开阅读器，收集图片的 </span><span class="stl_132 stl_52 stl_236" style="word-spacing:-0.0413em;">URL </span><span class="stl_129 stl_49 stl_236" style="word-spacing:-0.0413em;">链接，然后下载图片，识别图片，最后打印每个图片的文 &nbsp;</span></div>
					<div class="stl_01" style="top:40.8628em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">字。因为这个程序很复杂，利用了前面几章的多个程序片段，所以我增加了一些注释以让 &nbsp;</span></div>
					<div class="stl_01" style="top:42.1128em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">每段代码的目的更加清晰： &nbsp;</span></div>
					<div class="stl_01" style="top:44.0035em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">time &nbsp;</span></div>
					<div class="stl_01" style="top:44.8365em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urllib.request </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urlretrieve &nbsp;</span></div>
					<div class="stl_01" style="top:45.6695em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">subprocess &nbsp;</span></div>
					<div class="stl_01" style="top:48.0086em; left:5.6693em;"><span class="stl_60 stl_49 stl_244" style="word-spacing:-0.0003em;">注 </span><span class="stl_61 stl_52 stl_244" style="word-spacing:-0.0003em;">1</span><span class="stl_60 stl_49 stl_244" style="word-spacing:-0.0003em;">：当处理那些没有训练过的文字时，</span><span class="stl_61 stl_52 stl_244" style="word-spacing:-0.0003em;">Tesseract </span><span class="stl_60 stl_49 stl_244" style="word-spacing:-0.0003em;">对大字号印刷版书籍版本的识别效果更好，尤其是在图片 &nbsp;</span></div>
					<div class="stl_01" style="top:49.0086em; left:7.512em;"><span class="stl_60 stl_49 stl_140" style="word-spacing:-0.0169em;">比较小的时候。在下一节我们将介绍如何用不同的字体训练 </span><span class="stl_61 stl_52 stl_140" style="word-spacing:-0.0169em;">Tesseract</span><span class="stl_60 stl_49 stl_140" style="word-spacing:-0.0169em;">，这样可以帮它识别更小的字， &nbsp;</span></div>
					<div class="stl_01" style="top:50.074em; left:7.5118em;"><span class="stl_60 stl_49 stl_10">包括普通字号印刷版书籍。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">44 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 11</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_203.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_203.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8919em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">selenium </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">webdriver &nbsp;</span></div>
					<div class="stl_01" style="top:6.5579em; left:8.3386em;"><span class="stl_116 stl_44 stl_10"># </span><span class="stl_256 stl_49 stl_10">创建新的</span><span class="stl_116 stl_44 stl_10">Selenium driver &nbsp;</span></div>
					<div class="stl_01" style="top:7.3909em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">driver = webdriver.PhantomJS(executable_path='&lt;Path to Phantom JS&gt;') &nbsp;</span></div>
					<div class="stl_01" style="top:8.2239em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:9.0569em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:9.892em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:10.7247em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:8.2239em; left:9.0469em;"><span class="stl_256 stl_49 stl_10">有时我发现</span><span class="stl_116 stl_44 stl_10">PhantomJS</span><span class="stl_256 stl_49 stl_10">查找元素有问题</span><span class="stl_116 stl_44 stl_10">,</span><span class="stl_256 stl_49 stl_10">但是</span><span class="stl_116 stl_44 stl_10">Firefox</span><span class="stl_256 stl_49 stl_10">没有。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.0783em; left:9.0469em;"><span class="stl_256 stl_49 stl_34">如果你运行程序的时候出现问题，去掉下面这行注释， &nbsp;</span></div>
					<div class="stl_01" style="top:9.8917em; left:9.0469em;"><span class="stl_256 stl_49 stl_10">用</span><span class="stl_116 stl_44 stl_10">Selenium</span><span class="stl_256 stl_49 stl_10">试试</span><span class="stl_116 stl_44 stl_10">Firefox</span><span class="stl_256 stl_49 stl_10">浏览器： &nbsp;</span></div>
					<div class="stl_01" style="top:10.7247em; left:9.0469em;"><span class="stl_116 stl_44 stl_10">driver = webdriver.Firefox() &nbsp;</span></div>
					<div class="stl_01" style="top:12.3907em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">driver.get( &nbsp;</span></div>
					<div class="stl_01" style="top:13.2237em; left:10.4636em;"><span class="stl_116 stl_44 stl_10">"http://www.amazon.com/War-Peace-Leo-Nikolayevich-Tolstoy/dp/1427030200") &nbsp;</span></div>
					<div class="stl_01" style="top:14.0567em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">time.sleep(2) &nbsp;</span></div>
					<div class="stl_01" style="top:15.7227em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:15.7441em; left:9.0469em;"><span class="stl_256 stl_49 stl_10">单击图书预览按钮 &nbsp;</span></div>
					<div class="stl_01" style="top:16.5557em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">driver.find_element_by_id("sitbLogoImg").click() &nbsp;</span></div>
					<div class="stl_01" style="top:17.3887em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">imageList = set() &nbsp;</span></div>
					<div class="stl_01" style="top:19.0547em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:19.0761em; left:9.0469em;"><span class="stl_256 stl_49 stl_10">等待页面加载完成 &nbsp;</span></div>
					<div class="stl_01" style="top:19.8877em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">time.sleep(5) &nbsp;</span></div>
					<div class="stl_01" style="top:20.7421em; left:9.0469em;"><span class="stl_256 stl_49 stl_416">当向右箭头可以点击时，开始翻页 &nbsp;</span></div>
					<div class="stl_01" style="top:21.5587em; left:8.3386em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">while </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">"pointer" </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">in </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">driver.find_element_by_id("sitbReaderRightPageTurner") &nbsp;</span></div>
					<div class="stl_01" style="top:22.3914em; left:24.2761em;"><span class="stl_116 stl_44 stl_10">get_attribute("style"): &nbsp;</span></div>
					<div class="stl_01" style="top:20.7207em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:22.3914em; left:23.9219em;"><span class="stl_116 stl_44 stl_10">.</span></div>
					<div class="stl_01" style="top:23.2244em; left:9.7552em;"><span class="stl_116 stl_44 stl_10">driver.find_element_by_id("sitbReaderRightPageTurner").click() &nbsp;</span></div>
					<div class="stl_01" style="top:24.0574em; left:9.7552em;"><span class="stl_116 stl_44 stl_10">time.sleep(2) &nbsp;</span></div>
					<div class="stl_01" style="top:24.8904em; left:9.7552em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:24.9118em; left:10.4636em;"><span class="stl_256 stl_49 stl_438">获取已加载的新页面（一次可以加载多个页面，但是重复的页面不能加载到集合中） &nbsp;</span></div>
					<div class="stl_01" style="top:25.7248em; left:9.7552em;"><span class="stl_116 stl_44 stl_10">pages = driver.find_elements_by_xpath("//div[@class='pageImage']/div/img") &nbsp;</span></div>
					<div class="stl_01" style="top:26.5581em; left:9.7552em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">page </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">pages: &nbsp;</span></div>
					<div class="stl_01" style="top:27.3911em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">image = page.get_attribute("src") &nbsp;</span></div>
					<div class="stl_01" style="top:28.2241em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">imageList.add(image) &nbsp;</span></div>
					<div class="stl_01" style="top:29.8901em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">driver.quit() &nbsp;</span></div>
					<div class="stl_01" style="top:31.5561em; left:9.0469em;"><span class="stl_256 stl_49 stl_10">用</span><span class="stl_116 stl_44 stl_10">Tesseract</span><span class="stl_256 stl_49 stl_10">处理我们收集的图片</span><span class="stl_116 stl_44 stl_10">URL</span><span class="stl_256 stl_49 stl_10">链接 &nbsp;</span></div>
					<div class="stl_01" style="top:31.5561em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:32.3891em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">image </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">sorted(imageList): &nbsp;</span></div>
					<div class="stl_01" style="top:33.2221em; left:9.7552em;"><span class="stl_116 stl_44 stl_10">urlretrieve(image, "page.jpg") &nbsp;</span></div>
					<div class="stl_01" style="top:34.0551em; left:9.7552em;"><span class="stl_116 stl_44 stl_10">p = subprocess.Popen(["tesseract", "page.jpg", "page"], &nbsp;</span></div>
					<div class="stl_01" style="top:34.8881em; left:18.6094em;"><span class="stl_116 stl_44 stl_10">stdout=subprocess.PIPE,stderr=subprocess.PIPE) &nbsp;</span></div>
					<div class="stl_01" style="top:35.7211em; left:9.7552em;"><span class="stl_116 stl_44 stl_10">p.wait() &nbsp;</span></div>
					<div class="stl_01" style="top:36.5541em; left:9.7552em;"><span class="stl_116 stl_44 stl_10">f = open("page.txt", "r") &nbsp;</span></div>
					<div class="stl_01" style="top:37.3871em; left:9.7552em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(f.read()) &nbsp;</span></div>
					<div class="stl_01" style="top:39.1131em; left:6.6142em;"><span class="stl_129 stl_49 stl_614" style="word-spacing:-0.0457em;">和我们前面使用 </span><span class="stl_132 stl_52 stl_614" style="word-spacing:-0.0457em;">Tesseract </span><span class="stl_129 stl_49 stl_614" style="word-spacing:-0.0457em;">读取的效果一样，这个程序也会完美地打印书中很多长长的段 &nbsp;</span></div>
					<div class="stl_01" style="top:40.4409em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">落，第六页的预览如下所示： &nbsp;</span></div>
					<div class="stl_01" style="top:42.3317em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">6</span></div>
					<div class="stl_01" style="top:43.9977em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:43.9977em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">A word of friendly advice, mon &nbsp;</span></div>
					<div class="stl_01" style="top:44.8307em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">cher. Be off as soon as you can, &nbsp;</span></div>
					<div class="stl_01" style="top:45.6637em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">that's all I have to tell you. Happy &nbsp;</span></div>
					<div class="stl_01" style="top:46.4967em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">he who has ears to hear. Good-by, &nbsp;</span></div>
					<div class="stl_01" style="top:47.3297em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">my dear fellow. Oh, by the by!" he &nbsp;</span></div>
					<div class="stl_01" style="top:48.1627em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">shouted through the doorway after &nbsp;</span></div>
					<div class="stl_01" style="top:48.9957em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Pierre, "is it true that the countess &nbsp;</span></div>
					<div class="stl_01" style="top:49.8287em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">has fallen into the clutches of the &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:27.6533em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">图像识别与文字处理 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">145 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_204.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_204.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8921em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">holy fathers of the Society of je- &nbsp;</span></div>
					<div class="stl_01" style="top:5.7251em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">sus?" &nbsp;</span></div>
					<div class="stl_01" style="top:7.3911em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Pierre did not answer and left Ros- &nbsp;</span></div>
					<div class="stl_01" style="top:8.2241em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">topchin's room more sullen and an- &nbsp;</span></div>
					<div class="stl_01" style="top:9.0571em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">gry than he had ever before shown &nbsp;</span></div>
					<div class="stl_01" style="top:9.8901em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">himself. &nbsp;</span></div>
					<div class="stl_01" style="top:11.6908em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">但是，当文字出现在彩色封面上时，结果就不那么完美了： &nbsp;</span></div>
					<div class="stl_01" style="top:13.5817em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">WEI' nrrd Peace &nbsp;</span></div>
					<div class="stl_01" style="top:14.4147em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Len Nlkelayevldu Iolfluy &nbsp;</span></div>
					<div class="stl_01" style="top:16.0807em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Readmg shmdd be ax &nbsp;</span></div>
					<div class="stl_01" style="top:16.9137em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">wlnvame asnossxble Wenfler &nbsp;</span></div>
					<div class="stl_01" style="top:17.7467em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">an mm m our cram: Llhvary &nbsp;</span></div>
					<div class="stl_01" style="top:19.2694em; left:7.3937em;"><span class="stl_828 stl_707 stl_10">-</span></div>
					<div class="stl_01" style="top:19.4127em; left:8.1367em;"><span class="stl_116 stl_44 stl_10">Leo Tmsloy was a Russian rwovelwst &nbsp;</span></div>
					<div class="stl_01" style="top:20.2457em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">I and moval phflmopher med lur &nbsp;</span></div>
					<div class="stl_01" style="top:21.0787em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">A ms Ideas 01 nonviolenx reswslance m 5 We range 0, "and" &nbsp;</span></div>
					<div class="stl_01" style="top:22.8028em; left:5.6693em;"><span class="stl_129 stl_49 stl_210" style="word-spacing:-0.0112em;">当然，你可以用 </span><span class="stl_132 stl_52 stl_210" style="word-spacing:-0.0112em;">Pillow </span><span class="stl_129 stl_49 stl_210" style="word-spacing:-0.0112em;">库挑选图片进行清理，但是如果想把文字加工成普通人可以看懂的 &nbsp;</span></div>
					<div class="stl_01" style="top:24.1305em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">效果，还需要花很多时间去处理。 &nbsp;</span></div>
					<div class="stl_01" style="top:26.0416em; left:5.6693em;"><span class="stl_129 stl_49 stl_153">下一节我们将介绍另一种方法来解决文字混乱的问题，尤其是当你愿意花一点儿时间训练 &nbsp;</span></div>
					<div class="stl_01" style="top:27.2142em; left:5.6693em;"><span class="stl_132 stl_52 stl_125" style="word-spacing:-0.0023em;">Tesseract </span><span class="stl_129 stl_49 stl_125" style="word-spacing:-0.0023em;">的时候。通过给 </span><span class="stl_132 stl_52 stl_125" style="word-spacing:-0.0023em;">Tesseract </span><span class="stl_129 stl_49 stl_125" style="word-spacing:-0.0023em;">提供大量已知的文字与图片映射集，经过训练 </span><span class="stl_132 stl_52 stl_125" style="word-spacing:-0.0023em;">Tesseract &nbsp;</span></div>
					<div class="stl_01" style="top:28.5419em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">就可以“学会”识别同一种字体，而且可以达到极高的精确率和准确率，甚至可以忽略图 &nbsp;</span></div>
					<div class="stl_01" style="top:29.792em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">片中文字的背景色和相对位置等问题。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.1802em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:32.1094em; left:6.4924em;"><span class="stl_197 stl_18 stl_71">1.3</span><span class="stl_160 stl_20 stl_71">ꢀ读取验证码与训练</span><span class="stl_197 stl_18 stl_71">Tesseract &nbsp;</span></div>
					<div class="stl_01" style="top:34.5426em; left:5.6693em;"><span class="stl_129 stl_49 stl_722">虽然大多数人对单词“</span><span class="stl_132 stl_52 stl_722">CAPTCHA</span><span class="stl_129 stl_49 stl_722">”都很熟悉，但是很少人知道它的具体含义：全自动区 &nbsp;</span></div>
					<div class="stl_01" style="top:35.7926em; left:5.6693em;"><span class="stl_129 stl_49 stl_73" style="word-spacing:0.0898em;">分计算机和人类的图灵测试（</span><span class="stl_132 stl_52 stl_73" style="word-spacing:0.0898em;">Completely Automated Public Turing test to tell Computers and &nbsp;</span></div>
					<div class="stl_01" style="top:37.0426em; left:5.6693em;"><span class="stl_132 stl_52 stl_658" style="word-spacing:0.0501em;">Humans Apart</span><span class="stl_129 stl_49 stl_658" style="word-spacing:0.0501em;">）。它的奇怪缩写似乎表示，它一直在扮演着十分奇怪的角色。其目的是为了 &nbsp;</span></div>
					<div class="stl_01" style="top:38.3703em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">阻止网站访问，而不是让访问更通畅，它经常让人类和非人类的网络机器人深陷验证码识 &nbsp;</span></div>
					<div class="stl_01" style="top:39.6203em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">别的泥潭不能自拔。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.4537em; left:5.6693em;"><span class="stl_129 stl_49 stl_159" style="word-spacing:-0.0052em;">图灵测试首次出现在阿兰</span><span class="stl_259 stl_20 stl_159" style="word-spacing:-0.0052em;">·</span><span class="stl_129 stl_49 stl_159" style="word-spacing:-0.0052em;">图灵（</span><span class="stl_132 stl_52 stl_159" style="word-spacing:-0.0052em;">Alan Turing</span><span class="stl_129 stl_49 stl_159" style="word-spacing:-0.0052em;">）</span><span class="stl_132 stl_52 stl_159" style="word-spacing:-0.0052em;">1950</span><span class="stl_129 stl_49 stl_159" style="word-spacing:-0.0052em;"> 年发表的论文“计算装置与智能” &nbsp;</span></div>
					<div class="stl_01" style="top:42.7818em; left:5.2734em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:42.704em; left:6.065em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.047em;">Computing Machinery and Intelligence</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.047em;">）中。他在论文中描述了这样一种场景：一个人可以 &nbsp;</span></div>
					<div class="stl_01" style="top:44.0317em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">和其他人交流，也可以通过计算机终端和人工智能程序交流。如果一番对话之后这个人不 &nbsp;</span></div>
					<div class="stl_01" style="top:45.2817em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">能区分人和人工智能程序，那么就认为这个人工智能程序通过了图灵测试，图灵认为这个 &nbsp;</span></div>
					<div class="stl_01" style="top:46.5318em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">人工智能程序就可以真正地“思考”所有的事情。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.3651em; left:5.6693em;"><span class="stl_129 stl_49 stl_340" style="word-spacing:-0.028em;">令人啼笑皆非的是，</span><span class="stl_132 stl_52 stl_340" style="word-spacing:-0.028em;">60 </span><span class="stl_129 stl_49 stl_340" style="word-spacing:-0.028em;">多年以后，我们开始用这些原本测试程序的题目来测试我们自己。 &nbsp;</span></div>
					<div class="stl_01" style="top:49.6154em; left:5.6693em;"><span class="stl_132 stl_52 stl_111" style="word-spacing:-0.0015em;">Google </span><span class="stl_129 stl_49 stl_111" style="word-spacing:-0.0015em;">的 </span><span class="stl_132 stl_52 stl_111" style="word-spacing:-0.0015em;">reCAPTCHA </span><span class="stl_129 stl_49 stl_111" style="word-spacing:-0.0015em;">难得令人发指，作为目前最具有安全意识的流行网站，</span><span class="stl_132 stl_52 stl_111" style="word-spacing:-0.0015em;">Google </span><span class="stl_129 stl_49 stl_111" style="word-spacing:-0.0015em;">拦截 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">46 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 11</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_206.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_206.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.7952em; left:22.7111em;"><span class="stl_181 stl_52 stl_10">2</span></div>
					<div class="stl_01" style="top:4.8349em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">了多达 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">25% </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">的准备访问网站的正常人类用户。 &nbsp;</span></div>
					<div class="stl_01" style="top:6.7463em; left:6.6142em;"><span class="stl_129 stl_49 stl_315" style="word-spacing:-0.0338em;">大多数其他的验证码都是比较简单的。例如，流行的 </span><span class="stl_132 stl_52 stl_315" style="word-spacing:-0.0338em;">PHP </span><span class="stl_129 stl_49 stl_315" style="word-spacing:-0.0338em;">内容管理系统 </span><span class="stl_132 stl_52 stl_315" style="word-spacing:-0.0338em;">Drupal </span><span class="stl_129 stl_49 stl_315" style="word-spacing:-0.0338em;">有一个著 &nbsp;</span></div>
					<div class="stl_01" style="top:7.9963em; left:6.6142em;"><span class="stl_129 stl_49 stl_759">名的验证码模块（</span><span class="stl_132 stl_52 stl_759">https://www.drupal.org/project/captcha</span><span class="stl_129 stl_49 stl_759">），可以生成不同难度的验证码。默 &nbsp;</span></div>
					<div class="stl_01" style="top:9.2464em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">认图片如图 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">11-4 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">所示。 &nbsp;</span></div>
					<div class="stl_01 stl_382" style="top:26.1397em; left:6.6142em;"><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0134em;">图 </span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0134em;">11-4</span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0134em;">：</span><span class="stl_384 stl_18 stl_10" style="word-spacing:-0.0134em;">Drupal </span><span class="stl_383 stl_20 stl_10" style="word-spacing:-0.0134em;">的验证码项目的默认文字验证码示例 &nbsp;</span></div>
					<div class="stl_01" style="top:28.0713em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">那么与其他验证码相比，究竟是什么让这个验证码更容易被人类和机器读懂呢？ &nbsp;</span></div>
					<div class="stl_01" style="top:29.9443em; left:6.6142em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:29.9824em; left:7.6774em;"><span class="stl_129 stl_49 stl_121">字母没有相互叠加在一起，在水平方向上也没有彼此交叉。也就是说，可以在每一个字 &nbsp;</span></div>
					<div class="stl_01" style="top:31.2328em; left:7.6772em;"><span class="stl_129 stl_49 stl_10">母外面画一个方框，而不会重叠在一起。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.4447em; left:6.614em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:33.6947em; left:6.614em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:32.4051em; left:7.6772em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">图片没有背景色、线条或其他对 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">OCR </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">程序产生干扰的噪点。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.6551em; left:7.6772em;"><span class="stl_129 stl_49 stl_240" style="word-spacing:0.0018em;">虽然不能因一个图片下定论，但是这个验证码用的字体种类很少，而且用的是 </span><span class="stl_132 stl_52 stl_240" style="word-spacing:0.0018em;">sans-serif &nbsp;</span></div>
					<div class="stl_01" style="top:34.905em; left:7.6772em;"><span class="stl_129 stl_49 stl_829">字体（像“</span><span class="stl_132 stl_52 stl_829">4</span><span class="stl_129 stl_49 stl_829">”和“</span><span class="stl_132 stl_52 stl_829">M</span><span class="stl_129 stl_49 stl_829">”）和一种手写形式的字体（像“</span><span class="stl_132 stl_52 stl_829">m</span><span class="stl_129 stl_49 stl_829">”“</span><span class="stl_132 stl_52 stl_829">C</span><span class="stl_129 stl_49 stl_829">”和“</span><span class="stl_132 stl_52 stl_829">3</span><span class="stl_129 stl_49 stl_829">”）。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.2328em; left:7.6772em;"><span class="stl_129 stl_49 stl_10">白色背景色与深色字母之间的对比度很高。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.1947em; left:6.614em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:38.0662em; left:6.614em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">这个验证码只做了一点点改变，就让 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">OCR </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">程序很难识别。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.0168em; left:6.614em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:41.2669em; left:6.614em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:42.5172em; left:6.6142em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:40.0549em; left:7.6772em;"><span class="stl_129 stl_49 stl_10">字母和数据都使用了，这会增加待搜索字符的数量。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.2276em; left:7.6774em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">字母随机的倾斜程度会迷惑 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">OCR </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">软件，但是人类还是很容易识别的。 &nbsp;</span></div>
					<div class="stl_01" style="top:42.4776em; left:7.6774em;"><span class="stl_129 stl_49 stl_136">那个比较陌生的手写字体很有挑战性，在“</span><span class="stl_132 stl_52 stl_136">C</span><span class="stl_129 stl_49 stl_136">”和“</span><span class="stl_132 stl_52 stl_136">3</span><span class="stl_129 stl_49 stl_136">”里面还有额外的线条。另外这 &nbsp;</span></div>
					<div class="stl_01" style="top:43.7279em; left:7.6772em;"><span class="stl_129 stl_49 stl_515">个非常小的小写“</span><span class="stl_132 stl_52 stl_515">m</span><span class="stl_129 stl_49 stl_515">”，计算机需要进行额外的训练才能识别。 &nbsp;</span></div>
					<div class="stl_01" style="top:45.639em; left:6.614em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0005em;">用下面的代码运行 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0005em;">Tesseract </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0005em;">识别图片： &nbsp;</span></div>
					<div class="stl_01" style="top:49.0086em; left:6.6142em;"><span class="stl_60 stl_49 stl_742" style="word-spacing:-0.0048em;">注 </span><span class="stl_61 stl_52 stl_742" style="word-spacing:-0.0048em;">2</span><span class="stl_60 stl_49 stl_742" style="word-spacing:-0.0048em;">：详情请见</span><span class="stl_61 stl_52 stl_742" style="word-spacing:0.0352em;"> Quora</span><span class="stl_60 stl_49 stl_742" style="word-spacing:0.0352em;"> 问题：</span><span class="stl_61 stl_52 stl_742" style="word-spacing:0.0352em;">https://www.quora.com/What-is-the-success-rate-of-legitimate-users-passing-reCAP- &nbsp;</span></div>
					<div class="stl_01" style="top:50.0086em; left:8.4568em;"><span class="stl_61 stl_52 stl_290">TCHA-tests</span><span class="stl_60 stl_49 stl_290">。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:27.6533em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">图像识别与文字处理 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">147 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_207.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_207.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8921em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:4.8921em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">tesseract captchaExample.png output &nbsp;</span></div>
					<div class="stl_01" style="top:6.6131em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0005em;">我们得到的结果 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0005em;">output.txt </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0005em;">是： &nbsp;</span></div>
					<div class="stl_01" style="top:8.5817em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">4</span></div>
					<div class="stl_01" style="top:8.5817em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">N\,,,C&lt;3 &nbsp;</span></div>
					<div class="stl_01" style="top:10.3028em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">虽然识别出了 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">4</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">、</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">C </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">和 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">3</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">，但是显然这样的结果永远也不能识别出正确的验证码。 &nbsp;</span></div>
					<div class="stl_01" style="top:12.7319em; left:5.6693em;"><span class="stl_91 stl_20 stl_71">训练</span><span class="stl_260 stl_18 stl_71">Tesseract &nbsp;</span></div>
					<div class="stl_01" style="top:14.6729em; left:5.6693em;"><span class="stl_129 stl_49 stl_128" style="word-spacing:-0.0029em;">要训练 </span><span class="stl_132 stl_52 stl_128" style="word-spacing:-0.0029em;">Tesseract </span><span class="stl_129 stl_49 stl_128" style="word-spacing:-0.0029em;">识别一种文字，无论是晦涩难懂的字体还是验证码，你都需要向 </span><span class="stl_132 stl_52 stl_128" style="word-spacing:-0.0029em;">Tesseract &nbsp;</span></div>
					<div class="stl_01" style="top:16.0006em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">提供每个字符不同形式的样本。 &nbsp;</span></div>
					<div class="stl_01" style="top:17.9117em; left:5.6693em;"><span class="stl_129 stl_49 stl_153">做这个枯燥的工作可能要花好几个小时的时间，你可能更想用这点儿时间找个好看的视频 &nbsp;</span></div>
					<div class="stl_01" style="top:19.162em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">或电影看看。首先要把大量的验证码样本下载到一个文件夹里。下载的样本数量由验证码 &nbsp;</span></div>
					<div class="stl_01" style="top:20.3343em; left:5.6693em;"><span class="stl_129 stl_49 stl_657" style="word-spacing:-0.0302em;">的复杂程度决定；我在训练集里一共放了 </span><span class="stl_132 stl_52 stl_657" style="word-spacing:-0.0302em;">100 </span><span class="stl_129 stl_49 stl_657" style="word-spacing:-0.0302em;">个样本（一共 </span><span class="stl_132 stl_52 stl_657" style="word-spacing:-0.0302em;">500 </span><span class="stl_129 stl_49 stl_657" style="word-spacing:-0.0302em;">个字符，平均每个字符 </span><span class="stl_132 stl_52 stl_657" style="word-spacing:-0.0302em;">8 &nbsp;</span></div>
					<div class="stl_01" style="top:21.5843em; left:5.6693em;"><span class="stl_129 stl_49 stl_98" style="word-spacing:0.0323em;">个样本；</span><span class="stl_132 stl_52 stl_98" style="word-spacing:0.0323em;">a~z </span><span class="stl_129 stl_49 stl_98" style="word-spacing:0.0323em;">大小写字母加 </span><span class="stl_132 stl_52 stl_98" style="word-spacing:0.0323em;">0~9 </span><span class="stl_129 stl_49 stl_98" style="word-spacing:0.0323em;">数字，一共 </span><span class="stl_132 stl_52 stl_98" style="word-spacing:0.0323em;">62 </span><span class="stl_129 stl_49 stl_98" style="word-spacing:0.0323em;">个字符），应该足够训练的了。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.4954em; left:5.6693em;"><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0054em;">提示：建议使用验证码的真实结果给每个样本文件命名（即 </span><span class="stl_132 stl_52 stl_301" style="word-spacing:-0.0054em;">4MmC3.jpg</span><span class="stl_129 stl_49 stl_301" style="word-spacing:-0.0054em;">）。这样可以帮你 &nbsp;</span></div>
					<div class="stl_01" style="top:24.8234em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">一次性对大量的文件进行快速检查——你可以先把图片调成缩略图模式，然后通过文件名 &nbsp;</span></div>
					<div class="stl_01" style="top:26.0734em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">对比不同的图片。这样在后面的步骤中进行训练效果的检查也会很方便。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.9068em; left:5.6693em;"><span class="stl_129 stl_49 stl_327" style="word-spacing:-0.0242em;">第二步是准确地告诉 </span><span class="stl_132 stl_52 stl_327" style="word-spacing:-0.0242em;">Tesseract </span><span class="stl_129 stl_49 stl_327" style="word-spacing:-0.0242em;">一张图片中的每个字符是什么，以及每个字符的具体位置。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.1571em; left:5.6693em;"><span class="stl_129 stl_49 stl_452" style="word-spacing:0.1128em;">这里需要创建一些矩形定位文件（</span><span class="stl_132 stl_52 stl_452" style="word-spacing:0.1128em;">box </span><span class="stl_148 stl_52 stl_452" style="word-spacing:0.1128em;">ﬁ</span><span class="stl_132 stl_52 stl_452" style="word-spacing:0.1128em;">le</span><span class="stl_129 stl_49 stl_452" style="word-spacing:0.1128em;">），一个验证码图片生成一个矩形定位文件。一 &nbsp;</span></div>
					<div class="stl_01" style="top:30.4848em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">个图片的矩形定位文件如下所示： &nbsp;</span></div>
					<div class="stl_01" style="top:32.3757em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">4</span></div>
					<div class="stl_01" style="top:32.3757em; left:8.102em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">15 26 33 55 0 &nbsp;</span></div>
					<div class="stl_01" style="top:33.2087em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">M 38 13 67 45 0 &nbsp;</span></div>
					<div class="stl_01" style="top:34.0417em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">m 79 15 101 26 0 &nbsp;</span></div>
					<div class="stl_01" style="top:34.8747em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">C 111 33 136 60 0 &nbsp;</span></div>
					<div class="stl_01" style="top:35.7077em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">3</span></div>
					<div class="stl_01" style="top:35.7077em; left:8.102em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">147 17 176 45 0 &nbsp;</span></div>
					<div class="stl_01" style="top:37.4301em; left:5.6693em;"><span class="stl_129 stl_49 stl_773" style="word-spacing:-0.0184em;">第一列符号是图片中的每个字符，后面的 </span><span class="stl_132 stl_52 stl_773" style="word-spacing:-0.0184em;">4 </span><span class="stl_129 stl_49 stl_773" style="word-spacing:-0.0184em;">个数字分别是包围这个字符的最小矩形的坐标 &nbsp;</span></div>
					<div class="stl_01" style="top:38.7578em; left:5.2735em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:38.6801em; left:6.0675em;"><span class="stl_129 stl_49 stl_564" style="word-spacing:-0.0046em;">图片左下角是原点 </span><span class="stl_132 stl_52 stl_564" style="word-spacing:-0.0046em;">(0,0)</span><span class="stl_129 stl_49 stl_564" style="word-spacing:-0.0046em;">，</span><span class="stl_132 stl_52 stl_564" style="word-spacing:-0.0046em;">4 </span><span class="stl_129 stl_49 stl_564" style="word-spacing:-0.0046em;">个数字分别对应每个字符的左下角 </span><span class="stl_357 stl_36 stl_564" style="word-spacing:-0.0046em;">x </span><span class="stl_129 stl_49 stl_564" style="word-spacing:-0.0046em;">坐标、左下角 </span><span class="stl_194 stl_36 stl_564" style="word-spacing:-0.0046em;">y </span><span class="stl_129 stl_49 stl_564" style="word-spacing:-0.0046em;">坐标、右 &nbsp;</span></div>
					<div class="stl_01" style="top:39.9301em; left:5.6697em;"><span class="stl_129 stl_49 stl_720" style="word-spacing:0.0358em;">上角 </span><span class="stl_357 stl_36 stl_720" style="word-spacing:0.0358em;">x </span><span class="stl_129 stl_49 stl_720" style="word-spacing:0.0358em;">坐标和右上角 </span><span class="stl_194 stl_36 stl_720" style="word-spacing:0.0358em;">y </span><span class="stl_129 stl_49 stl_720" style="word-spacing:0.0358em;">坐标），最后一个数字“</span><span class="stl_132 stl_52 stl_720" style="word-spacing:0.0358em;">0</span><span class="stl_129 stl_49 stl_720" style="word-spacing:0.0358em;">”表示图片样本的编号。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.9189em; left:5.6697em;"><span class="stl_129 stl_49 stl_130">显然，手工创建这些图片矩形定位文件很无聊，不过有一些工具可以帮你完成。我很喜欢 &nbsp;</span></div>
					<div class="stl_01" style="top:43.0912em; left:5.6691em;"><span class="stl_129 stl_49 stl_830" style="word-spacing:0.0141em;">在线工具 </span><span class="stl_132 stl_52 stl_830" style="word-spacing:0.0141em;">Tesseract</span><span class="stl_132 stl_52 stl_830" style="word-spacing:0.1366em;"> OCR</span><span class="stl_132 stl_52 stl_830" style="word-spacing:0.1366em;"> Chopper</span><span class="stl_129 stl_49 stl_830" style="word-spacing:0.1366em;">（</span><span class="stl_132 stl_52 stl_830" style="word-spacing:0.1366em;">http://pp19dd.com/tesseract-ocr-chopper/</span><span class="stl_129 stl_49 stl_830" style="word-spacing:0.1366em;">），因为它不需要 &nbsp;</span></div>
					<div class="stl_01" style="top:44.4192em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">安装，也没有其他依赖，只要有浏览器就可以运行，而且用法很简单：上传图片，如果要 &nbsp;</span></div>
					<div class="stl_01" style="top:45.5915em; left:5.6693em;"><span class="stl_129 stl_49 stl_394">增加新矩形就单击“</span><span class="stl_132 stl_52 stl_394">add</span><span class="stl_129 stl_49 stl_394">”按钮，还可以根据需要调整矩形的尺寸，最后把新生成的矩形 &nbsp;</span></div>
					<div class="stl_01" style="top:46.9192em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">定位文件复制到一个新文件里就可以了。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.7526em; left:5.6693em;"><span class="stl_129 stl_49 stl_154" style="word-spacing:-0.0059em;">矩形定位文件必须保存在一个 </span><span class="stl_132 stl_52 stl_154" style="word-spacing:-0.0059em;">.box </span><span class="stl_129 stl_49 stl_154" style="word-spacing:-0.0059em;">后缀的文本文件中。和图片文件一样，文本文件也是用 &nbsp;</span></div>
					<div class="stl_01" style="top:50.0029em; left:5.6693em;"><span class="stl_129 stl_49 stl_122" style="word-spacing:0.0026em;">验证码的实际结果命名（例如，</span><span class="stl_132 stl_52 stl_122" style="word-spacing:0.0026em;">4MmC3.box</span><span class="stl_129 stl_49 stl_122" style="word-spacing:0.0026em;">）。另外，这样便于检查 </span><span class="stl_132 stl_52 stl_122" style="word-spacing:0.0026em;">.box </span><span class="stl_129 stl_49 stl_122" style="word-spacing:0.0026em;">文件的内容和文 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">48 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 11</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_208.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_208.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:6.6142em;"><span class="stl_129 stl_49 stl_154" style="word-spacing:-0.0059em;">件的名称，而且按文件名对目录中的文件排序之后，就可以让 </span><span class="stl_132 stl_52 stl_154" style="word-spacing:-0.0059em;">.box </span><span class="stl_129 stl_49 stl_154" style="word-spacing:-0.0059em;">文件与对应的图片文件 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1627em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">的实际结果进行对比。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.996em; left:6.6142em;"><span class="stl_129 stl_49 stl_220" style="word-spacing:-0.0331em;">你还需要创建大约 </span><span class="stl_132 stl_52 stl_220" style="word-spacing:-0.0331em;">100 </span><span class="stl_129 stl_49 stl_220" style="word-spacing:-0.0331em;">个 </span><span class="stl_132 stl_52 stl_220" style="word-spacing:-0.0331em;">.box </span><span class="stl_129 stl_49 stl_220" style="word-spacing:-0.0331em;">文件来保证你有足够的训练数据。因为 </span><span class="stl_132 stl_52 stl_220" style="word-spacing:-0.0331em;">Tesseract </span><span class="stl_129 stl_49 stl_220" style="word-spacing:-0.0331em;">会忽略那 &nbsp;</span></div>
					<div class="stl_01" style="top:9.324em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">些不能读取的文件，所以建议你尽量多做一些矩形定位文件，以保证训练足够充分。如果 &nbsp;</span></div>
					<div class="stl_01" style="top:10.4963em; left:6.6142em;"><span class="stl_129 stl_49 stl_170" style="word-spacing:-0.0229em;">你觉得训练的 </span><span class="stl_132 stl_52 stl_170" style="word-spacing:-0.0229em;">OCR </span><span class="stl_129 stl_49 stl_170" style="word-spacing:-0.0229em;">结果没有达到你的目标，或者 </span><span class="stl_132 stl_52 stl_170" style="word-spacing:-0.0229em;">Tesseract </span><span class="stl_129 stl_49 stl_170" style="word-spacing:-0.0229em;">识别某些字符时总是出错，多 &nbsp;</span></div>
					<div class="stl_01" style="top:11.8241em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">创建一些训练数据然后重新训练将是一个不错的改进方法。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.6575em; left:6.6142em;"><span class="stl_129 stl_49 stl_480" style="word-spacing:-0.0062em;">创建完满载 </span><span class="stl_132 stl_52 stl_480" style="word-spacing:-0.0062em;">.box </span><span class="stl_129 stl_49 stl_480" style="word-spacing:-0.0062em;">文件和图片文件的数据文件夹之后，在做进一步分析之前最好备份一下这 &nbsp;</span></div>
					<div class="stl_01" style="top:14.9078em; left:6.6142em;"><span class="stl_129 stl_49 stl_154" style="word-spacing:-0.0059em;">个文件夹。虽然在数据上运行训练程序不太可能删除任何数据，但是创建 </span><span class="stl_132 stl_52 stl_154" style="word-spacing:-0.0059em;">.box </span><span class="stl_129 stl_49 stl_154" style="word-spacing:-0.0059em;">文件用了你 &nbsp;</span></div>
					<div class="stl_01" style="top:16.2355em; left:6.6142em;"><span class="stl_129 stl_49 stl_139">好几个小时的时间，来之不易，稳妥一点儿总没错。此外，能够抓取一个满是编译数据的 &nbsp;</span></div>
					<div class="stl_01" style="top:17.4855em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">混乱目录，然后再尝试一次，总是好的。 &nbsp;</span></div>
					<div class="stl_01" style="top:19.3189em; left:6.6142em;"><span class="stl_129 stl_49 stl_600" style="word-spacing:-0.0055em;">完成所有的数据分析工作和创建 </span><span class="stl_132 stl_52 stl_600" style="word-spacing:-0.0055em;">Tesseract </span><span class="stl_129 stl_49 stl_600" style="word-spacing:-0.0055em;">所需的训练文件，一共有六个步骤。有一些工具 &nbsp;</span></div>
					<div class="stl_01" style="top:20.5692em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0002em;">可以帮你处理图片和 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0002em;">.box </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0002em;">文件，不过目前 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0002em;">Tesseract 3.02 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0002em;">还不支持。 &nbsp;</span></div>
					<div class="stl_01" style="top:22.4803em; left:6.6142em;"><span class="stl_129 stl_49 stl_224" style="word-spacing:-0.0009em;">我写了一个 </span><span class="stl_132 stl_52 stl_224" style="word-spacing:-0.0009em;">Python </span><span class="stl_129 stl_49 stl_224" style="word-spacing:-0.0009em;">版的解决方案（</span><span class="stl_132 stl_52 stl_224" style="word-spacing:-0.0009em;">https://github.com/REMitchell/tesseract-trainer</span><span class="stl_129 stl_49 stl_224" style="word-spacing:-0.0009em;">）来处理同 &nbsp;</span></div>
					<div class="stl_01" style="top:23.7306em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">时包含图片文件和 </span><span class="stl_132 stl_52 stl_10">.box </span><span class="stl_129 stl_49 stl_10">文件的数据文件夹，然后自动创建所有必需的训练文件。 &nbsp;</span></div>
					<div class="stl_01" style="top:25.6299em; left:6.6142em;"><span class="stl_129 stl_49 stl_593" style="word-spacing:-0.0336em;">这个解决方案的主要配置方式和步骤都在 </span><span class="stl_188 stl_44 stl_594" style="word-spacing:-0.0354em;">main</span><span class="stl_129 stl_49 stl_593" style="word-spacing:-0.0336em;">方法（目前，作者已经在 </span><span class="stl_132 stl_52 stl_593" style="word-spacing:-0.0336em;">GitHub </span><span class="stl_129 stl_49 stl_593" style="word-spacing:-0.0336em;">中将示例 &nbsp;</span></div>
					<div class="stl_01" style="top:26.8799em; left:6.6138em;"><span class="stl_129 stl_49 stl_476" style="word-spacing:-0.0269em;">代码修改为 </span><span class="stl_188 stl_44 stl_492" style="word-spacing:-0.0284em;">__init__</span><span class="stl_129 stl_49 stl_476" style="word-spacing:-0.0269em;">方法，符合 </span><span class="stl_132 stl_52 stl_476" style="word-spacing:-0.0269em;">Python </span><span class="stl_129 stl_49 stl_476" style="word-spacing:-0.0269em;">的类定义原则）和 </span><span class="stl_188 stl_44 stl_492" style="word-spacing:-0.0284em;">runAll</span><span class="stl_129 stl_49 stl_476" style="word-spacing:-0.0269em;">方法里： &nbsp;</span></div>
					<div class="stl_01" style="top:28.8604em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">main(self): &nbsp;</span></div>
					<div class="stl_01" style="top:29.6934em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">languageName = "eng" &nbsp;</span></div>
					<div class="stl_01" style="top:30.5264em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">fontName = "captchaFont" &nbsp;</span></div>
					<div class="stl_01" style="top:31.3594em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">directory = "&lt;path to images&gt;" &nbsp;</span></div>
					<div class="stl_01" style="top:33.0254em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">runAll(self): &nbsp;</span></div>
					<div class="stl_01" style="top:33.8584em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">self.createFontFile() &nbsp;</span></div>
					<div class="stl_01" style="top:34.6914em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">self.cleanImages() &nbsp;</span></div>
					<div class="stl_01" style="top:35.5244em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">self.renameFiles() &nbsp;</span></div>
					<div class="stl_01" style="top:36.3574em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">self.extractUnicode() &nbsp;</span></div>
					<div class="stl_01" style="top:37.1904em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">self.runShapeClustering() &nbsp;</span></div>
					<div class="stl_01" style="top:38.0234em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">self.runMfTraining() &nbsp;</span></div>
					<div class="stl_01" style="top:38.8564em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">self.runCnTraining() &nbsp;</span></div>
					<div class="stl_01" style="top:39.6894em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">self.createTessData() &nbsp;</span></div>
					<div class="stl_01" style="top:41.4927em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">你需要动手设置的只有三个变量。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.3656em; left:6.6142em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:43.4027em; left:7.6772em;"><span class="stl_188 stl_44 stl_10">languageName &nbsp;</span></div>
					<div class="stl_01" style="top:44.5764em; left:7.6772em;"><span class="stl_132 stl_52 stl_120" style="word-spacing:-0.0014em;">Tesseract </span><span class="stl_129 stl_49 stl_120" style="word-spacing:-0.0014em;">用三个字母的语言缩写代码表示识别的语言种类。可能大多数情况下，你都会 &nbsp;</span></div>
					<div class="stl_01" style="top:45.8264em; left:7.6772em;"><span class="stl_129 stl_49 stl_678">用“</span><span class="stl_132 stl_52 stl_678">eng</span><span class="stl_129 stl_49 stl_678">”表示英语（</span><span class="stl_132 stl_52 stl_678">English</span><span class="stl_129 stl_49 stl_678">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.7771em; left:6.614em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:47.8141em; left:7.6772em;"><span class="stl_188 stl_44 stl_10">fontName &nbsp;</span></div>
					<div class="stl_01" style="top:49.0655em; left:7.6772em;"><span class="stl_129 stl_49 stl_10">表示你选择的字体名称，可以是任意名称，但必须是一个不包含空格的单词。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:27.6533em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">图像识别与文字处理 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">149 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_209.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_209.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8745em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:4.9112em; left:6.7323em;"><span class="stl_188 stl_44 stl_10">directory &nbsp;</span></div>
					<div class="stl_01" style="top:6.0849em; left:6.7323em;"><span class="stl_129 stl_49 stl_610" style="word-spacing:-0.0371em;">表示包含所有图片和 </span><span class="stl_132 stl_52 stl_610" style="word-spacing:-0.0371em;">.box </span><span class="stl_129 stl_49 stl_610" style="word-spacing:-0.0371em;">文件的目录。建议你使用文件夹的绝对路径，但是如果你使 &nbsp;</span></div>
					<div class="stl_01" style="top:7.3349em; left:6.7323em;"><span class="stl_129 stl_49 stl_482" style="word-spacing:-0.0543em;">用相对路径，可能需要以 </span><span class="stl_132 stl_52 stl_482" style="word-spacing:-0.0543em;">Python </span><span class="stl_129 stl_49 stl_482" style="word-spacing:-0.0543em;">代码运行的目录位置为原点。如果你使用绝对路径， &nbsp;</span></div>
					<div class="stl_01" style="top:8.6627em; left:6.7323em;"><span class="stl_129 stl_49 stl_10">就可以在电脑的任意位置运行代码了。 &nbsp;</span></div>
					<div class="stl_01" style="top:10.562em; left:5.6691em;"><span class="stl_129 stl_49 stl_586" style="word-spacing:-0.026em;">让我们再看看 </span><span class="stl_188 stl_44 stl_170" style="word-spacing:-0.0275em;">runAll</span><span class="stl_129 stl_49 stl_586" style="word-spacing:-0.026em;">里每个函数的用法。 &nbsp;</span></div>
					<div class="stl_01" style="top:12.3957em; left:5.6693em;"><span class="stl_188 stl_44 stl_267" style="word-spacing:-0.0195em;">createFontFile</span><span class="stl_129 stl_49 stl_802" style="word-spacing:-0.0185em;">创建了一个 </span><span class="stl_188 stl_44 stl_267" style="word-spacing:-0.0195em;">font_properties</span><span class="stl_129 stl_49 stl_802" style="word-spacing:-0.0185em;">文件，让 </span><span class="stl_132 stl_52 stl_802" style="word-spacing:-0.0185em;">Tesseract </span><span class="stl_129 stl_49 stl_802" style="word-spacing:-0.0185em;">知道我们要创建的新字体： &nbsp;</span></div>
					<div class="stl_01" style="top:14.3763em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">captchaFont 0 0 0 0 0 &nbsp;</span></div>
					<div class="stl_01" style="top:16.0974em; left:5.6693em;"><span class="stl_129 stl_49 stl_281" style="word-spacing:-0.0297em;">这个文件包括字体的名称，后面跟着若干 </span><span class="stl_132 stl_52 stl_281" style="word-spacing:-0.0297em;">1 </span><span class="stl_129 stl_49 stl_281" style="word-spacing:-0.0297em;">和 </span><span class="stl_132 stl_52 stl_281" style="word-spacing:-0.0297em;">0</span><span class="stl_129 stl_49 stl_281" style="word-spacing:-0.0297em;">，分别表示应该使用斜体、加粗或其他版 &nbsp;</span></div>
					<div class="stl_01" style="top:17.4251em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">本的字体（用这些属性训练字体是一个很好玩儿的练习，不过超出了本书的介绍范围，感 &nbsp;</span></div>
					<div class="stl_01" style="top:18.6752em; left:5.6693em;"><span class="stl_129 stl_49 stl_430">兴趣的同学可以自己尝试）。 &nbsp;</span></div>
					<div class="stl_01" style="top:20.5744em; left:5.6693em;"><span class="stl_188 stl_44 stl_409">cleanImages</span><span class="stl_129 stl_49 stl_724">首先创建所有样本图片的高对比度版本，然后转换成灰度图，并进行一些清 &nbsp;</span></div>
					<div class="stl_01" style="top:21.7588em; left:5.6694em;"><span class="stl_129 stl_49 stl_600" style="word-spacing:-0.0055em;">理，让 </span><span class="stl_132 stl_52 stl_600" style="word-spacing:-0.0055em;">Tesseract </span><span class="stl_129 stl_49 stl_600" style="word-spacing:-0.0055em;">更容易读取图片文件。如果你要处理的验证码图片上面有一些很容易过滤 &nbsp;</span></div>
					<div class="stl_01" style="top:23.0866em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">掉的噪点，那么你可以在这里增加一些步骤来处理它们。 &nbsp;</span></div>
					<div class="stl_01" style="top:24.9082em; left:5.6693em;"><span class="stl_188 stl_44 stl_10" style="word-spacing:-0.1815em;">renameFiles </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.172em;">把</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.043em;"> 所</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.043em;"> 有</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.043em;"> 的</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.043em;"> 图</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.043em;"> 片</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.043em;"> 文</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.043em;"> 件</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.043em;"> 和</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.052em;"> .box </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.052em;">文</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.043em;"> 件</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.043em;"> 的</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.043em;"> 文</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.043em;"> 件</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.043em;"> 名</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.043em;"> 改</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.043em;"> 变</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.043em;"> 成</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0515em;"> Tesseract </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0515em;">需</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.043em;"> 要</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.043em;"> 的</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.043em;"> 形</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.043em;"> 式 &nbsp;</span></div>
					<div class="stl_01" style="top:26.248em; left:5.2737em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:26.1703em; left:6.0654em;"><span class="stl_148 stl_52 stl_738" style="word-spacing:0.0217em;">ﬁ</span><span class="stl_132 stl_52 stl_738" style="word-spacing:0.0217em;">leNumber </span><span class="stl_129 stl_49 stl_738" style="word-spacing:0.0217em;">是文件序号，用来区别每个文件）： &nbsp;</span></div>
					<div class="stl_01" style="top:28.1209em; left:5.6695em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:29.3709em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:28.1336em; left:6.7325em;"><span class="stl_132 stl_52 stl_10">&lt;languageName&gt;.&lt;fontName&gt;.exp&lt;</span><span class="stl_148 stl_52 stl_10">ﬁ</span><span class="stl_132 stl_52 stl_10">leNumber&gt;.box &nbsp;</span></div>
					<div class="stl_01" style="top:29.3836em; left:6.7325em;"><span class="stl_132 stl_52 stl_73">&lt;languageName&gt;.&lt;fontName&gt;.exp&lt;</span><span class="stl_148 stl_52 stl_73">ﬁ</span><span class="stl_132 stl_52 stl_73">leNumber&gt;.tiff &nbsp;</span></div>
					<div class="stl_01" style="top:31.231em; left:5.6693em;"><span class="stl_188 stl_44 stl_401" style="word-spacing:-0.0219em;">extractUnicode</span><span class="stl_129 stl_49 stl_400" style="word-spacing:-0.0208em;">函数会检查所有已创建的 </span><span class="stl_132 stl_52 stl_400" style="word-spacing:-0.0208em;">.box </span><span class="stl_129 stl_49 stl_400" style="word-spacing:-0.0208em;">文件，确定要训练的字符集范围。抽取出的 &nbsp;</span></div>
					<div class="stl_01" style="top:32.4931em; left:5.6693em;"><span class="stl_132 stl_52 stl_372" style="word-spacing:-0.0307em;">Unicode </span><span class="stl_129 stl_49 stl_372" style="word-spacing:-0.0307em;">会告诉你一共找到了多少个不重复的字符，这也是一个查询字符的好方法，如果 &nbsp;</span></div>
					<div class="stl_01" style="top:33.8208em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">你漏了字符可以用这个结果快速排查。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.7201em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0969em;">之 后</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0969em;"> 的</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0969em;"> 三</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0969em;"> 个</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0969em;"> 函</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0969em;"> 数，</span><span class="stl_188 stl_44 stl_10" style="word-spacing:-0.1023em;">runShapeClustering</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0969em;">、</span><span class="stl_188 stl_44 stl_10" style="word-spacing:-0.1023em;">runMfTraining</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.1854em;"> 和</span><span class="stl_188 stl_44 stl_10" style="word-spacing:-0.1553em;"> runCtTraining </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.1472em;">分</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0969em;"> 别</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0969em;"> 用</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0969em;"> 来</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0969em;"> 创</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0969em;"> 建 &nbsp;</span></div>
					<div class="stl_01" style="top:36.9701em; left:5.6693em;"><span class="stl_129 stl_49 stl_561" style="word-spacing:-0.034em;">文件 </span><span class="stl_188 stl_44 stl_454" style="word-spacing:-0.0359em;">shapetable</span><span class="stl_129 stl_49 stl_561" style="word-spacing:-0.034em;">、</span><span class="stl_188 stl_44 stl_454" style="word-spacing:-0.0359em;">pfftable</span><span class="stl_129 stl_49 stl_561" style="word-spacing:-0.034em;">和 </span><span class="stl_188 stl_44 stl_454" style="word-spacing:-0.0359em;">normproto</span><span class="stl_129 stl_49 stl_561" style="word-spacing:-0.034em;">。它们会生成每个字符的几何和形状信息，也为 &nbsp;</span></div>
					<div class="stl_01" style="top:38.1545em; left:5.6692em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0009em;">Tesseract </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0009em;">提供计算字符若干可能结果的概率统计信息。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.0656em; left:5.6692em;"><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0156em;">最后，</span><span class="stl_132 stl_52 stl_367" style="word-spacing:-0.0156em;">Tesseract </span><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0156em;">会用之前设置的语言名称对数据文件夹编译出的每个文件进行重命名（例 &nbsp;</span></div>
					<div class="stl_01" style="top:41.3159em; left:5.6693em;"><span class="stl_129 stl_49 stl_831" style="word-spacing:0.0106em;">如，</span><span class="stl_132 stl_52 stl_831" style="word-spacing:0.0106em;">shapetable </span><span class="stl_129 stl_49 stl_831" style="word-spacing:0.0106em;">被重命名为 </span><span class="stl_132 stl_52 stl_831" style="word-spacing:0.0106em;">eng.shapetable</span><span class="stl_129 stl_49 stl_831" style="word-spacing:0.0106em;">），然后把所有的文件编译到最终的训练文件 </span><span class="stl_132 stl_52 stl_831" style="word-spacing:0.0106em;">eng. &nbsp;</span></div>
					<div class="stl_01" style="top:42.5659em; left:5.6693em;"><span class="stl_132 stl_52 stl_73" style="word-spacing:-0.001em;">traineddata </span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.001em;">中。 &nbsp;</span></div>
					<div class="stl_01" style="top:44.477em; left:5.6693em;"><span class="stl_129 stl_49 stl_832" style="word-spacing:-0.1476em;">你需要动手完成的唯一步骤，就是用下面的 </span><span class="stl_132 stl_52 stl_832" style="word-spacing:-0.1476em;">Linux </span><span class="stl_129 stl_49 stl_832" style="word-spacing:-0.1476em;">和 </span><span class="stl_132 stl_52 stl_832" style="word-spacing:-0.1476em;">Mac </span><span class="stl_129 stl_49 stl_832" style="word-spacing:-0.1476em;">命令行把刚刚创建的 </span><span class="stl_132 stl_52 stl_832" style="word-spacing:-0.1476em;">eng. &nbsp;</span></div>
					<div class="stl_01" style="top:45.7274em; left:5.6693em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0003em;">traineddata </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0003em;">文件复制到 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0003em;">tessdata </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0003em;">文件夹里，</span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0003em;">Windows </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0003em;">系统类似： &nbsp;</span></div>
					<div class="stl_01" style="top:47.6959em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:47.6959em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">cp /path/to/data/eng.traineddata $TESSDATA_PREFIX/tessdata &nbsp;</span></div>
					<div class="stl_01" style="top:49.4169em; left:5.6693em;"><span class="stl_129 stl_49 stl_600" style="word-spacing:-0.0055em;">经过这些步骤之后，你就可以用这些 </span><span class="stl_132 stl_52 stl_600" style="word-spacing:-0.0055em;">Tesseract </span><span class="stl_129 stl_49 stl_600" style="word-spacing:-0.0055em;">训练过的验证码来识别新图片了。现在我们 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">50 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 11</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_210.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_210.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0004em;">用 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0004em;">Tesseract </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0004em;">重新读取之前的示例验证码图片，就可以得到正确的结果了： &nbsp;</span></div>
					<div class="stl_01" style="top:6.8035em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:7.6365em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">4</span></div>
					<div class="stl_01" style="top:6.8035em; left:9.0469em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">tesseract captchaExample.png output;cat output.txt &nbsp;</span></div>
					<div class="stl_01" style="top:7.6365em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">MmC3 &nbsp;</span></div>
					<div class="stl_01" style="top:9.3579em; left:6.6142em;"><span class="stl_129 stl_49 stl_164">成功啦！相比之前的识别结果“</span><span class="stl_132 stl_52 stl_164">4N\,,,C&lt;3</span><span class="stl_129 stl_49 stl_164">”，这个识别结果有明显的改善。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.269em; left:6.6142em;"><span class="stl_129 stl_49 stl_833" style="word-spacing:-0.0891em;">前面的内容只是对 </span><span class="stl_132 stl_52 stl_833" style="word-spacing:-0.0891em;">Tesseract </span><span class="stl_129 stl_49 stl_833" style="word-spacing:-0.0891em;">库强大的字体训练和识别能力的一个简略概述。如果你对 &nbsp;</span></div>
					<div class="stl_01" style="top:12.5193em; left:6.6142em;"><span class="stl_132 stl_52 stl_826" style="word-spacing:-0.0146em;">Tesseract </span><span class="stl_129 stl_49 stl_826" style="word-spacing:-0.0146em;">的其他训练方法感兴趣，甚至打算建立自己的验证码训练文件库，或者想和全世 &nbsp;</span></div>
					<div class="stl_01" style="top:13.7693em; left:6.6142em;"><span class="stl_129 stl_49 stl_224" style="word-spacing:-0.0031em;">界的 </span><span class="stl_132 stl_52 stl_224" style="word-spacing:-0.0031em;">Tesseract </span><span class="stl_129 stl_49 stl_224" style="word-spacing:-0.0031em;">爱好者分享自己对一种新字体的识别成果，那么我推荐你仔细阅读 </span><span class="stl_132 stl_52 stl_224" style="word-spacing:-0.0031em;">Tesseract &nbsp;</span></div>
					<div class="stl_01" style="top:15.0193em; left:6.6142em;"><span class="stl_129 stl_49 stl_344">的文档（</span><span class="stl_132 stl_52 stl_344">https://github.com/tesseract-ocr/tesseract/wiki</span><span class="stl_129 stl_49 stl_344">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:17.4853em; left:6.6142em;"><span class="stl_197 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:17.4145em; left:7.4373em;"><span class="stl_197 stl_18 stl_71">1.4</span><span class="stl_160 stl_20 stl_71">ꢀ获取验证码提交答案 &nbsp;</span></div>
					<div class="stl_01" style="top:19.9254em; left:6.6142em;"><span class="stl_129 stl_49 stl_153">许多流行的内容管理系统即使加了验证码模块，其众所周知的注册页面也经常会遭到网络 &nbsp;</span></div>
					<div class="stl_01" style="top:21.0977em; left:6.6142em;"><span class="stl_129 stl_49 stl_128" style="word-spacing:-0.0036em;">机器人的垃圾注册。比如在 </span><span class="stl_132 stl_52 stl_128" style="word-spacing:-0.0036em;">http://pythonscraping.com/ </span><span class="stl_129 stl_49 stl_128" style="word-spacing:-0.0036em;">上，即使加了验证码（的确也很容易 &nbsp;</span></div>
					<div class="stl_01" style="top:22.4255em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">识别）也不能让“汹涌澎湃”的垃圾注册有所缓解。 &nbsp;</span></div>
					<div class="stl_01" style="top:24.3365em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">那么，这些网络机器人究竟是怎么做的呢？既然我们已经可以成功地识别出保存在电脑上 &nbsp;</span></div>
					<div class="stl_01" style="top:25.5866em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">的验证码了，那么如何才能实现一个全能的网络机器人呢？下面的示例将综合前面几章的 &nbsp;</span></div>
					<div class="stl_01" style="top:26.8368em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">内容来告诉你答案。如果你还没准备好，请至少浏览一下前几章关于表单提交和文件下载 &nbsp;</span></div>
					<div class="stl_01" style="top:28.0869em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">的相关内容。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.998em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">大多数网站生成的验证码图片都具有以下属性。 &nbsp;</span></div>
					<div class="stl_01" style="top:31.8709em; left:6.6142em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:31.8976em; left:7.6774em;"><span class="stl_129 stl_49 stl_303" style="word-spacing:-0.0271em;">它们是服务器端的程序动态生成的图片。验证码图片的 </span><span class="stl_188 stl_44 stl_369" style="word-spacing:-0.0286em;">src</span><span class="stl_129 stl_49 stl_303" style="word-spacing:-0.0271em;">属性可能和普通图片不太一 &nbsp;</span></div>
					<div class="stl_01" style="top:33.1476em; left:7.6768em;"><span class="stl_129 stl_49 stl_199" style="word-spacing:-0.0127em;">样，比如 </span><span class="stl_188 stl_44 stl_586" style="word-spacing:-0.0134em;">&lt;img</span><span class="stl_188 stl_44 stl_586" style="word-spacing:0.1386em;"> src="WebForm.aspx?id=8AP85CQKE9TJ"&gt;</span><span class="stl_129 stl_49 stl_199" style="word-spacing:0.1313em;">，但是可以和其他图片一样进行 &nbsp;</span></div>
					<div class="stl_01" style="top:34.4097em; left:7.6768em;"><span class="stl_129 stl_49 stl_10">下载和处理。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.6216em; left:6.6136em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:36.8717em; left:6.6136em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:35.6597em; left:7.6768em;"><span class="stl_129 stl_49 stl_10">图片的答案存储在服务器端的数据库里。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.9097em; left:7.6768em;"><span class="stl_129 stl_49 stl_111">很多验证码都有时间限制，如果你太长时间没解决就会失效。虽然这对网络机器人来说 &nbsp;</span></div>
					<div class="stl_01" style="top:38.1597em; left:7.6772em;"><span class="stl_129 stl_49 stl_121">不是什么问题，但是如果你想保留验证码的答案一会儿再使用，或者想通过一些方法延 &nbsp;</span></div>
					<div class="stl_01" style="top:39.4097em; left:7.6772em;"><span class="stl_129 stl_49 stl_10">长验证码的有效时限，可能很难成功。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.2431em; left:6.614em;"><span class="stl_129 stl_49 stl_464" style="word-spacing:-0.0053em;">常用的处理方法就是，首先把验证码图片下载到硬盘里，清理干净，然后用 </span><span class="stl_132 stl_52 stl_464" style="word-spacing:-0.0053em;">Tesseract </span><span class="stl_129 stl_49 stl_464" style="word-spacing:-0.0053em;">处理 &nbsp;</span></div>
					<div class="stl_01" style="top:42.5711em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">图片，最后返回符合网站要求的识别结果。 &nbsp;</span></div>
					<div class="stl_01" style="top:44.4045em; left:6.6142em;"><span class="stl_129 stl_49 stl_603" style="word-spacing:-0.0199em;">我在 </span><span class="stl_132 stl_52 stl_603" style="word-spacing:-0.0199em;">http://pythonscraping.com/humans-only </span><span class="stl_129 stl_49 stl_603" style="word-spacing:-0.0199em;">创建了一个带验证码的评论表单，演示如何用 &nbsp;</span></div>
					<div class="stl_01" style="top:45.7325em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">网络机器人破解验证码。程序如下所示： &nbsp;</span></div>
					<div class="stl_01" style="top:47.6232em; left:8.3386em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urllib.request </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urlretrieve &nbsp;</span></div>
					<div class="stl_01" style="top:48.4562em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">urllib.request </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:49.2892em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">bs4 </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:50.1222em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">subprocess &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:27.6533em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">图像识别与文字处理 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">151 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_211.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_211.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8919em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">requests &nbsp;</span></div>
					<div class="stl_01" style="top:5.7249em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">PIL </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Image &nbsp;</span></div>
					<div class="stl_01" style="top:6.5579em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">PIL </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">ImageOps &nbsp;</span></div>
					<div class="stl_01" style="top:8.2239em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">cleanImage(imagePath): &nbsp;</span></div>
					<div class="stl_01" style="top:9.0569em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">image = Image.open(imagePath) &nbsp;</span></div>
					<div class="stl_01" style="top:9.8899em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">image = image.point(</span><span class="stl_232 stl_44 stl_10">lambda </span><span class="stl_116 stl_44 stl_10">x: 0 </span><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">x&lt;143 </span><span class="stl_232 stl_44 stl_10">else </span><span class="stl_116 stl_44 stl_10">255) &nbsp;</span></div>
					<div class="stl_01" style="top:10.7229em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">borderImage = ImageOps.expand(image, border=20, fill='white') &nbsp;</span></div>
					<div class="stl_01" style="top:11.5559em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">borderImage.save(imagePath) &nbsp;</span></div>
					<div class="stl_01" style="top:13.2219em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">html = urlopen("http://www.pythonscraping.com/humans-only") &nbsp;</span></div>
					<div class="stl_01" style="top:14.0549em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">bsObj = BeautifulSoup(html) &nbsp;</span></div>
					<div class="stl_01" style="top:14.8879em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:14.9093em; left:8.102em;"><span class="stl_256 stl_49 stl_360">收集需要处理的表单数据（包括验证码和输入字段） &nbsp;</span></div>
					<div class="stl_01" style="top:15.7252em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">imageLocation = bsObj.find("img", {"title": "Image CAPTCHA"})["src"] &nbsp;</span></div>
					<div class="stl_01" style="top:16.5582em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">formBuildId = bsObj.find("input", {"name":"form_build_id"})["value"] &nbsp;</span></div>
					<div class="stl_01" style="top:17.3911em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">captchaSid = bsObj.find("input", {"name":"captcha_sid"})["value"] &nbsp;</span></div>
					<div class="stl_01" style="top:18.2241em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">captchaToken = bsObj.find("input", {"name":"captcha_token"})["value"] &nbsp;</span></div>
					<div class="stl_01" style="top:19.8901em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">captchaUrl = "http://pythonscraping.com"+imageLocation &nbsp;</span></div>
					<div class="stl_01" style="top:20.7231em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">urlretrieve(captchaUrl, "captcha.jpg") &nbsp;</span></div>
					<div class="stl_01" style="top:21.5561em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">cleanImage("captcha.jpg") &nbsp;</span></div>
					<div class="stl_01" style="top:22.3891em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">p = subprocess.Popen(["tesseract", "captcha.jpg", "captcha"],stdout= &nbsp;</span></div>
					<div class="stl_01" style="top:23.2221em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">subprocess.PIPE,stderr=subprocess.PIPE) &nbsp;</span></div>
					<div class="stl_01" style="top:24.0551em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">p.wait() &nbsp;</span></div>
					<div class="stl_01" style="top:24.8881em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">f = open("captcha.txt", "r") &nbsp;</span></div>
					<div class="stl_01" style="top:26.5541em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:26.5755em; left:8.102em;"><span class="stl_256 stl_49 stl_10">清理识别结果中的空格和换行符 &nbsp;</span></div>
					<div class="stl_01" style="top:27.3871em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">captchaResponse = f.read().replace(" ", "").replace("</span><span class="stl_232 stl_44 stl_10">\n</span><span class="stl_116 stl_44 stl_10">", "") &nbsp;</span></div>
					<div class="stl_01" style="top:28.2201em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">("Captcha solution attempt: "+captchaResponse) &nbsp;</span></div>
					<div class="stl_01" style="top:29.8861em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">len(captchaResponse) == 5: &nbsp;</span></div>
					<div class="stl_01" style="top:30.7191em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">params = {"captcha_token":captchaToken, "captcha_sid":captchaSid, &nbsp;</span></div>
					<div class="stl_01" style="top:31.5521em; left:12.352em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:31.5521em; left:12.7062em;"><span class="stl_116 stl_44 stl_10">form_id":"comment_node_page_form", "form_build_id": formBuildId, &nbsp;</span></div>
					<div class="stl_01" style="top:32.3851em; left:13.7687em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:33.2181em; left:13.7687em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:34.0511em; left:13.7687em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:32.3851em; left:14.1229em;"><span class="stl_116 stl_44 stl_10">captcha_response":captchaResponse, "name":"Ryan Mitchell", &nbsp;</span></div>
					<div class="stl_01" style="top:33.2181em; left:14.1229em;"><span class="stl_116 stl_44 stl_10">subject": "I come to seek the Grail", &nbsp;</span></div>
					<div class="stl_01" style="top:34.0511em; left:14.1229em;"><span class="stl_116 stl_44 stl_10">comment_body[und][0][value]": &nbsp;</span></div>
					<div class="stl_01" style="top:34.8841em; left:22.6229em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:34.8841em; left:22.977em;"><span class="stl_116 stl_44 stl_10">...and I am definitely not a bot"} &nbsp;</span></div>
					<div class="stl_01" style="top:35.7171em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">r = requests.post("http://www.pythonscraping.com/comment/reply/10", &nbsp;</span></div>
					<div class="stl_01" style="top:36.5501em; left:16.602em;"><span class="stl_116 stl_44 stl_10">data=params) &nbsp;</span></div>
					<div class="stl_01" style="top:37.3831em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">responseObj = BeautifulSoup(r.text) &nbsp;</span></div>
					<div class="stl_01" style="top:38.2161em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">responseObj.find("div", {"class":"messages"}) </span><span class="stl_232 stl_44 stl_10">is not </span><span class="stl_116 stl_44 stl_10">None: &nbsp;</span></div>
					<div class="stl_01" style="top:39.0491em; left:10.227em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(responseObj.find("div", {"class":"messages"}).get_text()) &nbsp;</span></div>
					<div class="stl_01" style="top:39.8821em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">else</span><span class="stl_116 stl_44 stl_10">: &nbsp;</span></div>
					<div class="stl_01" style="top:40.7151em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">("There was a problem reading the CAPTCHA correctly!") &nbsp;</span></div>
					<div class="stl_01" style="top:42.4465em; left:5.6693em;"><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0148em;">值得注意的是，有两种异常情况会导致这个程序运行失败。第一种情况是，如果 </span><span class="stl_132 stl_52 stl_367" style="word-spacing:-0.0148em;">Tesseract &nbsp;</span></div>
					<div class="stl_01" style="top:43.7742em; left:5.6693em;"><span class="stl_129 stl_49 stl_153">从验证码图片中识别的结果不是五个字符（因为训练样本中验证码的所有有效答案都必须 &nbsp;</span></div>
					<div class="stl_01" style="top:45.0242em; left:5.6693em;"><span class="stl_129 stl_49 stl_136">是五个字符），结果不会被提交，程序失败。第二种情况是虽然识别的结果是五个字符， &nbsp;</span></div>
					<div class="stl_01" style="top:46.2742em; left:5.6693em;"><span class="stl_129 stl_49 stl_139">被提交到了表单，但是服务器对结果不认可，程序仍然失败。在实际运行过程中，第一种 &nbsp;</span></div>
					<div class="stl_01" style="top:47.4465em; left:5.6693em;"><span class="stl_129 stl_49 stl_222" style="word-spacing:-0.0141em;">情况发生的可能性大约为 </span><span class="stl_132 stl_52 stl_222" style="word-spacing:-0.0141em;">50%</span><span class="stl_129 stl_49 stl_222" style="word-spacing:-0.0141em;">，发生时程序不会向表单提交，程序直接结束并提示验证码 &nbsp;</span></div>
					<div class="stl_01" style="top:48.6965em; left:5.6693em;"><span class="stl_129 stl_49 stl_270" style="word-spacing:-0.0094em;">识别错误。第二种异常情况发生的概率约为 </span><span class="stl_132 stl_52 stl_270" style="word-spacing:-0.0094em;">20%</span><span class="stl_129 stl_49 stl_270" style="word-spacing:-0.0094em;">，五个字符都对的概率约是 </span><span class="stl_132 stl_52 stl_270" style="word-spacing:-0.0094em;">30%</span><span class="stl_129 stl_49 stl_270" style="word-spacing:-0.0094em;">（每个字 &nbsp;</span></div>
					<div class="stl_01" style="top:49.9465em; left:5.6693em;"><span class="stl_129 stl_49 stl_98" style="word-spacing:0.0323em;">母的识别正确率大约是 </span><span class="stl_132 stl_52 stl_98" style="word-spacing:0.0323em;">80%</span><span class="stl_129 stl_49 stl_98" style="word-spacing:0.0323em;">，</span><span class="stl_132 stl_52 stl_98" style="word-spacing:0.0323em;">5 </span><span class="stl_129 stl_49 stl_98" style="word-spacing:0.0323em;">个字符都识别正确的总概率是 </span><span class="stl_132 stl_52 stl_98" style="word-spacing:0.0323em;">32.8%</span><span class="stl_129 stl_49 stl_98" style="word-spacing:0.0323em;">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">52 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 11</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_212.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_212.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9126em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">虽然这个程序的识别效果好像很差，但是用户尝试填写验证码的次数并没有限制，而且大 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1626em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">多数错误的识别结果都可以在提交到表单之前就被拦下来。因此，如果有一个识别结果提 &nbsp;</span></div>
					<div class="stl_01" style="top:7.4126em; left:6.6142em;"><span class="stl_129 stl_49 stl_157">交到表单并传送到服务器，那么验证码很可能就是正确的。如果这样解释并不能让你信 &nbsp;</span></div>
					<div class="stl_01" style="top:8.5452em; left:28.5124em;"><span class="stl_181 stl_52 stl_10">3</span></div>
					<div class="stl_01" style="top:8.5849em; left:6.6142em;"><span class="stl_129 stl_49 stl_302" style="word-spacing:-0.0212em;">服，请记住这些都只是简单的猜测，准确率只有 </span><span class="stl_132 stl_52 stl_302" style="word-spacing:-0.0212em;">0.0000001%</span><span class="stl_129 stl_49 stl_302" style="word-spacing:-0.0212em;">。</span><span class="stl_129 stl_49 stl_302" style="word-spacing:0.2708em;"> 程序只要运行三到四次就 &nbsp;</span></div>
					<div class="stl_01" style="top:9.835em; left:6.6141em;"><span class="stl_129 stl_49 stl_10">可以识别出一个验证码，比简单的猜测 </span><span class="stl_132 stl_52 stl_10">9 </span><span class="stl_129 stl_49 stl_10">亿次还是要节省很多时间的！ &nbsp;</span></div>
					<div class="stl_01" style="top:48.0086em; left:6.6142em;"><span class="stl_60 stl_49 stl_105" style="word-spacing:-0.0004em;">注 </span><span class="stl_61 stl_52 stl_105" style="word-spacing:-0.0004em;">3</span><span class="stl_60 stl_49 stl_105" style="word-spacing:-0.0004em;">：验证码的字符集是 </span><span class="stl_61 stl_52 stl_105" style="word-spacing:-0.0004em;">26 </span><span class="stl_60 stl_49 stl_105" style="word-spacing:-0.0004em;">个大写字母，</span><span class="stl_61 stl_52 stl_105" style="word-spacing:-0.0004em;">26 </span><span class="stl_60 stl_49 stl_105" style="word-spacing:-0.0004em;">个小写字母，</span><span class="stl_61 stl_52 stl_105" style="word-spacing:-0.0004em;">10 </span><span class="stl_60 stl_49 stl_105" style="word-spacing:-0.0004em;">个数字，</span><span class="stl_61 stl_52 stl_105" style="word-spacing:-0.0004em;">5 </span><span class="stl_60 stl_49 stl_105" style="word-spacing:-0.0004em;">个字符一共有 </span><span class="stl_61 stl_52 stl_105" style="word-spacing:-0.0004em;">52 </span><span class="stl_60 stl_49 stl_105" style="word-spacing:-0.0004em;">的 </span><span class="stl_61 stl_52 stl_105" style="word-spacing:-0.0004em;">5 </span><span class="stl_60 stl_49 stl_105" style="word-spacing:-0.0004em;">次方，即 </span><span class="stl_61 stl_52 stl_105" style="word-spacing:-0.0004em;">916 &nbsp;</span></div>
					<div class="stl_01" style="top:49.0419em; left:8.4568em;"><span class="stl_61 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:49.0086em; left:8.7902em;"><span class="stl_61 stl_52 stl_10" style="word-spacing:0em;">32 832 </span><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">种可能，因此简单猜测的准确率只有 </span><span class="stl_61 stl_52 stl_10" style="word-spacing:0em;">0.0000001%</span><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">，下一句中的 </span><span class="stl_61 stl_52 stl_10" style="word-spacing:0em;">9 </span><span class="stl_60 stl_49 stl_10" style="word-spacing:0em;">亿次就是这个道理。 &nbsp;</span></div>
					<div class="stl_01" style="top:50.074em; left:34.4622em;"><span class="stl_60 stl_49 stl_10">—</span></div>
					<div class="stl_01" style="top:50.074em; left:35.1288em;"><span class="stl_60 stl_49 stl_10">—译者注 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:27.6533em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">图像识别与文字处理 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">153 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_213.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_213.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:9.4423em; left:30.9726em;"><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.0687em;">第 </span><span class="stl_215 stl_18 stl_10" style="word-spacing:-0.0687em;">1 2 </span><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.0687em;">章 &nbsp;</span></div>
					<div class="stl_01 stl_69" style="top:12.7975em; left:24.6004em;"><span class="stl_70 stl_20 stl_71">避开采集陷阱 &nbsp;</span></div>
					<div class="stl_01" style="top:24.5006em; left:5.6693em;"><span class="stl_129 stl_49 stl_644">在采集网站的时候，还会遇到一些比数据显示在浏览器上却抓取不出来更令人沮丧的事 &nbsp;</span></div>
					<div class="stl_01" style="top:25.6729em; left:5.6693em;"><span class="stl_129 stl_49 stl_244" style="word-spacing:0.0001em;">情。也许是向服务器提交自认为已经处理得很好的表单却被拒绝，也许是自己的 </span><span class="stl_132 stl_52 stl_244" style="word-spacing:0.0001em;">IP </span><span class="stl_129 stl_49 stl_244" style="word-spacing:0.0001em;">地址不 &nbsp;</span></div>
					<div class="stl_01" style="top:27.0007em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">知道什么原因直接被网站封杀，无法继续访问。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.834em; left:5.6693em;"><span class="stl_129 stl_49 stl_581" style="word-spacing:-0.0257em;">这是由于一些堪称最复杂的 </span><span class="stl_132 stl_52 stl_581" style="word-spacing:-0.0257em;">bug </span><span class="stl_129 stl_49 stl_581" style="word-spacing:-0.0257em;">还没有解决，不仅因为这些 </span><span class="stl_132 stl_52 stl_581" style="word-spacing:-0.0257em;">bug </span><span class="stl_129 stl_49 stl_581" style="word-spacing:-0.0257em;">让人意想不到（程序在一 &nbsp;</span></div>
					<div class="stl_01" style="top:30.1617em; left:5.6693em;"><span class="stl_129 stl_49 stl_478">个网站上可以正常使用，但在另一个看起来完全一样的网站上却用不了），还因为那些网站 &nbsp;</span></div>
					<div class="stl_01" style="top:31.4118em; left:5.6693em;"><span class="stl_129 stl_49 stl_290">有意不让爬虫抓取信息。网站已经把你定性为一个网络机器人直接拒绝，你无法找出原因。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.3229em; left:5.6693em;"><span class="stl_129 stl_49 stl_454">在这本书里，我已经写了一堆方法来处理网站抓取的难点（提交表单，抽取和清理数据， &nbsp;</span></div>
					<div class="stl_01" style="top:34.4957em; left:5.6693em;"><span class="stl_129 stl_49 stl_773" style="word-spacing:-0.0125em;">执行 </span><span class="stl_132 stl_52 stl_773" style="word-spacing:-0.0125em;">JavaScript</span><span class="stl_129 stl_49 stl_773" style="word-spacing:-0.0125em;">，等等）。这一章将继续介绍更多的知识点，尽管属于不同的主题（</span><span class="stl_132 stl_52 stl_773" style="word-spacing:-0.0125em;">HTTP &nbsp;</span></div>
					<div class="stl_01" style="top:35.7457em; left:5.6693em;"><span class="stl_132 stl_52 stl_701" style="word-spacing:0.0063em;">headers</span><span class="stl_129 stl_49 stl_701" style="word-spacing:0.0063em;">、</span><span class="stl_132 stl_52 stl_701" style="word-spacing:0.0063em;">CSS </span><span class="stl_129 stl_49 stl_701" style="word-spacing:0.0063em;">和 </span><span class="stl_132 stl_52 stl_701" style="word-spacing:0.0063em;">HTML </span><span class="stl_129 stl_49 stl_701" style="word-spacing:0.0063em;">表单等），但这些知识点的共同目的都是为了克服网站阻止自动采 &nbsp;</span></div>
					<div class="stl_01" style="top:37.0735em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">集这个障碍。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.9845em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">即使你觉得下面这些内容现在对你没什么用，我还是强烈建议你至少浏览一下。也许有一 &nbsp;</span></div>
					<div class="stl_01" style="top:40.1572em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">天，这一章的内容会帮你解决一个非常复杂的 </span><span class="stl_132 stl_52 stl_10">bug</span><span class="stl_129 stl_49 stl_10">，或者防止那类 </span><span class="stl_132 stl_52 stl_10">bug </span><span class="stl_129 stl_49 stl_10">发生。 &nbsp;</span></div>
					<div class="stl_01" style="top:42.6232em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:42.5523em; left:6.4924em;"><span class="stl_197 stl_18 stl_71">2.1</span><span class="stl_160 stl_20 stl_71">ꢀ道德规范 &nbsp;</span></div>
					<div class="stl_01" style="top:45.0632em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">在本书前几章里，我介绍过网络数据采集行为的法律灰色地带，以及网络数据采集涉及的 &nbsp;</span></div>
					<div class="stl_01" style="top:46.3132em; left:5.6693em;"><span class="stl_129 stl_49 stl_454">一些道德规范。说实话，从道德角度上说，这一章是我在写这本书时感到最困难的一章。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.5632em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">我自己的网站已经被网络机器人、垃圾邮件生成器、网络爬虫和其他各种不受欢迎的虚拟 &nbsp;</span></div>
					<div class="stl_01" style="top:48.8132em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">访问者骚扰过很多次了，你的网站可能也是一样。既然如此，我为什么还要在这一章教人 &nbsp;</span></div>
					<div class="stl_01" style="top:50.0633em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">们建立更强大的网络机器人呢？ &nbsp;</span></div>
					<div class="stl_01" style="top:52.3099em; left:5.6693em;"><span class="stl_119 stl_22 stl_10">154 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_214.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_214.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9126em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">有几个很重要的理由促使我写这一章。 &nbsp;</span></div>
					<div class="stl_01" style="top:6.7859em; left:6.6142em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:6.824em; left:7.6774em;"><span class="stl_129 stl_49 stl_121">在采集那些不想被采集的网站时，其实存在一些非常符合道德和法律规范的理由。比如 &nbsp;</span></div>
					<div class="stl_01" style="top:8.074em; left:7.6772em;"><span class="stl_129 stl_49 stl_121">我之前的工作就是做网络爬虫，我曾做过一个自动信息收集器，从未经许可的网站上自 &nbsp;</span></div>
					<div class="stl_01" style="top:9.324em; left:7.6772em;"><span class="stl_129 stl_49 stl_514">动收集客户的名称、地址、电话号码和其他个人信息，然后把采集的信息提交到网站上， &nbsp;</span></div>
					<div class="stl_01" style="top:10.5741em; left:7.6772em;"><span class="stl_129 stl_49 stl_514">让服务器删除这些客户信息。为了避免竞争，这些网站都会对网络爬虫严防死守。但是， &nbsp;</span></div>
					<div class="stl_01" style="top:11.824em; left:7.6772em;"><span class="stl_129 stl_49 stl_121">我的工作要确保公司的客户们都匿名（这些人都是家庭暴力受害者，或者因其他正当理 &nbsp;</span></div>
					<div class="stl_01" style="top:13.074em; left:7.6772em;"><span class="stl_129 stl_49 stl_127">由想保持低调的人），这为网络数据采集工作创造了极其合理的条件，我很高兴自己有 &nbsp;</span></div>
					<div class="stl_01" style="top:14.3241em; left:7.6772em;"><span class="stl_129 stl_49 stl_10">能力从事这项工作。 &nbsp;</span></div>
					<div class="stl_01" style="top:15.536em; left:6.614em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:23.036em; left:6.614em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:15.574em; left:7.6772em;"><span class="stl_129 stl_49 stl_121">虽然不太可能建立一个完全“防爬虫”的网站（最起码得让合法的用户可以方便地访问 &nbsp;</span></div>
					<div class="stl_01" style="top:16.824em; left:7.6772em;"><span class="stl_129 stl_49 stl_127">网站），但我还是希望本章的内容可以帮助人们保护自己的网站不被恶意攻击。在这一 &nbsp;</span></div>
					<div class="stl_01" style="top:18.074em; left:7.6772em;"><span class="stl_129 stl_49 stl_121">章的内容里，我将指出每一种网络数据采集技术的缺点，你可以利用这些缺点保护自己 &nbsp;</span></div>
					<div class="stl_01" style="top:19.3241em; left:7.6772em;"><span class="stl_129 stl_49 stl_121">的网站。其实，大多数网络机器人一开始都只能做一些宽泛的信息和漏洞扫描，用本章 &nbsp;</span></div>
					<div class="stl_01" style="top:20.4963em; left:7.6772em;"><span class="stl_129 stl_49 stl_216" style="word-spacing:-0.0334em;">介绍的几个简单技术就可以挡住 </span><span class="stl_132 stl_52 stl_216" style="word-spacing:-0.0334em;">99% </span><span class="stl_129 stl_49 stl_216" style="word-spacing:-0.0334em;">的机器人。但是，它们进化的速度非常快，最好 &nbsp;</span></div>
					<div class="stl_01" style="top:21.8241em; left:7.6772em;"><span class="stl_129 stl_49 stl_10">时刻准备迎接新的攻击。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.0741em; left:7.6772em;"><span class="stl_129 stl_49 stl_10">和大多数程序员一样，我从来不相信禁止某一类信息的传播就可以让世界变得更和谐。 &nbsp;</span></div>
					<div class="stl_01" style="top:24.9852em; left:6.614em;"><span class="stl_129 stl_49 stl_834">学习这一章的内容时，希望你牢记这里演示的许多程序和介绍的技术都不应该在任何一 &nbsp;</span></div>
					<div class="stl_01" style="top:26.2355em; left:6.6142em;"><span class="stl_129 stl_49 stl_157">个网站上使用。不仅因为这么做对网站不好，而且你可能会收到一个停止并终止警告信 &nbsp;</span></div>
					<div class="stl_01" style="top:27.4855em; left:6.2183em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:27.4078em; left:7.01em;"><span class="stl_132 stl_52 stl_835" style="word-spacing:0.128em;">cease-and-desist letter</span><span class="stl_129 stl_49 stl_835" style="word-spacing:0.128em;">），甚至还有可能发生更糟糕的事情。不过我也不想每次学习新技术 &nbsp;</span></div>
					<div class="stl_01" style="top:28.7355em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">时都警告你一下。好吧，对本书后面的内容——如哲学家阿甘曾说的——“我想说的就是 &nbsp;</span></div>
					<div class="stl_01" style="top:29.9078em; left:6.6142em;"><span class="stl_129 stl_49 stl_258" style="word-spacing:0.077em;">这些”（</span><span class="stl_132 stl_52 stl_258" style="word-spacing:0.077em;">That</span><span class="stl_134 stl_36 stl_258" style="word-spacing:0.077em;">’</span><span class="stl_132 stl_52 stl_258" style="word-spacing:0.077em;">s all I have to say about that</span><span class="stl_129 stl_49 stl_258" style="word-spacing:0.077em;">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.3738em; left:6.6142em;"><span class="stl_197 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:32.303em; left:7.4373em;"><span class="stl_197 stl_18 stl_71">2.2</span><span class="stl_160 stl_20 stl_71">ꢀ让网络机器人看起来像人类用户 &nbsp;</span></div>
					<div class="stl_01" style="top:34.8139em; left:6.6142em;"><span class="stl_129 stl_49 stl_153">网站防采集的前提就是要正确地区分人类访问用户和网络机器人。虽然网站可以使用很多 &nbsp;</span></div>
					<div class="stl_01" style="top:36.0639em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">识别技术（比如验证码）来防止爬虫，但还是有一些十分简单的方法，可以让你的网络机 &nbsp;</span></div>
					<div class="stl_01" style="top:37.314em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">器人看起来更像人类访问用户。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.7237em; left:6.6142em;"><span class="stl_260 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:39.6653em; left:7.292em;"><span class="stl_260 stl_18 stl_71">2.2.1</span><span class="stl_91 stl_20 stl_71">ꢀ修改请求头 &nbsp;</span></div>
					<div class="stl_01" style="top:41.5942em; left:6.6142em;"><span class="stl_129 stl_49 stl_472" style="word-spacing:-0.0244em;">在第 </span><span class="stl_132 stl_52 stl_472" style="word-spacing:-0.0244em;">9 </span><span class="stl_129 stl_49 stl_472" style="word-spacing:-0.0244em;">章里，我们曾经用 </span><span class="stl_188 stl_44 stl_476" style="word-spacing:-0.0258em;">requests</span><span class="stl_129 stl_49 stl_472" style="word-spacing:-0.0244em;">模块处理网站的表单。</span><span class="stl_188 stl_44 stl_476" style="word-spacing:-0.0258em;">requests</span><span class="stl_129 stl_49 stl_472" style="word-spacing:-0.0244em;">模块还是一个设置请求 &nbsp;</span></div>
					<div class="stl_01" style="top:42.8563em; left:6.6142em;"><span class="stl_129 stl_49 stl_491" style="word-spacing:-0.0288em;">头的利器。</span><span class="stl_132 stl_52 stl_491" style="word-spacing:-0.0288em;">HTTP </span><span class="stl_129 stl_49 stl_491" style="word-spacing:-0.0288em;">的请求头是在你每次向网络服务器发送请求时，传递的一组属性和配置 &nbsp;</span></div>
					<div class="stl_01" style="top:44.1063em; left:6.6142em;"><span class="stl_129 stl_49 stl_352" style="word-spacing:-0.0278em;">信息。</span><span class="stl_132 stl_52 stl_352" style="word-spacing:-0.0278em;">HTTP </span><span class="stl_129 stl_49 stl_352" style="word-spacing:-0.0278em;">定义了十几种古怪的请求头类型，不过大多数都不常用。只有下面的七个字 &nbsp;</span></div>
					<div class="stl_01" style="top:45.434em; left:6.6142em;"><span class="stl_129 stl_49 stl_278">段被大多数浏览器用来初始化所有网络请求（表中信息是我自己浏览器的数据）。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.3831em; left:6.8504em;"><span class="stl_426 stl_47 stl_10">属ꢀꢀ性 &nbsp;</span></div>
					<div class="stl_01" style="top:48.5231em; left:6.8504em;"><span class="stl_358 stl_44 stl_10">Host &nbsp;</span></div>
					<div class="stl_01" style="top:47.3831em; left:12.5671em;"><span class="stl_426 stl_47 stl_10">内ꢀꢀ容 &nbsp;</span></div>
					<div class="stl_01" style="top:48.5094em; left:12.5669em;"><span class="stl_61 stl_52 stl_10">https://www.google.com/ &nbsp;</span></div>
					<div class="stl_01" style="top:49.6485em; left:12.5669em;"><span class="stl_61 stl_52 stl_73">keep-alive &nbsp;</span></div>
					<div class="stl_01" style="top:49.6622em; left:6.8504em;"><span class="stl_358 stl_44 stl_10">Connection &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:30.0283em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">避开采集陷阱 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">155 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_215.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_215.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.913em; left:33.4754em;"><span class="stl_48 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:4.913em; left:34.2254em;"><span class="stl_48 stl_49 stl_689">续）ꢀꢀ &nbsp;</span></div>
					<div class="stl_01" style="top:6.2354em; left:5.9055em;"><span class="stl_426 stl_47 stl_10">属ꢀꢀ性 &nbsp;</span></div>
					<div class="stl_01" style="top:7.3754em; left:5.9055em;"><span class="stl_358 stl_44 stl_10">Accept &nbsp;</span></div>
					<div class="stl_01" style="top:6.2354em; left:11.6222em;"><span class="stl_426 stl_47 stl_10">内ꢀꢀ容 &nbsp;</span></div>
					<div class="stl_01" style="top:7.3284em; left:11.6221em;"><span class="stl_61 stl_52 stl_10">text/html</span><span class="stl_60 stl_49 stl_10">，</span><span class="stl_61 stl_52 stl_10">application/xhtml+xml</span><span class="stl_60 stl_49 stl_10">，</span><span class="stl_61 stl_52 stl_10">application/xml;q=0.9</span><span class="stl_60 stl_49 stl_10">，</span><span class="stl_61 stl_52 stl_10">image/webp</span><span class="stl_60 stl_49 stl_10">，</span><span class="stl_61 stl_52 stl_10">*/*;q=0.8 &nbsp;</span></div>
					<div class="stl_01" style="top:8.5145em; left:5.9055em;"><span class="stl_358 stl_44 stl_10">User-Agent &nbsp;</span></div>
					<div class="stl_01" style="top:8.5009em; left:11.6221em;"><span class="stl_61 stl_52 stl_372" style="word-spacing:0.1257em;">Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_5) AppleWebKit/537.36 (KHTML, like &nbsp;</span></div>
					<div class="stl_01" style="top:9.5009em; left:11.6221em;"><span class="stl_61 stl_52 stl_10" style="word-spacing:-0.0001em;">Gecko) Chrome/39.0.2171.95 Safari/537.36 &nbsp;</span></div>
					<div class="stl_01" style="top:10.6536em; left:5.9055em;"><span class="stl_358 stl_44 stl_10">Referrer &nbsp;</span></div>
					<div class="stl_01" style="top:10.64em; left:11.6221em;"><span class="stl_61 stl_52 stl_10">https://www.google.com/ &nbsp;</span></div>
					<div class="stl_01" style="top:11.7458em; left:11.6221em;"><span class="stl_61 stl_52 stl_73">gzip</span><span class="stl_60 stl_49 stl_73">，</span><span class="stl_61 stl_52 stl_73">de</span><span class="stl_836 stl_52 stl_73">ﬂ</span><span class="stl_61 stl_52 stl_73">ate</span><span class="stl_60 stl_49 stl_73">，</span><span class="stl_61 stl_52 stl_73">sdch &nbsp;</span></div>
					<div class="stl_01" style="top:12.9182em; left:11.6221em;"><span class="stl_61 stl_52 stl_10">en-US,en;q=0.8 &nbsp;</span></div>
					<div class="stl_01" style="top:11.7927em; left:5.9055em;"><span class="stl_358 stl_44 stl_10">Accept-Encoding &nbsp;</span></div>
					<div class="stl_01" style="top:12.9318em; left:5.9055em;"><span class="stl_358 stl_44 stl_10">Accept-Language &nbsp;</span></div>
					<div class="stl_01" style="top:14.7487em; left:5.6693em;"><span class="stl_129 stl_49 stl_152" style="word-spacing:-0.0156em;">经典的 </span><span class="stl_132 stl_52 stl_152" style="word-spacing:-0.0156em;">Python </span><span class="stl_129 stl_49 stl_152" style="word-spacing:-0.0156em;">爬虫在使用 </span><span class="stl_188 stl_44 stl_180" style="word-spacing:-0.0165em;">urllib</span><span class="stl_129 stl_49 stl_152" style="word-spacing:-0.0156em;">标准库时，都会发送如下的请求头： &nbsp;</span></div>
					<div class="stl_01" style="top:16.7876em; left:5.9055em;"><span class="stl_426 stl_47 stl_10">属ꢀꢀ性 &nbsp;</span></div>
					<div class="stl_01" style="top:16.7876em; left:12.1415em;"><span class="stl_426 stl_47 stl_10">内ꢀꢀ容 &nbsp;</span></div>
					<div class="stl_01" style="top:17.9276em; left:5.9055em;"><span class="stl_358 stl_44 stl_10">Accept-Encoding &nbsp;</span></div>
					<div class="stl_01" style="top:19.0667em; left:5.9055em;"><span class="stl_358 stl_44 stl_10">User-Agent &nbsp;</span></div>
					<div class="stl_01" style="top:17.9139em; left:12.1417em;"><span class="stl_61 stl_52 stl_73">identity &nbsp;</span></div>
					<div class="stl_01" style="top:19.053em; left:12.1417em;"><span class="stl_61 stl_52 stl_10">Python-urllib/3.4 &nbsp;</span></div>
					<div class="stl_01" style="top:20.9733em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">如果你是一个防范爬虫的网站管理员，你会让哪个请求头访问你的网站呢？ &nbsp;</span></div>
					<div class="stl_01" style="top:23.5018em; left:18.2923em;"><span class="stl_268 stl_20 stl_244" style="word-spacing:0.0002em;">安装 </span><span class="stl_469 stl_18 stl_244" style="word-spacing:0.0002em;">Requests &nbsp;</span></div>
					<div class="stl_01" style="top:25.1508em; left:6.403em;"><span class="stl_269 stl_49 stl_700" style="word-spacing:-0.0186em;">我们在第 </span><span class="stl_132 stl_52 stl_700" style="word-spacing:-0.0186em;">9 </span><span class="stl_269 stl_49 stl_700" style="word-spacing:-0.0186em;">章已经安装过 </span><span class="stl_132 stl_52 stl_700" style="word-spacing:-0.0186em;">Requests </span><span class="stl_269 stl_49 stl_700" style="word-spacing:-0.0186em;">模块了，如果你还没有装，可以在模块的网站上找 &nbsp;</span></div>
					<div class="stl_01" style="top:26.2758em; left:6.4022em;"><span class="stl_269 stl_49 stl_660">到下载链接（</span><span class="stl_132 stl_52 stl_660">http://docs.python-requests.org/en/latest/user/install/</span><span class="stl_269 stl_49 stl_660">）和安装方法，或者用 &nbsp;</span></div>
					<div class="stl_01" style="top:27.4007em; left:6.4053em;"><span class="stl_269 stl_49 stl_10" style="word-spacing:0em;">任意第三方 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_269 stl_49 stl_10" style="word-spacing:0em;">模块安装器进行安装。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.5405em; left:5.6693em;"><span class="stl_129 stl_49 stl_265" style="word-spacing:-0.0133em;">请求头可以通过 </span><span class="stl_188 stl_44 stl_139" style="word-spacing:-0.0141em;">requests</span><span class="stl_129 stl_49 stl_265" style="word-spacing:-0.0133em;">模块进行自定义。</span><span class="stl_132 stl_52 stl_265" style="word-spacing:-0.0133em;">https://www.whatismybrowser.com/ </span><span class="stl_129 stl_49 stl_265" style="word-spacing:-0.0133em;">网站就是一 &nbsp;</span></div>
					<div class="stl_01" style="top:30.8803em; left:5.6694em;"><span class="stl_129 stl_49 stl_138">个非常棒的网站，可以让服务器测试浏览器的属性。我们用下面的程序来采集这个网站的 &nbsp;</span></div>
					<div class="stl_01" style="top:32.0526em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">信息，验证我们浏览器的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">cookie </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">设置： &nbsp;</span></div>
					<div class="stl_01" style="top:34.021em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">requests &nbsp;</span></div>
					<div class="stl_01" style="top:34.854em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">bs4 </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:36.52em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">session = requests.Session() &nbsp;</span></div>
					<div class="stl_01" style="top:37.353em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">headers = {"User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_5) &nbsp;</span></div>
					<div class="stl_01" style="top:38.186em; left:16.2479em;"><span class="stl_116 stl_44 stl_10">AppleWebKit 537.36 (KHTML, like Gecko) Chrome", &nbsp;</span></div>
					<div class="stl_01" style="top:39.019em; left:11.2895em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:39.019em; left:11.6437em;"><span class="stl_116 stl_44 stl_10">Accept":"text/html,application/xhtml+xml,application/xml; &nbsp;</span></div>
					<div class="stl_01" style="top:39.852em; left:14.8312em;"><span class="stl_116 stl_44 stl_10">q=0.9,image/webp,*/*;q=0.8"} &nbsp;</span></div>
					<div class="stl_01" style="top:40.685em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">url = "https://www.whatismybrowser.com/ &nbsp;</span></div>
					<div class="stl_01" style="top:41.518em; left:9.8729em;"><span class="stl_116 stl_44 stl_10">developers/what-http-headers-</span><span class="stl_232 stl_44 stl_10">is</span><span class="stl_116 stl_44 stl_10">-my-browser-sending" &nbsp;</span></div>
					<div class="stl_01" style="top:42.351em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">req = session.get(url, headers=headers) &nbsp;</span></div>
					<div class="stl_01" style="top:44.017em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">bsObj = BeautifulSoup(req.text) &nbsp;</span></div>
					<div class="stl_01" style="top:44.85em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(bsObj.find("table",{"class":"table-striped"}).get_text) &nbsp;</span></div>
					<div class="stl_01" style="top:46.6412em; left:5.6693em;"><span class="stl_129 stl_49 stl_415" style="word-spacing:-0.0167em;">程序输出结果中的请求头应该和程序中设置的 </span><span class="stl_188 stl_44 stl_687" style="word-spacing:-0.0176em;">headers</span><span class="stl_129 stl_49 stl_415" style="word-spacing:-0.0167em;">是一样的。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.4866em; left:5.6691em;"><span class="stl_129 stl_49 stl_138" style="word-spacing:-0.0179em;">虽然网站可能会对 </span><span class="stl_132 stl_52 stl_138" style="word-spacing:-0.0179em;">HTTP </span><span class="stl_129 stl_49 stl_138" style="word-spacing:-0.0179em;">请求头的每个属性进行“是否具有人性”的检查，但是我发现通 &nbsp;</span></div>
					<div class="stl_01" style="top:49.8026em; left:5.6693em;"><span class="stl_129 stl_49 stl_643" style="word-spacing:-0.0119em;">常真正重要的参数就是 </span><span class="stl_188 stl_44 stl_611" style="word-spacing:-0.0126em;">User-Agent</span><span class="stl_129 stl_49 stl_643" style="word-spacing:-0.0119em;">。无论你在做什么项目，一定要记得把 </span><span class="stl_188 stl_44 stl_611" style="word-spacing:-0.0126em;">User-Agent</span><span class="stl_129 stl_49 stl_643" style="word-spacing:-0.0119em;">属性 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">56 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 12</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_216.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_216.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9005em; left:6.6142em;"><span class="stl_129 stl_49 stl_128" style="word-spacing:-0.0015em;">设置成不容易引起怀疑的内容，不要用 </span><span class="stl_188 stl_44 stl_224" style="word-spacing:-0.0016em;">Python-urllib/3.4</span><span class="stl_129 stl_49 stl_128" style="word-spacing:-0.0015em;">。另外，如果你正在处理一个警 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1505em; left:6.6139em;"><span class="stl_129 stl_49 stl_231" style="word-spacing:-0.0278em;">觉性非常高的网站，就要注意那些经常用却很少检查的请求头，比如 </span><span class="stl_188 stl_44 stl_309" style="word-spacing:-0.0293em;">Accept-Language</span><span class="stl_129 stl_49 stl_231" style="word-spacing:-0.0278em;">属 &nbsp;</span></div>
					<div class="stl_01" style="top:7.4127em; left:6.6139em;"><span class="stl_129 stl_49 stl_10">性，也许它正是那个网站判断你是个人类访问者的关键。 &nbsp;</span></div>
					<div class="stl_01" style="top:10.0616em; left:14.8714em;"><span class="stl_268 stl_20 stl_10">请求头会改变你观看网络世界的方式 &nbsp;</span></div>
					<div class="stl_01" style="top:11.668em; left:7.3478em;"><span class="stl_269 stl_49 stl_837">假设你想为一个机器学习的研究项目写一个语言翻译机，却没有大量的翻译文本来 &nbsp;</span></div>
					<div class="stl_01" style="top:12.7929em; left:7.3455em;"><span class="stl_269 stl_49 stl_838">测试它的效果。很多大型网站都会为同样的内容提供不同的语言翻译，根据请求 &nbsp;</span></div>
					<div class="stl_01" style="top:13.8811em; left:7.3415em;"><span class="stl_269 stl_49 stl_839" style="word-spacing:-0.1024em;">头的参数响应网站不同的语言版本。因此，你只要简单地把请求头属性从 </span><span class="stl_116 stl_44 stl_840" style="word-spacing:-0.1144em;">Accept- &nbsp;</span></div>
					<div class="stl_01" style="top:14.9282em; left:7.3477em;"><span class="stl_116 stl_44 stl_722" style="word-spacing:-0.1171em;">Language:en-US </span><span class="stl_269 stl_49 stl_339" style="word-spacing:-0.1047em;">修改成 </span><span class="stl_116 stl_44 stl_722" style="word-spacing:-0.1171em;">Accept-Language:fr</span><span class="stl_269 stl_49 stl_339" style="word-spacing:-0.1047em;">，就可以从网站上获得“</span><span class="stl_132 stl_52 stl_339" style="word-spacing:-0.1047em;">Bonjour</span><span class="stl_269 stl_49 stl_339" style="word-spacing:-0.1047em;">”（法语， &nbsp;</span></div>
					<div class="stl_01" style="top:16.1679em; left:7.3513em;"><span class="stl_269 stl_49 stl_164">你好）这些数据来改善翻译机的翻译效果了（大型跨国企业通常都是好的采集对象）。 &nbsp;</span></div>
					<div class="stl_01" style="top:17.7655em; left:7.3513em;"><span class="stl_269 stl_49 stl_359">请求头还可以让网站改变内容的布局样式。例如，用移动设备浏览网站时，通常会看 &nbsp;</span></div>
					<div class="stl_01" style="top:18.7758em; left:7.3473em;"><span class="stl_269 stl_49 stl_183" style="word-spacing:-0.0274em;">到一个没有广告、</span><span class="stl_132 stl_52 stl_183" style="word-spacing:-0.0274em;">Flash </span><span class="stl_269 stl_49 stl_183" style="word-spacing:-0.0274em;">以及其他干扰的简化的网站版本。因此，把你的请求头 </span><span class="stl_116 stl_44 stl_247" style="word-spacing:-0.0306em;">User- &nbsp;</span></div>
					<div class="stl_01" style="top:19.9783em; left:7.3477em;"><span class="stl_116 stl_44 stl_68">Agent</span><span class="stl_269 stl_49 stl_367">改成下面这样，就可以看到一个更容易采集的网站了！ &nbsp;</span></div>
					<div class="stl_01" style="top:21.5749em; left:8.7648em;"><span class="stl_132 stl_52 stl_841" style="word-spacing:0.125em;">User-Agent:Mozilla/5.0 (iPhone; CPU iPhone OS 7_1_2 like Mac OS X) &nbsp;</span></div>
					<div class="stl_01" style="top:22.6998em; left:8.7513em;"><span class="stl_132 stl_52 stl_838" style="word-spacing:0.1243em;">AppleWebKit/537.51.2 (KHTML, like Gecko) Version/7.0 Mobile/11D257 &nbsp;</span></div>
					<div class="stl_01" style="top:23.8248em; left:8.7608em;"><span class="stl_132 stl_52 stl_10">Safari/9537.53 &nbsp;</span></div>
					<div class="stl_01" style="top:26.5129em; left:6.6142em;"><span class="stl_260 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:26.4546em; left:7.292em;"><span class="stl_260 stl_18 stl_71">2.2.2</span><span class="stl_91 stl_20 stl_71">ꢀ处理</span><span class="stl_260 stl_18 stl_71">cookie &nbsp;</span></div>
					<div class="stl_01" style="top:28.3955em; left:6.6142em;"><span class="stl_129 stl_49 stl_600" style="word-spacing:-0.0049em;">虽然 </span><span class="stl_132 stl_52 stl_600" style="word-spacing:-0.0049em;">cookie </span><span class="stl_129 stl_49 stl_600" style="word-spacing:-0.0049em;">是一把双刃剑，但正确地处理 </span><span class="stl_132 stl_52 stl_600" style="word-spacing:-0.0049em;">cookie </span><span class="stl_129 stl_49 stl_600" style="word-spacing:-0.0049em;">可以避免许多采集问题。网站会用 </span><span class="stl_132 stl_52 stl_600" style="word-spacing:-0.0049em;">cookie &nbsp;</span></div>
					<div class="stl_01" style="top:29.7232em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">跟踪你的访问过程，如果发现了爬虫异常行为就会中断你的访问，比如特别快速地填写表 &nbsp;</span></div>
					<div class="stl_01" style="top:30.8955em; left:6.6142em;"><span class="stl_129 stl_49 stl_144" style="word-spacing:-0.0476em;">单，或者浏览大量页面。虽然这些行为可以通过关闭并重新连接或者改变 </span><span class="stl_132 stl_52 stl_144" style="word-spacing:-0.0476em;">IP </span><span class="stl_129 stl_49 stl_144" style="word-spacing:-0.0476em;">地址来伪装 &nbsp;</span></div>
					<div class="stl_01" style="top:32.2232em; left:6.2183em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:32.1455em; left:7.01em;"><span class="stl_129 stl_49 stl_278" style="word-spacing:0.0286em;">更多信息请参见第 </span><span class="stl_132 stl_52 stl_278" style="word-spacing:0.0286em;">14 </span><span class="stl_129 stl_49 stl_278" style="word-spacing:0.0286em;">章），但是如果 </span><span class="stl_132 stl_52 stl_278" style="word-spacing:0.0286em;">cookie </span><span class="stl_129 stl_49 stl_278" style="word-spacing:0.0286em;">暴露了你的身份，再多努力也是白费。 &nbsp;</span></div>
					<div class="stl_01" style="top:34.0566em; left:6.6142em;"><span class="stl_129 stl_49 stl_270" style="word-spacing:-0.0096em;">在采集一些网站时 </span><span class="stl_132 stl_52 stl_270" style="word-spacing:-0.0096em;">cookie </span><span class="stl_129 stl_49 stl_270" style="word-spacing:-0.0096em;">是不可或缺的。在第 </span><span class="stl_132 stl_52 stl_270" style="word-spacing:-0.0096em;">9 </span><span class="stl_129 stl_49 stl_270" style="word-spacing:-0.0096em;">章的例子中曾经介绍过，在一个网站上持 &nbsp;</span></div>
					<div class="stl_01" style="top:35.3069em; left:6.6142em;"><span class="stl_129 stl_49 stl_252" style="word-spacing:-0.0191em;">续地保持登录状态，需要你在多个页面中保存一个 </span><span class="stl_132 stl_52 stl_252" style="word-spacing:-0.0191em;">cookie</span><span class="stl_129 stl_49 stl_252" style="word-spacing:-0.0191em;">。一些网站不要求在每次登录时 &nbsp;</span></div>
					<div class="stl_01" style="top:36.557em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">都获得一个新 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">cookie</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">，只要保存一个旧的“已登录”的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">cookie </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">就可以访问网站。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.468em; left:6.6142em;"><span class="stl_129 stl_49 stl_157" style="word-spacing:-0.0645em;">如果你在采集一个或者几个目标网站，我建议你检查这些网站生成的 </span><span class="stl_132 stl_52 stl_157" style="word-spacing:-0.0645em;">cookie</span><span class="stl_129 stl_49 stl_157" style="word-spacing:-0.0645em;">，然后想想 &nbsp;</span></div>
					<div class="stl_01" style="top:39.7183em; left:6.6142em;"><span class="stl_129 stl_49 stl_669" style="word-spacing:-0.0549em;">哪一个 </span><span class="stl_132 stl_52 stl_669" style="word-spacing:-0.0549em;">cookie </span><span class="stl_129 stl_49 stl_669" style="word-spacing:-0.0549em;">是爬虫需要处理的。有一些浏览器插件可以为你显示访问网站和离开网站 &nbsp;</span></div>
					<div class="stl_01" style="top:40.9683em; left:6.6142em;"><span class="stl_129 stl_49 stl_465" style="word-spacing:-0.0027em;">时 </span><span class="stl_132 stl_52 stl_465" style="word-spacing:-0.0027em;">cookie </span><span class="stl_129 stl_49 stl_465" style="word-spacing:-0.0027em;">是如何设置的。</span><span class="stl_132 stl_52 stl_465" style="word-spacing:-0.0027em;">EditThisCookie</span><span class="stl_129 stl_49 stl_465" style="word-spacing:-0.0027em;">（</span><span class="stl_132 stl_52 stl_465" style="word-spacing:-0.0027em;">http://www.editthiscookie.com/</span><span class="stl_129 stl_49 stl_465" style="word-spacing:-0.0027em;">）就是我最喜欢的 &nbsp;</span></div>
					<div class="stl_01" style="top:42.2184em; left:6.6142em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">Chrome </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">浏览器插件之一。 &nbsp;</span></div>
					<div class="stl_01" style="top:44.1177em; left:6.6142em;"><span class="stl_129 stl_49 stl_213" style="word-spacing:-0.0183em;">要获得 </span><span class="stl_132 stl_52 stl_213" style="word-spacing:-0.0183em;">cookie </span><span class="stl_129 stl_49 stl_213" style="word-spacing:-0.0183em;">的更多信息，请查看 </span><span class="stl_132 stl_52 stl_213" style="word-spacing:-0.0183em;">9.5 </span><span class="stl_129 stl_49 stl_213" style="word-spacing:-0.0183em;">节，里面的示例代码介绍了使用 </span><span class="stl_188 stl_44 stl_581" style="word-spacing:-0.0193em;">requests</span><span class="stl_129 stl_49 stl_213" style="word-spacing:-0.0183em;">模块处理 &nbsp;</span></div>
					<div class="stl_01" style="top:45.3677em; left:6.6144em;"><span class="stl_132 stl_52 stl_361" style="word-spacing:-0.0332em;">cookie </span><span class="stl_129 stl_49 stl_361" style="word-spacing:-0.0332em;">的过程。当然，因为 </span><span class="stl_188 stl_44 stl_580" style="word-spacing:-0.035em;">requests</span><span class="stl_129 stl_49 stl_361" style="word-spacing:-0.0332em;">模块不能执行 </span><span class="stl_132 stl_52 stl_361" style="word-spacing:-0.0332em;">JavaScript</span><span class="stl_129 stl_49 stl_361" style="word-spacing:-0.0332em;">，所以它不能处理很多新式 &nbsp;</span></div>
					<div class="stl_01" style="top:46.6298em; left:6.6141em;"><span class="stl_129 stl_49 stl_464" style="word-spacing:-0.0038em;">的跟踪软件生成的 </span><span class="stl_132 stl_52 stl_464" style="word-spacing:-0.0038em;">cookie</span><span class="stl_129 stl_49 stl_464" style="word-spacing:-0.0038em;">，比如</span><span class="stl_132 stl_52 stl_464" style="word-spacing:-0.0038em;"> Google</span><span class="stl_132 stl_52 stl_464" style="word-spacing:0.1193em;"> Analytics</span><span class="stl_129 stl_49 stl_464" style="word-spacing:0.1193em;">，只有当客户端脚本执行后才设置</span><span class="stl_132 stl_52 stl_464" style="word-spacing:-0.0038em;"> cookie &nbsp;</span></div>
					<div class="stl_01" style="top:47.9575em; left:6.2183em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:47.8798em; left:7.033em;"><span class="stl_129 stl_49 stl_773" style="word-spacing:-0.0144em;">或者在用户浏览页面时基于网页事件产生 </span><span class="stl_132 stl_52 stl_773" style="word-spacing:-0.0144em;">cookie</span><span class="stl_129 stl_49 stl_773" style="word-spacing:-0.0144em;">，比如点击按钮）。为了处理这些动作， &nbsp;</span></div>
					<div class="stl_01" style="top:49.1298em; left:6.6142em;"><span class="stl_129 stl_49 stl_164" style="word-spacing:0.0268em;">你需要用 </span><span class="stl_132 stl_52 stl_164" style="word-spacing:0.0268em;">Selenium </span><span class="stl_129 stl_49 stl_164" style="word-spacing:0.0268em;">和 </span><span class="stl_132 stl_52 stl_164" style="word-spacing:0.0268em;">PhantomJS </span><span class="stl_129 stl_49 stl_164" style="word-spacing:0.0268em;">包（基本的安装和用法在第 </span><span class="stl_132 stl_52 stl_164" style="word-spacing:0.0268em;">10 </span><span class="stl_129 stl_49 stl_164" style="word-spacing:0.0268em;">章已经介绍过）。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:30.0283em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">避开采集陷阱 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">157 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_217.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_217.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8229em; left:5.6693em;"><span class="stl_129 stl_49 stl_224" style="word-spacing:-0.0012em;">你可以对任意网站（本例用的是 </span><span class="stl_132 stl_52 stl_224" style="word-spacing:-0.0012em;">http://pythonscraping.com</span><span class="stl_129 stl_49 stl_224" style="word-spacing:-0.0012em;">）调用 </span><span class="stl_132 stl_52 stl_224" style="word-spacing:-0.0012em;">webdriver </span><span class="stl_129 stl_49 stl_224" style="word-spacing:-0.0012em;">的 </span><span class="stl_188 stl_44 stl_206" style="word-spacing:-0.0013em;">get_cookie() &nbsp;</span></div>
					<div class="stl_01" style="top:6.0849em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">方法来查看 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">cookie</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">： &nbsp;</span></div>
					<div class="stl_01" style="top:8.0533em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">selenium </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">webdriver &nbsp;</span></div>
					<div class="stl_01" style="top:8.8863em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">driver = webdriver.PhantomJS(executable_path='&lt;Path to Phantom JS&gt;') &nbsp;</span></div>
					<div class="stl_01" style="top:9.7193em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">driver.get("http://pythonscraping.com") &nbsp;</span></div>
					<div class="stl_01" style="top:10.5523em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">driver.implicitly_wait(1) &nbsp;</span></div>
					<div class="stl_01" style="top:11.3853em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(driver.get_cookies()) &nbsp;</span></div>
					<div class="stl_01" style="top:13.1079em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0002em;">这样就可以获得一个非常典型的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0002em;">Google Analytics </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0002em;">的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0002em;">cookie </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0002em;">列表： &nbsp;</span></div>
					<div class="stl_01" style="top:15.0765em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">[{'value': '1', 'httponly': False, 'name': '_gat', 'path': '/', 'expi &nbsp;</span></div>
					<div class="stl_01" style="top:15.9095em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">ry': 1422806785, 'expires': 'Sun, 01 Feb 2015 16:06:25 GMT', 'secure' &nbsp;</span></div>
					<div class="stl_01" style="top:16.7425em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">:</span></div>
					<div class="stl_01" style="top:17.5755em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">2</span></div>
					<div class="stl_01" style="top:18.4085em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">'</span></div>
					<div class="stl_01" style="top:16.7425em; left:8.102em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">False, 'domain': '.pythonscraping.com'}, {'value': 'GA1.2.161952506 &nbsp;</span></div>
					<div class="stl_01" style="top:17.5755em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">.1422806186', 'httponly': False, 'name': '_ga', 'path': '/', 'expiry &nbsp;</span></div>
					<div class="stl_01" style="top:18.4085em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">: 1485878185, 'expires': 'Tue, 31 Jan 2017 15:56:25 GMT', 'secure': &nbsp;</span></div>
					<div class="stl_01" style="top:19.2415em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">False, 'domain': '.pythonscraping.com'}, {'value': '1', 'httponly': F &nbsp;</span></div>
					<div class="stl_01" style="top:20.0745em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">alse, 'name': 'has_js', 'path': '/', 'expiry': 1485878185, 'expires': &nbsp;</span></div>
					<div class="stl_01" style="top:20.9075em; left:7.7479em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">'Tue, 31 Jan 2017 15:56:25 GMT', 'secure': False, 'domain': 'pythons &nbsp;</span></div>
					<div class="stl_01" style="top:21.7405em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">craping.com'}] &nbsp;</span></div>
					<div class="stl_01" style="top:23.5298em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.062em;">你 还 可 以 调 用</span><span class="stl_188 stl_44 stl_10" style="word-spacing:-0.0347em;"> delete_cookie()</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0329em;">、</span><span class="stl_188 stl_44 stl_10" style="word-spacing:-0.0347em;">add_cookie() </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0329em;">和</span><span class="stl_188 stl_44 stl_10" style="word-spacing:-0.0356em;"> delete_all_cookies() </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0338em;">方</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.062em;"> 法 来 处</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.062em;"> 理 &nbsp;</span></div>
					<div class="stl_01" style="top:24.7142em; left:5.6695em;"><span class="stl_132 stl_52 stl_510" style="word-spacing:-0.0217em;">cookie</span><span class="stl_129 stl_49 stl_510" style="word-spacing:-0.0217em;">。另外，还可以保存 </span><span class="stl_132 stl_52 stl_510" style="word-spacing:-0.0217em;">cookie </span><span class="stl_129 stl_49 stl_510" style="word-spacing:-0.0217em;">以备其他网络爬虫使用。下面的例子演示了如何把这些 &nbsp;</span></div>
					<div class="stl_01" style="top:26.0419em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">函数组合在一起： &nbsp;</span></div>
					<div class="stl_01" style="top:27.9326em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">selenium </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">webdriver &nbsp;</span></div>
					<div class="stl_01" style="top:29.5986em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">driver = webdriver.PhantomJS(executable_path='&lt;Path to Phantom JS&gt;') &nbsp;</span></div>
					<div class="stl_01" style="top:30.4316em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">driver.get("http://pythonscraping.com") &nbsp;</span></div>
					<div class="stl_01" style="top:31.2646em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">driver.implicitly_wait(1) &nbsp;</span></div>
					<div class="stl_01" style="top:32.0976em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(driver.get_cookies()) &nbsp;</span></div>
					<div class="stl_01" style="top:33.7636em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">savedCookies = driver.get_cookies() &nbsp;</span></div>
					<div class="stl_01" style="top:35.4296em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">driver2 = webdriver.PhantomJS(executable_path='&lt;Path to Phantom JS&gt;') &nbsp;</span></div>
					<div class="stl_01" style="top:36.2626em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">driver2.get("http://pythonscraping.com") &nbsp;</span></div>
					<div class="stl_01" style="top:37.0956em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">driver2.delete_all_cookies() &nbsp;</span></div>
					<div class="stl_01" style="top:37.9286em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">cookie </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">savedCookies: &nbsp;</span></div>
					<div class="stl_01" style="top:38.7616em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">driver2.add_cookie(cookie) &nbsp;</span></div>
					<div class="stl_01" style="top:40.4276em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">driver2.get("http://pythonscraping.com") &nbsp;</span></div>
					<div class="stl_01" style="top:41.2606em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">driver.implicitly_wait(1) &nbsp;</span></div>
					<div class="stl_01" style="top:42.0936em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(driver2.get_cookies()) &nbsp;</span></div>
					<div class="stl_01" style="top:43.8205em; left:5.6693em;"><span class="stl_129 stl_49 stl_842" style="word-spacing:-0.1052em;">在这个例子中，第一个 </span><span class="stl_132 stl_52 stl_842" style="word-spacing:-0.1052em;">webdriver </span><span class="stl_129 stl_49 stl_842" style="word-spacing:-0.1052em;">获得了一个网站，打印 </span><span class="stl_132 stl_52 stl_842" style="word-spacing:-0.1052em;">cookie </span><span class="stl_129 stl_49 stl_842" style="word-spacing:-0.1052em;">并把它们保存到变量 &nbsp;</span></div>
					<div class="stl_01" style="top:45.0584em; left:5.6693em;"><span class="stl_188 stl_44 stl_781" style="word-spacing:-0.0418em;">savedCookies</span><span class="stl_129 stl_49 stl_606" style="word-spacing:-0.0396em;">里。第二个 </span><span class="stl_132 stl_52 stl_606" style="word-spacing:-0.0396em;">webdriver </span><span class="stl_129 stl_49 stl_606" style="word-spacing:-0.0396em;">加载同一个网站（技术提示：必须首先加载网站，这 &nbsp;</span></div>
					<div class="stl_01" style="top:46.3205em; left:5.6694em;"><span class="stl_129 stl_49 stl_289" style="word-spacing:0.0069em;">样 </span><span class="stl_132 stl_52 stl_289" style="word-spacing:0.0069em;">Selenium </span><span class="stl_129 stl_49 stl_289" style="word-spacing:0.0069em;">才能知道 </span><span class="stl_132 stl_52 stl_289" style="word-spacing:0.0069em;">cookie </span><span class="stl_129 stl_49 stl_289" style="word-spacing:0.0069em;">属于哪个网站，即使加载网站的行为对我们没任何用处），删 &nbsp;</span></div>
					<div class="stl_01" style="top:47.5705em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">除所有的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0002em;">cookie</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">，然后替换成第一个 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0002em;">webdriver </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">得到的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0002em;">cookie</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">。当再次加载这个页面时，两 &nbsp;</span></div>
					<div class="stl_01" style="top:48.8205em; left:5.6693em;"><span class="stl_129 stl_49 stl_472" style="word-spacing:-0.0196em;">组 </span><span class="stl_132 stl_52 stl_472" style="word-spacing:-0.0196em;">cookie</span><span class="stl_129 stl_49 stl_472" style="word-spacing:-0.0195em;"> 的时间戳、源代码和其他信息应该完全一致。从</span><span class="stl_132 stl_52 stl_472" style="word-spacing:-0.0196em;"> Google</span><span class="stl_132 stl_52 stl_472" style="word-spacing:0.0995em;"> Analytics</span><span class="stl_129 stl_49 stl_472" style="word-spacing:-0.0198em;"> 的角度看，第 &nbsp;</span></div>
					<div class="stl_01" style="top:50.0705em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">二个 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">webdriver </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">现在和第一个 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">webdriver </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">完全一样。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">58 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 12</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_218.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_218.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8205em; left:6.6142em;"><span class="stl_260 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:4.7621em; left:7.292em;"><span class="stl_260 stl_18 stl_71">2.2.3</span><span class="stl_91 stl_20 stl_71">ꢀ时间就是一切 &nbsp;</span></div>
					<div class="stl_01" style="top:6.7807em; left:6.6142em;"><span class="stl_129 stl_49 stl_177">有一些防护措施完备的网站可能会阻止你快速地提交表单，或者快速地与网站进行交互。 &nbsp;</span></div>
					<div class="stl_01" style="top:8.0307em; left:6.6142em;"><span class="stl_129 stl_49 stl_153">即使没有这些安全措施，用一个比普通人快很多的速度从一个网站下载大量信息也可能让 &nbsp;</span></div>
					<div class="stl_01" style="top:9.2808em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">自己被网站封杀。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.1919em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">因此，虽然多线程程序可能是一个快速加载页面的好办法——让你在一个线程中处理数据 &nbsp;</span></div>
					<div class="stl_01" style="top:12.4419em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">并在另一个线程中加载页面——但是这对编写好的爬虫来说依然是一个恐怖的策略。还是 &nbsp;</span></div>
					<div class="stl_01" style="top:13.6922em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">应该尽量保证一次加载页面加载且数据请求最小化。如果条件允许，尽量为每个页面访问 &nbsp;</span></div>
					<div class="stl_01" style="top:14.9422em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">增加一点儿时间间隔，即使你要增加一行代码： &nbsp;</span></div>
					<div class="stl_01" style="top:16.833em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">time.sleep(3) &nbsp;</span></div>
					<div class="stl_01" style="top:18.6318em; left:6.6142em;"><span class="stl_129 stl_49 stl_153">虽然网络数据采集经常会为了获取数据而破坏规则和冲破底线，但是合理控制速度是你不 &nbsp;</span></div>
					<div class="stl_01" style="top:19.8818em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">应该破坏的规则。这不仅是因为过度消耗别人的服务器资源会让你置身于非法境地，而且 &nbsp;</span></div>
					<div class="stl_01" style="top:21.1318em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">你这么做可能会把一个小型网站拖垮甚至下线。拖垮网站是一件不道德的事情：是彻头彻 &nbsp;</span></div>
					<div class="stl_01" style="top:22.3818em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">尾的错误。所以请控制你的采集速度！ &nbsp;</span></div>
					<div class="stl_01" style="top:24.7701em; left:6.6142em;"><span class="stl_197 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:24.6993em; left:7.4373em;"><span class="stl_197 stl_18 stl_71">2.3</span><span class="stl_160 stl_20 stl_71">ꢀ常见表单安全措施 &nbsp;</span></div>
					<div class="stl_01" style="top:27.1325em; left:6.6142em;"><span class="stl_129 stl_49 stl_123" style="word-spacing:-0.0035em;">许多像 </span><span class="stl_132 stl_52 stl_123" style="word-spacing:-0.0035em;">Litmus </span><span class="stl_129 stl_49 stl_123" style="word-spacing:-0.0035em;">之类的测试工具已经用了很多年了，现在仍用于区分网络爬虫和使用浏览器 &nbsp;</span></div>
					<div class="stl_01" style="top:28.4602em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">的人类访问者，这类手段都取得了不同程度的效果。虽然网络机器人下载一些公开的文章 &nbsp;</span></div>
					<div class="stl_01" style="top:29.7102em; left:6.6142em;"><span class="stl_129 stl_49 stl_153">和博文并不是什么大事，但是如果网络机器人在你的网站上创造了几千个账号并开始向所 &nbsp;</span></div>
					<div class="stl_01" style="top:30.9602em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">有用户发送垃圾邮件，就是一个大问题了。网络表单，尤其是那些用于账号创建和登录的 &nbsp;</span></div>
					<div class="stl_01" style="top:32.2102em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">网站，如果被机器人肆意地滥用，网站的安全和流量费用就会面临严重威胁，因此努力限 &nbsp;</span></div>
					<div class="stl_01" style="top:33.4603em; left:6.6142em;"><span class="stl_129 stl_49 stl_98">制网站的接入是最符合许多网站所有者的利益的（至少他们这么认为）。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.3714em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">这些集中在表单和登录环节上的反机器人安全措施，对网络爬虫来说确实是严重的挑战。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.2824em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">当你为那些表单创建自动化机器人时，你会遇到的安全措施不止这些。关于处理表单的更 &nbsp;</span></div>
					<div class="stl_01" style="top:38.4553em; left:6.6142em;"><span class="stl_129 stl_49 stl_285" style="word-spacing:-0.0117em;">多信息，请参考第 </span><span class="stl_132 stl_52 stl_285" style="word-spacing:-0.0117em;">11 </span><span class="stl_129 stl_49 stl_285" style="word-spacing:-0.0117em;">章关于处理验证码和图片处理的内容，以及第 </span><span class="stl_132 stl_52 stl_285" style="word-spacing:-0.0117em;">14 </span><span class="stl_129 stl_49 stl_285" style="word-spacing:-0.0117em;">章关于请求头和 </span><span class="stl_132 stl_52 stl_285" style="word-spacing:-0.0117em;">IP &nbsp;</span></div>
					<div class="stl_01" style="top:39.7831em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">地址处理的内容。 &nbsp;</span></div>
					<div class="stl_01" style="top:42.1928em; left:6.6142em;"><span class="stl_260 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:42.1345em; left:7.292em;"><span class="stl_260 stl_18 stl_71">2.3.1</span><span class="stl_91 stl_20 stl_71">ꢀ隐含输入字段值 &nbsp;</span></div>
					<div class="stl_01" style="top:44.0754em; left:6.6142em;"><span class="stl_129 stl_49 stl_110" style="word-spacing:0.0029em;">在 </span><span class="stl_132 stl_52 stl_110" style="word-spacing:0.0029em;">HTML </span><span class="stl_129 stl_49 stl_110" style="word-spacing:0.0029em;">表单中，“隐含”字段可以让字段的值对浏览器可见，但是对用户不可见（除非 &nbsp;</span></div>
					<div class="stl_01" style="top:45.3254em; left:6.6142em;"><span class="stl_129 stl_49 stl_735" style="word-spacing:-0.0049em;">看网页源代码）。随着越来越多的网站开始用 </span><span class="stl_132 stl_52 stl_735" style="word-spacing:-0.0049em;">cookie </span><span class="stl_129 stl_49 stl_735" style="word-spacing:-0.0049em;">存储状态变量来管理用户状态，在找 &nbsp;</span></div>
					<div class="stl_01" style="top:46.6532em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">到另一个最佳用途之前，隐含字段主要用于阻止爬虫自动提交表单。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.4865em; left:6.6142em;"><span class="stl_129 stl_49 stl_340" style="word-spacing:-0.0273em;">图 </span><span class="stl_132 stl_52 stl_340" style="word-spacing:-0.0273em;">12-1 </span><span class="stl_129 stl_49 stl_340" style="word-spacing:-0.0273em;">显示的例子就是 </span><span class="stl_132 stl_52 stl_340" style="word-spacing:-0.0273em;">Facebook </span><span class="stl_129 stl_49 stl_340" style="word-spacing:-0.0273em;">登录页面上的隐含字段。虽然表单里只有三个可见字段 &nbsp;</span></div>
					<div class="stl_01" style="top:49.8146em; left:6.2183em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:49.7369em; left:7.01em;"><span class="stl_132 stl_52 stl_738" style="word-spacing:0.0217em;">username</span><span class="stl_129 stl_49 stl_738" style="word-spacing:0.0217em;">、</span><span class="stl_132 stl_52 stl_738" style="word-spacing:0.0217em;">password </span><span class="stl_129 stl_49 stl_738" style="word-spacing:0.0217em;">和一个确认按钮），但是在源代码里表单会向服务器传送大量的信息。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:30.0283em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">避开采集陷阱 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">159 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_220.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_220.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01 stl_382" style="top:16.784em; left:5.6693em;"><span class="stl_383 stl_20 stl_244" style="word-spacing:-0.0133em;">图 </span><span class="stl_384 stl_18 stl_244" style="word-spacing:-0.0133em;">12-1</span><span class="stl_383 stl_20 stl_244" style="word-spacing:-0.0133em;">：</span><span class="stl_384 stl_18 stl_244" style="word-spacing:-0.0133em;">Facebook </span><span class="stl_383 stl_20 stl_244" style="word-spacing:-0.0133em;">登录页面上的隐含字段 &nbsp;</span></div>
					<div class="stl_01" style="top:18.7156em; left:5.6693em;"><span class="stl_129 stl_49 stl_153">用隐含字段阻止网络数据采集的方式主要有两种。第一种是表单页面上的一个字段可以用 &nbsp;</span></div>
					<div class="stl_01" style="top:19.9656em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">服务器生成的随机变量表示。如果提交时这个值不在表单处理页面上，服务器就有理由认 &nbsp;</span></div>
					<div class="stl_01" style="top:21.2156em; left:5.6693em;"><span class="stl_129 stl_49 stl_153">为这个提交不是从原始表单页面上提交的，而是由一个网络机器人直接提交到表单处理页 &nbsp;</span></div>
					<div class="stl_01" style="top:22.4656em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">面的。绕开这个问题的最佳方法就是，首先采集表单所在页面上生成的随机变量，然后再 &nbsp;</span></div>
					<div class="stl_01" style="top:23.7157em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">提交到表单处理页面。 &nbsp;</span></div>
					<div class="stl_01" style="top:25.549em; left:5.6693em;"><span class="stl_129 stl_49 stl_99" style="word-spacing:0.1583em;">第二种方式是“蜜罐”（</span><span class="stl_132 stl_52 stl_99" style="word-spacing:0.1583em;">honey pot</span><span class="stl_129 stl_49 stl_99" style="word-spacing:0.1583em;">）。如果表单里包含一个具有普通名称的隐含字段（设置 &nbsp;</span></div>
					<div class="stl_01" style="top:26.7993em; left:5.6693em;"><span class="stl_129 stl_49 stl_754" style="word-spacing:0.1641em;">蜜罐圈套），比如“用户名”（</span><span class="stl_132 stl_52 stl_754" style="word-spacing:0.1641em;">username</span><span class="stl_129 stl_49 stl_754" style="word-spacing:0.1641em;">）或“邮箱地址”（</span><span class="stl_132 stl_52 stl_754" style="word-spacing:0.1641em;">email address</span><span class="stl_129 stl_49 stl_754" style="word-spacing:0.1641em;">），设计不太好的网 &nbsp;</span></div>
					<div class="stl_01" style="top:28.127em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">络机器人往往不管这个字段是不是对用户可见，直接填写这个字段并向服务器提交，这样 &nbsp;</span></div>
					<div class="stl_01" style="top:29.377em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">就会中服务器的蜜罐圈套。服务器会把所有隐含字段的真实值（或者与表单提交页面的默 &nbsp;</span></div>
					<div class="stl_01" style="top:30.6271em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">认值不同的值）都忽略，而且填写隐含字段的访问用户也可能被网站封杀。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.5382em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">总之，有时检查表单所在的页面十分必要，看看有没有遗漏或弄错一些服务器预先设定好 &nbsp;</span></div>
					<div class="stl_01" style="top:33.7882em; left:5.6693em;"><span class="stl_129 stl_49 stl_136">的隐含字段（蜜罐圈套）。如果你看到一些隐含字段，通常带有较大的随机字符串变量， &nbsp;</span></div>
					<div class="stl_01" style="top:35.0384em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">那么很可能网络服务器会在表单提交的时候检查它们。另外，还有其他一些检查，用来保 &nbsp;</span></div>
					<div class="stl_01" style="top:36.2884em; left:5.6693em;"><span class="stl_129 stl_49 stl_153">证这些当前生成的表单变量只被使用一次或是最近生成的（这样可以避免变量被简单地存 &nbsp;</span></div>
					<div class="stl_01" style="top:37.5385em; left:5.6693em;"><span class="stl_129 stl_49 stl_430">储到一个程序中反复使用）。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.9482em; left:5.6693em;"><span class="stl_260 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:39.8899em; left:6.3471em;"><span class="stl_260 stl_18 stl_71">2.3.2</span><span class="stl_91 stl_20 stl_71">ꢀ避免蜜罐 &nbsp;</span></div>
					<div class="stl_01" style="top:41.8308em; left:5.6693em;"><span class="stl_129 stl_49 stl_297" style="word-spacing:-0.0044em;">虽然在进行网络数据采集时用 </span><span class="stl_132 stl_52 stl_297" style="word-spacing:-0.0044em;">CSS </span><span class="stl_129 stl_49 stl_297" style="word-spacing:-0.0044em;">属性区分有用信息和无用信息会很容易（比如，通过读 &nbsp;</span></div>
					<div class="stl_01" style="top:43.1464em; left:5.6693em;"><span class="stl_129 stl_49 stl_346" style="word-spacing:-0.0236em;">取 </span><span class="stl_188 stl_44 stl_147" style="word-spacing:-0.0249em;">id</span><span class="stl_129 stl_49 stl_346" style="word-spacing:-0.0236em;">和 </span><span class="stl_188 stl_44 stl_147" style="word-spacing:-0.0249em;">class</span><span class="stl_129 stl_49 stl_346" style="word-spacing:-0.0236em;">标签获取信息），但这么做有时也会出问题。如果网络表单的一个字段通过 &nbsp;</span></div>
					<div class="stl_01" style="top:44.3308em; left:5.6695em;"><span class="stl_132 stl_52 stl_367" style="word-spacing:-0.015em;">CSS </span><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.015em;">设置成对用户不可见，那么可以认为普通用户访问网站的时候不能填写这个字段，因 &nbsp;</span></div>
					<div class="stl_01" style="top:45.6585em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">为它没有显示在浏览器上。如果这个字段被填写了，就可能是机器人干的，因此这个提交 &nbsp;</span></div>
					<div class="stl_01" style="top:46.9086em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">会失效。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.8196em; left:5.6693em;"><span class="stl_129 stl_49 stl_213">这种手段不仅可以应用在网站的表单上，还可以应用在链接、图片、文件，以及一些可以 &nbsp;</span></div>
					<div class="stl_01" style="top:50.0697em; left:5.6693em;"><span class="stl_129 stl_49 stl_213">被机器人读取，但普通用户在浏览器上却看不到的任何内容上面。访问者如果访问了网站 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">60 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 12</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_221.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_221.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:6.6142em;"><span class="stl_129 stl_49 stl_105" style="word-spacing:-0.0043em;">上的一个“隐含”内容，就会触发服务器脚本封杀这个用户的 </span><span class="stl_132 stl_52 stl_105" style="word-spacing:-0.0043em;">IP </span><span class="stl_129 stl_49 stl_105" style="word-spacing:-0.0043em;">地址，把这个用户踢出网 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1627em; left:6.6142em;"><span class="stl_129 stl_49 stl_214">站，或者采取其他措施禁止这个用户接入网站。实际上，许多商业模式就是在干这些事情。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.996em; left:6.6142em;"><span class="stl_129 stl_49 stl_558" style="word-spacing:-0.0134em;">下面的例子所用的网页在 </span><span class="stl_132 stl_52 stl_558" style="word-spacing:-0.0134em;">http://pythonscraping.com/pages/itsatrap.html</span><span class="stl_129 stl_49 stl_558" style="word-spacing:-0.0134em;">。这个页面包含了两 &nbsp;</span></div>
					<div class="stl_01" style="top:9.2464em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">个链接，一个通过 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">CSS </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">隐含了，另一个是可见的。另外，页面上还包括两个隐含字段： &nbsp;</span></div>
					<div class="stl_01" style="top:11.2551em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:12.0881em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:11.2551em; left:8.6928em;"><span class="stl_232 stl_44 stl_10">html&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:12.0881em; left:8.6928em;"><span class="stl_232 stl_44 stl_10">head&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:12.9211em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:12.8808em; left:10.1094em;"><span class="stl_232 stl_44 stl_10">title&gt;</span><span class="stl_116 stl_44 stl_10">A bot-proof form</span><span class="stl_232 stl_44 stl_10">&lt;/title&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:13.7541em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:14.5871em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:13.7541em; left:8.6928em;"><span class="stl_232 stl_44 stl_10">/head&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:14.5871em; left:8.6928em;"><span class="stl_232 stl_44 stl_10">style&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:15.3798em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">body </span><span class="stl_116 stl_44 stl_10">{ &nbsp;</span></div>
					<div class="stl_01" style="top:16.2128em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">overflow-x:hidden; &nbsp;</span></div>
					<div class="stl_01" style="top:17.0458em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">}</span></div>
					<div class="stl_01" style="top:17.8788em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">.</span></div>
					<div class="stl_01" style="top:17.8788em; left:10.1094em;"><span class="stl_116 stl_44 stl_10">customHidden { &nbsp;</span></div>
					<div class="stl_01" style="top:18.7118em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">position:absolute; &nbsp;</span></div>
					<div class="stl_01" style="top:19.5448em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">right:50000px; &nbsp;</span></div>
					<div class="stl_01" style="top:20.3778em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">}</span></div>
					<div class="stl_01" style="top:21.2511em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:22.0841em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:21.2511em; left:8.6928em;"><span class="stl_232 stl_44 stl_10">/style&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:22.0841em; left:8.6928em;"><span class="stl_232 stl_44 stl_10">body&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:22.9171em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:23.7501em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:22.8768em; left:10.1094em;"><span class="stl_232 stl_44 stl_10">h2&gt;</span><span class="stl_116 stl_44 stl_10">A bot-proof form</span><span class="stl_232 stl_44 stl_10">&lt;/h2&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:23.7098em; left:10.1094em;"><span class="stl_232 stl_44 stl_10">a </span><span class="stl_116 stl_44 stl_10">href= &nbsp;</span></div>
					<div class="stl_01" style="top:24.5428em; left:10.4636em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">http://pythonscraping.com/dontgohere" style="display:none;"</span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">&gt;</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Go here!</span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">&lt;/a&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:24.5428em; left:10.1094em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:25.4161em; left:9.7552em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:26.2491em; left:9.7552em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:25.3758em; left:10.1094em;"><span class="stl_232 stl_44 stl_10">a </span><span class="stl_116 stl_44 stl_10">href="http://pythonscraping.com"</span><span class="stl_232 stl_44 stl_10">&gt;</span><span class="stl_116 stl_44 stl_10">Click me!</span><span class="stl_232 stl_44 stl_10">&lt;/a&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:26.2491em; left:10.1094em;"><span class="stl_232 stl_44 stl_10">form&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:27.0821em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:27.9151em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:27.0418em; left:11.5261em;"><span class="stl_232 stl_44 stl_10">input </span><span class="stl_116 stl_44 stl_10">type="hidden" name="phone" value="valueShouldNotBeModified"</span><span class="stl_232 stl_44 stl_10">/&gt;&lt;p/&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:27.8748em; left:11.5261em;"><span class="stl_232 stl_44 stl_10">input </span><span class="stl_116 stl_44 stl_10">type="text" name="email" class="customHidden" &nbsp;</span></div>
					<div class="stl_01" style="top:28.7078em; left:14.7136em;"><span class="stl_116 stl_44 stl_10">value="intentionallyBlank"</span><span class="stl_232 stl_44 stl_10">/&gt;&lt;p/&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:29.5811em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:30.4141em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:31.2471em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:29.5408em; left:11.5261em;"><span class="stl_232 stl_44 stl_10">input </span><span class="stl_116 stl_44 stl_10">type="text" name="firstName"</span><span class="stl_232 stl_44 stl_10">/&gt;&lt;p/&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:30.3738em; left:11.5261em;"><span class="stl_232 stl_44 stl_10">input </span><span class="stl_116 stl_44 stl_10">type="text" name="lastName"</span><span class="stl_232 stl_44 stl_10">/&gt;&lt;p/&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:31.2068em; left:11.5261em;"><span class="stl_232 stl_44 stl_10">input </span><span class="stl_116 stl_44 stl_10">type="submit" value="Submit"</span><span class="stl_232 stl_44 stl_10">/&gt;&lt;p/&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:32.0801em; left:9.7552em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:32.0801em; left:10.1094em;"><span class="stl_232 stl_44 stl_10">/form&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:32.9131em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:33.7461em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:32.9131em; left:8.6927em;"><span class="stl_232 stl_44 stl_10">/body&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:33.7461em; left:8.6927em;"><span class="stl_232 stl_44 stl_10">/html&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:35.5137em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">这三个元素通过三种不同的方式对用户隐藏： &nbsp;</span></div>
					<div class="stl_01" style="top:37.3866em; left:6.6142em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:38.637em; left:6.6144em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:39.887em; left:6.6141em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:37.3353em; left:7.6774em;"><span class="stl_129 stl_49 stl_415" style="word-spacing:-0.0167em;">第一个链接是通过简单的 </span><span class="stl_132 stl_52 stl_415" style="word-spacing:-0.0167em;">CSS </span><span class="stl_129 stl_49 stl_415" style="word-spacing:-0.0167em;">属性设置 </span><span class="stl_188 stl_44 stl_687" style="word-spacing:-0.0176em;">display:none</span><span class="stl_129 stl_49 stl_415" style="word-spacing:-0.0167em;">进行隐藏 &nbsp;</span></div>
					<div class="stl_01" style="top:38.663em; left:7.6776em;"><span class="stl_129 stl_49 stl_267" style="word-spacing:-0.0197em;">电话号码字段 </span><span class="stl_188 stl_44 stl_130" style="word-spacing:-0.0208em;">name="phone"</span><span class="stl_129 stl_49 stl_267" style="word-spacing:-0.0197em;">是一个隐含的输入字段 &nbsp;</span></div>
					<div class="stl_01" style="top:39.8353em; left:7.6773em;"><span class="stl_129 stl_49 stl_723" style="word-spacing:-0.0325em;">邮箱地址字段 </span><span class="stl_188 stl_44 stl_173" style="word-spacing:-0.0343em;">name="email"</span><span class="stl_129 stl_49 stl_723" style="word-spacing:-0.0325em;">是将元素向右移动</span><span class="stl_132 stl_52 stl_723" style="word-spacing:-0.033em;"> 50</span><span class="stl_132 stl_52 stl_723" style="word-spacing:0.044em;"> 000</span><span class="stl_129 stl_49 stl_723" style="word-spacing:-0.033em;"> 像素（应该会超出电脑显示器的 &nbsp;</span></div>
					<div class="stl_01" style="top:41.1751em; left:7.6773em;"><span class="stl_129 stl_49 stl_10">边界）并隐藏滚动条 &nbsp;</span></div>
					<div class="stl_01" style="top:43.0085em; left:6.6141em;"><span class="stl_129 stl_49 stl_359" style="word-spacing:-0.0249em;">因为 </span><span class="stl_132 stl_52 stl_359" style="word-spacing:-0.0249em;">Selenium </span><span class="stl_129 stl_49 stl_359" style="word-spacing:-0.0249em;">可以获取访问页面的内容，所以它可以区分页面上的可见元素与隐含元素。 &nbsp;</span></div>
					<div class="stl_01" style="top:44.3244em; left:6.6142em;"><span class="stl_129 stl_49 stl_710" style="word-spacing:-0.0172em;">通过 </span><span class="stl_188 stl_44 stl_802" style="word-spacing:-0.0182em;">is_displayed()</span><span class="stl_129 stl_49 stl_710" style="word-spacing:-0.0172em;">可以判断元素在页面上是否可见。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.2476em; left:6.6138em;"><span class="stl_129 stl_49 stl_432">例如，下面的代码示例就是获取前面那个页面的内容，然后查找隐含链接和隐含输入字段： &nbsp;</span></div>
					<div class="stl_01" style="top:48.1386em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">selenium </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">webdriver &nbsp;</span></div>
					<div class="stl_01" style="top:48.9716em; left:8.3386em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">selenium.webdriver.remote.webelement </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">WebElement &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:30.0283em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">避开采集陷阱 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">161 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_222.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_222.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8921em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">driver = webdriver.PhantomJS(executable_path='') &nbsp;</span></div>
					<div class="stl_01" style="top:5.7251em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">driver.get("http://pythonscraping.com/pages/itsatrap.html") &nbsp;</span></div>
					<div class="stl_01" style="top:6.5581em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">links = driver.find_elements_by_tag_name("a") &nbsp;</span></div>
					<div class="stl_01" style="top:7.3911em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">for </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">link </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">in </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">links: &nbsp;</span></div>
					<div class="stl_01" style="top:8.2241em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">if not </span><span class="stl_116 stl_44 stl_10">link.is_displayed(): &nbsp;</span></div>
					<div class="stl_01" style="top:9.0571em; left:10.227em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">("The link "+link.get_attribute("href")+" is a trap") &nbsp;</span></div>
					<div class="stl_01" style="top:10.7231em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">fields = driver.find_elements_by_tag_name("input") &nbsp;</span></div>
					<div class="stl_01" style="top:11.5561em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">field </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">fields: &nbsp;</span></div>
					<div class="stl_01" style="top:12.3891em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">if not </span><span class="stl_116 stl_44 stl_10">field.is_displayed(): &nbsp;</span></div>
					<div class="stl_01" style="top:13.2221em; left:10.227em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">("Do not change value of "+field.get_attribute("name")) &nbsp;</span></div>
					<div class="stl_01" style="top:14.9465em; left:5.6693em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0009em;">Selenium </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0009em;">抓取出了每个隐含的链接和字段，结果如下所示： &nbsp;</span></div>
					<div class="stl_01" style="top:16.915em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">The link http://pythonscraping.com/dontgohere is a trap &nbsp;</span></div>
					<div class="stl_01" style="top:17.748em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Do not change value of phone &nbsp;</span></div>
					<div class="stl_01" style="top:18.581em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Do not change value of email &nbsp;</span></div>
					<div class="stl_01" style="top:20.3805em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">虽然你不太可能会去访问你找到的那些隐含链接，但是在提交前，记得确认一下那些已经 &nbsp;</span></div>
					<div class="stl_01" style="top:21.5528em; left:5.6693em;"><span class="stl_129 stl_49 stl_843" style="word-spacing:0.0299em;">在表单中、准备提交的隐含字段的值（或者让 </span><span class="stl_132 stl_52 stl_843" style="word-spacing:0.0299em;">Selenium </span><span class="stl_129 stl_49 stl_843" style="word-spacing:0.0299em;">为你自动提交）。 &nbsp;</span></div>
					<div class="stl_01" style="top:24.0188em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:23.948em; left:6.4924em;"><span class="stl_197 stl_18 stl_71">2.4</span><span class="stl_160 stl_20 stl_71">ꢀ问题检查表 &nbsp;</span></div>
					<div class="stl_01" style="top:26.4589em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">这一章介绍的大量知识，其实和这本书一样，都是在介绍如何建立一个更像人而不是更像 &nbsp;</span></div>
					<div class="stl_01" style="top:27.7089em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">机器人的网络爬虫。如果你一直被网站封杀却找不到原因，那么这里有个检查列表，可以 &nbsp;</span></div>
					<div class="stl_01" style="top:28.9589em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">帮你诊断一下问题出在哪里。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.8319em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:30.87em; left:6.7325em;"><span class="stl_129 stl_49 stl_121">首先，如果你从网络服务器收到的页面是空白的，缺少信息，或其遇到他不符合你预期 &nbsp;</span></div>
					<div class="stl_01" style="top:32.0424em; left:6.7325em;"><span class="stl_129 stl_49 stl_844" style="word-spacing:0.0189em;">的情况（或者不是你在浏览器上看到的内容），有可能是因为网站创建页面的 </span><span class="stl_132 stl_52 stl_844" style="word-spacing:0.0189em;">JavaScript &nbsp;</span></div>
					<div class="stl_01" style="top:33.2927em; left:6.7323em;"><span class="stl_129 stl_49 stl_10">执行有问题。可以看看第 </span><span class="stl_132 stl_52 stl_10">10 </span><span class="stl_129 stl_49 stl_10">章内容。 &nbsp;</span></div>
					<div class="stl_01" style="top:34.5823em; left:5.6691em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:34.6082em; left:6.7323em;"><span class="stl_129 stl_49 stl_167" style="word-spacing:-0.0493em;">如果你准备向网站提交表单或发出 </span><span class="stl_188 stl_44 stl_715" style="word-spacing:-0.052em;">POST</span><span class="stl_129 stl_49 stl_167" style="word-spacing:-0.0493em;">请求，记得检查一下页面的内容，看看你想提 &nbsp;</span></div>
					<div class="stl_01" style="top:35.7926em; left:6.7319em;"><span class="stl_129 stl_49 stl_710" style="word-spacing:-0.0147em;">交的每个字段是不是都已经填好，而且格式也正确。用 </span><span class="stl_132 stl_52 stl_710" style="word-spacing:-0.0147em;">Chrome </span><span class="stl_129 stl_49 stl_710" style="word-spacing:-0.0147em;">浏览器的网络面板（快 &nbsp;</span></div>
					<div class="stl_01" style="top:37.0305em; left:6.7323em;"><span class="stl_129 stl_49 stl_222" style="word-spacing:-0.0098em;">捷键 </span><span class="stl_132 stl_52 stl_222" style="word-spacing:-0.0098em;">F12 </span><span class="stl_129 stl_49 stl_222" style="word-spacing:-0.0098em;">打开开发者控制台，然后点击“</span><span class="stl_132 stl_52 stl_222" style="word-spacing:-0.0098em;">Network</span><span class="stl_129 stl_49 stl_222" style="word-spacing:-0.0098em;">”即可看到）查看发送到网站的 </span><span class="stl_188 stl_44 stl_710" style="word-spacing:-0.0104em;">POST &nbsp;</span></div>
					<div class="stl_01" style="top:38.3703em; left:6.7323em;"><span class="stl_129 stl_49 stl_10">命令，确认你的每个参数都是正确的。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.5822em; left:5.6691em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:43.3323em; left:5.6691em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:39.6203em; left:6.7323em;"><span class="stl_129 stl_49 stl_514">如果你已经登录网站却不能保持登录状态，或者网站上出现了其他的“登录状态”异常， &nbsp;</span></div>
					<div class="stl_01" style="top:40.7926em; left:6.7323em;"><span class="stl_129 stl_49 stl_723" style="word-spacing:-0.0299em;">请检查你的 </span><span class="stl_132 stl_52 stl_723" style="word-spacing:-0.0299em;">cookie</span><span class="stl_129 stl_49 stl_723" style="word-spacing:-0.0299em;">。确认在加载每个页面时 </span><span class="stl_132 stl_52 stl_723" style="word-spacing:-0.0299em;">cookie </span><span class="stl_129 stl_49 stl_723" style="word-spacing:-0.0299em;">都被正确调用，而且你的 </span><span class="stl_132 stl_52 stl_723" style="word-spacing:-0.0299em;">cookie </span><span class="stl_129 stl_49 stl_723" style="word-spacing:-0.0299em;">在 &nbsp;</span></div>
					<div class="stl_01" style="top:42.1203em; left:6.7323em;"><span class="stl_129 stl_49 stl_10">每次发起请求时都发送到了网站上。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.2926em; left:6.7323em;"><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0032em;">如果你在客户端遇到了 </span><span class="stl_132 stl_52 stl_127" style="word-spacing:-0.0032em;">HTTP </span><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0032em;">错误，尤其是 </span><span class="stl_132 stl_52 stl_127" style="word-spacing:-0.0032em;">403 </span><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0032em;">禁止访问错误，这可能说明网站已经把 &nbsp;</span></div>
					<div class="stl_01" style="top:44.5426em; left:6.7323em;"><span class="stl_129 stl_49 stl_171" style="word-spacing:-0.014em;">你的 </span><span class="stl_132 stl_52 stl_171" style="word-spacing:-0.014em;">IP </span><span class="stl_129 stl_49 stl_171" style="word-spacing:-0.014em;">当作机器人了，不再接受你的任何请求。你要么等待你的 </span><span class="stl_132 stl_52 stl_171" style="word-spacing:-0.014em;">IP </span><span class="stl_129 stl_49 stl_171" style="word-spacing:-0.014em;">地址从网站黑名单 &nbsp;</span></div>
					<div class="stl_01" style="top:45.7926em; left:6.7323em;"><span class="stl_129 stl_49 stl_88" style="word-spacing:-0.0025em;">里移除，要么就换个 </span><span class="stl_132 stl_52 stl_88" style="word-spacing:-0.0025em;">IP </span><span class="stl_129 stl_49 stl_88" style="word-spacing:-0.0025em;">地址（可以去星巴克上网，或者看看第 </span><span class="stl_132 stl_52 stl_88" style="word-spacing:-0.0025em;">14 </span><span class="stl_129 stl_49 stl_88" style="word-spacing:-0.0025em;">章的内容）。如果你 &nbsp;</span></div>
					<div class="stl_01" style="top:47.1203em; left:6.7323em;"><span class="stl_129 stl_49 stl_10">确定自己并没有被封杀，那么再检查下面的内容。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.3313em; left:6.7323em;"><span class="stl_228 stl_36 stl_10">♦</span></div>
					<div class="stl_01" style="top:48.3703em; left:7.7955em;"><span class="stl_129 stl_49 stl_594">确认你的爬虫在网站上的速度不是特别快。快速采集是一种恶习，会对网管的服务 &nbsp;</span></div>
					<div class="stl_01" style="top:49.5426em; left:7.7953em;"><span class="stl_129 stl_49 stl_759" style="word-spacing:0.0107em;">器造成沉重的负担，还会让你陷入违法境地，也是 </span><span class="stl_132 stl_52 stl_759" style="word-spacing:0.0107em;">IP </span><span class="stl_129 stl_49 stl_759" style="word-spacing:0.0107em;">被网站列入黑名单的首要原因。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">62 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 12</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_223.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_223.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9126em; left:8.7402em;"><span class="stl_129 stl_49 stl_845">给你的爬虫增加延迟，让它们在夜深人静的时候运行。切记：匆匆忙忙写程序或收 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1627em; left:8.7402em;"><span class="stl_129 stl_49 stl_10">集数据都是拙劣项目管理的表现；应该提前做好计划，避免临阵慌乱。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.3737em; left:7.6777em;"><span class="stl_228 stl_36 stl_10">♦</span></div>
					<div class="stl_01" style="top:9.8737em; left:7.6777em;"><span class="stl_228 stl_36 stl_10">♦</span></div>
					<div class="stl_01" style="top:12.3737em; left:7.6777em;"><span class="stl_228 stl_36 stl_10">♦</span></div>
					<div class="stl_01" style="top:7.4126em; left:8.741em;"><span class="stl_129 stl_49 stl_594">还有一件必须做的事情：修改你的请求头！有些网站会封杀任何声称自己是爬虫的 &nbsp;</span></div>
					<div class="stl_01" style="top:8.6627em; left:8.7402em;"><span class="stl_129 stl_49 stl_10">访问者。如果你不确定请求头的值怎样才算合适，就用你自己浏览器的请求头吧。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.9126em; left:8.7409em;"><span class="stl_129 stl_49 stl_315">确认你没有点击或访问任何人类用户通常不能点击或接入的信息（更多信息请查阅 &nbsp;</span></div>
					<div class="stl_01" style="top:11.1246em; left:8.7402em;"><span class="stl_132 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:11.085em; left:9.136em;"><span class="stl_132 stl_52 stl_412" style="word-spacing:0.1667em;">2.3.2 </span><span class="stl_129 stl_49 stl_412" style="word-spacing:0.1667em;">节）。 &nbsp;</span></div>
					<div class="stl_01" style="top:12.4127em; left:8.741em;"><span class="stl_129 stl_49 stl_798">如果你用了一大堆复杂的手段才接入网站，考虑联系一下网管吧，告诉他们你的目的。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.5849em; left:8.7402em;"><span class="stl_129 stl_49 stl_108" style="word-spacing:-0.0011em;">试试发邮件到 </span><span class="stl_132 stl_52 stl_108" style="word-spacing:-0.0011em;">webmaster@&lt; </span><span class="stl_129 stl_49 stl_108" style="word-spacing:-0.0011em;">域名 </span><span class="stl_132 stl_52 stl_108" style="word-spacing:-0.0011em;">&gt; </span><span class="stl_129 stl_49 stl_108" style="word-spacing:-0.0011em;">或 </span><span class="stl_132 stl_52 stl_108" style="word-spacing:-0.0011em;">admin@&lt; </span><span class="stl_129 stl_49 stl_108" style="word-spacing:-0.0011em;">域名 </span><span class="stl_132 stl_52 stl_108" style="word-spacing:-0.0011em;">&gt;</span><span class="stl_129 stl_49 stl_108" style="word-spacing:-0.0011em;">，请求网管允许你使用爬虫采 &nbsp;</span></div>
					<div class="stl_01" style="top:14.9127em; left:8.7402em;"><span class="stl_129 stl_49 stl_10">集数据。管理员也是人嘛！ &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:30.0283em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">避开采集陷阱 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">163 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_224.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_224.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:9.4423em; left:30.9726em;"><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.0687em;">第 </span><span class="stl_215 stl_18 stl_10" style="word-spacing:-0.0687em;">1 3 </span><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.0687em;">章 &nbsp;</span></div>
					<div class="stl_01 stl_69" style="top:12.7975em; left:22.5504em;"><span class="stl_70 stl_20 stl_71">用爬虫测试网站 &nbsp;</span></div>
					<div class="stl_01" style="top:24.5006em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">当研发一个技术栈较大的网络项目时，经常只对栈底（项目后期用的技术）进行一些常规 &nbsp;</span></div>
					<div class="stl_01" style="top:25.6729em; left:5.6693em;"><span class="stl_129 stl_49 stl_152" style="word-spacing:-0.0135em;">测试。目前大多数编程语言（包括 </span><span class="stl_132 stl_52 stl_152" style="word-spacing:-0.0135em;">Python</span><span class="stl_129 stl_49 stl_152" style="word-spacing:-0.0135em;">）都有一些测试框架，但是网站的前端通常并没 &nbsp;</span></div>
					<div class="stl_01" style="top:27.0006em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">有自动化测试，尽管前端才是整个项目中真正与用户零距离接触的唯一一个部分。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.834em; left:5.6693em;"><span class="stl_129 stl_49 stl_281" style="word-spacing:-0.0292em;">部分原因是网站常常是不同标记语言和编程语言的大杂烩。你可以为 </span><span class="stl_132 stl_52 stl_281" style="word-spacing:-0.0292em;">JavaScript </span><span class="stl_129 stl_49 stl_281" style="word-spacing:-0.0292em;">部分写单 &nbsp;</span></div>
					<div class="stl_01" style="top:30.0843em; left:5.6693em;"><span class="stl_129 stl_49 stl_458" style="word-spacing:-0.0222em;">元测试，但没什么用，如果 </span><span class="stl_132 stl_52 stl_458" style="word-spacing:-0.0222em;">JavaScript </span><span class="stl_129 stl_49 stl_458" style="word-spacing:-0.0222em;">交互的 </span><span class="stl_132 stl_52 stl_458" style="word-spacing:-0.0222em;">HTML </span><span class="stl_129 stl_49 stl_458" style="word-spacing:-0.0222em;">内容改变了，那么即使 </span><span class="stl_132 stl_52 stl_458" style="word-spacing:-0.0222em;">JavaScript </span><span class="stl_129 stl_49 stl_458" style="word-spacing:-0.0222em;">可 &nbsp;</span></div>
					<div class="stl_01" style="top:31.412em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">以正常地运行，也不能完成网页需要的动作。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.3231em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">网站前端测试经常被当作一件放到最后才做的事情，或者指派给低级程序员去做，最多再 &nbsp;</span></div>
					<div class="stl_01" style="top:34.4957em; left:5.6693em;"><span class="stl_129 stl_49 stl_773" style="word-spacing:-0.0184em;">给他们一个检查表和一个 </span><span class="stl_132 stl_52 stl_773" style="word-spacing:-0.0184em;">bug </span><span class="stl_129 stl_49 stl_773" style="word-spacing:-0.0184em;">跟踪器。但其实只要再稍微努点儿力，我们就可以把检查表 &nbsp;</span></div>
					<div class="stl_01" style="top:35.8234em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">变成单元测试，用网络爬虫代替人眼进行测试。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.7345em; left:5.6693em;"><span class="stl_129 stl_49 stl_153">想象有一个由测试驱动的网络开发项目。每天进行测试以保证网络接口的每个环节的功能 &nbsp;</span></div>
					<div class="stl_01" style="top:38.9848em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">都是正常的。每当有新的特性加入网站，或者一个元素的位置改变时，就执行一组自动化 &nbsp;</span></div>
					<div class="stl_01" style="top:40.1571em; left:5.6693em;"><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0032em;">测试。在这一章里，我将介绍测试的基础知识，以及如何用 </span><span class="stl_132 stl_52 stl_127" style="word-spacing:-0.0032em;">Python </span><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0032em;">网络爬虫测试各种简单 &nbsp;</span></div>
					<div class="stl_01" style="top:41.4849em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">或复杂的网站。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.8732em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:43.8023em; left:6.4924em;"><span class="stl_197 stl_18 stl_71">3.1</span><span class="stl_160 stl_20 stl_71">ꢀ测试简介 &nbsp;</span></div>
					<div class="stl_01" style="top:46.3132em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">如果你以前从来没有为你的代码写过测试，那么现在开始再合适不过了。运行一套测试方 &nbsp;</span></div>
					<div class="stl_01" style="top:47.4855em; left:5.6693em;"><span class="stl_129 stl_49 stl_846" style="word-spacing:-0.0655em;">法能够保证你的代码按照既定的目标运行，不仅可以节约你的时间，减少你对 </span><span class="stl_132 stl_52 stl_846" style="word-spacing:-0.0655em;">bug </span><span class="stl_129 stl_49 stl_846" style="word-spacing:-0.0655em;">的忧 &nbsp;</span></div>
					<div class="stl_01" style="top:48.8133em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">虑，还可以让新版本升级变得更加简单。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.3099em; left:5.6693em;"><span class="stl_119 stl_22 stl_10">164 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_225.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_225.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9154em; left:6.6142em;"><span class="stl_91 stl_20 stl_71">什么是单元测试 &nbsp;</span></div>
					<div class="stl_01" style="top:6.703em; left:6.6142em;"><span class="stl_269 stl_49 stl_75" style="word-spacing:0.1221em;">测试</span><span class="stl_129 stl_49 stl_75" style="word-spacing:0.1221em;">和</span><span class="stl_269 stl_49 stl_75" style="word-spacing:0.1221em;">单元测试</span><span class="stl_129 stl_49 stl_75" style="word-spacing:0.1221em;">（</span><span class="stl_132 stl_52 stl_75" style="word-spacing:0.1221em;">unit test</span><span class="stl_129 stl_49 stl_75" style="word-spacing:0.1221em;">）这两个词基本可以看成是等价的。一般当程序员们说起“写测 &nbsp;</span></div>
					<div class="stl_01" style="top:8.0308em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">试”时，他们真正的意思就是“写单元测试”。而一些程序员提到写单元测试时，他们写 &nbsp;</span></div>
					<div class="stl_01" style="top:9.2808em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">的就是某一种测试。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.1919em; left:6.6142em;"><span class="stl_129 stl_49 stl_847">虽然不同公司的单元测试定义和实践方法大相径庭，但是一个单元测试通常包含以下 &nbsp;</span></div>
					<div class="stl_01" style="top:12.4419em; left:6.6142em;"><span class="stl_129 stl_49 stl_570">特点。 &nbsp;</span></div>
					<div class="stl_01" style="top:14.3149em; left:6.6142em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:14.2753em; left:7.6774em;"><span class="stl_129 stl_49 stl_492">每个单元测试用于测试一个零件（</span><span class="stl_132 stl_52 stl_492">component</span><span class="stl_129 stl_49 stl_492">）功能的一个方面。例如，如果从银行账 &nbsp;</span></div>
					<div class="stl_01" style="top:15.6036em; left:7.6772em;"><span class="stl_129 stl_49 stl_10">户取出一笔金额为负数的美元，那么单元测试就要对负数抛出适当的错误信息。 &nbsp;</span></div>
					<div class="stl_01" style="top:17.437em; left:7.6772em;"><span class="stl_129 stl_49 stl_564">通常，一个零件的所有单元测试都集成在同一个类（</span><span class="stl_132 stl_52 stl_564">class</span><span class="stl_129 stl_49 stl_564">）里。你可能有一个测试是针 &nbsp;</span></div>
					<div class="stl_01" style="top:18.765em; left:7.6772em;"><span class="stl_129 stl_49 stl_111">对从银行账户取出一笔金额为负数的美元，另一个测试是针对透支银行账户行为的单元 &nbsp;</span></div>
					<div class="stl_01" style="top:20.015em; left:7.6772em;"><span class="stl_129 stl_49 stl_10">测试。 &nbsp;</span></div>
					<div class="stl_01" style="top:21.227em; left:6.614em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:24.977em; left:6.614em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:21.1873em; left:7.6772em;"><span class="stl_129 stl_49 stl_403">每个单元测试都可以完全独立地运行，一个单元测试需要的所有启动（</span><span class="stl_132 stl_52 stl_403">setup</span><span class="stl_129 stl_49 stl_403">）和卸载 &nbsp;</span></div>
					<div class="stl_01" style="top:22.515em; left:7.2813em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:22.4373em; left:8.073em;"><span class="stl_132 stl_52 stl_283">teardown</span><span class="stl_129 stl_49 stl_283">）都必须通过这个单元测试本身去处理。单元测试不能对其他测试造成干扰， &nbsp;</span></div>
					<div class="stl_01" style="top:23.765em; left:7.6772em;"><span class="stl_129 stl_49 stl_10">而且不论按何种顺序排列，它们都必须能够正常地运行。 &nbsp;</span></div>
					<div class="stl_01" style="top:24.9373em; left:7.6772em;"><span class="stl_129 stl_49 stl_579" style="word-spacing:-0.0206em;">每个单元测试通常至少包含一个</span><span class="stl_269 stl_49 stl_579" style="word-spacing:-0.0206em;">断言</span><span class="stl_129 stl_49 stl_579" style="word-spacing:-0.0206em;">（</span><span class="stl_132 stl_52 stl_579" style="word-spacing:-0.0206em;">assertion</span><span class="stl_129 stl_49 stl_579" style="word-spacing:-0.0206em;">）。例如，一个单元测试可以判断 </span><span class="stl_132 stl_52 stl_579" style="word-spacing:-0.0206em;">2+2 &nbsp;</span></div>
					<div class="stl_01" style="top:26.1873em; left:7.6771em;"><span class="stl_129 stl_49 stl_223" style="word-spacing:0.022em;">的和是 </span><span class="stl_132 stl_52 stl_223" style="word-spacing:0.022em;">4</span><span class="stl_129 stl_49 stl_223" style="word-spacing:0.022em;">。有时，一个单元测试也许只包含一个失败状态（</span><span class="stl_132 stl_52 stl_223" style="word-spacing:0.022em;">failure</span><span class="stl_132 stl_52 stl_223" style="word-spacing:0.1042em;"> state</span><span class="stl_129 stl_49 stl_223" style="word-spacing:0.1042em;">）。例如，有这样 &nbsp;</span></div>
					<div class="stl_01" style="top:27.515em; left:7.6772em;"><span class="stl_129 stl_49 stl_121">一个单元测试，如果一个异常没有被抛出，测试失败；如果每个异常都顺利抛出，测试 &nbsp;</span></div>
					<div class="stl_01" style="top:28.765em; left:7.6772em;"><span class="stl_129 stl_49 stl_10">通过。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.977em; left:6.614em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:30.015em; left:7.6772em;"><span class="stl_129 stl_49 stl_121">单元测试与生产代码是分离的。虽然它们需要导入然后在待测试的代码中使用，但是它 &nbsp;</span></div>
					<div class="stl_01" style="top:31.265em; left:7.6772em;"><span class="stl_129 stl_49 stl_10">们一般被保留在独立的类和目录中。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.0984em; left:6.614em;"><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0782em;">尽 管</span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0782em;"> 有</span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0782em;"> 很</span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0782em;"> 多</span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0782em;"> 测</span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0782em;"> 试</span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0782em;"> 类</span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0782em;"> 型</span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0782em;"> 可</span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0782em;"> 以</span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0782em;"> 大</span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0782em;"> 写</span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0782em;"> 特</span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0782em;"> 写，</span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0782em;"> 像</span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0779em;"> 整</span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0782em;"> 体</span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0782em;"> 测</span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0782em;"> 试（</span><span class="stl_132 stl_52 stl_73" style="word-spacing:-0.0782em;">integration</span><span class="stl_132 stl_52 stl_73" style="word-spacing:0.1238em;"> test</span><span class="stl_129 stl_49 stl_73" style="word-spacing:0.1238em;">）</span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0782em;"> 和</span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0782em;"> 有</span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0782em;"> 效</span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0782em;"> 性</span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0782em;"> 测</span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.0782em;"> 试 &nbsp;</span></div>
					<div class="stl_01" style="top:34.4264em; left:6.2183em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:34.3487em; left:7.01em;"><span class="stl_132 stl_52 stl_297" style="word-spacing:0.1186em;">validation test</span><span class="stl_129 stl_49 stl_297" style="word-spacing:0.1186em;">）等，但本章只重点介绍单元测试。这不仅仅是因为单元测试在当前的测试 &nbsp;</span></div>
					<div class="stl_01" style="top:35.5987em; left:6.6142em;"><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0033em;">驱动开发中十分主流，还因为其代码长度和灵活性使它们非常适合做示例。另外 </span><span class="stl_132 stl_52 stl_127" style="word-spacing:-0.0033em;">Python </span><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0033em;">自 &nbsp;</span></div>
					<div class="stl_01" style="top:36.9264em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">带单元测试标准库，我们下一节就来介绍它。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.3147em; left:6.6142em;"><span class="stl_197 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:39.2439em; left:7.4373em;"><span class="stl_197 stl_18 stl_71">3.2</span><span class="stl_160 stl_20 stl_71">ꢀ</span><span class="stl_197 stl_18 stl_71">Python</span><span class="stl_160 stl_20 stl_71">单元测试 &nbsp;</span></div>
					<div class="stl_01" style="top:41.665em; left:6.6142em;"><span class="stl_132 stl_52 stl_204" style="word-spacing:-0.0319em;">Python </span><span class="stl_129 stl_49 stl_204" style="word-spacing:-0.0319em;">的单元测试模块 </span><span class="stl_188 stl_44 stl_726" style="word-spacing:-0.0337em;">unittest</span><span class="stl_129 stl_49 stl_204" style="word-spacing:-0.0319em;">，所有标准版 </span><span class="stl_132 stl_52 stl_204" style="word-spacing:-0.0319em;">Python </span><span class="stl_129 stl_49 stl_204" style="word-spacing:-0.0319em;">安装后都有。只要先导入模块然后 &nbsp;</span></div>
					<div class="stl_01" style="top:42.9927em; left:6.6142em;"><span class="stl_129 stl_49 stl_415" style="word-spacing:-0.0167em;">继承 </span><span class="stl_188 stl_44 stl_687" style="word-spacing:-0.0176em;">unittest.TestCase</span><span class="stl_129 stl_49 stl_415" style="word-spacing:-0.0167em;">类，就可以实现下面的功能： &nbsp;</span></div>
					<div class="stl_01" style="top:44.8778em; left:6.6139em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:46.1282em; left:6.6139em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:47.3782em; left:6.6139em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:44.9042em; left:7.6771em;"><span class="stl_129 stl_49 stl_294" style="word-spacing:-0.0357em;">为每个单元测试的开始和结束提供 </span><span class="stl_188 stl_44 stl_375" style="word-spacing:-0.0376em;">setUp</span><span class="stl_129 stl_49 stl_294" style="word-spacing:-0.0357em;">和 </span><span class="stl_188 stl_44 stl_375" style="word-spacing:-0.0376em;">tearDown</span><span class="stl_129 stl_49 stl_294" style="word-spacing:-0.0357em;">函数 &nbsp;</span></div>
					<div class="stl_01" style="top:46.1663em; left:7.6771em;"><span class="stl_129 stl_49 stl_10">提供不同类型的“断言”语句让测试成功或失败 &nbsp;</span></div>
					<div class="stl_01" style="top:47.4042em; left:7.6771em;"><span class="stl_129 stl_49 stl_200" style="word-spacing:-0.0312em;">把所有以 </span><span class="stl_188 stl_44 stl_340" style="word-spacing:-0.0329em;">test_</span><span class="stl_129 stl_49 stl_200" style="word-spacing:-0.0312em;">开头的函数当作单元测试运行，忽略不带 </span><span class="stl_188 stl_44 stl_340" style="word-spacing:-0.0329em;">test_</span><span class="stl_129 stl_49 stl_200" style="word-spacing:-0.0312em;">的函数 &nbsp;</span></div>
					<div class="stl_01" style="top:49.2496em; left:6.6138em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">下面的例子演示了如何用 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">实现一个非常简单的单元测试，测试 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">2+2=4</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">： &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:29.2367em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">用爬虫测试网站 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">165 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_226.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_226.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8919em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">unittest &nbsp;</span></div>
					<div class="stl_01" style="top:6.5579em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">class </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">TestAddition(unittest.TestCase): &nbsp;</span></div>
					<div class="stl_01" style="top:7.3909em; left:8.8104em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">def </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">setUp(self): &nbsp;</span></div>
					<div class="stl_01" style="top:8.2239em; left:10.227em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">print</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">("Setting up the test") &nbsp;</span></div>
					<div class="stl_01" style="top:9.8899em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">tearDown(self): &nbsp;</span></div>
					<div class="stl_01" style="top:10.7229em; left:10.227em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">("Tearing down the test") &nbsp;</span></div>
					<div class="stl_01" style="top:12.3889em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">test_twoPlusTwo(self): &nbsp;</span></div>
					<div class="stl_01" style="top:13.2219em; left:10.227em;"><span class="stl_116 stl_44 stl_10">total = 2+2 &nbsp;</span></div>
					<div class="stl_01" style="top:14.0549em; left:10.227em;"><span class="stl_116 stl_44 stl_10">self.assertEqual(4, total) &nbsp;</span></div>
					<div class="stl_01" style="top:15.7209em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">__name__ == '__main__': &nbsp;</span></div>
					<div class="stl_01" style="top:16.5539em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">unittest.main() &nbsp;</span></div>
					<div class="stl_01" style="top:18.3454em; left:5.6693em;"><span class="stl_129 stl_49 stl_439" style="word-spacing:-0.0513em;">虽然 </span><span class="stl_188 stl_44 stl_364" style="word-spacing:-0.0542em;">setUp</span><span class="stl_129 stl_49 stl_439" style="word-spacing:-0.0513em;">和 </span><span class="stl_188 stl_44 stl_364" style="word-spacing:-0.0542em;">tearDown</span><span class="stl_129 stl_49 stl_439" style="word-spacing:-0.0513em;">函数在这里并没有实现可用的功能，但是仍然达到了演示的目的。 &nbsp;</span></div>
					<div class="stl_01" style="top:19.6075em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">需要注意的是，这两个函数在每个测试的开始和结束都会运行一次，而不是把类中所有测 &nbsp;</span></div>
					<div class="stl_01" style="top:20.8575em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">试作为一个整体在开始或结束时各运行一次。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.3622em; left:5.6693em;"><span class="stl_91 stl_20 stl_71">测试维基百科 &nbsp;</span></div>
					<div class="stl_01" style="top:25.1378em; left:5.6693em;"><span class="stl_129 stl_49 stl_397" style="word-spacing:-0.041em;">将 </span><span class="stl_132 stl_52 stl_397" style="word-spacing:-0.041em;">Python </span><span class="stl_129 stl_49 stl_397" style="word-spacing:-0.041em;">的 </span><span class="stl_188 stl_44 stl_399" style="word-spacing:-0.0433em;">unittest</span><span class="stl_129 stl_49 stl_397" style="word-spacing:-0.041em;">库与网络爬虫组合起来，就可以实现简单的网站前端功能测试（除 &nbsp;</span></div>
					<div class="stl_01" style="top:26.3999em; left:5.6691em;"><span class="stl_129 stl_49 stl_13" style="word-spacing:0.0501em;">了 </span><span class="stl_132 stl_52 stl_13" style="word-spacing:0.0501em;">JavaScript </span><span class="stl_129 stl_49 stl_13" style="word-spacing:0.0501em;">测试，后面我们会介绍）。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.3683em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urllib.request </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:29.2013em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">bs4 </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">BeautifulSoup &nbsp;</span></div>
					<div class="stl_01" style="top:30.0343em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">unittest &nbsp;</span></div>
					<div class="stl_01" style="top:31.7003em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">class </span><span class="stl_116 stl_44 stl_10">TestWikipedia(unittest.TestCase): &nbsp;</span></div>
					<div class="stl_01" style="top:32.5333em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">bsObj = None &nbsp;</span></div>
					<div class="stl_01" style="top:33.3663em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">setUpClass(): &nbsp;</span></div>
					<div class="stl_01" style="top:34.1993em; left:10.227em;"><span class="stl_232 stl_44 stl_10">global </span><span class="stl_116 stl_44 stl_10">bsObj &nbsp;</span></div>
					<div class="stl_01" style="top:35.0323em; left:10.227em;"><span class="stl_116 stl_44 stl_10">url = "http://en.wikipedia.org/wiki/Monty_Python" &nbsp;</span></div>
					<div class="stl_01" style="top:35.8653em; left:10.227em;"><span class="stl_116 stl_44 stl_10">bsObj = BeautifulSoup(urlopen(url)) &nbsp;</span></div>
					<div class="stl_01" style="top:37.5313em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">test_titleText(self): &nbsp;</span></div>
					<div class="stl_01" style="top:38.3643em; left:10.227em;"><span class="stl_232 stl_44 stl_10">global </span><span class="stl_116 stl_44 stl_10">bsObj &nbsp;</span></div>
					<div class="stl_01" style="top:39.1973em; left:10.227em;"><span class="stl_116 stl_44 stl_10">pageTitle = bsObj.find("h1").get_text() &nbsp;</span></div>
					<div class="stl_01" style="top:40.0303em; left:10.227em;"><span class="stl_116 stl_44 stl_10">self.assertEqual("Monty Python", pageTitle) &nbsp;</span></div>
					<div class="stl_01" style="top:41.6963em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">test_contentExists(self): &nbsp;</span></div>
					<div class="stl_01" style="top:42.5293em; left:10.227em;"><span class="stl_232 stl_44 stl_10">global </span><span class="stl_116 stl_44 stl_10">bsObj &nbsp;</span></div>
					<div class="stl_01" style="top:43.3623em; left:10.227em;"><span class="stl_116 stl_44 stl_10">content = bsObj.find("div",{"id":"mw-content-text"}) &nbsp;</span></div>
					<div class="stl_01" style="top:44.1953em; left:10.227em;"><span class="stl_116 stl_44 stl_10">self.assertIsNotNone(content) &nbsp;</span></div>
					<div class="stl_01" style="top:45.8613em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">__name__ == '__main__': &nbsp;</span></div>
					<div class="stl_01" style="top:46.6943em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">unittest.main() &nbsp;</span></div>
					<div class="stl_01" style="top:48.4229em; left:5.6693em;"><span class="stl_129 stl_49 stl_739" style="word-spacing:0.1479em;">这里有两个测试：第一个是测试页面的标题是否为“</span><span class="stl_132 stl_52 stl_739" style="word-spacing:0.1479em;">Monty Python</span><span class="stl_129 stl_49 stl_739" style="word-spacing:0.1479em;">”，另一个是测试页面是 &nbsp;</span></div>
					<div class="stl_01" style="top:49.7385em; left:5.6693em;"><span class="stl_129 stl_49 stl_294" style="word-spacing:-0.0357em;">否有一个 </span><span class="stl_188 stl_44 stl_375" style="word-spacing:-0.0377em;">div</span><span class="stl_129 stl_49 stl_294" style="word-spacing:-0.0357em;">节点 </span><span class="stl_188 stl_44 stl_375" style="word-spacing:-0.0377em;">id</span><span class="stl_129 stl_49 stl_294" style="word-spacing:-0.0357em;">属性是 </span><span class="stl_188 stl_44 stl_375" style="word-spacing:-0.0377em;">"mw-content-text"</span><span class="stl_129 stl_49 stl_294" style="word-spacing:-0.0357em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">66 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 13</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_227.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_227.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9005em; left:6.6142em;"><span class="stl_129 stl_49 stl_496" style="word-spacing:-0.0249em;">需要注意的是，这个页面的内容只加载一次，全局对象 </span><span class="stl_188 stl_44 stl_497" style="word-spacing:-0.0263em;">bsObj</span><span class="stl_129 stl_49 stl_496" style="word-spacing:-0.0249em;">由多个测试共享。这是通过 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1505em; left:6.6142em;"><span class="stl_188 stl_44 stl_170" style="word-spacing:-0.0263em;">unittest</span><span class="stl_129 stl_49 stl_586" style="word-spacing:-0.0249em;">类的函数 </span><span class="stl_188 stl_44 stl_170" style="word-spacing:-0.0263em;">setUpClass</span><span class="stl_129 stl_49 stl_586" style="word-spacing:-0.0249em;">来实现的，这个函数只在类的初始化阶段运行一次（与每个 &nbsp;</span></div>
					<div class="stl_01" style="top:7.4005em; left:6.614em;"><span class="stl_129 stl_49 stl_443" style="word-spacing:-0.0407em;">测试启动时都运行的 </span><span class="stl_188 stl_44 stl_614" style="word-spacing:-0.043em;">setUp</span><span class="stl_129 stl_49 stl_443" style="word-spacing:-0.0407em;">函数不同）。用 </span><span class="stl_188 stl_44 stl_614" style="word-spacing:-0.043em;">setUpClass</span><span class="stl_129 stl_49 stl_443" style="word-spacing:-0.0407em;">代替 </span><span class="stl_188 stl_44 stl_614" style="word-spacing:-0.043em;">setUp</span><span class="stl_129 stl_49 stl_443" style="word-spacing:-0.0407em;">可以省去不必要的页面 &nbsp;</span></div>
					<div class="stl_01" style="top:8.6627em; left:6.6144em;"><span class="stl_129 stl_49 stl_10">加载；我们可以一次性采集全部内容，供多个测试使用。 &nbsp;</span></div>
					<div class="stl_01" style="top:10.4961em; left:6.6144em;"><span class="stl_129 stl_49 stl_138" style="word-spacing:-0.0178em;">虽然一次只测试一个页面看起来可能不够强大，也没什么意思，但是如果你还记得第 </span><span class="stl_132 stl_52 stl_138" style="word-spacing:-0.0178em;">3 </span><span class="stl_129 stl_49 stl_138" style="word-spacing:-0.0178em;">章 &nbsp;</span></div>
					<div class="stl_01" style="top:11.8241em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">的内容，就可以轻松地创建一个网络爬虫去遍历网站中所有的页面。下面我们来看看，当 &nbsp;</span></div>
					<div class="stl_01" style="top:13.0741em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">把网络爬虫和一个向页面内容添加断言的单元测试组合起来时，会发生什么呢？ &nbsp;</span></div>
					<div class="stl_01" style="top:14.9852em; left:6.6142em;"><span class="stl_129 stl_49 stl_153">有很多方法可以重复执行一个测试，但是我们必须对即将在页面上运行的所有测试都时刻 &nbsp;</span></div>
					<div class="stl_01" style="top:16.2355em; left:6.6142em;"><span class="stl_129 stl_49 stl_157">保持谨慎，因为我们只加载一次页面，而且我们必须避免在内存中一次性加入大量的信 &nbsp;</span></div>
					<div class="stl_01" style="top:17.4855em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">息。具体设置如下所示： &nbsp;</span></div>
					<div class="stl_01" style="top:19.3762em; left:8.3386em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">class </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">TestWikipedia(unittest.TestCase): &nbsp;</span></div>
					<div class="stl_01" style="top:20.2092em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">bsObj = None &nbsp;</span></div>
					<div class="stl_01" style="top:21.0422em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">url = None &nbsp;</span></div>
					<div class="stl_01" style="top:22.7082em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">test_PageProperties(self): &nbsp;</span></div>
					<div class="stl_01" style="top:23.5412em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">global </span><span class="stl_116 stl_44 stl_10">bsObj &nbsp;</span></div>
					<div class="stl_01" style="top:24.3742em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">global </span><span class="stl_116 stl_44 stl_10">url &nbsp;</span></div>
					<div class="stl_01" style="top:26.0402em; left:11.1719em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">url = "http://en.wikipedia.org/wiki/Monty_Python" &nbsp;</span></div>
					<div class="stl_01" style="top:26.8732em; left:11.8803em;"><span class="stl_256 stl_49 stl_10">测试遇到的前</span><span class="stl_116 stl_44 stl_10">100</span><span class="stl_256 stl_49 stl_10">个页面 &nbsp;</span></div>
					<div class="stl_01" style="top:26.8732em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:27.7062em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">for </span><span class="stl_116 stl_44 stl_10">i </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">range(1, 100): &nbsp;</span></div>
					<div class="stl_01" style="top:28.5392em; left:12.5886em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">bsObj = BeautifulSoup(urlopen(url)) &nbsp;</span></div>
					<div class="stl_01" style="top:29.3722em; left:12.5886em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">titles = self.titleMatchesURL() &nbsp;</span></div>
					<div class="stl_01" style="top:30.2052em; left:12.5886em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">self.assertEquals(titles[0], titles[1]) &nbsp;</span></div>
					<div class="stl_01" style="top:31.0382em; left:12.5886em;"><span class="stl_116 stl_44 stl_10">self.assertTrue(self.contentExists()) &nbsp;</span></div>
					<div class="stl_01" style="top:31.8712em; left:12.5886em;"><span class="stl_116 stl_44 stl_10">url = self.getNextLink() &nbsp;</span></div>
					<div class="stl_01" style="top:32.7042em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">("Done!") &nbsp;</span></div>
					<div class="stl_01" style="top:34.3702em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">titleMatchesURL(self): &nbsp;</span></div>
					<div class="stl_01" style="top:35.2032em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">global </span><span class="stl_116 stl_44 stl_10">bsObj &nbsp;</span></div>
					<div class="stl_01" style="top:36.0362em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">global </span><span class="stl_116 stl_44 stl_10">url &nbsp;</span></div>
					<div class="stl_01" style="top:36.8692em; left:11.1719em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">pageTitle = bsObj.find("h1").get_text() &nbsp;</span></div>
					<div class="stl_01" style="top:37.7022em; left:11.1719em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urlTitle = url[(url.index("/wiki/")+6):] &nbsp;</span></div>
					<div class="stl_01" style="top:38.5352em; left:11.1719em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">urlTitle = urlTitle.replace("_", " ") &nbsp;</span></div>
					<div class="stl_01" style="top:39.3682em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">urlTitle = unquote(urlTitle) &nbsp;</span></div>
					<div class="stl_01" style="top:40.2012em; left:11.1719em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">return </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">[pageTitle.lower(), urlTitle.lower()] &nbsp;</span></div>
					<div class="stl_01" style="top:41.8672em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">contentExists(self): &nbsp;</span></div>
					<div class="stl_01" style="top:42.7002em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">global </span><span class="stl_116 stl_44 stl_10">bsObj &nbsp;</span></div>
					<div class="stl_01" style="top:43.5332em; left:11.1719em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">content = bsObj.find("div",{"id":"mw-content-text"}) &nbsp;</span></div>
					<div class="stl_01" style="top:44.3662em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">content </span><span class="stl_232 stl_44 stl_10">is not </span><span class="stl_116 stl_44 stl_10">None: &nbsp;</span></div>
					<div class="stl_01" style="top:45.1992em; left:12.5886em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">True &nbsp;</span></div>
					<div class="stl_01" style="top:46.0322em; left:11.1719em;"><span class="stl_232 stl_44 stl_10">return </span><span class="stl_116 stl_44 stl_10">False &nbsp;</span></div>
					<div class="stl_01" style="top:47.6982em; left:9.7553em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">getNextLink(self): &nbsp;</span></div>
					<div class="stl_01" style="top:48.5312em; left:11.1719em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:48.5312em; left:11.5261em;"><span class="stl_256 stl_49 stl_10">使用第</span><span class="stl_116 stl_44 stl_10">5</span><span class="stl_256 stl_49 stl_10">章介绍的方法返回随机链接 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:29.2367em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">用爬虫测试网站 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">167 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_228.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_228.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8919em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">if </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">__name__ == '__main__': &nbsp;</span></div>
					<div class="stl_01" style="top:5.7249em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">unittest.main() &nbsp;</span></div>
					<div class="stl_01" style="top:7.5242em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">有几个地方需要注意。首先，这个类里面实际上只有一个测试。其他的函数其实都是功能 &nbsp;</span></div>
					<div class="stl_01" style="top:8.6965em; left:5.6693em;"><span class="stl_129 stl_49 stl_761" style="word-spacing:0.1173em;">性的辅助函数（</span><span class="stl_132 stl_52 stl_761" style="word-spacing:0.1173em;">helper function</span><span class="stl_129 stl_49 stl_761" style="word-spacing:0.1173em;">），即使它们做了大量计算来判断测试是否通过。因为测试 &nbsp;</span></div>
					<div class="stl_01" style="top:10.0121em; left:5.6693em;"><span class="stl_129 stl_49 stl_309" style="word-spacing:-0.0397em;">函数 </span><span class="stl_188 stl_44 stl_308" style="word-spacing:-0.0419em;">test_PageProperties</span><span class="stl_129 stl_49 stl_309" style="word-spacing:-0.0397em;">使用了断言语句，所以测试的结果最终会传到这些断言所在的 &nbsp;</span></div>
					<div class="stl_01" style="top:11.2742em; left:5.6694em;"><span class="stl_129 stl_49 stl_10">函数里。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.1735em; left:5.6694em;"><span class="stl_129 stl_49 stl_398">另外，</span><span class="stl_188 stl_44 stl_332">contentExists</span><span class="stl_129 stl_49 stl_398">返回的是布尔变量，</span><span class="stl_188 stl_44 stl_332">titleMatchesURL</span><span class="stl_129 stl_49 stl_398">返回的是字符串列表。我们之 &nbsp;</span></div>
					<div class="stl_01" style="top:14.4356em; left:5.6692em;"><span class="stl_129 stl_49 stl_10">所以用列表而不用布尔变量作为断言语句的值，其原因如下所示： &nbsp;</span></div>
					<div class="stl_01" style="top:16.3265em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">=</span></div>
					<div class="stl_01" style="top:16.3265em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">===================================================================== &nbsp;</span></div>
					<div class="stl_01" style="top:17.1595em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">FAIL: test_PageProperties (__main__.TestWikipedia) &nbsp;</span></div>
					<div class="stl_01" style="top:17.9925em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">--------------------------------------------------------------------- &nbsp;</span></div>
					<div class="stl_01" style="top:17.9925em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">-</span></div>
					<div class="stl_01" style="top:18.8255em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Traceback (most recent call last): &nbsp;</span></div>
					<div class="stl_01" style="top:19.6585em; left:8.102em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">File "15-3.py", line 22, in test_PageProperties &nbsp;</span></div>
					<div class="stl_01" style="top:20.4915em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">self.assertTrue(self.titleMatchesURL()) &nbsp;</span></div>
					<div class="stl_01" style="top:21.3245em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">AssertionError: False is not true &nbsp;</span></div>
					<div class="stl_01" style="top:23.1132em; left:5.6693em;"><span class="stl_188 stl_44 stl_359">assertEquals</span><span class="stl_129 stl_49 stl_170">语句的结果是： &nbsp;</span></div>
					<div class="stl_01" style="top:25.0161em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">=</span></div>
					<div class="stl_01" style="top:25.0161em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">===================================================================== &nbsp;</span></div>
					<div class="stl_01" style="top:25.8491em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">FAIL: test_PageProperties (__main__.TestWikipedia) &nbsp;</span></div>
					<div class="stl_01" style="top:26.6821em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">--------------------------------------------------------------------- &nbsp;</span></div>
					<div class="stl_01" style="top:26.6821em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">-</span></div>
					<div class="stl_01" style="top:27.5151em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Traceback (most recent call last): &nbsp;</span></div>
					<div class="stl_01" style="top:28.3481em; left:8.102em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">File "15-3.py", line 23, in test_PageProperties &nbsp;</span></div>
					<div class="stl_01" style="top:29.1811em; left:8.8104em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">self.assertEquals(titles[0], titles[1]) &nbsp;</span></div>
					<div class="stl_01" style="top:30.0141em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">AssertionError: 'lockheed u-2' != 'u-2 spy plane' &nbsp;</span></div>
					<div class="stl_01" style="top:31.8149em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">究竟哪一种方式调试起来更方便呢？ &nbsp;</span></div>
					<div class="stl_01" style="top:33.6482em; left:5.6693em;"><span class="stl_129 stl_49 stl_848" style="word-spacing:-0.1904em;">在这个示例中，之所生会发生错误是因为网页发生了一个重定向，即词条 </span><span class="stl_132 stl_52 stl_848" style="word-spacing:-0.1904em;">https:// &nbsp;</span></div>
					<div class="stl_01" style="top:34.8986em; left:5.6693em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0005em;">en.wikipedia.org/wiki/U-2_spy_plane </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0005em;">会跳转到标题为“</span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0005em;">Lockheed U-2</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0005em;">”的词条。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.3646em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:37.2938em; left:6.4924em;"><span class="stl_197 stl_18 stl_198">3.3</span><span class="stl_160 stl_20 stl_198">ꢀ</span><span class="stl_197 stl_18 stl_198">Selenium</span><span class="stl_160 stl_20 stl_198">单元测试 &nbsp;</span></div>
					<div class="stl_01" style="top:39.727em; left:5.6693em;"><span class="stl_129 stl_49 stl_249" style="word-spacing:-0.0483em;">和第 </span><span class="stl_132 stl_52 stl_249" style="word-spacing:-0.0483em;">10 </span><span class="stl_129 stl_49 stl_249" style="word-spacing:-0.0483em;">章里介绍的 </span><span class="stl_132 stl_52 stl_249" style="word-spacing:-0.0483em;">Ajax </span><span class="stl_129 stl_49 stl_249" style="word-spacing:-0.0483em;">采集一样，在网站测试中 </span><span class="stl_132 stl_52 stl_249" style="word-spacing:-0.0483em;">JavaScript </span><span class="stl_129 stl_49 stl_249" style="word-spacing:-0.0483em;">也是一个难题。幸运的是， &nbsp;</span></div>
					<div class="stl_01" style="top:40.977em; left:5.6693em;"><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0148em;">我们有 </span><span class="stl_132 stl_52 stl_367" style="word-spacing:-0.0148em;">Selenium</span><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0148em;">，它是一个可以解决网站上各种复杂问题的优秀测试框架；其实，它的初 &nbsp;</span></div>
					<div class="stl_01" style="top:42.3047em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">衷就是用来做网站测试！ &nbsp;</span></div>
					<div class="stl_01" style="top:44.1381em; left:5.6693em;"><span class="stl_129 stl_49 stl_343" style="word-spacing:-0.0393em;">虽然这里的单元测试都是同一种语言（</span><span class="stl_132 stl_52 stl_343" style="word-spacing:-0.0393em;">Python</span><span class="stl_129 stl_49 stl_343" style="word-spacing:-0.0393em;">）写的，但是 </span><span class="stl_132 stl_52 stl_343" style="word-spacing:-0.0393em;">Python </span><span class="stl_129 stl_49 stl_343" style="word-spacing:-0.0393em;">单元测试和 </span><span class="stl_132 stl_52 stl_343" style="word-spacing:-0.0393em;">Selenium &nbsp;</span></div>
					<div class="stl_01" style="top:45.3884em; left:5.6693em;"><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0157em;">单元测试的语法还是有点儿不一样。</span><span class="stl_132 stl_52 stl_367" style="word-spacing:-0.0157em;">Selenium </span><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0157em;">不要求单元测试必须是类的一个函数，它的 &nbsp;</span></div>
					<div class="stl_01" style="top:46.7161em; left:5.2735em;"><span class="stl_129 stl_49 stl_10">“</span></div>
					<div class="stl_01" style="top:46.7161em; left:6.0849em;"><span class="stl_129 stl_49 stl_758">断言”语句也不需要括号，而且测试通过的话不会有提示，只有当测试失败时才会产生 &nbsp;</span></div>
					<div class="stl_01" style="top:47.9661em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">信息提示： &nbsp;</span></div>
					<div class="stl_01" style="top:49.857em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">driver = webdriver.PhantomJS() &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">68 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 13</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_229.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_229.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8921em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">driver.get("http://en.wikipedia.org/wiki/Monty_Python") &nbsp;</span></div>
					<div class="stl_01" style="top:5.7251em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">assert </span><span class="stl_116 stl_44 stl_10">"Monty Python" </span><span class="stl_232 stl_44 stl_10">in </span><span class="stl_116 stl_44 stl_10">driver.title &nbsp;</span></div>
					<div class="stl_01" style="top:6.5581em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">driver.close() &nbsp;</span></div>
					<div class="stl_01" style="top:8.3575em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">当这段代码运行的时候，测试结果不会输出任何信息。 &nbsp;</span></div>
					<div class="stl_01" style="top:10.1909em; left:6.6142em;"><span class="stl_129 stl_49 stl_295" style="word-spacing:-0.0307em;">因此，写 </span><span class="stl_132 stl_52 stl_295" style="word-spacing:-0.0307em;">Selenium </span><span class="stl_129 stl_49 stl_295" style="word-spacing:-0.0307em;">单元测试的时候需要比写 </span><span class="stl_132 stl_52 stl_295" style="word-spacing:-0.0307em;">Python </span><span class="stl_129 stl_49 stl_295" style="word-spacing:-0.0307em;">单元测试更加随意，断言语句甚至可 &nbsp;</span></div>
					<div class="stl_01" style="top:11.519em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">以整合到生产代码中，非常适合某些条件不能满足就中断代码的需求。 &nbsp;</span></div>
					<div class="stl_01" style="top:14.0236em; left:6.6142em;"><span class="stl_91 stl_20 stl_71">与网站进行交互 &nbsp;</span></div>
					<div class="stl_01" style="top:15.889em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">最近，我想通过一个网站的商户通讯录联系我家附近的一个小商家，结果发现网页上的信 &nbsp;</span></div>
					<div class="stl_01" style="top:17.139em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">息没有了；我点击提交按钮的时候什么也没查到。经过一些探索之后，我发现这个网站用 &nbsp;</span></div>
					<div class="stl_01" style="top:18.389em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">了一个简易的邮件发送表单，如果商户联系方式的内容有问题就可以给网管发邮件。于是 &nbsp;</span></div>
					<div class="stl_01" style="top:19.639em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">我就用这个邮箱地址给他们发了一封邮件，告诉他们联系方式信息表单出了问题，让他们 &nbsp;</span></div>
					<div class="stl_01" style="top:20.889em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">尽快解决，虽然不是技术问题。 &nbsp;</span></div>
					<div class="stl_01" style="top:22.8001em; left:6.6142em;"><span class="stl_129 stl_49 stl_177">如果我要写一个普通的爬虫来采集或测试这个表单，那么爬虫也许只能复制表单的结构， &nbsp;</span></div>
					<div class="stl_01" style="top:24.0504em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">然后直接给我自己发邮件——不过抓不到表单的内容。那么我怎么测试表单的功能才能保 &nbsp;</span></div>
					<div class="stl_01" style="top:25.3005em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">证它在浏览器上也可以正常工作呢？ &nbsp;</span></div>
					<div class="stl_01" style="top:27.2115em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">虽然在前面的几章中我们介绍过链接跳转、表单提交和其他网站交互行为，但是我们做那 &nbsp;</span></div>
					<div class="stl_01" style="top:28.3841em; left:6.6142em;"><span class="stl_129 stl_49 stl_359">些事情的共同初衷都是要</span><span class="stl_269 stl_49 stl_359">避开</span><span class="stl_129 stl_49 stl_359">浏览器图形界面，而不是使用浏览器。另一方面，</span><span class="stl_132 stl_52 stl_359">Selenium &nbsp;</span></div>
					<div class="stl_01" style="top:29.6341em; left:6.6138em;"><span class="stl_129 stl_49 stl_849" style="word-spacing:-0.0585em;">可以在浏览器（这里用 </span><span class="stl_132 stl_52 stl_849" style="word-spacing:-0.0585em;">PhantomJS </span><span class="stl_129 stl_49 stl_849" style="word-spacing:-0.0585em;">无头浏览器）上做任何事，包括输入文字、点击按钮 &nbsp;</span></div>
					<div class="stl_01" style="top:30.8841em; left:6.6142em;"><span class="stl_129 stl_49 stl_220" style="word-spacing:-0.032em;">等，这样就可以找出异常表单、</span><span class="stl_132 stl_52 stl_220" style="word-spacing:-0.032em;">JavaScript </span><span class="stl_129 stl_49 stl_220" style="word-spacing:-0.032em;">代码错误、</span><span class="stl_132 stl_52 stl_220" style="word-spacing:-0.032em;">HTML </span><span class="stl_129 stl_49 stl_220" style="word-spacing:-0.032em;">排版错误，以及其他用户使 &nbsp;</span></div>
					<div class="stl_01" style="top:32.2119em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">用过程中可能出现的问题。 &nbsp;</span></div>
					<div class="stl_01" style="top:34.0335em; left:6.6142em;"><span class="stl_129 stl_49 stl_476" style="word-spacing:-0.022em;">这个测试的关键是使用 </span><span class="stl_132 stl_52 stl_476" style="word-spacing:-0.022em;">Selenium </span><span class="stl_129 stl_49 stl_476" style="word-spacing:-0.022em;">的 </span><span class="stl_188 stl_44 stl_685" style="word-spacing:-0.0233em;">elements</span><span class="stl_129 stl_49 stl_476" style="word-spacing:-0.022em;">。这个对象在第 </span><span class="stl_132 stl_52 stl_476" style="word-spacing:-0.022em;">10 </span><span class="stl_129 stl_49 stl_476" style="word-spacing:-0.022em;">章已经简单介绍过了，它 &nbsp;</span></div>
					<div class="stl_01" style="top:35.3733em; left:6.6141em;"><span class="stl_129 stl_49 stl_10">的调用方式如下所示： &nbsp;</span></div>
					<div class="stl_01" style="top:37.2641em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">usernameField = driver.find_element_by_name('username') &nbsp;</span></div>
					<div class="stl_01" style="top:38.9852em; left:6.6142em;"><span class="stl_129 stl_49 stl_710" style="word-spacing:-0.015em;">就像你可以在浏览器里对网站上的不同元素执行一系列操作一样，</span><span class="stl_132 stl_52 stl_710" style="word-spacing:-0.015em;">Selenium </span><span class="stl_129 stl_49 stl_710" style="word-spacing:-0.015em;">也可以对任何 &nbsp;</span></div>
					<div class="stl_01" style="top:40.3129em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">给定元素执行很多操作，如下所示： &nbsp;</span></div>
					<div class="stl_01" style="top:42.2038em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">myElement.click() &nbsp;</span></div>
					<div class="stl_01" style="top:43.0368em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">myElement.click_and_hold() &nbsp;</span></div>
					<div class="stl_01" style="top:43.8698em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">myElement.release() &nbsp;</span></div>
					<div class="stl_01" style="top:44.7028em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">myElement.double_click() &nbsp;</span></div>
					<div class="stl_01" style="top:45.5358em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">myElement.send_keys_to_element("content to enter") &nbsp;</span></div>
					<div class="stl_01" style="top:47.2582em; left:6.6142em;"><span class="stl_129 stl_49 stl_209" style="word-spacing:0.1041em;">为了一次性完成一个元素的多个操作，可以用</span><span class="stl_269 stl_49 stl_209" style="word-spacing:0.1041em;">动作链</span><span class="stl_129 stl_49 stl_209" style="word-spacing:0.1041em;">（</span><span class="stl_132 stl_52 stl_209" style="word-spacing:0.1041em;">action chain</span><span class="stl_129 stl_49 stl_209" style="word-spacing:0.1041em;">）储存多个操作，然后 &nbsp;</span></div>
					<div class="stl_01" style="top:48.5859em; left:6.6139em;"><span class="stl_129 stl_49 stl_130">在一个程序中执行一次或多次。用动作链储存多个操作非常方便，而且非常有用，它们的 &nbsp;</span></div>
					<div class="stl_01" style="top:49.8359em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">功能和前面示例中对一个元素显式调用操作是完全一样的。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:29.2367em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">用爬虫测试网站 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">169 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_230.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_230.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_129 stl_49 stl_687" style="word-spacing:-0.0111em;">为了演示两种方式的差异，我们看一看 </span><span class="stl_132 stl_52 stl_687" style="word-spacing:-0.0111em;">http://pythonscraping.com/pages/</span><span class="stl_148 stl_52 stl_687" style="word-spacing:-0.0111em;">ﬁ</span><span class="stl_132 stl_52 stl_687" style="word-spacing:-0.0111em;">les/form.html </span><span class="stl_129 stl_49 stl_687" style="word-spacing:-0.0111em;">的表 &nbsp;</span></div>
					<div class="stl_01" style="top:6.085em; left:5.6693em;"><span class="stl_129 stl_49 stl_50" style="word-spacing:0.0385em;">单（是第 </span><span class="stl_132 stl_52 stl_50" style="word-spacing:0.0385em;">9 </span><span class="stl_129 stl_49 stl_50" style="word-spacing:0.0385em;">章用过的例子）。我们用下面的方式填写表单并提交： &nbsp;</span></div>
					<div class="stl_01" style="top:8.0533em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">selenium </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">webdriver &nbsp;</span></div>
					<div class="stl_01" style="top:8.8863em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">selenium.webdriver.remote.webelement </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">WebElement &nbsp;</span></div>
					<div class="stl_01" style="top:9.7193em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">selenium.webdriver.common.keys </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">Keys &nbsp;</span></div>
					<div class="stl_01" style="top:10.5523em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">selenium.webdriver </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">ActionChains &nbsp;</span></div>
					<div class="stl_01" style="top:13.0513em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">driver = webdriver.PhantomJS(executable_path='&lt;Path to Phantom JS&gt;') &nbsp;</span></div>
					<div class="stl_01" style="top:13.8843em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">driver.get("http://pythonscraping.com/pages/files/form.html") &nbsp;</span></div>
					<div class="stl_01" style="top:15.5503em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">firstnameField = driver.find_element_by_name("firstname") &nbsp;</span></div>
					<div class="stl_01" style="top:16.3833em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">lastnameField = driver.find_element_by_name("lastname") &nbsp;</span></div>
					<div class="stl_01" style="top:17.2163em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">submitButton = driver.find_element_by_id("submit") &nbsp;</span></div>
					<div class="stl_01" style="top:18.8823em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:18.8823em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">## </span><span class="stl_256 stl_49 stl_10">方法</span><span class="stl_116 stl_44 stl_10">1 ### &nbsp;</span></div>
					<div class="stl_01" style="top:19.7153em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">firstnameField.send_keys("Ryan") &nbsp;</span></div>
					<div class="stl_01" style="top:20.5483em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">lastnameField.send_keys("Mitchell") &nbsp;</span></div>
					<div class="stl_01" style="top:21.3813em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">submitButton.click() &nbsp;</span></div>
					<div class="stl_01" style="top:22.2143em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:22.2143em; left:7.7479em;"><span class="stl_116 stl_44 stl_10">############### &nbsp;</span></div>
					<div class="stl_01" style="top:23.8803em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">### </span><span class="stl_256 stl_49 stl_10">方法</span><span class="stl_116 stl_44 stl_10">2 ### &nbsp;</span></div>
					<div class="stl_01" style="top:24.7133em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">actions = ActionChains(driver).click(firstnameField).send_keys("Ryan") &nbsp;</span></div>
					<div class="stl_01" style="top:25.5463em; left:18.0187em;"><span class="stl_116 stl_44 stl_10">.</span></div>
					<div class="stl_01" style="top:26.3793em; left:18.0187em;"><span class="stl_116 stl_44 stl_10">.</span></div>
					<div class="stl_01" style="top:25.5463em; left:18.3729em;"><span class="stl_116 stl_44 stl_10">click(lastnameField).send_keys("Mitchell") &nbsp;</span></div>
					<div class="stl_01" style="top:26.3793em; left:18.3729em;"><span class="stl_116 stl_44 stl_10">send_keys(Keys.RETURN) &nbsp;</span></div>
					<div class="stl_01" style="top:27.2123em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">actions.perform() &nbsp;</span></div>
					<div class="stl_01" style="top:28.0453em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">################ &nbsp;</span></div>
					<div class="stl_01" style="top:29.7113em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(driver.find_element_by_tag_name("body").text) &nbsp;</span></div>
					<div class="stl_01" style="top:31.3773em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">driver.close() &nbsp;</span></div>
					<div class="stl_01" style="top:33.0958em; left:5.6693em;"><span class="stl_129 stl_49 stl_683" style="word-spacing:-0.0375em;">方法 </span><span class="stl_132 stl_52 stl_683" style="word-spacing:-0.0375em;">1 </span><span class="stl_129 stl_49 stl_683" style="word-spacing:-0.0375em;">在两个字段上调用 </span><span class="stl_188 stl_44 stl_403" style="word-spacing:-0.0396em;">send_keys</span><span class="stl_129 stl_49 stl_683" style="word-spacing:-0.0375em;">，然后点击确认按钮；而方法 </span><span class="stl_132 stl_52 stl_683" style="word-spacing:-0.0375em;">2 </span><span class="stl_129 stl_49 stl_683" style="word-spacing:-0.0375em;">在用一个动作链来点 &nbsp;</span></div>
					<div class="stl_01" style="top:34.4235em; left:5.6691em;"><span class="stl_129 stl_49 stl_220" style="word-spacing:-0.042em;">击每个字段并填写内容，最后确认，这些行为是在 </span><span class="stl_188 stl_44 stl_726" style="word-spacing:-0.0443em;">perform</span><span class="stl_129 stl_49 stl_220" style="word-spacing:-0.042em;">调用之后才发生的。无论用第 &nbsp;</span></div>
					<div class="stl_01" style="top:35.6856em; left:5.6691em;"><span class="stl_129 stl_49 stl_10">一个方法还是第二个方法，这个程序的结果都一样： &nbsp;</span></div>
					<div class="stl_01" style="top:37.5765em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Hello there, Ryan Mitchell! &nbsp;</span></div>
					<div class="stl_01" style="top:39.3752em; left:5.6693em;"><span class="stl_129 stl_49 stl_140">两个方法除了处理命令的对象不同之外，第二个方法还有一点差异：注意第一个方法提交 &nbsp;</span></div>
					<div class="stl_01" style="top:40.6132em; left:5.6693em;"><span class="stl_129 stl_49 stl_850">表单是点击“确认”按钮，而第二个方法提交表单是用回车键（</span><span class="stl_188 stl_44 stl_851">Keys.RETURN</span><span class="stl_129 stl_49 stl_850">）。因为实现同 &nbsp;</span></div>
					<div class="stl_01" style="top:41.7976em; left:5.6692em;"><span class="stl_129 stl_49 stl_290" style="word-spacing:0.0101em;">样效果的网络事件发生顺序可以有多种，所以用 </span><span class="stl_132 stl_52 stl_290" style="word-spacing:0.0101em;">Selenium </span><span class="stl_129 stl_49 stl_290" style="word-spacing:0.0101em;">实现同样的结果也有许多方式。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.7267em; left:5.6692em;"><span class="stl_387 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:43.6871em; left:6.1094em;"><span class="stl_387 stl_18 stl_10" style="word-spacing:0.0003em;">. </span><span class="stl_388 stl_20 stl_10" style="word-spacing:0.0003em;">鼠标拖放动作 &nbsp;</span></div>
					<div class="stl_01" style="top:44.9587em; left:5.6692em;"><span class="stl_129 stl_49 stl_176" style="word-spacing:-0.0042em;">单击按钮和输入文字只是 </span><span class="stl_132 stl_52 stl_176" style="word-spacing:-0.0042em;">Selenium </span><span class="stl_129 stl_49 stl_176" style="word-spacing:-0.0042em;">的一个功能，其真正的亮点是能够处理更加复杂的网络 &nbsp;</span></div>
					<div class="stl_01" style="top:46.2089em; left:5.6693em;"><span class="stl_129 stl_49 stl_852" style="word-spacing:0.0157em;">表单交互行为。</span><span class="stl_132 stl_52 stl_852" style="word-spacing:0.0157em;">Selenium </span><span class="stl_129 stl_49 stl_852" style="word-spacing:0.0157em;">可以轻松地完成鼠标拖放动作（</span><span class="stl_132 stl_52 stl_852" style="word-spacing:0.0157em;">drag-and-drop</span><span class="stl_129 stl_49 stl_852" style="word-spacing:0.0157em;">）。使用它的拖放函 &nbsp;</span></div>
					<div class="stl_01" style="top:47.5367em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">数，你需要指定一个被拖放的元素以及拖放的距离，或者元素将被拖放到的目标元素。 &nbsp;</span></div>
					<div class="stl_01" style="top:49.3701em; left:5.6693em;"><span class="stl_129 stl_49 stl_253" style="word-spacing:-0.0053em;">下面的例子用 </span><span class="stl_132 stl_52 stl_253" style="word-spacing:-0.0053em;">http://pythonscraping.com/pages/javascript/draggableDemo.html </span><span class="stl_129 stl_49 stl_253" style="word-spacing:-0.0053em;">页面演示了拖 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">70 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 13</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_231.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_231.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9126em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">放动作： &nbsp;</span></div>
					<div class="stl_01" style="top:6.8033em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">selenium </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">webdriver &nbsp;</span></div>
					<div class="stl_01" style="top:7.6363em; left:8.3386em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">selenium.webdriver.remote.webelement </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">WebElement &nbsp;</span></div>
					<div class="stl_01" style="top:8.4693em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">selenium.webdriver </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">ActionChains &nbsp;</span></div>
					<div class="stl_01" style="top:10.1353em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">driver = webdriver.PhantomJS(executable_path='&lt;Path to Phantom JS&gt;') &nbsp;</span></div>
					<div class="stl_01" style="top:10.9683em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">driver.get('http://pythonscraping.com/pages/javascript/draggableDemo.html') &nbsp;</span></div>
					<div class="stl_01" style="top:12.6343em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(driver.find_element_by_id("message").text) &nbsp;</span></div>
					<div class="stl_01" style="top:14.3003em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">element = driver.find_element_by_id("draggable") &nbsp;</span></div>
					<div class="stl_01" style="top:15.1333em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">target = driver.find_element_by_id("div2") &nbsp;</span></div>
					<div class="stl_01" style="top:15.9663em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">actions = ActionChains(driver) &nbsp;</span></div>
					<div class="stl_01" style="top:16.7993em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">actions.drag_and_drop(element, target).perform() &nbsp;</span></div>
					<div class="stl_01" style="top:18.4653em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(driver.find_element_by_id("message").text) &nbsp;</span></div>
					<div class="stl_01" style="top:20.2569em; left:6.6142em;"><span class="stl_129 stl_49 stl_267" style="word-spacing:-0.0192em;">示例页面的 </span><span class="stl_188 stl_44 stl_130" style="word-spacing:-0.0203em;">message</span><span class="stl_129 stl_49 stl_267" style="word-spacing:-0.0192em;">节点上显示了两条信息。第一条是： &nbsp;</span></div>
					<div class="stl_01" style="top:22.1598em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Prove you are not a bot, by dragging the square from the blue area to the red &nbsp;</span></div>
					<div class="stl_01" style="top:22.9928em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">area! &nbsp;</span></div>
					<div class="stl_01" style="top:24.7919em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">然后任务很快就会完成，第二条内容就被打印出来： &nbsp;</span></div>
					<div class="stl_01" style="top:26.6828em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">You are definitely not a bot! &nbsp;</span></div>
					<div class="stl_01" style="top:28.4815em; left:6.6142em;"><span class="stl_129 stl_49 stl_853">当然，就像示例页面上显示的，很多验证码里使用拖放动作证明访问者不是一个机器 &nbsp;</span></div>
					<div class="stl_01" style="top:29.7316em; left:6.6142em;"><span class="stl_129 stl_49 stl_842">人，这是一种常用手段。虽然机器人也可以长时间拖着一个元素不放（就是点击，拖 &nbsp;</span></div>
					<div class="stl_01" style="top:30.9816em; left:6.6142em;"><span class="stl_129 stl_49 stl_251">住，移动），但是也不知道为什么，用“拖住不放”来检验一个用户是不是机器人的方 &nbsp;</span></div>
					<div class="stl_01" style="top:32.2316em; left:6.6142em;"><span class="stl_129 stl_49 stl_71">式仍然存在。 &nbsp;</span></div>
					<div class="stl_01" style="top:34.1427em; left:6.6142em;"><span class="stl_129 stl_49 stl_139">另外，这些可拖放的验证码库很少使用那些“能够难住机器人”的任务，比如“拖动小猫 &nbsp;</span></div>
					<div class="stl_01" style="top:35.3928em; left:6.6142em;"><span class="stl_129 stl_49 stl_711">图片放到奶牛图片的上面”（这需要你能够识别“小猫”和“奶牛”图片）；相反，它们经 &nbsp;</span></div>
					<div class="stl_01" style="top:36.643em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">常用数字排序或其他一些非常不起眼的任务，就像前面例子里的拖放。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.5541em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">当然，这些验证码库的优势在于那些简单任务可以实现大量的变化，而且每种变化的使用 &nbsp;</span></div>
					<div class="stl_01" style="top:39.8041em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">频率都不高——另外也不会有人愿意花时间去做一个能够搞定所有任务的机器人。至少这 &nbsp;</span></div>
					<div class="stl_01" style="top:41.0544em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">个例子可以解释为什么你不应该在大型网站上用这种技术。 &nbsp;</span></div>
					<div class="stl_01" style="top:42.9058em; left:6.6142em;"><span class="stl_387 stl_18 stl_10">2</span></div>
					<div class="stl_01" style="top:42.8662em; left:7.0543em;"><span class="stl_387 stl_18 stl_10" style="word-spacing:0.0003em;">. </span><span class="stl_388 stl_20 stl_10" style="word-spacing:0.0003em;">截屏 &nbsp;</span></div>
					<div class="stl_01" style="top:44.1378em; left:6.6142em;"><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0157em;">除了普通的测试功能，</span><span class="stl_132 stl_52 stl_367" style="word-spacing:-0.0157em;">Selenium </span><span class="stl_129 stl_49 stl_367" style="word-spacing:-0.0157em;">还有一个有趣的技巧可以让你的测试更容易（或者让你老 &nbsp;</span></div>
					<div class="stl_01" style="top:45.4658em; left:6.6142em;"><span class="stl_129 stl_49 stl_854">板更喜欢）：截屏。截屏可以在单元测试中创建，不需要点击截屏按钮就可以获取： &nbsp;</span></div>
					<div class="stl_01" style="top:47.3566em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">driver = webdriver.PhantomJS() &nbsp;</span></div>
					<div class="stl_01" style="top:48.1896em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">driver.get('http://www.pythonscraping.com/') &nbsp;</span></div>
					<div class="stl_01" style="top:49.0226em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">driver.get_screenshot_as_file('tmp/pythonscraping.png') &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:29.2367em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">用爬虫测试网站 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">171 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_232.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_232.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_129 stl_49 stl_554" style="word-spacing:-0.0078em;">这段脚本会访问 </span><span class="stl_132 stl_52 stl_554" style="word-spacing:-0.0078em;">http://pythonscraping.com/</span><span class="stl_129 stl_49 stl_554" style="word-spacing:-0.0078em;">，并将主页的屏幕截图保存在本地的 </span><span class="stl_132 stl_52 stl_554" style="word-spacing:-0.0078em;">tmp </span><span class="stl_129 stl_49 stl_554" style="word-spacing:-0.0078em;">文件夹 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1627em; left:5.6693em;"><span class="stl_129 stl_49 stl_595">中（该文件夹必须创建好，以供正确存储之用）。截屏可保存为多种文件格式。 &nbsp;</span></div>
					<div class="stl_01" style="top:8.5509em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:8.4801em; left:6.4924em;"><span class="stl_197 stl_18 stl_589">3.4</span><span class="stl_160 stl_20 stl_589">ꢀ</span><span class="stl_197 stl_18 stl_589">Python</span><span class="stl_160 stl_20 stl_589">单元测试与</span><span class="stl_197 stl_18 stl_589">Selenium</span><span class="stl_160 stl_20 stl_589">单元测试的 &nbsp;</span></div>
					<div class="stl_01" style="top:10.8748em; left:9.9193em;"><span class="stl_160 stl_20 stl_376">选择 &nbsp;</span></div>
					<div class="stl_01" style="top:13.1217em; left:5.6693em;"><span class="stl_132 stl_52 stl_118" style="word-spacing:-0.0013em;">Python </span><span class="stl_129 stl_49 stl_118" style="word-spacing:-0.0013em;">的单元测试语法严谨冗长，更适合为大多数大型项目写测试，而 </span><span class="stl_132 stl_52 stl_118" style="word-spacing:-0.0013em;">Selenium </span><span class="stl_129 stl_49 stl_118" style="word-spacing:-0.0013em;">的测试方 &nbsp;</span></div>
					<div class="stl_01" style="top:14.4494em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">式灵活且功能强大，可以成为一些网站功能测试的首选。那么应该使用哪个呢？ &nbsp;</span></div>
					<div class="stl_01" style="top:16.2828em; left:5.6693em;"><span class="stl_129 stl_49 stl_687" style="word-spacing:-0.0154em;">答案是：不需要选择。</span><span class="stl_132 stl_52 stl_687" style="word-spacing:-0.0154em;">Selenium </span><span class="stl_129 stl_49 stl_687" style="word-spacing:-0.0154em;">可以轻易地获取网站的信息，而单元测试可以评估这些信 &nbsp;</span></div>
					<div class="stl_01" style="top:17.5331em; left:5.6693em;"><span class="stl_129 stl_49 stl_490" style="word-spacing:-0.0099em;">息是否满足通过测试的条件。因此，你没有理由拒绝把 </span><span class="stl_132 stl_52 stl_490" style="word-spacing:-0.0099em;">Selenium </span><span class="stl_129 stl_49 stl_490" style="word-spacing:-0.0099em;">导入 </span><span class="stl_132 stl_52 stl_490" style="word-spacing:-0.0099em;">Python </span><span class="stl_129 stl_49 stl_490" style="word-spacing:-0.0099em;">的单元测试， &nbsp;</span></div>
					<div class="stl_01" style="top:18.8608em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">两者组合是最佳拍档。 &nbsp;</span></div>
					<div class="stl_01" style="top:20.7719em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">例如，下面的程序创建了一个带拖放动作的网站单元测试，如果一个元素被正确地拖放到 &nbsp;</span></div>
					<div class="stl_01" style="top:21.9443em; left:5.6693em;"><span class="stl_129 stl_49 stl_855" style="word-spacing:0.167em;">另一个元素里，那么推断条件成立，会显示“你不是一个机器人！”（</span><span class="stl_132 stl_52 stl_855" style="word-spacing:0.167em;">You are not a bot!</span><span class="stl_129 stl_49 stl_855" style="word-spacing:0.167em;">）， &nbsp;</span></div>
					<div class="stl_01" style="top:23.2722em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">测试通过。 &nbsp;</span></div>
					<div class="stl_01" style="top:25.1629em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">from </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">selenium </span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">webdriver &nbsp;</span></div>
					<div class="stl_01" style="top:25.9959em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">selenium.webdriver.remote.webelement </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">WebElement &nbsp;</span></div>
					<div class="stl_01" style="top:26.8289em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">selenium.webdriver </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">ActionChains &nbsp;</span></div>
					<div class="stl_01" style="top:27.6619em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">unittest &nbsp;</span></div>
					<div class="stl_01" style="top:29.3279em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">class </span><span class="stl_116 stl_44 stl_10">TestAddition(unittest.TestCase): &nbsp;</span></div>
					<div class="stl_01" style="top:30.1609em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">driver = None &nbsp;</span></div>
					<div class="stl_01" style="top:30.9939em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">setUp(self): &nbsp;</span></div>
					<div class="stl_01" style="top:31.8269em; left:10.227em;"><span class="stl_232 stl_44 stl_10">global </span><span class="stl_116 stl_44 stl_10">driver &nbsp;</span></div>
					<div class="stl_01" style="top:32.6599em; left:10.227em;"><span class="stl_116 stl_44 stl_10">driver = webdriver.PhantomJS(executable_path='&lt;Path to Phantom JS&gt;') &nbsp;</span></div>
					<div class="stl_01" style="top:33.4929em; left:10.227em;"><span class="stl_116 stl_44 stl_10">url = 'http://pythonscraping.com/pages/javascript/draggableDemo.html' &nbsp;</span></div>
					<div class="stl_01" style="top:34.3259em; left:10.227em;"><span class="stl_116 stl_44 stl_10">driver.get(url) &nbsp;</span></div>
					<div class="stl_01" style="top:35.9919em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">tearDown(self): &nbsp;</span></div>
					<div class="stl_01" style="top:36.8249em; left:10.227em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">("Tearing down the test") &nbsp;</span></div>
					<div class="stl_01" style="top:38.4909em; left:8.8104em;"><span class="stl_232 stl_44 stl_10">def </span><span class="stl_116 stl_44 stl_10">test_drag(self): &nbsp;</span></div>
					<div class="stl_01" style="top:39.3239em; left:10.227em;"><span class="stl_232 stl_44 stl_10">global </span><span class="stl_116 stl_44 stl_10">driver &nbsp;</span></div>
					<div class="stl_01" style="top:40.1569em; left:10.227em;"><span class="stl_116 stl_44 stl_10">element = driver.find_element_by_id("draggable") &nbsp;</span></div>
					<div class="stl_01" style="top:40.9899em; left:10.227em;"><span class="stl_116 stl_44 stl_10">target = driver.find_element_by_id("div2") &nbsp;</span></div>
					<div class="stl_01" style="top:41.8229em; left:10.227em;"><span class="stl_116 stl_44 stl_10">actions = ActionChains(driver) &nbsp;</span></div>
					<div class="stl_01" style="top:42.6559em; left:10.227em;"><span class="stl_116 stl_44 stl_10">actions.drag_and_drop(element, target).perform() &nbsp;</span></div>
					<div class="stl_01" style="top:44.3219em; left:10.227em;"><span class="stl_116 stl_44 stl_10">self.assertEqual("You are definitely &nbsp;</span></div>
					<div class="stl_01" style="top:45.1549em; left:16.602em;"><span class="stl_232 stl_44 stl_10">not </span><span class="stl_116 stl_44 stl_10">a bot!", driver.find_element_by_id( &nbsp;</span></div>
					<div class="stl_01" style="top:45.9879em; left:16.602em;"><span class="stl_116 stl_44 stl_10">"</span></div>
					<div class="stl_01" style="top:45.9879em; left:16.9562em;"><span class="stl_116 stl_44 stl_10">message").text) &nbsp;</span></div>
					<div class="stl_01" style="top:47.6539em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">if </span><span class="stl_116 stl_44 stl_10">__name__ == '__main__': &nbsp;</span></div>
					<div class="stl_01" style="top:48.4869em; left:8.8104em;"><span class="stl_116 stl_44 stl_10">unittest.main() &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">72 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 13</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_233.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_233.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:6.6142em;"><span class="stl_129 stl_49 stl_178" style="word-spacing:-0.0647em;">任何网站上可以看到的内容都可以通过 </span><span class="stl_132 stl_52 stl_178" style="word-spacing:-0.0647em;">Python </span><span class="stl_129 stl_49 stl_178" style="word-spacing:-0.0647em;">的单元测试和 </span><span class="stl_132 stl_52 stl_178" style="word-spacing:-0.0647em;">Selenium </span><span class="stl_129 stl_49 stl_178" style="word-spacing:-0.0647em;">组合来测试。其 &nbsp;</span></div>
					<div class="stl_01" style="top:6.085em; left:6.6142em;"><span class="stl_129 stl_49 stl_177" style="word-spacing:-0.0335em;">实，如果再与第 </span><span class="stl_132 stl_52 stl_177" style="word-spacing:-0.0335em;">11 </span><span class="stl_129 stl_49 stl_177" style="word-spacing:-0.0335em;">章介绍的一些图像处理库组合起来，就可以通过网站截屏实现像素级 &nbsp;</span></div>
					<div class="stl_01" style="top:7.4127em; left:6.6142em;"><span class="stl_129 stl_49 stl_68">测试了！ &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:29.2367em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">用爬虫测试网站 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">173 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_234.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_234.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:9.4423em; left:30.9726em;"><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.0687em;">第 </span><span class="stl_215 stl_18 stl_10" style="word-spacing:-0.0687em;">1 4 </span><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.0687em;">章 &nbsp;</span></div>
					<div class="stl_01 stl_69" style="top:12.7975em; left:28.7004em;"><span class="stl_70 stl_20 stl_71">远程采集 &nbsp;</span></div>
					<div class="stl_01" style="top:24.5006em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">本章内容放在最后来介绍还是比较合适的。到现在为止，我们已经在自己的电脑上通过命 &nbsp;</span></div>
					<div class="stl_01" style="top:25.6729em; left:5.6693em;"><span class="stl_129 stl_49 stl_118" style="word-spacing:-0.0013em;">令行运行了所有的 </span><span class="stl_132 stl_52 stl_118" style="word-spacing:-0.0013em;">Pyhton </span><span class="stl_129 stl_49 stl_118" style="word-spacing:-0.0013em;">程序。当然，你可能也安装了 </span><span class="stl_132 stl_52 stl_118" style="word-spacing:-0.0013em;">MySQL</span><span class="stl_129 stl_49 stl_118" style="word-spacing:-0.0013em;">，尝试真实的服务器环境。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.0006em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">但是这和实际的服务器还是不一样的。正如一句谚语所说：“如果你喜欢某个东西，就放 &nbsp;</span></div>
					<div class="stl_01" style="top:28.2506em; left:5.6693em;"><span class="stl_129 stl_49 stl_689">开手。” &nbsp;</span></div>
					<div class="stl_01" style="top:30.084em; left:5.6693em;"><span class="stl_129 stl_49 stl_490" style="word-spacing:-0.0109em;">这一章我们将介绍几种方法，让程序在不同的机器上运行，或者在你的电脑上用不同的 </span><span class="stl_132 stl_52 stl_490" style="word-spacing:-0.0109em;">IP &nbsp;</span></div>
					<div class="stl_01" style="top:31.412em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">地址运行。你可能打算放弃这一章，因为你现在还不需要这些内容，但是你可能会感到惊 &nbsp;</span></div>
					<div class="stl_01" style="top:32.5843em; left:5.6693em;"><span class="stl_129 stl_49 stl_122" style="word-spacing:0.0021em;">讶，自己原来已经拥有非常容易上手的工具了（比如一些付费的 </span><span class="stl_132 stl_52 stl_122" style="word-spacing:0.0021em;">VPS </span><span class="stl_129 stl_49 stl_122" style="word-spacing:0.0021em;">或云计算资源），而 &nbsp;</span></div>
					<div class="stl_01" style="top:33.8343em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">且当你停止在自己的笔记本上运行 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">爬虫后，生活会变得更加轻松。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.3003em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:36.2295em; left:6.4924em;"><span class="stl_197 stl_18 stl_71">4.1</span><span class="stl_160 stl_20 stl_71">ꢀ为什么要用远程服务器 &nbsp;</span></div>
					<div class="stl_01" style="top:38.7404em; left:5.6693em;"><span class="stl_129 stl_49 stl_68">虽然使用远程服务器看起来可能更像是在启动一个供广大用户使用的网络应用时所采取的 &nbsp;</span></div>
					<div class="stl_01" style="top:39.9905em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">必然步骤，但我们为个人目的建立的工具通常都必须在本地运行。启用远程平台的人通常 &nbsp;</span></div>
					<div class="stl_01" style="top:41.1628em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">有两个目的：对更大计算能力和灵活性的需求，以及对可变 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">IP </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">地址的需求。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.6502em; left:5.6693em;"><span class="stl_260 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:43.5919em; left:6.3471em;"><span class="stl_260 stl_18 stl_71">4.1.1</span><span class="stl_91 stl_20 stl_71">ꢀ避免</span><span class="stl_260 stl_18 stl_71">IP</span><span class="stl_91 stl_20 stl_71">地址被封杀 &nbsp;</span></div>
					<div class="stl_01" style="top:45.6105em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">建立网络爬虫的第一原则是：所有信息都可以伪造。你可以用非本人的邮箱发送邮件，通 &nbsp;</span></div>
					<div class="stl_01" style="top:46.7828em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">过命令行自动化鼠标的行为，或者通过 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">IE5.0 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">浏览器耗费网站流量来吓唬网管。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.6939em; left:5.6693em;"><span class="stl_129 stl_49 stl_348" style="word-spacing:-0.0228em;">但是有一件事情是不能作假的，那就是你的 </span><span class="stl_132 stl_52 stl_348" style="word-spacing:-0.0228em;">IP </span><span class="stl_129 stl_49 stl_348" style="word-spacing:-0.0228em;">地址。任何人都可以用这个地址给你写信： &nbsp;</span></div>
					<div class="stl_01" style="top:50.0219em; left:5.2735em;"><span class="stl_129 stl_49 stl_10">“</span></div>
					<div class="stl_01" style="top:49.9442em; left:6.0691em;"><span class="stl_129 stl_49 stl_856" style="word-spacing:0.0197em;">美国华盛顿特区宾夕法尼亚大道西北 </span><span class="stl_132 stl_52 stl_856" style="word-spacing:0.0197em;">1600 </span><span class="stl_129 stl_49 stl_856" style="word-spacing:0.0197em;">号，总统，邮编 </span><span class="stl_132 stl_52 stl_856" style="word-spacing:0.0197em;">20500</span><span class="stl_129 stl_49 stl_856" style="word-spacing:0.0197em;">。”但是，如果这封信是 &nbsp;</span></div>
					<div class="stl_01" style="top:52.3099em; left:5.6693em;"><span class="stl_119 stl_22 stl_10">174 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_235.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_235.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.7952em; left:36.6975em;"><span class="stl_181 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:4.9126em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">从新墨西哥州的阿尔伯克基市发来的，那么你肯定可以确信给你写信的不是美国总统。 &nbsp;</span></div>
					<div class="stl_01" style="top:6.7463em; left:6.6142em;"><span class="stl_129 stl_49 stl_244" style="word-spacing:0em;">阻止网站被采集的注意力主要集中在识别人类与机器人的行为差异上面。封杀 </span><span class="stl_132 stl_52 stl_244" style="word-spacing:0em;">IP </span><span class="stl_129 stl_49 stl_244" style="word-spacing:0em;">地址这种 &nbsp;</span></div>
					<div class="stl_01" style="top:8.074em; left:6.6142em;"><span class="stl_129 stl_49 stl_231">矫枉过正的行为，就好像是农民不靠喷农药给庄稼杀虫，而是直接用火烧彻底解决问题。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.2464em; left:6.6142em;"><span class="stl_129 stl_49 stl_244" style="word-spacing:0em;">它是最后一步棋，不过是一种非常有效的方法，只要忽略危险 </span><span class="stl_132 stl_52 stl_244" style="word-spacing:0em;">IP </span><span class="stl_129 stl_49 stl_244" style="word-spacing:0em;">地址发来的数据包就可以 &nbsp;</span></div>
					<div class="stl_01" style="top:10.5741em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">了。但是，使用这种方法会遇到以下几个问题。 &nbsp;</span></div>
					<div class="stl_01" style="top:12.4471em; left:6.6142em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:12.4075em; left:7.6774em;"><span class="stl_132 stl_52 stl_473" style="word-spacing:-0.0253em;">IP </span><span class="stl_129 stl_49 stl_473" style="word-spacing:-0.0253em;">地址访问列表很难维护。虽然大多数大型网站都会用自己的程序自动管理 </span><span class="stl_132 stl_52 stl_473" style="word-spacing:-0.0253em;">IP </span><span class="stl_129 stl_49 stl_473" style="word-spacing:-0.0253em;">地址访 &nbsp;</span></div>
					<div class="stl_01" style="top:13.7355em; left:7.6772em;"><span class="stl_129 stl_49 stl_122">问列表（机器人封杀机器人），但是至少需要人偶尔检查一下列表，或者至少要监控问 &nbsp;</span></div>
					<div class="stl_01" style="top:14.9855em; left:7.6772em;"><span class="stl_129 stl_49 stl_10">题的增长。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.1975em; left:6.614em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:16.1578em; left:7.6772em;"><span class="stl_129 stl_49 stl_295" style="word-spacing:-0.0328em;">因为服务器需要根据 </span><span class="stl_132 stl_52 stl_295" style="word-spacing:-0.0328em;">IP </span><span class="stl_129 stl_49 stl_295" style="word-spacing:-0.0328em;">地址访问列表去检查每个准备接收的数据包，所以检查接收数 &nbsp;</span></div>
					<div class="stl_01" style="top:17.4078em; left:7.6772em;"><span class="stl_129 stl_49 stl_295" style="word-spacing:-0.0328em;">据包时会额外增加一些处理时间。多个 </span><span class="stl_132 stl_52 stl_295" style="word-spacing:-0.0328em;">IP </span><span class="stl_129 stl_49 stl_295" style="word-spacing:-0.0328em;">地址乘以海量的数据包更会使检查时间指数 &nbsp;</span></div>
					<div class="stl_01" style="top:18.6578em; left:7.6772em;"><span class="stl_129 stl_49 stl_461" style="word-spacing:-0.0317em;">级增长。为了降低处理时间和处理复杂度，管理员通常会对 </span><span class="stl_132 stl_52 stl_461" style="word-spacing:-0.0317em;">IP </span><span class="stl_129 stl_49 stl_461" style="word-spacing:-0.0317em;">地址进行分组管理并制 &nbsp;</span></div>
					<div class="stl_01" style="top:19.9078em; left:7.6772em;"><span class="stl_129 stl_49 stl_375" style="word-spacing:-0.0323em;">定相应的规则，比如如果这组 </span><span class="stl_132 stl_52 stl_375" style="word-spacing:-0.0323em;">IP </span><span class="stl_129 stl_49 stl_375" style="word-spacing:-0.0323em;">中有一些危险分子就“把这个区间的所有 </span><span class="stl_132 stl_52 stl_375" style="word-spacing:-0.0323em;">256 </span><span class="stl_129 stl_49 stl_375" style="word-spacing:-0.0323em;">个地址 &nbsp;</span></div>
					<div class="stl_01" style="top:21.2355em; left:7.6772em;"><span class="stl_129 stl_49 stl_156">全部封杀”。于是产生了下一个问题。 &nbsp;</span></div>
					<div class="stl_01" style="top:22.4474em; left:6.614em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:22.4078em; left:7.6772em;"><span class="stl_129 stl_49 stl_461" style="word-spacing:-0.0316em;">封杀 </span><span class="stl_132 stl_52 stl_461" style="word-spacing:-0.0316em;">IP </span><span class="stl_129 stl_49 stl_461" style="word-spacing:-0.0316em;">地址可能会导致意外后果。例如，当我还在美国麻省欧林工程学院读本科的时 &nbsp;</span></div>
					<div class="stl_01" style="top:23.6578em; left:7.6772em;"><span class="stl_129 stl_49 stl_639" style="word-spacing:-0.0069em;">候，有个同学写了一个可以在 </span><span class="stl_132 stl_52 stl_639" style="word-spacing:-0.0069em;">http://digg.com/ </span><span class="stl_129 stl_49 stl_639" style="word-spacing:-0.0069em;">网站（在 </span><span class="stl_132 stl_52 stl_639" style="word-spacing:-0.0069em;">Reddit </span><span class="stl_129 stl_49 stl_639" style="word-spacing:-0.0069em;">流行之前大家都用 </span><span class="stl_132 stl_52 stl_639" style="word-spacing:-0.0069em;">Digg</span><span class="stl_129 stl_49 stl_639" style="word-spacing:-0.0069em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:24.9078em; left:7.6772em;"><span class="stl_129 stl_49 stl_582" style="word-spacing:-0.0073em;">上对热门内容进行投票的软件。这个软件的服务器 </span><span class="stl_132 stl_52 stl_582" style="word-spacing:-0.0073em;">IP </span><span class="stl_129 stl_49 stl_582" style="word-spacing:-0.0073em;">地址被 </span><span class="stl_132 stl_52 stl_582" style="word-spacing:-0.0073em;">Digg </span><span class="stl_129 stl_49 stl_582" style="word-spacing:-0.0073em;">封杀，导致整个网站 &nbsp;</span></div>
					<div class="stl_01" style="top:26.1578em; left:7.6772em;"><span class="stl_129 stl_49 stl_473" style="word-spacing:-0.0253em;">都不能访问。于是这个同学就把软件移到了另一个服务器上，而 </span><span class="stl_132 stl_52 stl_473" style="word-spacing:-0.0253em;">Digg </span><span class="stl_129 stl_49 stl_473" style="word-spacing:-0.0253em;">自己却失去了许 &nbsp;</span></div>
					<div class="stl_01" style="top:27.4855em; left:7.6772em;"><span class="stl_129 stl_49 stl_10">多主要目标用户的访问量。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.3189em; left:6.614em;"><span class="stl_129 stl_49 stl_244" style="word-spacing:0em;">虽然有这些缺点，但封杀 </span><span class="stl_132 stl_52 stl_244" style="word-spacing:0em;">IP </span><span class="stl_129 stl_49 stl_244" style="word-spacing:0em;">地址依然是一种十分常用的手段，服务器管理员用它来阻止可 &nbsp;</span></div>
					<div class="stl_01" style="top:30.6466em; left:6.614em;"><span class="stl_129 stl_49 stl_10">疑的网络爬虫入侵服务器。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.0567em; left:6.6142em;"><span class="stl_260 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:32.9983em; left:7.292em;"><span class="stl_260 stl_18 stl_71">4.1.2</span><span class="stl_91 stl_20 stl_71">ꢀ移植性与扩展性 &nbsp;</span></div>
					<div class="stl_01" style="top:35.017em; left:6.6142em;"><span class="stl_129 stl_49 stl_644">有一些任务想通过个人电脑连网完成会十分困难。即使你并不想给任何一个网站增加负 &nbsp;</span></div>
					<div class="stl_01" style="top:36.267em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">载，但是如果你会从一堆网站里收集数据，也会需要更快的网速以及更多存储空间。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.1781em; left:6.6142em;"><span class="stl_129 stl_49 stl_320">另外，自己电脑上的计算资源释放之后，你就可以做很多更重要事情啦（玩魔兽，看电 &nbsp;</span></div>
					<div class="stl_01" style="top:39.3504em; left:6.6142em;"><span class="stl_129 stl_49 stl_296">影，</span><span class="stl_132 stl_52 stl_296">LOL</span><span class="stl_129 stl_49 stl_296">）。你也不用担心电费和网速了（在星巴克启动你的应用，合上笔记本离开，每 &nbsp;</span></div>
					<div class="stl_01" style="top:40.6782em; left:6.6142em;"><span class="stl_129 stl_49 stl_331">件事情都可以安全地运行），你也可以在任何有网络连接的地方收集数据。 &nbsp;</span></div>
					<div class="stl_01" style="top:42.5118em; left:6.6142em;"><span class="stl_129 stl_49 stl_461" style="word-spacing:-0.0317em;">如果你的一个应用需要非常大的计算能力，亚马逊 </span><span class="stl_132 stl_52 stl_461" style="word-spacing:-0.0317em;">AWS </span><span class="stl_129 stl_49 stl_461" style="word-spacing:-0.0317em;">的一个超大计算实例也不能满足 &nbsp;</span></div>
					<div class="stl_01" style="top:43.7621em; left:6.6142em;"><span class="stl_129 stl_49 stl_757" style="word-spacing:0.1014em;">你的需求，那么你可以看看</span><span class="stl_269 stl_49 stl_757" style="word-spacing:0.1014em;">分布式计算</span><span class="stl_129 stl_49 stl_757" style="word-spacing:0.1014em;">（</span><span class="stl_132 stl_52 stl_757" style="word-spacing:0.1014em;">distributed computing</span><span class="stl_129 stl_49 stl_757" style="word-spacing:0.1014em;">）。这种方法可以让多个机器 &nbsp;</span></div>
					<div class="stl_01" style="top:45.0898em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">并发执行来完成你的任务。一个简单的例子是你可以用一台机器来采集一些网站，再用另 &nbsp;</span></div>
					<div class="stl_01" style="top:48.0086em; left:6.6142em;"><span class="stl_60 stl_49 stl_512" style="word-spacing:-0.0134em;">注 </span><span class="stl_61 stl_52 stl_512" style="word-spacing:-0.0134em;">1</span><span class="stl_60 stl_49 stl_512" style="word-spacing:-0.0134em;">：从技术上说，</span><span class="stl_61 stl_52 stl_512" style="word-spacing:-0.0134em;">IP </span><span class="stl_60 stl_49 stl_512" style="word-spacing:-0.0134em;">地址是可以通过发送数据包进行伪装的，就是分布式拒绝服务攻击技术（</span><span class="stl_61 stl_52 stl_512" style="word-spacing:-0.0134em;">Distributed &nbsp;</span></div>
					<div class="stl_01" style="top:49.0086em; left:8.4568em;"><span class="stl_61 stl_52 stl_504" style="word-spacing:0.0747em;">Denial of Service</span><span class="stl_60 stl_49 stl_504" style="word-spacing:0.0747em;">，</span><span class="stl_61 stl_52 stl_504" style="word-spacing:0.0747em;">DDoS</span><span class="stl_60 stl_49 stl_504" style="word-spacing:0.0747em;">），攻击者不需要关心接收的数据包（这样发送请求的时候就可以使用假</span><span class="stl_61 stl_52 stl_504" style="word-spacing:-0.0018em;"> IP &nbsp;</span></div>
					<div class="stl_01" style="top:50.0086em; left:8.4567em;"><span class="stl_60 stl_49 stl_553" style="word-spacing:0.0237em;">地址）。但是网络数据采集是一种需要关心服务器响应的行为，所以我们认为 </span><span class="stl_61 stl_52 stl_553" style="word-spacing:0.0237em;">IP </span><span class="stl_60 stl_49 stl_553" style="word-spacing:0.0237em;">地址是不能造假的。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:31.6117em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">远程采集 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">175 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_236.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_236.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9126em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">一台机器采集另一些网站，最后在把所有的结果存储在同一个数据库里。 &nbsp;</span></div>
					<div class="stl_01" style="top:6.746em; left:5.6693em;"><span class="stl_129 stl_49 stl_167" style="word-spacing:-0.0419em;">当然，前几章的例子很多都是在重复 </span><span class="stl_132 stl_52 stl_167" style="word-spacing:-0.0419em;">Google </span><span class="stl_129 stl_49 stl_167" style="word-spacing:-0.0419em;">搜索干的事情，但是没有几个程序可以达到 &nbsp;</span></div>
					<div class="stl_01" style="top:7.9963em; left:5.6693em;"><span class="stl_132 stl_52 stl_205" style="word-spacing:-0.0087em;">Google </span><span class="stl_129 stl_49 stl_205" style="word-spacing:-0.0087em;">搜索的运行规模。分布式计算是计算机科学中的一个庞大领域，超出了本书的介绍 &nbsp;</span></div>
					<div class="stl_01" style="top:9.3241em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">范围。但是，学习如何让你的程序在远程服务器执行是基本前提，学会之后你一定对当今 &nbsp;</span></div>
					<div class="stl_01" style="top:10.5741em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">计算机的能力感到无比惊讶。 &nbsp;</span></div>
					<div class="stl_01" style="top:12.9624em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:12.8915em; left:6.4924em;"><span class="stl_197 stl_18 stl_71">4.2</span><span class="stl_160 stl_20 stl_71">ꢀ</span><span class="stl_197 stl_18 stl_71">Tor</span><span class="stl_160 stl_20 stl_71">代理服务器 &nbsp;</span></div>
					<div class="stl_01" style="top:15.3248em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0054em;">洋葱路由（</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0054em;">The Onion Router</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0054em;">）网络，常用缩写为 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0054em;">Tor</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0054em;">，是一种 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0054em;">IP </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0054em;">地址匿名手段。由网络志 &nbsp;</span></div>
					<div class="stl_01" style="top:16.6524em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">愿者服务器构建的洋葱路由器网络，通过不同服务器构成多个层（就像洋葱）把客户端包 &nbsp;</span></div>
					<div class="stl_01" style="top:17.9025em; left:5.6693em;"><span class="stl_129 stl_49 stl_139">在最里面。数据进入网络之前会被加密，因此任何服务器都不能偷取通信数据。另外，虽 &nbsp;</span></div>
					<div class="stl_01" style="top:19.1524em; left:5.6693em;"><span class="stl_129 stl_49 stl_177">然每一个服务器的入站和出站通信都可以被查到，但是要想查出通信的真正起点和终点， &nbsp;</span></div>
					<div class="stl_01" style="top:20.4025em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">必须知道整个通信链路上所有服务器的入站和出站通信细节，而这基本是不可能实现的。 &nbsp;</span></div>
					<div class="stl_01" style="top:22.2359em; left:5.6693em;"><span class="stl_132 stl_52 stl_217" style="word-spacing:-0.0338em;">Tor </span><span class="stl_129 stl_49 stl_217" style="word-spacing:-0.0338em;">是人权工作者和政治避难人员与记者通信的常用手段，得到了美国政府的大力支持。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.5636em; left:5.6693em;"><span class="stl_129 stl_49 stl_644">当然，它经常也被用于非法活动，所以也是政府盯防的目标（虽然目前盯防得并不是很 &nbsp;</span></div>
					<div class="stl_01" style="top:24.8137em; left:5.6693em;"><span class="stl_129 stl_49 stl_857">成功）。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.34em; left:10.3937em;"><span class="stl_243 stl_18 stl_10" style="word-spacing:-0.0278em;">Tor </span><span class="stl_245 stl_20 stl_10" style="word-spacing:-0.0278em;">匿名的局限性 &nbsp;</span></div>
					<div class="stl_01" style="top:29.2361em; left:10.3937em;"><span class="stl_48 stl_49 stl_123" style="word-spacing:-0.0026em;">虽然我们在本书中用 </span><span class="stl_51 stl_52 stl_123" style="word-spacing:-0.0026em;">Tor </span><span class="stl_48 stl_49 stl_123" style="word-spacing:-0.0026em;">的目的是改变 </span><span class="stl_51 stl_52 stl_123" style="word-spacing:-0.0026em;">IP </span><span class="stl_48 stl_49 stl_123" style="word-spacing:-0.0026em;">地址，而不是实现完全匿名，但有 &nbsp;</span></div>
					<div class="stl_01" style="top:30.4031em; left:10.441em;"><span class="stl_48 stl_49 stl_10" style="word-spacing:0em;">必要关注一下 </span><span class="stl_51 stl_52 stl_10" style="word-spacing:0em;">Tor </span><span class="stl_48 stl_49 stl_10" style="word-spacing:0em;">匿名方法的能力和不足。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.2781em; left:10.3937em;"><span class="stl_48 stl_49 stl_858" style="word-spacing:-0.0514em;">虽然 </span><span class="stl_51 stl_52 stl_858" style="word-spacing:-0.0514em;">Tor </span><span class="stl_48 stl_49 stl_858" style="word-spacing:-0.0514em;">网络可以让你访问网站时显示的 </span><span class="stl_51 stl_52 stl_858" style="word-spacing:-0.0514em;">IP </span><span class="stl_48 stl_49 stl_858" style="word-spacing:-0.0514em;">地址是一个不能跟踪到你的 </span><span class="stl_51 stl_52 stl_858" style="word-spacing:-0.0514em;">IP &nbsp;</span></div>
					<div class="stl_01" style="top:33.5187em; left:10.441em;"><span class="stl_48 stl_49 stl_68">地址，但是你在网站上留给服务器的任何信息都会暴露你的身份。例如，你 &nbsp;</span></div>
					<div class="stl_01" style="top:34.6114em; left:10.441em;"><span class="stl_48 stl_49 stl_343" style="word-spacing:-0.0427em;">登录 </span><span class="stl_51 stl_52 stl_343" style="word-spacing:-0.0427em;">Gmail </span><span class="stl_48 stl_49 stl_343" style="word-spacing:-0.0427em;">账号后再用 </span><span class="stl_51 stl_52 stl_343" style="word-spacing:-0.0427em;">Google </span><span class="stl_48 stl_49 stl_343" style="word-spacing:-0.0427em;">搜索，那些搜索历史就会和你的身份绑定在 &nbsp;</span></div>
					<div class="stl_01" style="top:35.852em; left:10.4409em;"><span class="stl_48 stl_49 stl_10">一起。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.6534em; left:10.3937em;"><span class="stl_48 stl_49 stl_452" style="word-spacing:-0.0102em;">另外，登录 </span><span class="stl_51 stl_52 stl_452" style="word-spacing:-0.0102em;">Tor </span><span class="stl_48 stl_49 stl_452" style="word-spacing:-0.0102em;">的行为也可能让你的匿名状态处于危险之中。</span><span class="stl_51 stl_52 stl_452" style="word-spacing:-0.0102em;">2013 </span><span class="stl_48 stl_49 stl_452" style="word-spacing:-0.0102em;">年 </span><span class="stl_51 stl_52 stl_452" style="word-spacing:-0.0102em;">12 </span><span class="stl_48 stl_49 stl_452" style="word-spacing:-0.0102em;">月， &nbsp;</span></div>
					<div class="stl_01" style="top:38.8201em; left:10.441em;"><span class="stl_48 stl_49 stl_558" style="word-spacing:-0.0205em;">一个哈佛大学本科生想逃避期末考试，就用一个匿名邮箱账号通过 </span><span class="stl_51 stl_52 stl_558" style="word-spacing:-0.0205em;">Tor </span><span class="stl_48 stl_49 stl_558" style="word-spacing:-0.0205em;">网络 &nbsp;</span></div>
					<div class="stl_01" style="top:39.9867em; left:10.4409em;"><span class="stl_48 stl_49 stl_604" style="word-spacing:-0.0495em;">给学校发了一封炸弹威胁信。结果哈佛大学的 </span><span class="stl_51 stl_52 stl_604" style="word-spacing:-0.0495em;">IT </span><span class="stl_48 stl_49 stl_604" style="word-spacing:-0.0495em;">部门通过日志查到，在炸 &nbsp;</span></div>
					<div class="stl_01" style="top:41.1534em; left:10.4409em;"><span class="stl_48 stl_49 stl_471" style="word-spacing:-0.0328em;">弹威胁信发来的时候，</span><span class="stl_51 stl_52 stl_471" style="word-spacing:-0.0328em;">Tor </span><span class="stl_48 stl_49 stl_471" style="word-spacing:-0.0328em;">网络的流量只来自一台机器，而且是一个在校学 &nbsp;</span></div>
					<div class="stl_01" style="top:42.3201em; left:10.4409em;"><span class="stl_48 stl_49 stl_831" style="word-spacing:0.0106em;">生注册的。虽然他们不能确定流量的最初源头（只知道是通过 </span><span class="stl_51 stl_52 stl_831" style="word-spacing:0.0106em;">Tor </span><span class="stl_48 stl_49 stl_831" style="word-spacing:0.0106em;">发送的）， &nbsp;</span></div>
					<div class="stl_01" style="top:43.5603em; left:10.4409em;"><span class="stl_48 stl_49 stl_153">但是作案时间和注册信息证据充分，而且那个时间段内只有一台机器是登录 &nbsp;</span></div>
					<div class="stl_01" style="top:44.7273em; left:10.4409em;"><span class="stl_48 stl_49 stl_10">状态，这就有充分理由起诉那个学生了。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.5287em; left:10.3937em;"><span class="stl_48 stl_49 stl_859" style="word-spacing:-0.0806em;">登录 </span><span class="stl_51 stl_52 stl_859" style="word-spacing:-0.0806em;">Tor </span><span class="stl_48 stl_49 stl_859" style="word-spacing:-0.0806em;">网络不是一个自动的匿名措施，也不能让你进入互联网上任何区 &nbsp;</span></div>
					<div class="stl_01" style="top:47.769em; left:10.441em;"><span class="stl_48 stl_49 stl_135">域。虽然它是一个实用的工具，但是用它的时候一定要谨慎、清醒，并且遵 &nbsp;</span></div>
					<div class="stl_01" style="top:48.936em; left:10.4409em;"><span class="stl_48 stl_49 stl_10">守道德规范。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">76 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 14</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_237.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_237.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:6.6142em;"><span class="stl_129 stl_49 stl_400" style="word-spacing:-0.0178em;">在 </span><span class="stl_132 stl_52 stl_400" style="word-spacing:-0.0178em;">Python </span><span class="stl_129 stl_49 stl_400" style="word-spacing:-0.0178em;">里使用 </span><span class="stl_132 stl_52 stl_400" style="word-spacing:-0.0178em;">Tor</span><span class="stl_129 stl_49 stl_400" style="word-spacing:-0.0178em;">，需要先安装运行 </span><span class="stl_132 stl_52 stl_400" style="word-spacing:-0.0178em;">Tor</span><span class="stl_129 stl_49 stl_400" style="word-spacing:-0.0178em;">，下一节将介绍。</span><span class="stl_132 stl_52 stl_400" style="word-spacing:-0.0178em;">Tor </span><span class="stl_129 stl_49 stl_400" style="word-spacing:-0.0178em;">服务很容易安装和开启。 &nbsp;</span></div>
					<div class="stl_01" style="top:6.0849em; left:6.6142em;"><span class="stl_129 stl_49 stl_735" style="word-spacing:-0.0045em;">只要去 </span><span class="stl_132 stl_52 stl_735" style="word-spacing:-0.0045em;">Tor </span><span class="stl_129 stl_49 stl_735" style="word-spacing:-0.0045em;">下载页面（</span><span class="stl_132 stl_52 stl_735" style="word-spacing:-0.0045em;">https://www.torproject.org/download/download</span><span class="stl_129 stl_49 stl_735" style="word-spacing:-0.0045em;">）下载并安装，打开后 &nbsp;</span></div>
					<div class="stl_01" style="top:7.3349em; left:6.6142em;"><span class="stl_129 stl_49 stl_211" style="word-spacing:-0.0212em;">连接就可以。不过要注意，当你用 </span><span class="stl_132 stl_52 stl_211" style="word-spacing:-0.0212em;">Tor </span><span class="stl_129 stl_49 stl_211" style="word-spacing:-0.0212em;">的时候网速会变慢。这是因为代理有可能要先在全 &nbsp;</span></div>
					<div class="stl_01" style="top:8.6627em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">世界网络上转几次才到目的地！ &nbsp;</span></div>
					<div class="stl_01" style="top:11.0724em; left:6.6142em;"><span class="stl_260 stl_18 stl_71">PySocks &nbsp;</span></div>
					<div class="stl_01" style="top:12.955em; left:6.6142em;"><span class="stl_132 stl_52 stl_68" style="word-spacing:-0.016em;">PySocks </span><span class="stl_129 stl_49 stl_68" style="word-spacing:-0.016em;">是一个非常简单的 </span><span class="stl_132 stl_52 stl_68" style="word-spacing:-0.016em;">Python </span><span class="stl_129 stl_49 stl_68" style="word-spacing:-0.016em;">代理服务器通信模块，它可以和 </span><span class="stl_132 stl_52 stl_68" style="word-spacing:-0.016em;">Tor </span><span class="stl_129 stl_49 stl_68" style="word-spacing:-0.016em;">配合使用。你可以 &nbsp;</span></div>
					<div class="stl_01" style="top:14.205em; left:6.6142em;"><span class="stl_129 stl_49 stl_207">从它的网站（</span><span class="stl_132 stl_52 stl_207">https://pypi.python.org/pypi/PySocks</span><span class="stl_129 stl_49 stl_207">）上下载，或者使用任何第三方模块管理 &nbsp;</span></div>
					<div class="stl_01" style="top:15.5327em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">器安装。 &nbsp;</span></div>
					<div class="stl_01" style="top:17.3661em; left:6.6142em;"><span class="stl_129 stl_49 stl_811" style="word-spacing:-0.0075em;">这个模块的用法很简单。示例代码如下所示。运行的时候，</span><span class="stl_132 stl_52 stl_811" style="word-spacing:-0.0075em;">Tor </span><span class="stl_129 stl_49 stl_811" style="word-spacing:-0.0075em;">服务必须运行在 </span><span class="stl_132 stl_52 stl_811" style="word-spacing:-0.0075em;">9150 </span><span class="stl_129 stl_49 stl_811" style="word-spacing:-0.0075em;">端口 &nbsp;</span></div>
					<div class="stl_01" style="top:18.6942em; left:6.2183em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:18.6942em; left:7.01em;"><span class="stl_129 stl_49 stl_10">默认值）上： &nbsp;</span></div>
					<div class="stl_01" style="top:20.5848em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">socks &nbsp;</span></div>
					<div class="stl_01" style="top:21.4178em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">socket &nbsp;</span></div>
					<div class="stl_01" style="top:22.2508em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">urllib.request </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">urlopen &nbsp;</span></div>
					<div class="stl_01" style="top:23.9168em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">socks.set_default_proxy(socks.SOCKS5, "localhost", 9150) &nbsp;</span></div>
					<div class="stl_01" style="top:24.7498em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">socket.socket = socks.socksocket &nbsp;</span></div>
					<div class="stl_01" style="top:25.5828em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(urlopen('http://icanhazip.com').read()) &nbsp;</span></div>
					<div class="stl_01" style="top:27.3061em; left:6.6142em;"><span class="stl_129 stl_49 stl_206" style="word-spacing:-0.0033em;">网站 </span><span class="stl_132 stl_52 stl_206" style="word-spacing:-0.0033em;">http://icanhazip.com/ </span><span class="stl_129 stl_49 stl_206" style="word-spacing:-0.0033em;">会显示客户端连接的网站服务器的 </span><span class="stl_132 stl_52 stl_206" style="word-spacing:-0.0033em;">IP </span><span class="stl_129 stl_49 stl_206" style="word-spacing:-0.0033em;">地址，可以用来测试 </span><span class="stl_132 stl_52 stl_206" style="word-spacing:-0.0033em;">Tor </span><span class="stl_129 stl_49 stl_206" style="word-spacing:-0.0033em;">是 &nbsp;</span></div>
					<div class="stl_01" style="top:28.5561em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">否正常运行。当程序执行之后，显示的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">IP </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">地址就不是你原来的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">IP </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">了。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.4671em; left:6.6142em;"><span class="stl_129 stl_49 stl_613" style="word-spacing:0.0035em;">如果你想在 </span><span class="stl_132 stl_52 stl_613" style="word-spacing:0.0035em;">Tor </span><span class="stl_129 stl_49 stl_613" style="word-spacing:0.0035em;">里面用 </span><span class="stl_132 stl_52 stl_613" style="word-spacing:0.0035em;">Selenium </span><span class="stl_129 stl_49 stl_613" style="word-spacing:0.0035em;">和 </span><span class="stl_132 stl_52 stl_613" style="word-spacing:0.0035em;">PhantomJS</span><span class="stl_129 stl_49 stl_613" style="word-spacing:0.0035em;">，不需要 </span><span class="stl_132 stl_52 stl_613" style="word-spacing:0.0035em;">PySocks</span><span class="stl_129 stl_49 stl_613" style="word-spacing:0.0035em;">，只要保证 </span><span class="stl_132 stl_52 stl_613" style="word-spacing:0.0035em;">Tor </span><span class="stl_129 stl_49 stl_613" style="word-spacing:0.0035em;">在运行，然 &nbsp;</span></div>
					<div class="stl_01" style="top:31.7054em; left:6.6142em;"><span class="stl_129 stl_49 stl_120" style="word-spacing:-0.0065em;">后增加 </span><span class="stl_188 stl_44 stl_120" style="word-spacing:-0.0069em;">service_args</span><span class="stl_129 stl_49 stl_120" style="word-spacing:-0.0065em;">参数设置代理端口，让 </span><span class="stl_132 stl_52 stl_120" style="word-spacing:-0.0065em;">Selenium </span><span class="stl_129 stl_49 stl_120" style="word-spacing:-0.0065em;">通过端口 </span><span class="stl_132 stl_52 stl_120" style="word-spacing:-0.0065em;">9150 </span><span class="stl_129 stl_49 stl_120" style="word-spacing:-0.0065em;">连接网站就可以了： &nbsp;</span></div>
					<div class="stl_01" style="top:33.6859em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">from </span><span class="stl_116 stl_44 stl_10">selenium </span><span class="stl_232 stl_44 stl_10">import </span><span class="stl_116 stl_44 stl_10">webdriver &nbsp;</span></div>
					<div class="stl_01" style="top:34.5189em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">service_args = [ '--proxy=localhost:9150', '--proxy-type=socks5', ] &nbsp;</span></div>
					<div class="stl_01" style="top:35.3519em; left:8.3386em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">driver = webdriver.PhantomJS(executable_path='&lt;path to PhantomJS&gt;', &nbsp;</span></div>
					<div class="stl_01" style="top:36.1849em; left:18.6094em;"><span class="stl_116 stl_44 stl_10">service_args=service_args) &nbsp;</span></div>
					<div class="stl_01" style="top:37.8509em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">driver.get("http://icanhazip.com") &nbsp;</span></div>
					<div class="stl_01" style="top:38.6839em; left:8.3386em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(driver.page_source) &nbsp;</span></div>
					<div class="stl_01" style="top:39.5169em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">driver.close() &nbsp;</span></div>
					<div class="stl_01" style="top:41.2404em; left:6.6142em;"><span class="stl_129 stl_49 stl_198" style="word-spacing:-0.042em;">和之前一样，这个程序打印的 </span><span class="stl_132 stl_52 stl_198" style="word-spacing:-0.042em;">IP </span><span class="stl_129 stl_49 stl_198" style="word-spacing:-0.042em;">地址也不是你原来的，而是你通过 </span><span class="stl_132 stl_52 stl_198" style="word-spacing:-0.042em;">Tor </span><span class="stl_129 stl_49 stl_198" style="word-spacing:-0.042em;">客户端获得的 </span><span class="stl_132 stl_52 stl_198" style="word-spacing:-0.042em;">IP &nbsp;</span></div>
					<div class="stl_01" style="top:42.5682em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">地址。 &nbsp;</span></div>
					<div class="stl_01" style="top:44.9565em; left:6.6142em;"><span class="stl_197 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:44.8856em; left:7.4373em;"><span class="stl_197 stl_18 stl_71">4.3</span><span class="stl_160 stl_20 stl_71">ꢀ远程主机 &nbsp;</span></div>
					<div class="stl_01" style="top:47.3965em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">一旦你使用信用卡，完全的匿名效果就消失了，即便如此，你还是可以把网络爬虫放在远 &nbsp;</span></div>
					<div class="stl_01" style="top:48.5688em; left:6.6142em;"><span class="stl_129 stl_49 stl_248" style="word-spacing:0.0903em;">程主机（</span><span class="stl_132 stl_52 stl_248" style="word-spacing:0.0903em;">Remote Hosting</span><span class="stl_129 stl_49 stl_248" style="word-spacing:0.0903em;">）上动态地改善它们的运行速度。这是因为你不仅可以自由购买 &nbsp;</span></div>
					<div class="stl_01" style="top:49.8965em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">服务器的使用时间，使用更强大的机器，而且网络连接也不需要在到达访问目的地之前在 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:31.6117em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">远程采集 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">177 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_238.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_238.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Tor </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">网络中长途跋涉。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.3224em; left:5.6693em;"><span class="stl_260 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:7.2641em; left:6.3471em;"><span class="stl_260 stl_18 stl_71">4.3.1</span><span class="stl_91 stl_20 stl_71">ꢀ从网站主机运行 &nbsp;</span></div>
					<div class="stl_01" style="top:9.2827em; left:5.6693em;"><span class="stl_129 stl_49 stl_153">如果你拥有个人网站或公司网站，那么你可能已经知道如何使用外部服务器运行你的网络 &nbsp;</span></div>
					<div class="stl_01" style="top:10.5327em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">爬虫了。即使是一些相对封闭的网络服务器，没有可用的命令行接入方式，你也可以通过 &nbsp;</span></div>
					<div class="stl_01" style="top:11.7828em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">网页界面对程序进行控制。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.6161em; left:5.6693em;"><span class="stl_129 stl_49 stl_128" style="word-spacing:-0.0028em;">如果你的网站部署在 </span><span class="stl_132 stl_52 stl_128" style="word-spacing:-0.0028em;">Linux </span><span class="stl_129 stl_49 stl_128" style="word-spacing:-0.0028em;">服务器上，应该已经运行了 </span><span class="stl_132 stl_52 stl_128" style="word-spacing:-0.0028em;">Python</span><span class="stl_129 stl_49 stl_128" style="word-spacing:-0.0028em;">。如果你用的是 </span><span class="stl_132 stl_52 stl_128" style="word-spacing:-0.0028em;">Windows </span><span class="stl_129 stl_49 stl_128" style="word-spacing:-0.0028em;">服 &nbsp;</span></div>
					<div class="stl_01" style="top:14.8664em; left:5.6693em;"><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0032em;">务器，可能就没那么幸运了；你需要仔细检查一下 </span><span class="stl_132 stl_52 stl_127" style="word-spacing:-0.0032em;">Python </span><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0032em;">有没有安装，或者问问网管可不 &nbsp;</span></div>
					<div class="stl_01" style="top:16.1942em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">可以安装。 &nbsp;</span></div>
					<div class="stl_01" style="top:18.0275em; left:5.6693em;"><span class="stl_129 stl_49 stl_85" style="word-spacing:-0.0208em;">大多数小型网络主机都会提供一个软件叫 </span><span class="stl_132 stl_52 stl_85" style="word-spacing:-0.0208em;">cPanel</span><span class="stl_129 stl_49 stl_85" style="word-spacing:-0.0208em;">，提供网站管理和后台服务的基本管理功 &nbsp;</span></div>
					<div class="stl_01" style="top:19.2778em; left:5.6693em;"><span class="stl_129 stl_49 stl_455" style="word-spacing:-0.0382em;">能和信息。如果你接入了 </span><span class="stl_132 stl_52 stl_455" style="word-spacing:-0.0382em;">cPanel</span><span class="stl_129 stl_49 stl_455" style="word-spacing:-0.0382em;">，就可以设置 </span><span class="stl_132 stl_52 stl_455" style="word-spacing:-0.0382em;">Python </span><span class="stl_129 stl_49 stl_455" style="word-spacing:-0.0382em;">在服务器上运行——进入“</span><span class="stl_132 stl_52 stl_455" style="word-spacing:-0.0382em;">Apache &nbsp;</span></div>
					<div class="stl_01" style="top:20.5279em; left:5.6693em;"><span class="stl_132 stl_52 stl_676" style="word-spacing:0.0172em;">Handlers</span><span class="stl_129 stl_49 stl_676" style="word-spacing:0.0172em;">”然后增加一个 </span><span class="stl_132 stl_52 stl_676" style="word-spacing:0.0172em;">handler</span><span class="stl_129 stl_49 stl_676" style="word-spacing:0.0172em;">（如还没有的话）： &nbsp;</span></div>
					<div class="stl_01" style="top:22.4964em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Handler: cgi-script &nbsp;</span></div>
					<div class="stl_01" style="top:23.3294em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Extension(s): .py &nbsp;</span></div>
					<div class="stl_01" style="top:25.0508em; left:5.6693em;"><span class="stl_129 stl_49 stl_729" style="word-spacing:-0.0363em;">这会告诉服务器所有的 </span><span class="stl_132 stl_52 stl_729" style="word-spacing:-0.0363em;">Python </span><span class="stl_129 stl_49 stl_729" style="word-spacing:-0.0363em;">脚本都将作为一个 </span><span class="stl_132 stl_52 stl_729" style="word-spacing:-0.0363em;">CGI </span><span class="stl_129 stl_49 stl_729" style="word-spacing:-0.0363em;">脚本运行。</span><span class="stl_132 stl_52 stl_729" style="word-spacing:-0.0363em;">CGI </span><span class="stl_129 stl_49 stl_729" style="word-spacing:-0.0363em;">就是</span><span class="stl_269 stl_49 stl_729" style="word-spacing:-0.0363em;">通用网关接口 &nbsp;</span></div>
					<div class="stl_01" style="top:26.3785em; left:5.2735em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:26.3008em; left:6.0651em;"><span class="stl_132 stl_52 stl_663" style="word-spacing:0.0503em;">Common Gateway Interface</span><span class="stl_129 stl_49 stl_663" style="word-spacing:0.0503em;">），是可以在服务器上运行的任何程序，会动态地生成内容并显 &nbsp;</span></div>
					<div class="stl_01" style="top:27.5508em; left:5.6693em;"><span class="stl_129 stl_49 stl_401" style="word-spacing:-0.019em;">示在网站上。把 </span><span class="stl_132 stl_52 stl_401" style="word-spacing:-0.019em;">Python </span><span class="stl_129 stl_49 stl_401" style="word-spacing:-0.019em;">脚本显式地定义成 </span><span class="stl_132 stl_52 stl_401" style="word-spacing:-0.019em;">CGI </span><span class="stl_129 stl_49 stl_401" style="word-spacing:-0.019em;">脚本，就是给服务器权限去执行 </span><span class="stl_132 stl_52 stl_401" style="word-spacing:-0.019em;">Python </span><span class="stl_129 stl_49 stl_401" style="word-spacing:-0.019em;">脚 &nbsp;</span></div>
					<div class="stl_01" style="top:28.8785em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">本，而不只是在浏览器上显示它们或者让用户下载它们。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.7119em; left:5.6693em;"><span class="stl_129 stl_49 stl_512" style="word-spacing:-0.0119em;">写完 </span><span class="stl_132 stl_52 stl_512" style="word-spacing:-0.0119em;">Python </span><span class="stl_129 stl_49 stl_512" style="word-spacing:-0.0119em;">脚本后上传到服务器，然后把文件权限设置成 </span><span class="stl_132 stl_52 stl_512" style="word-spacing:-0.0119em;">755</span><span class="stl_129 stl_49 stl_512" style="word-spacing:-0.0119em;">，让它可执行。通过浏览器 &nbsp;</span></div>
					<div class="stl_01" style="top:32.0399em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">找到程序上传的位置（也可以写一个爬虫来自动做这件事情）就可以执行程序。如果你担 &nbsp;</span></div>
					<div class="stl_01" style="top:33.29em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">心在公共领域执行脚本不安全，可以采取以下两种方法。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.1629em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:37.6633em; left:5.6691em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:35.1233em; left:6.7325em;"><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0032em;">把脚本存储在一个隐晦或深层的 </span><span class="stl_132 stl_52 stl_127" style="word-spacing:-0.0032em;">URL </span><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0032em;">里，确保其他 </span><span class="stl_132 stl_52 stl_127" style="word-spacing:-0.0032em;">URL </span><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0032em;">链接都不能接入这个脚本，这 &nbsp;</span></div>
					<div class="stl_01" style="top:36.4514em; left:6.7323em;"><span class="stl_129 stl_49 stl_10">样可以避免搜索引擎发现它。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.7014em; left:6.7323em;"><span class="stl_129 stl_49 stl_10">用密码保护脚本，或者在执行脚本之前用密码或加密令牌进行确认。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.5348em; left:5.6691em;"><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0032em;">确实，通过这些原本主要是用来显示网站的服务运行 </span><span class="stl_132 stl_52 stl_127" style="word-spacing:-0.0032em;">Python </span><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0032em;">脚本有点儿复杂。比如，你可 &nbsp;</span></div>
					<div class="stl_01" style="top:40.8628em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">能会发现网络爬虫运行时网站的加载速度变慢了。其实，在整个采集任务完成之前页面都 &nbsp;</span></div>
					<div class="stl_01" style="top:42.0351em; left:5.6693em;"><span class="stl_129 stl_49 stl_553">是不会加载的（得等到所有“</span><span class="stl_132 stl_52 stl_553">print</span><span class="stl_129 stl_49 stl_553">”语句的输出内容都显示完）。这可能会消耗几分钟，几 &nbsp;</span></div>
					<div class="stl_01" style="top:43.3628em; left:5.6693em;"><span class="stl_129 stl_49 stl_139">小时，甚至永远也完成不了，要看程序的具体情况了。虽然它最终一定能完成任务，但是 &nbsp;</span></div>
					<div class="stl_01" style="top:44.6128em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">可能你还想看到实时的结果，这样就需要一台真正的服务器了。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.0226em; left:5.6693em;"><span class="stl_260 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:46.9642em; left:6.3471em;"><span class="stl_260 stl_18 stl_71">4.3.2</span><span class="stl_91 stl_20 stl_71">ꢀ从云主机运行 &nbsp;</span></div>
					<div class="stl_01" style="top:48.9828em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">以前，程序员会为了在计算机上运行或者存储自己的程序而付费。个人电脑发明之后，这 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">78 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 14</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_239.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_239.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9126em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">种事情似乎没必要了——人们可以直接在自己的电脑上写程序并运行。现在，应用程序的 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1627em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">计算需求已经完全超越了微处理器的发展速度，于是程序员又开始为计算能力付费了。 &nbsp;</span></div>
					<div class="stl_01" style="top:8.0737em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">但是，这次用户不再为单个物理机器的计算能力付费，而是为多个机器共同的计算能力付 &nbsp;</span></div>
					<div class="stl_01" style="top:9.3238em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">费。这种云状计算系统的计算能力可以按使用时间进行付费。例如，当客户计算的低成本 &nbsp;</span></div>
					<div class="stl_01" style="top:10.4963em; left:6.6142em;"><span class="stl_129 stl_49 stl_860" style="word-spacing:0.0185em;">比即时性更重要时，亚马逊的 </span><span class="stl_132 stl_52 stl_860" style="word-spacing:0.0185em;">EC2 </span><span class="stl_129 stl_49 stl_860" style="word-spacing:0.0185em;">允许用户使用“竞价型实例”（</span><span class="stl_132 stl_52 stl_860" style="word-spacing:0.0185em;">spot</span><span class="stl_132 stl_52 stl_860" style="word-spacing:0.1356em;"> instance</span><span class="stl_129 stl_49 stl_860" style="word-spacing:0.1356em;">），可以先 &nbsp;</span></div>
					<div class="stl_01" style="top:11.8241em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">竞价再使用云计算服务。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.7352em; left:6.6142em;"><span class="stl_129 stl_49 stl_693">计算实例还可以进行定制，也可以根据应用程序的实际需求进行设置，选项有“高内 &nbsp;</span></div>
					<div class="stl_01" style="top:14.9855em; left:6.6142em;"><span class="stl_129 stl_49 stl_420">存”“快速计算”“大容量存储”。虽然网络爬虫不需要很多内存，但是你可能需要较大的 &nbsp;</span></div>
					<div class="stl_01" style="top:16.2355em; left:6.6142em;"><span class="stl_129 stl_49 stl_861">存储空间或快速的计算能力来实现爬虫的更多功能。如果你要做大量的自然语言处理、 &nbsp;</span></div>
					<div class="stl_01" style="top:17.4078em; left:6.6142em;"><span class="stl_132 stl_52 stl_241" style="word-spacing:-0.0496em;">OCR </span><span class="stl_129 stl_49 stl_241" style="word-spacing:-0.0496em;">或者路径查找（就像“维基百科六度分隔理论”问题）之类的工作，选择“快速计 &nbsp;</span></div>
					<div class="stl_01" style="top:18.7355em; left:6.6142em;"><span class="stl_129 stl_49 stl_139">算”实例就可以。如果你要采集大量数据，存储许多文件，或者进行大数据分析，可能就 &nbsp;</span></div>
					<div class="stl_01" style="top:19.9855em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">需要用带大容量存储的计算实例了。 &nbsp;</span></div>
					<div class="stl_01" style="top:21.8966em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">虽然云计算的花费可能是无底洞，但是写到这里的时候，启动一个计算实例最便宜只要每 &nbsp;</span></div>
					<div class="stl_01" style="top:23.0692em; left:6.6142em;"><span class="stl_129 stl_49 stl_286" style="word-spacing:-0.0056em;">小时 </span><span class="stl_132 stl_52 stl_286" style="word-spacing:-0.0056em;">1.3 </span><span class="stl_129 stl_49 stl_286" style="word-spacing:-0.0056em;">美分（亚马逊 </span><span class="stl_132 stl_52 stl_286" style="word-spacing:-0.0056em;">EC2 </span><span class="stl_129 stl_49 stl_286" style="word-spacing:-0.0056em;">的 </span><span class="stl_132 stl_52 stl_286" style="word-spacing:-0.0056em;">micro </span><span class="stl_129 stl_49 stl_286" style="word-spacing:-0.0056em;">实例，其他实例会更贵），</span><span class="stl_132 stl_52 stl_286" style="word-spacing:-0.0056em;">Google </span><span class="stl_129 stl_49 stl_286" style="word-spacing:-0.0056em;">最便宜的计算实例 &nbsp;</span></div>
					<div class="stl_01" style="top:24.3192em; left:6.6142em;"><span class="stl_129 stl_49 stl_226" style="word-spacing:-0.0057em;">是每小时 </span><span class="stl_132 stl_52 stl_226" style="word-spacing:-0.0057em;">4.5 </span><span class="stl_129 stl_49 stl_226" style="word-spacing:-0.0057em;">美分，最少需要用 </span><span class="stl_132 stl_52 stl_226" style="word-spacing:-0.0057em;">10 </span><span class="stl_129 stl_49 stl_226" style="word-spacing:-0.0057em;">分钟。考虑计算能力的规模效应，从大公司买一个小型 &nbsp;</span></div>
					<div class="stl_01" style="top:25.6469em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">的云计算实例的费用，和自己买一台专业实体机的费用应该差不多——不过用云计算不需 &nbsp;</span></div>
					<div class="stl_01" style="top:26.8969em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">要雇人去维护设备。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.808em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">显然，一步一步设置和运行云计算实例的教程超出了本书介绍范围，不过你自己其实不需 &nbsp;</span></div>
					<div class="stl_01" style="top:29.9803em; left:6.6142em;"><span class="stl_129 stl_49 stl_483" style="word-spacing:-0.0086em;">要这类教程。亚马逊和 </span><span class="stl_132 stl_52 stl_483" style="word-spacing:-0.0086em;">Google</span><span class="stl_129 stl_49 stl_483" style="word-spacing:-0.0086em;">（还有不计其数的小公司）的云计算产品正在激烈竞争，它 &nbsp;</span></div>
					<div class="stl_01" style="top:31.3083em; left:6.6142em;"><span class="stl_129 stl_49 stl_157">们会尽力把新实例创建的步骤做到最简单，填个应用名称，设置一下信用卡信息就可以 &nbsp;</span></div>
					<div class="stl_01" style="top:32.4806em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">了。写到这里的时候，亚马逊和 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">Google </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">还为新用户提供了价值几百美元的免费计算时间。 &nbsp;</span></div>
					<div class="stl_01" style="top:34.3917em; left:6.6142em;"><span class="stl_129 stl_49 stl_694" style="word-spacing:-0.0305em;">设置好计算实例之后，你就有了新 </span><span class="stl_132 stl_52 stl_694" style="word-spacing:-0.0305em;">IP </span><span class="stl_129 stl_49 stl_694" style="word-spacing:-0.0305em;">地址、用户名，以及可以通过 </span><span class="stl_132 stl_52 stl_694" style="word-spacing:-0.0305em;">SSH </span><span class="stl_129 stl_49 stl_694" style="word-spacing:-0.0305em;">进行实例连接的 &nbsp;</span></div>
					<div class="stl_01" style="top:35.7197em; left:6.6142em;"><span class="stl_129 stl_49 stl_142">公私密钥了。后面要做的每件事情，都应该和你在实体服务器上干的事情一样了——当 &nbsp;</span></div>
					<div class="stl_01" style="top:36.9698em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">然，你不需要再担心硬件维护，也不用运行复杂多余的监控工具了。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.358em; left:6.6142em;"><span class="stl_197 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:39.2872em; left:7.4373em;"><span class="stl_197 stl_18 stl_71">4.4</span><span class="stl_160 stl_20 stl_71">ꢀ其他资源 &nbsp;</span></div>
					<div class="stl_01" style="top:41.7981em; left:6.6142em;"><span class="stl_129 stl_49 stl_135">很多年以前，“在云端”运行基本上是那些既懂理论又具有服务器运维经验的人们之间的 &nbsp;</span></div>
					<div class="stl_01" style="top:43.0482em; left:6.6142em;"><span class="stl_129 stl_49 stl_139">高谈阔论。但是今天，由于云计算技术的不断普及，以及云计算供应商之间的竞争，云计 &nbsp;</span></div>
					<div class="stl_01" style="top:44.2982em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">算工具已经有了极大的改善。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.2092em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">如果你想建立规模更大或更复杂的爬虫，在创建云计算平台以收集和存储数据时，可能还 &nbsp;</span></div>
					<div class="stl_01" style="top:47.4596em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">需要一些参考资料。 &nbsp;</span></div>
					<div class="stl_01" style="top:49.293em; left:6.6142em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.1251em;">Marc Cohen</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.1251em;">、</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.1251em;">Kathryn Hurley</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.1251em;"> 和 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.064em;">Paul</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.1252em;"> Newson</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.064em;"> 合</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.006em;"> 著 的</span><span class="stl_194 stl_36 stl_10" style="word-spacing:0.062em;"> Google</span><span class="stl_194 stl_36 stl_10" style="word-spacing:0.1251em;"> Compute</span><span class="stl_194 stl_36 stl_10" style="word-spacing:0.1251em;"> Engine</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.1251em;">（</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.1251em;">http://shop. &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:31.6117em;"><span class="stl_126 stl_20 stl_10" style="word-spacing:0.386em;">远程采集 ｜ </span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.386em;">179 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_240.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_240.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">oreilly.com/product/0636920028888.do</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">）是通过 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">和 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">JavaScript </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">使用 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">Google </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">云计算平台 &nbsp;</span></div>
					<div class="stl_01" style="top:6.0849em; left:5.6693em;"><span class="stl_129 stl_49 stl_167" style="word-spacing:-0.0409em;">的第一手资料。书中不仅介绍了 </span><span class="stl_132 stl_52 stl_167" style="word-spacing:-0.0409em;">Google </span><span class="stl_129 stl_49 stl_167" style="word-spacing:-0.0409em;">的用户界面，还介绍了命令行和脚本工具，可以 &nbsp;</span></div>
					<div class="stl_01" style="top:7.4127em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">让你的应用获取更大的灵活性。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.246em; left:5.6693em;"><span class="stl_129 stl_49 stl_815" style="word-spacing:0.1209em;">如果你更喜欢亚马逊，</span><span class="stl_132 stl_52 stl_815" style="word-spacing:0.1209em;">Mitch Garnaat</span><span class="stl_129 stl_49 stl_815" style="word-spacing:0.001em;"> 的</span><span class="stl_194 stl_36 stl_815" style="word-spacing:-0.0001em;"> Python</span><span class="stl_194 stl_36 stl_815" style="word-spacing:0.1199em;"> and</span><span class="stl_194 stl_36 stl_815" style="word-spacing:0.1029em;"> AWS</span><span class="stl_194 stl_36 stl_815" style="word-spacing:0.1209em;"> Cookbook</span><span class="stl_129 stl_49 stl_815" style="word-spacing:0.1209em;">（</span><span class="stl_132 stl_52 stl_815" style="word-spacing:0.1209em;">http://shop.oreilly.com/ &nbsp;</span></div>
					<div class="stl_01" style="top:10.4963em; left:5.6693em;"><span class="stl_132 stl_52 stl_252" style="word-spacing:-0.0162em;">product/0636920020202.do</span><span class="stl_129 stl_49 stl_252" style="word-spacing:-0.0162em;">）是一本非常实用的手册，可以让你顺利启动 </span><span class="stl_132 stl_52 stl_252" style="word-spacing:-0.0162em;">AWS </span><span class="stl_129 stl_49 stl_252" style="word-spacing:-0.0162em;">服务，还会 &nbsp;</span></div>
					<div class="stl_01" style="top:11.8241em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">告诉你如何创建并运行一个可扩展的应用。 &nbsp;</span></div>
					<div class="stl_01" style="top:14.2124em; left:5.6693em;"><span class="stl_197 stl_18 stl_10">1</span></div>
					<div class="stl_01" style="top:14.1415em; left:6.4924em;"><span class="stl_197 stl_18 stl_71">4.5</span><span class="stl_160 stl_20 stl_71">ꢀ勇往直前 &nbsp;</span></div>
					<div class="stl_01" style="top:16.6524em; left:5.6693em;"><span class="stl_129 stl_49 stl_320">网络一直在不断地变化。那些给我们带来了图像、视频、文字和其他数据文件的计算机 &nbsp;</span></div>
					<div class="stl_01" style="top:17.9025em; left:5.6693em;"><span class="stl_129 stl_49 stl_185">技术也在不断地升级和改进。如果想紧跟技术潮流，采集互联网数据的技术就需要随机 &nbsp;</span></div>
					<div class="stl_01" style="top:19.1525em; left:5.6693em;"><span class="stl_129 stl_49 stl_173">应变。 &nbsp;</span></div>
					<div class="stl_01" style="top:20.9859em; left:5.6693em;"><span class="stl_129 stl_49 stl_166" style="word-spacing:-0.0377em;">本书未来的版本可能会完全忽略 </span><span class="stl_132 stl_52 stl_166" style="word-spacing:-0.0377em;">JavaScript</span><span class="stl_129 stl_49 stl_166" style="word-spacing:-0.0377em;">，它已是一种过时的、极少用的技术了，而重 &nbsp;</span></div>
					<div class="stl_01" style="top:22.2362em; left:5.6693em;"><span class="stl_129 stl_49 stl_479" style="word-spacing:-0.0478em;">点关注用 </span><span class="stl_132 stl_52 stl_479" style="word-spacing:-0.0478em;">HTML8 </span><span class="stl_129 stl_49 stl_479" style="word-spacing:-0.0478em;">实现页面。但是，采集网站内容的基本思路和一般方法是不会改变的。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.5639em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">无论现在还是将来，遇到一个网络数据采集项目时，你都应该问问自己以下几个问题。 &nbsp;</span></div>
					<div class="stl_01" style="top:25.4369em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:26.6869em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:27.937em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:29.187em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:30.437em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:31.6871em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:25.475em; left:6.7325em;"><span class="stl_129 stl_49 stl_10">我需要回答或要解决的问题是什么？ &nbsp;</span></div>
					<div class="stl_01" style="top:26.725em; left:6.7325em;"><span class="stl_129 stl_49 stl_10">什么数据可以帮助我，它们都在哪里？ &nbsp;</span></div>
					<div class="stl_01" style="top:27.9751em; left:6.7325em;"><span class="stl_129 stl_49 stl_10">网站是如何展示数据的？我能准确地识别网站代码中包含信息的部分吗？ &nbsp;</span></div>
					<div class="stl_01" style="top:29.2251em; left:6.7325em;"><span class="stl_129 stl_49 stl_10">该如何定位这些数据并获取它们？ &nbsp;</span></div>
					<div class="stl_01" style="top:30.4752em; left:6.7325em;"><span class="stl_129 stl_49 stl_10">为了让数据更实用，我应该做怎样的处理和分析？ &nbsp;</span></div>
					<div class="stl_01" style="top:31.7252em; left:6.7325em;"><span class="stl_129 stl_49 stl_10">怎样才能让采集过程更好，更快，更稳定？ &nbsp;</span></div>
					<div class="stl_01" style="top:33.6363em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">总之，你不仅需要掌握如何使用本书中介绍的工具，还要知道如何把它们有效地组合起来 &nbsp;</span></div>
					<div class="stl_01" style="top:34.8867em; left:5.6693em;"><span class="stl_129 stl_49 stl_758">解决问题。有时，数据格式很规范，比较容易获取，用一个简单的爬虫就搞定了。有时， &nbsp;</span></div>
					<div class="stl_01" style="top:36.1368em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">你可能需要仔细地思考一番才能解决。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.9701em; left:5.6693em;"><span class="stl_129 stl_49 stl_84" style="word-spacing:-0.0062em;">例如，在第 </span><span class="stl_132 stl_52 stl_84" style="word-spacing:-0.0062em;">10 </span><span class="stl_129 stl_49 stl_84" style="word-spacing:-0.0062em;">章里，我首先用 </span><span class="stl_132 stl_52 stl_84" style="word-spacing:-0.0062em;">Selenium </span><span class="stl_129 stl_49 stl_84" style="word-spacing:-0.0062em;">获取在亚马逊图书预览页面中通过 </span><span class="stl_132 stl_52 stl_84" style="word-spacing:-0.0062em;">Ajax </span><span class="stl_129 stl_49 stl_84" style="word-spacing:-0.0062em;">加载的图 &nbsp;</span></div>
					<div class="stl_01" style="top:39.2204em; left:5.6693em;"><span class="stl_129 stl_49 stl_297" style="word-spacing:-0.0049em;">片，然后再用 </span><span class="stl_132 stl_52 stl_297" style="word-spacing:-0.0049em;">Tesseract </span><span class="stl_129 stl_49 stl_297" style="word-spacing:-0.0049em;">读取图片，识别里面的文字。在“维基百科六度分隔”问题中，我 &nbsp;</span></div>
					<div class="stl_01" style="top:40.5481em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">先用正则表达式实现爬虫，把维基词条链接信息存储到数据库，然后用有向图算法寻找词 &nbsp;</span></div>
					<div class="stl_01" style="top:41.7205em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.25em;">条凯文</span><span class="stl_259 stl_20 stl_10" style="word-spacing:0.25em;">·</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.25em;">贝肯与词条埃里克</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.25em;">· </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.25em;">艾德尔之间最短的链接路径。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.7092em; left:5.6693em;"><span class="stl_129 stl_49 stl_157">在使用自动化技术采集互联网数据时，其实很少遇到完全无法解决的问题。记住一点就 &nbsp;</span></div>
					<div class="stl_01" style="top:44.8819em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">行：互联网其实就是一个用户界面不太友好的超级 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">API</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">80 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 第</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0em;"> 14</span><span class="stl_126 stl_20 stl_10" style="word-spacing:0em;"> 章 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_241.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_241.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:9.4423em; left:32.9392em;"><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.05em;">附 录 </span><span class="stl_215 stl_18 stl_10" style="word-spacing:-0.05em;">A &nbsp;</span></div>
					<div class="stl_01 stl_316" style="top:12.3895em; left:27.8896em;"><span class="stl_317 stl_318 stl_71">Python</span><span class="stl_70 stl_20 stl_71">简介 &nbsp;</span></div>
					<div class="stl_01" style="top:24.4229em; left:6.6142em;"><span class="stl_129 stl_49 stl_685" style="word-spacing:0.0962em;">根据美国计算机协会（</span><span class="stl_132 stl_52 stl_685" style="word-spacing:0.0962em;">Association of Computing Machinery</span><span class="stl_129 stl_49 stl_685" style="word-spacing:0.0962em;">，</span><span class="stl_132 stl_52 stl_685" style="word-spacing:0.0962em;">ACM</span><span class="stl_129 stl_49 stl_685" style="word-spacing:0.0962em;">）的统计数据，</span><span class="stl_132 stl_52 stl_685" style="word-spacing:0.0962em;">Python &nbsp;</span></div>
					<div class="stl_01" style="top:25.6729em; left:6.6142em;"><span class="stl_129 stl_49 stl_244" style="word-spacing:0.0002em;">是全美国最流行的计算机教学语言，在编程入门课程中它比 </span><span class="stl_132 stl_52 stl_244" style="word-spacing:0.0002em;">BASIC</span><span class="stl_129 stl_49 stl_244" style="word-spacing:0.0002em;">、</span><span class="stl_132 stl_52 stl_244" style="word-spacing:0.0002em;">Java </span><span class="stl_129 stl_49 stl_244" style="word-spacing:0.0002em;">甚至 </span><span class="stl_132 stl_52 stl_244" style="word-spacing:0.0002em;">C </span><span class="stl_129 stl_49 stl_244" style="word-spacing:0.0002em;">语言更流 &nbsp;</span></div>
					<div class="stl_01" style="top:26.923em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">行。这部分内容将介绍 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python 3.x </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">版本和 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">程序的安装、使用和运行。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.3181em; left:6.6142em;"><span class="stl_160 stl_20 stl_198">安装与</span><span class="stl_862 stl_44 stl_198">“</span><span class="stl_197 stl_18 stl_198">Hello,World!</span><span class="stl_862 stl_44 stl_198">” &nbsp;</span></div>
					<div class="stl_01" style="top:31.7513em; left:6.6142em;"><span class="stl_129 stl_49 stl_352" style="word-spacing:-0.0257em;">如果你用 </span><span class="stl_132 stl_52 stl_352" style="word-spacing:-0.0257em;">Mac</span><span class="stl_132 stl_52 stl_352" style="word-spacing:0.0923em;"> OS X</span><span class="stl_129 stl_49 stl_352" style="word-spacing:-0.0259em;"> 或是任意版本的</span><span class="stl_132 stl_52 stl_352" style="word-spacing:-0.0257em;"> Linux</span><span class="stl_129 stl_49 stl_352" style="word-spacing:-0.0257em;">，</span><span class="stl_132 stl_52 stl_352" style="word-spacing:-0.0257em;">Python</span><span class="stl_129 stl_49 stl_352" style="word-spacing:-0.0257em;"> 可能已经安装在系统上了。如果不确 &nbsp;</span></div>
					<div class="stl_01" style="top:33.079em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">定，可以输入下面的命令检查一下： &nbsp;</span></div>
					<div class="stl_01" style="top:34.9699em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:34.9699em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">python --version &nbsp;</span></div>
					<div class="stl_01" style="top:36.6909em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">我们全书都用 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.109em;"> 3.x</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;"> 版本。如果你发现系统安装了</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;"> Python</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.109em;"> 2.x</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;"> 版本，你可以升级系统， &nbsp;</span></div>
					<div class="stl_01" style="top:38.0066em; left:6.6142em;"><span class="stl_129 stl_49 stl_266" style="word-spacing:-0.0455em;">用 </span><span class="stl_188 stl_44 stl_397" style="word-spacing:-0.048em;">apt-get</span><span class="stl_129 stl_49 stl_266" style="word-spacing:-0.0455em;">命令安装： &nbsp;</span></div>
					<div class="stl_01" style="top:39.9095em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">$</span></div>
					<div class="stl_01" style="top:39.9095em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">sudo apt-get install python3 &nbsp;</span></div>
					<div class="stl_01" style="top:41.6185em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">注意，如果要用 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.114em;"> 3.x</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;"> 版本运行程序，你需要在命令行里输入</span><span class="stl_188 stl_44 stl_10" style="word-spacing:-0.0004em;"> $python3</span><span class="stl_188 stl_44 stl_10" style="word-spacing:0.227em;"> myScript.py</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.215em;">， &nbsp;</span></div>
					<div class="stl_01" style="top:42.9462em; left:6.6139em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">而不是 </span><span class="stl_188 stl_44 stl_10" style="word-spacing:0.0002em;">$python myScript.py</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0002em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:44.7916em; left:6.6142em;"><span class="stl_129 stl_49 stl_288" style="word-spacing:0.0029em;">本书写到这里的时候，</span><span class="stl_132 stl_52 stl_288" style="word-spacing:0.0029em;">Mac OS X </span><span class="stl_129 stl_49 stl_288" style="word-spacing:0.0029em;">操作系统默认已经安装了 </span><span class="stl_132 stl_52 stl_288" style="word-spacing:0.0029em;">Python 2.7 </span><span class="stl_129 stl_49 stl_288" style="word-spacing:0.0029em;">版本。要安装 </span><span class="stl_132 stl_52 stl_288" style="word-spacing:0.0029em;">Python &nbsp;</span></div>
					<div class="stl_01" style="top:46.0813em; left:6.6142em;"><span class="stl_132 stl_52 stl_10">3</span></div>
					<div class="stl_01" style="top:46.0417em; left:7.01em;"><span class="stl_132 stl_52 stl_301" style="word-spacing:0.0095em;">.x </span><span class="stl_129 stl_49 stl_301" style="word-spacing:0.0095em;">版本，请从 </span><span class="stl_132 stl_52 stl_301" style="word-spacing:0.0095em;">Python </span><span class="stl_129 stl_49 stl_301" style="word-spacing:0.0095em;">官网下载安装包（</span><span class="stl_132 stl_52 stl_301" style="word-spacing:0.0095em;">https://www.python.org/downloads/mac-osx/</span><span class="stl_129 stl_49 stl_301" style="word-spacing:0.0095em;">）。另 &nbsp;</span></div>
					<div class="stl_01" style="top:47.292em; left:6.6142em;"><span class="stl_129 stl_49 stl_400" style="word-spacing:-0.0158em;">外，如果你需要同时运行 </span><span class="stl_132 stl_52 stl_400" style="word-spacing:-0.0158em;">Python</span><span class="stl_132 stl_52 stl_400" style="word-spacing:0.1022em;"> 2.x</span><span class="stl_129 stl_49 stl_400" style="word-spacing:-0.0158em;"> 版本和</span><span class="stl_132 stl_52 stl_400" style="word-spacing:-0.0158em;"> Python</span><span class="stl_132 stl_52 stl_400" style="word-spacing:0.1022em;"> 3.x</span><span class="stl_129 stl_49 stl_400" style="word-spacing:-0.0158em;"> 版本，那么在使用</span><span class="stl_132 stl_52 stl_400" style="word-spacing:-0.0158em;"> Python</span><span class="stl_132 stl_52 stl_400" style="word-spacing:0.1022em;"> 3.x</span><span class="stl_129 stl_49 stl_400" style="word-spacing:-0.0158em;"> 版本 &nbsp;</span></div>
					<div class="stl_01" style="top:48.6076em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">时需要使用 </span><span class="stl_188 stl_44 stl_10" style="word-spacing:0em;">$python3</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.3099em; left:36.5751em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.3099em; left:36.9812em;"><span class="stl_119 stl_22 stl_10">81 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_242.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_242.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_132 stl_52 stl_436" style="word-spacing:-0.0398em;">Windows </span><span class="stl_129 stl_49 stl_436" style="word-spacing:-0.0398em;">系统默认没有 </span><span class="stl_132 stl_52 stl_436" style="word-spacing:-0.0398em;">Python</span><span class="stl_129 stl_49 stl_436" style="word-spacing:-0.0398em;">，在 </span><span class="stl_132 stl_52 stl_436" style="word-spacing:-0.0398em;">Python </span><span class="stl_129 stl_49 stl_436" style="word-spacing:-0.0398em;">官网上有预编译安装包（</span><span class="stl_132 stl_52 stl_436" style="word-spacing:-0.0398em;">https://docs.python. &nbsp;</span></div>
					<div class="stl_01" style="top:6.0849em; left:5.6693em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.057em;">org/3/using/windows.html</span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.057em;">） 可 以 下 载。 只 需 简 单 地 下 载， 打 开， 然 后 安 装。 虽 然 在 &nbsp;</span></div>
					<div class="stl_01" style="top:7.3349em; left:5.6693em;"><span class="stl_132 stl_52 stl_758" style="word-spacing:-0.0383em;">Windows </span><span class="stl_129 stl_49 stl_758" style="word-spacing:-0.0383em;">系统上，你可能还需要在系统设置里把 </span><span class="stl_132 stl_52 stl_758" style="word-spacing:-0.0383em;">Python </span><span class="stl_129 stl_49 stl_758" style="word-spacing:-0.0383em;">安装路径添加到系统变量中，让 &nbsp;</span></div>
					<div class="stl_01" style="top:8.6627em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">操作系统能够找到它，但是网站和安装包都会提供非常简单的操作指导帮你完成这些。 &nbsp;</span></div>
					<div class="stl_01" style="top:10.4961em; left:5.6693em;"><span class="stl_129 stl_49 stl_204" style="word-spacing:-0.0325em;">关于各个系统平台中安装和升级 </span><span class="stl_132 stl_52 stl_204" style="word-spacing:-0.0325em;">Python </span><span class="stl_129 stl_49 stl_204" style="word-spacing:-0.0325em;">的更全面内容，请访问 </span><span class="stl_132 stl_52 stl_204" style="word-spacing:-0.0325em;">Python </span><span class="stl_129 stl_49 stl_204" style="word-spacing:-0.0325em;">下载页面（</span><span class="stl_132 stl_52 stl_204" style="word-spacing:-0.0325em;">https:// &nbsp;</span></div>
					<div class="stl_01" style="top:11.7464em; left:5.6693em;"><span class="stl_132 stl_52 stl_50">www.python.org/downloads/</span><span class="stl_129 stl_49 stl_50">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.6575em; left:5.6693em;"><span class="stl_132 stl_52 stl_498" style="word-spacing:-0.0221em;">Python </span><span class="stl_129 stl_49 stl_498" style="word-spacing:-0.0221em;">可以作为脚本语言使用，不需要像 </span><span class="stl_132 stl_52 stl_498" style="word-spacing:-0.0221em;">Java </span><span class="stl_129 stl_49 stl_498" style="word-spacing:-0.0221em;">一样创建类和函数。直接打开文本编辑器， &nbsp;</span></div>
					<div class="stl_01" style="top:14.9855em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">写入： &nbsp;</span></div>
					<div class="stl_01" style="top:16.8762em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">print</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">("Hello, Internet!") &nbsp;</span></div>
					<div class="stl_01" style="top:18.5974em; left:5.6693em;"><span class="stl_129 stl_49 stl_458" style="word-spacing:-0.026em;">然后把文件保存为 </span><span class="stl_132 stl_52 stl_458" style="word-spacing:-0.026em;">hello.py </span><span class="stl_129 stl_49 stl_458" style="word-spacing:-0.026em;">就可以了。如果你想更细致一点儿，可以创建一个函数来实现 &nbsp;</span></div>
					<div class="stl_01" style="top:19.9251em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">同样的结果： &nbsp;</span></div>
					<div class="stl_01" style="top:21.8158em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">def </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">hello(): &nbsp;</span></div>
					<div class="stl_01" style="top:22.6488em; left:8.8104em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">print</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">("Hello, Internet!") &nbsp;</span></div>
					<div class="stl_01" style="top:23.4818em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">hello() &nbsp;</span></div>
					<div class="stl_01" style="top:25.2814em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">这里有几点需要注意一下。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.1148em; left:5.6693em;"><span class="stl_132 stl_52 stl_773" style="word-spacing:-0.0174em;">Python </span><span class="stl_129 stl_49 stl_773" style="word-spacing:-0.0174em;">不用分号表示句子结束，也不用大括号表示循环体或函数体的开始和结束。</span><span class="stl_132 stl_52 stl_773" style="word-spacing:-0.0174em;">Python &nbsp;</span></div>
					<div class="stl_01" style="top:28.353em; left:5.6693em;"><span class="stl_129 stl_49 stl_286" style="word-spacing:0.1106em;">用断行（</span><span class="stl_132 stl_52 stl_286" style="word-spacing:0.1106em;">line break</span><span class="stl_129 stl_49 stl_286" style="word-spacing:0.1106em;">）和缩进（</span><span class="stl_132 stl_52 stl_286" style="word-spacing:0.1106em;">Tab</span><span class="stl_129 stl_49 stl_286" style="word-spacing:-0.0116em;"> 键）来控制代码逻辑。在上面的文件中，第一行是</span><span class="stl_188 stl_44 stl_660" style="word-spacing:-0.0158em;"> def</span><span class="stl_129 stl_49 stl_286" style="word-spacing:-0.015em;">， &nbsp;</span></div>
					<div class="stl_01" style="top:29.6807em; left:5.669em;"><span class="stl_129 stl_49 stl_484" style="word-spacing:-0.0114em;">后面跟着函数名和参数列表（这里我们用 </span><span class="stl_188 stl_44 stl_554" style="word-spacing:-0.012em;">()</span><span class="stl_129 stl_49 stl_484" style="word-spacing:-0.0114em;">表示没有参数），还有一个分号表示下一行开 &nbsp;</span></div>
					<div class="stl_01" style="top:30.9428em; left:5.6697em;"><span class="stl_129 stl_49 stl_10">始就是函数体。函数声明下面的函数体中每一行都必须缩进，结束缩进表示退出函数体。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.7762em; left:5.6697em;"><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0032em;">一开始可能会觉得用空格表示缩进有点儿傻，但是请坚持。以我的经验看，写 </span><span class="stl_132 stl_52 stl_127" style="word-spacing:-0.0032em;">Python </span><span class="stl_129 stl_49 stl_127" style="word-spacing:-0.0032em;">会改 &nbsp;</span></div>
					<div class="stl_01" style="top:34.0265em; left:5.6693em;"><span class="stl_129 stl_49 stl_443" style="word-spacing:-0.0433em;">善我们写其他代码的可读性。不过切换到其他编程语言时，比如 </span><span class="stl_132 stl_52 stl_443" style="word-spacing:-0.0433em;">Java </span><span class="stl_129 stl_49 stl_443" style="word-spacing:-0.0433em;">或 </span><span class="stl_132 stl_52 stl_443" style="word-spacing:-0.0433em;">C </span><span class="stl_129 stl_49 stl_443" style="word-spacing:-0.0433em;">语言，记得在 &nbsp;</span></div>
					<div class="stl_01" style="top:35.3543em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">句末加上分号。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.1877em; left:5.6693em;"><span class="stl_132 stl_52 stl_173" style="word-spacing:-0.034em;">Python </span><span class="stl_129 stl_49 stl_173" style="word-spacing:-0.034em;">是一个弱类型语言，就是说变量初始化的时候不需要显式声明变量类型（字符串、 &nbsp;</span></div>
					<div class="stl_01" style="top:38.5157em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">整数、对象等）。和其他弱类型语言一样，这样有时候调试会出问题，不过这样声明变量 &nbsp;</span></div>
					<div class="stl_01" style="top:39.7657em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">很简单： &nbsp;</span></div>
					<div class="stl_01" style="top:41.4675em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">greeting = "Hello, Internet!" &nbsp;</span></div>
					<div class="stl_01" style="top:42.3005em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">print</span><span class="stl_116 stl_44 stl_10">(greeting) &nbsp;</span></div>
					<div class="stl_01" style="top:44.0219em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">就这些！你已经是一个 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Pythoneer </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">了！ &nbsp;</span></div>
					<div class="stl_01" style="top:45.7444em; left:5.6693em;"><span class="stl_129 stl_49 stl_146" style="word-spacing:-0.029em;">显然，这点儿知识只是 </span><span class="stl_132 stl_52 stl_146" style="word-spacing:-0.029em;">Python </span><span class="stl_129 stl_49 stl_146" style="word-spacing:-0.029em;">的冰山一角，但是 </span><span class="stl_132 stl_52 stl_146" style="word-spacing:-0.029em;">Python </span><span class="stl_129 stl_49 stl_146" style="word-spacing:-0.029em;">是一门非常简单的语言，其他语 &nbsp;</span></div>
					<div class="stl_01" style="top:47.0721em; left:5.6693em;"><span class="stl_129 stl_49 stl_644">言的程序员甚至可以不用预先了解太多就可以阅读和理解它的代码。这门语言的简单特 &nbsp;</span></div>
					<div class="stl_01" style="top:48.2444em; left:5.6693em;"><span class="stl_129 stl_49 stl_99" style="word-spacing:0.0334em;">性，可以用 </span><span class="stl_132 stl_52 stl_99" style="word-spacing:0.0334em;">Python </span><span class="stl_129 stl_49 stl_99" style="word-spacing:0.0334em;">最著名的“彩蛋”（</span><span class="stl_132 stl_52 stl_99" style="word-spacing:0.0334em;">Easter Egg</span><span class="stl_129 stl_49 stl_99" style="word-spacing:0.0334em;">）来总结： &nbsp;</span></div>
					<div class="stl_01" style="top:50.0238em; left:7.3937em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">import </span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">this &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_119 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;">82 </span><span class="stl_126 stl_20 stl_10" style="word-spacing:0.405em;">｜ 附录</span><span class="stl_119 stl_22 stl_10" style="word-spacing:0.405em;"> A &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_243.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_243.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9126em; left:6.6142em;"><span class="stl_863 stl_49 stl_10">输出结果是： &nbsp;</span></div>
					<div class="stl_01" style="top:6.6018em; left:8.3386em;"><span class="stl_864 stl_52 stl_73" style="word-spacing:-0.0001em;">The Zen of Python, by Tim Peters &nbsp;</span></div>
					<div class="stl_01" style="top:8.2685em; left:8.3386em;"><span class="stl_864 stl_52 stl_73" style="word-spacing:-0.0002em;">Beautiful is better than ugly. &nbsp;</span></div>
					<div class="stl_01" style="top:9.1015em; left:8.3386em;"><span class="stl_864 stl_52 stl_73" style="word-spacing:-0.0003em;">Explicit is better than implicit. &nbsp;</span></div>
					<div class="stl_01" style="top:9.9345em; left:8.3386em;"><span class="stl_864 stl_52 stl_73" style="word-spacing:-0.0002em;">Simple is better than complex. &nbsp;</span></div>
					<div class="stl_01" style="top:10.7675em; left:8.3386em;"><span class="stl_864 stl_52 stl_73" style="word-spacing:-0.0003em;">Complex is better than complicated. &nbsp;</span></div>
					<div class="stl_01" style="top:11.6005em; left:8.3386em;"><span class="stl_864 stl_52 stl_73" style="word-spacing:-0.0002em;">Flat is better than nested. &nbsp;</span></div>
					<div class="stl_01" style="top:12.4335em; left:8.3386em;"><span class="stl_864 stl_52 stl_73" style="word-spacing:-0.0001em;">Sparse is better than dense. &nbsp;</span></div>
					<div class="stl_01" style="top:13.2665em; left:8.3386em;"><span class="stl_864 stl_52 stl_73" style="word-spacing:-0.0002em;">Readability counts. &nbsp;</span></div>
					<div class="stl_01" style="top:14.0995em; left:8.3386em;"><span class="stl_864 stl_52 stl_73" style="word-spacing:-0.0001em;">Special cases aren't special enough to break the rules. &nbsp;</span></div>
					<div class="stl_01" style="top:14.9325em; left:8.3386em;"><span class="stl_864 stl_52 stl_73" style="word-spacing:-0.0002em;">Although practicality beats purity. &nbsp;</span></div>
					<div class="stl_01" style="top:15.7655em; left:8.3386em;"><span class="stl_864 stl_52 stl_10" style="word-spacing:-0.0002em;">Errors should never pass silently. &nbsp;</span></div>
					<div class="stl_01" style="top:16.5985em; left:8.3386em;"><span class="stl_864 stl_52 stl_73" style="word-spacing:-0.0002em;">Unless explicitly silenced. &nbsp;</span></div>
					<div class="stl_01" style="top:17.4315em; left:8.3386em;"><span class="stl_864 stl_52 stl_73" style="word-spacing:-0.0001em;">In the face of ambiguity, refuse the temptation to guess. &nbsp;</span></div>
					<div class="stl_01" style="top:18.268em; left:8.3386em;"><span class="stl_864 stl_52 stl_10" style="word-spacing:-0.0001em;">There should be one-- and preferably only one --obvious way to do it. &nbsp;</span></div>
					<div class="stl_01" style="top:19.101em; left:8.3386em;"><span class="stl_864 stl_52 stl_10" style="word-spacing:0em;">Although that way may not be obvious at first unless you're Dutch. &nbsp;</span></div>
					<div class="stl_01" style="top:19.934em; left:8.3386em;"><span class="stl_864 stl_52 stl_73" style="word-spacing:-0.0002em;">Now is better than never. &nbsp;</span></div>
					<div class="stl_01" style="top:20.767em; left:8.3386em;"><span class="stl_864 stl_52 stl_73" style="word-spacing:-0.0001em;">Although never is often better than right now. &nbsp;</span></div>
					<div class="stl_01" style="top:21.6em; left:8.3386em;"><span class="stl_864 stl_52 stl_73" style="word-spacing:-0.0002em;">If the implementation is hard to explain, it's a bad idea. &nbsp;</span></div>
					<div class="stl_01" style="top:22.433em; left:8.3386em;"><span class="stl_864 stl_52 stl_73" style="word-spacing:-0.0002em;">If the implementation is easy to explain, it may be a good idea. &nbsp;</span></div>
					<div class="stl_01" style="top:23.266em; left:8.3386em;"><span class="stl_864 stl_52 stl_73" style="word-spacing:-0.0001em;">Namespaces are one honking great idea -- let's do more of those! &nbsp;</span></div>
					<div class="stl_01" style="top:24.8443em; left:6.6145em;"><span class="stl_865 stl_49 stl_10">翻译过来即是： &nbsp;</span></div>
					<div class="stl_01" style="top:26.365em; left:7.9844em;"><span class="stl_865 stl_49 stl_244" style="word-spacing:0.7501em;">《</span><span class="stl_866 stl_44 stl_244" style="word-spacing:0.7501em;">Python</span><span class="stl_865 stl_49 stl_244" style="word-spacing:0.7501em;">之禅》 </span><span class="stl_866 stl_44 stl_244" style="word-spacing:0.7501em;">Tim</span><span class="stl_866 stl_44 stl_244" style="word-spacing:0.0001em;"> Peters &nbsp;</span></div>
					<div class="stl_01" style="top:27.9287em; left:8.338em;"><span class="stl_865 stl_49 stl_10">优美胜于丑陋 &nbsp;</span></div>
					<div class="stl_01" style="top:28.7617em; left:8.338em;"><span class="stl_865 stl_49 stl_10">明了胜于隐晦 &nbsp;</span></div>
					<div class="stl_01" style="top:29.5947em; left:8.338em;"><span class="stl_865 stl_49 stl_10">简洁胜于复杂 &nbsp;</span></div>
					<div class="stl_01" style="top:30.4277em; left:8.338em;"><span class="stl_865 stl_49 stl_10">复杂胜于混乱 &nbsp;</span></div>
					<div class="stl_01" style="top:31.2607em; left:8.338em;"><span class="stl_865 stl_49 stl_10">扁平胜于嵌套 &nbsp;</span></div>
					<div class="stl_01" style="top:32.0937em; left:8.338em;"><span class="stl_865 stl_49 stl_10">宽松胜于紧凑 &nbsp;</span></div>
					<div class="stl_01" style="top:32.9267em; left:8.338em;"><span class="stl_865 stl_49 stl_10">可读性很重要 &nbsp;</span></div>
					<div class="stl_01" style="top:33.7597em; left:8.338em;"><span class="stl_865 stl_49 stl_416">即便是特例，也不可违背这些规则 &nbsp;</span></div>
					<div class="stl_01" style="top:34.5927em; left:8.338em;"><span class="stl_865 stl_49 stl_10">虽然现实往往不那么完美 &nbsp;</span></div>
					<div class="stl_01" style="top:35.4257em; left:8.338em;"><span class="stl_865 stl_49 stl_10">但是不应该放过任何异常 &nbsp;</span></div>
					<div class="stl_01" style="top:36.2587em; left:8.338em;"><span class="stl_865 stl_49 stl_10">除非你确定需要如此 &nbsp;</span></div>
					<div class="stl_01" style="top:37.0917em; left:8.338em;"><span class="stl_865 stl_49 stl_430">如果存在多种可能，不要猜测 &nbsp;</span></div>
					<div class="stl_01" style="top:37.9247em; left:8.338em;"><span class="stl_865 stl_49 stl_10">肯定有一种——通常也是唯一一种——最佳的解决方案 &nbsp;</span></div>
					<div class="stl_01" style="top:38.6436em; left:20.7344em;"><span class="stl_867 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:38.7781em; left:8.338em;"><span class="stl_865 stl_49 stl_13">虽然这并不容易，因为你不是</span><span class="stl_866 stl_44 stl_13">Python</span><span class="stl_865 stl_49 stl_13">之父 &nbsp;</span></div>
					<div class="stl_01" style="top:39.5955em; left:8.3384em;"><span class="stl_865 stl_49 stl_10">动手比不动手要好 &nbsp;</span></div>
					<div class="stl_01" style="top:40.4285em; left:8.3384em;"><span class="stl_865 stl_49 stl_10">但不假思索就动手还不如不做 &nbsp;</span></div>
					<div class="stl_01" style="top:41.2615em; left:8.3384em;"><span class="stl_865 stl_49 stl_678">如果你的方案很难懂，那肯定不是一个好方案 &nbsp;</span></div>
					<div class="stl_01" style="top:42.0945em; left:8.3384em;"><span class="stl_865 stl_49 stl_438">如果你的方案很好懂，那肯定是一个好方案 &nbsp;</span></div>
					<div class="stl_01" style="top:42.9275em; left:8.3384em;"><span class="stl_865 stl_49 stl_156">命名空间非常有用，我们应当多加利用 &nbsp;</span></div>
					<div class="stl_01" style="top:45.4577em; left:6.6142em;"><span class="stl_868 stl_49 stl_869" style="word-spacing:0.0951em;">注 </span><span class="stl_870 stl_52 stl_869" style="word-spacing:0.0951em;">1</span><span class="stl_868 stl_49 stl_869" style="word-spacing:0.0951em;">：这一行可能是指荷兰计算机科学家艾兹赫尔 </span><span class="stl_871 stl_52 stl_872" style="word-spacing:0.1268em;">•</span><span class="stl_868 stl_49 stl_869" style="word-spacing:0.1573em;"> 戴克斯特拉（</span><span class="stl_870 stl_52 stl_869" style="word-spacing:0.1573em;">Edsger</span><span class="stl_870 stl_52 stl_869" style="word-spacing:0.0949em;"> Dijkstra</span><span class="stl_868 stl_49 stl_869" style="word-spacing:0.0949em;">），他在 </span><span class="stl_870 stl_52 stl_869" style="word-spacing:0.0949em;">1978</span><span class="stl_868 stl_49 stl_869" style="word-spacing:0.0949em;"> 年曾经说过：“我 &nbsp;</span></div>
					<div class="stl_01" style="top:46.5464em; left:8.4567em;"><span class="stl_868 stl_49 stl_10">认为，编程语言设计的一个原则是……无论从哪一点来看，等价的程序不太可能有不一样的表示…… &nbsp;</span></div>
					<div class="stl_01" style="top:47.481em; left:8.4567em;"><span class="stl_868 stl_49 stl_420">但是，完全不同的编程方式增加了不必要性，因此妨碍了代码的维护效率、可读性等。”（</span><span class="stl_870 stl_52 stl_420">http://www. &nbsp;</span></div>
					<div class="stl_01" style="top:48.481em; left:8.454em;"><span class="stl_870 stl_52 stl_262" style="word-spacing:-0.003em;">cs.utexas.edu/~EWD/transcriptions/EWD06xx/EWD660.html</span><span class="stl_868 stl_49 stl_262" style="word-spacing:-0.003em;">）不过这句话可能就是指 </span><span class="stl_870 stl_52 stl_262" style="word-spacing:-0.003em;">Python </span><span class="stl_868 stl_49 stl_262" style="word-spacing:-0.003em;">的发明人， &nbsp;</span></div>
					<div class="stl_01" style="top:49.481em; left:8.4567em;"><span class="stl_870 stl_52 stl_154" style="word-spacing:0.075em;">Guido van Rossum</span><span class="stl_868 stl_49 stl_154" style="word-spacing:0.075em;">，他也是荷兰人。不过好像没人能确定到底是哪一种情况。美国亚利桑那州全州不 &nbsp;</span></div>
					<div class="stl_01" style="top:50.5464em; left:8.4487em;"><span class="stl_868 stl_49 stl_10">用夏令时，凤凰城是其州府。——译者注 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:30.8224em;"><span class="stl_873 stl_22 stl_105" style="word-spacing:0.3851em;">Python</span><span class="stl_874 stl_20 stl_105" style="word-spacing:0.3851em;">简介 ｜ </span><span class="stl_873 stl_22 stl_105" style="word-spacing:0.3851em;">183 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_244.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_244.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:9.4423em; left:31.9943em;"><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.05em;">附 录 </span><span class="stl_215 stl_18 stl_10" style="word-spacing:-0.05em;">B &nbsp;</span></div>
					<div class="stl_01 stl_69" style="top:12.7975em; left:26.6504em;"><span class="stl_70 stl_20 stl_71">互联网简介 &nbsp;</span></div>
					<div class="stl_01" style="top:24.5006em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">互联网是一种信息交换形式，需要处理的内容越来越复杂，相关术语和技术的复杂性也在 &nbsp;</span></div>
					<div class="stl_01" style="top:25.7506em; left:5.6693em;"><span class="stl_129 stl_49 stl_231">增加。互联网最早只是作为一种科研信息的交流方式，而现在它还需要处理大文件上传、 &nbsp;</span></div>
					<div class="stl_01" style="top:27.0007em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">流媒体视频、安全的银行结算、信用卡交易，以及传递企业间的机密文件。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.834em; left:5.6693em;"><span class="stl_129 stl_49 stl_476" style="word-spacing:-0.0229em;">尽管互联网的多层结构（</span><span class="stl_132 stl_52 stl_476" style="word-spacing:-0.0229em;">OSI </span><span class="stl_129 stl_49 stl_476" style="word-spacing:-0.0229em;">模型）非常复杂，但究其本质依然是由一组消息构成的。一 &nbsp;</span></div>
					<div class="stl_01" style="top:30.162em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">些消息用于信息请求，一些消息用于不断地响应请求，还有一些消息包含发给机器的某个 &nbsp;</span></div>
					<div class="stl_01" style="top:31.412em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">应用程序的文件信息或指令。这些请求不断地从一个客户端（桌面或移动设备）发送到一 &nbsp;</span></div>
					<div class="stl_01" style="top:32.662em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">台服务器上，循环往复。它们也会在服务器之间相互传递，有的是用于收集更多客户端的 &nbsp;</span></div>
					<div class="stl_01" style="top:33.912em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">信息。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.7454em; left:5.6693em;"><span class="stl_129 stl_49 stl_773" style="word-spacing:-0.0184em;">图 </span><span class="stl_132 stl_52 stl_773" style="word-spacing:-0.0184em;">B-1 </span><span class="stl_129 stl_49 stl_773" style="word-spacing:-0.0184em;">描绘了几个常见的互联网数据交换方式：请求一个域名的服务器地址，在两个服务 &nbsp;</span></div>
					<div class="stl_01" style="top:37.0732em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">器间请求网页和页面图片，还有一个请求实现图片上传。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.3099em; left:5.6693em;"><span class="stl_875 stl_22 stl_10">184 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_245.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_245.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:6.7191em; left:17.321em;"><span class="stl_876 stl_36 stl_10">www.domain.com</span><span class="stl_877 stl_519 stl_10">的</span><span class="stl_876 stl_36 stl_10">IP</span><span class="stl_877 stl_519 stl_10">地址是什么？ &nbsp;</span></div>
					<div class="stl_01" style="top:8.4871em; left:20.4914em;"><span class="stl_878 stl_523 stl_10">123.456.789.123 &nbsp;</span></div>
					<div class="stl_01" style="top:9.7426em; left:27.7581em;"><span class="stl_878 stl_523 stl_464" style="word-spacing:-0.0057em;">DNS Server &nbsp;</span></div>
					<div class="stl_01" style="top:15.5567em; left:27.6723em;"><span class="stl_878 stl_523 stl_349" style="word-spacing:0.0007em;">Page Server &nbsp;</span></div>
					<div class="stl_01" style="top:21.4427em; left:27.5054em;"><span class="stl_878 stl_523 stl_564" style="word-spacing:-0.0047em;">Image Server &nbsp;</span></div>
					<div class="stl_01" style="top:12.5245em; left:19.6824em;"><span class="stl_877 stl_519 stl_10">请求</span><span class="stl_876 stl_36 stl_10">/index.html</span><span class="stl_877 stl_519 stl_10">页面 &nbsp;</span></div>
					<div class="stl_01" style="top:14.4385em; left:19.349em;"><span class="stl_877 stl_519 stl_10">这就是</span><span class="stl_876 stl_36 stl_10">/index.html</span><span class="stl_877 stl_519 stl_10">页面 &nbsp;</span></div>
					<div class="stl_01" style="top:16.4318em; left:18.6364em;"><span class="stl_877 stl_519 stl_10">请求</span><span class="stl_876 stl_36 stl_10">frontPageImage.jpg</span><span class="stl_877 stl_519 stl_10">文件 &nbsp;</span></div>
					<div class="stl_01" style="top:18.1285em; left:18.0364em;"><span class="stl_877 stl_519 stl_10">这就是</span><span class="stl_876 stl_36 stl_10">frontPageImage.jpg</span><span class="stl_877 stl_519 stl_10">文件 &nbsp;</span></div>
					<div class="stl_01" style="top:19.5245em; left:19.2657em;"><span class="stl_877 stl_519 stl_73">上传新图片：</span><span class="stl_876 stl_36 stl_73">kitten.gif &nbsp;</span></div>
					<div class="stl_01" style="top:21.3577em; left:19.0957em;"><span class="stl_877 stl_519 stl_10">上传成功！ &nbsp;</span></div>
					<div class="stl_01" style="top:22.1391em; left:19.0954em;"><span class="stl_877 stl_519 stl_10">这就是</span><span class="stl_876 stl_36 stl_10">kitten.gif</span><span class="stl_877 stl_519 stl_10">的链接 &nbsp;</span></div>
					<div class="stl_01 stl_879" style="top:24.1276em; left:6.6142em;"><span class="stl_383 stl_20 stl_10" style="word-spacing:0.0001em;">图 </span><span class="stl_880 stl_18 stl_10" style="word-spacing:0.0001em;">B-1</span><span class="stl_383 stl_20 stl_10" style="word-spacing:0.0001em;">：若干常见客户端 </span><span class="stl_881 stl_707 stl_10" style="word-spacing:0.0001em;">- </span><span class="stl_383 stl_20 stl_10" style="word-spacing:0.0001em;">服务器互联网模型数据交换方式 &nbsp;</span></div>
					<div class="stl_01" style="top:26.1343em; left:6.6142em;"><span class="stl_129 stl_49 stl_172">有许多不同类型的协议或语言控制客户端和服务器之间的这些通信方式。你可以通过 &nbsp;</span></div>
					<div class="stl_01" style="top:27.3066em; left:6.6142em;"><span class="stl_132 stl_52 stl_199" style="word-spacing:-0.0205em;">SMTP </span><span class="stl_129 stl_49 stl_199" style="word-spacing:-0.0205em;">协议收邮件，通过 </span><span class="stl_132 stl_52 stl_199" style="word-spacing:-0.0205em;">VOIP </span><span class="stl_129 stl_49 stl_199" style="word-spacing:-0.0205em;">协议打电话，还可以通过 </span><span class="stl_132 stl_52 stl_199" style="word-spacing:-0.0205em;">FTP </span><span class="stl_129 stl_49 stl_199" style="word-spacing:-0.0205em;">上传邮件。每个协议都为请 &nbsp;</span></div>
					<div class="stl_01" style="top:28.6343em; left:6.6142em;"><span class="stl_129 stl_49 stl_139">求头定义了不同的字段，采用不同的数据编码、收发地址或名称，以及其他数据类型。用 &nbsp;</span></div>
					<div class="stl_01" style="top:29.8066em; left:6.6142em;"><span class="stl_129 stl_49 stl_815" style="word-spacing:-0.0032em;">于网站信息的请求、发送和接收的协议是 </span><span class="stl_132 stl_52 stl_815" style="word-spacing:-0.0032em;">HTTP</span><span class="stl_129 stl_49 stl_815" style="word-spacing:-0.0032em;">（</span><span class="stl_132 stl_52 stl_815" style="word-spacing:-0.0032em;">Hypertext</span><span class="stl_132 stl_52 stl_815" style="word-spacing:0.1208em;"> Transfer</span><span class="stl_132 stl_52 stl_815" style="word-spacing:0.1208em;"> Protocol</span><span class="stl_129 stl_49 stl_815" style="word-spacing:0.1208em;">，超文本传输 &nbsp;</span></div>
					<div class="stl_01" style="top:31.1344em; left:6.6142em;"><span class="stl_129 stl_49 stl_689">协议）。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.9677em; left:6.6142em;"><span class="stl_129 stl_49 stl_491" style="word-spacing:-0.0288em;">对本书中的绝大多数爬虫（以及你要编写的大多数爬虫）来说，</span><span class="stl_132 stl_52 stl_491" style="word-spacing:-0.0288em;">HTTP </span><span class="stl_129 stl_49 stl_491" style="word-spacing:-0.0288em;">是用来和远程网络 &nbsp;</span></div>
					<div class="stl_01" style="top:34.2958em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">服务器通信的。因此，需要对这个协议多做一点儿介绍。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.1292em; left:6.6142em;"><span class="stl_129 stl_49 stl_882" style="word-spacing:0.0144em;">一个 </span><span class="stl_132 stl_52 stl_882" style="word-spacing:0.0144em;">HTTP </span><span class="stl_129 stl_49 stl_882" style="word-spacing:0.0144em;">消息包括两部分：头字段（</span><span class="stl_132 stl_52 stl_882" style="word-spacing:0.0144em;">header</span><span class="stl_148 stl_52 stl_882" style="word-spacing:0.0144em;"> ﬁ</span><span class="stl_132 stl_52 stl_882" style="word-spacing:0.1366em;">eld</span><span class="stl_129 stl_49 stl_882" style="word-spacing:0.1366em;">）和数据字段（</span><span class="stl_132 stl_52 stl_882" style="word-spacing:0.1366em;">data</span><span class="stl_148 stl_52 stl_882" style="word-spacing:0.1366em;"> ﬁ</span><span class="stl_132 stl_52 stl_882" style="word-spacing:0.1366em;">eld</span><span class="stl_129 stl_49 stl_882" style="word-spacing:0.1366em;">）。每个头字段 &nbsp;</span></div>
					<div class="stl_01" style="top:37.3794em; left:6.6142em;"><span class="stl_129 stl_49 stl_130" style="word-spacing:-0.0172em;">由一对标题和值构成。这些字段的标题是 </span><span class="stl_132 stl_52 stl_130" style="word-spacing:-0.0172em;">HTTP </span><span class="stl_129 stl_49 stl_130" style="word-spacing:-0.0172em;">标准预先定义好的。比如，你可能会看到 &nbsp;</span></div>
					<div class="stl_01" style="top:38.7072em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">一个头字段是： &nbsp;</span></div>
					<div class="stl_01" style="top:40.598em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Content-Type: application/json &nbsp;</span></div>
					<div class="stl_01" style="top:42.3191em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">它表示 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">HTTP </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">数据包中的数据将用 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">JSON </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">格式。在一个 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">HTTP </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">数据包里面可能会出现 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">60 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">多 &nbsp;</span></div>
					<div class="stl_01" style="top:43.5691em; left:6.6142em;"><span class="stl_129 stl_49 stl_138" style="word-spacing:-0.0178em;">种头字段，但是在本书里我们只介绍一小部分。下表中的一些 </span><span class="stl_132 stl_52 stl_138" style="word-spacing:-0.0178em;">HTTP </span><span class="stl_129 stl_49 stl_138" style="word-spacing:-0.0178em;">头字段应该都是你比 &nbsp;</span></div>
					<div class="stl_01" style="top:44.8968em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">较熟悉的： &nbsp;</span></div>
					<div class="stl_01" style="top:46.8459em; left:7.4746em;"><span class="stl_426 stl_47 stl_10">名ꢀꢀ称 &nbsp;</span></div>
					<div class="stl_01" style="top:46.8459em; left:14.8273em;"><span class="stl_426 stl_47 stl_10">描ꢀꢀ述 &nbsp;</span></div>
					<div class="stl_01" style="top:47.9389em; left:11.2379em;"><span class="stl_60 stl_49 stl_883" style="word-spacing:0.3325em;">字符串，表示发出请求的浏览器 </span><span class="stl_61 stl_52 stl_883" style="word-spacing:0.3325em;">Mozilla/5.0</span><span class="stl_61 stl_52 stl_883" style="word-spacing:0.1276em;"> (X11; Ubuntu; Linux x86_64;</span><span class="stl_61 stl_52 stl_883" style="word-spacing:0.1276em;"> rv:28.0) &nbsp;</span></div>
					<div class="stl_01" style="top:49.0043em; left:11.2379em;"><span class="stl_60 stl_49 stl_10">和操作系统信息 &nbsp;</span></div>
					<div class="stl_01" style="top:48.9722em; left:21.5552em;"><span class="stl_61 stl_52 stl_10" style="word-spacing:-0.0001em;">Gecko/20100101 Firefox/28.0 &nbsp;</span></div>
					<div class="stl_01" style="top:46.8459em; left:28.2239em;"><span class="stl_426 stl_47 stl_10">示ꢀꢀ例 &nbsp;</span></div>
					<div class="stl_01" style="top:47.9722em; left:6.8506em;"><span class="stl_61 stl_52 stl_10">User-Agent &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:30.82em;"><span class="stl_884 stl_20 stl_10" style="word-spacing:0.386em;">互联网简介 ｜ </span><span class="stl_875 stl_22 stl_10" style="word-spacing:0.386em;">185 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_246.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_246.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.913em; left:33.4754em;"><span class="stl_48 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:4.913em; left:34.2254em;"><span class="stl_48 stl_49 stl_689">续）ꢀꢀ &nbsp;</span></div>
					<div class="stl_01" style="top:7.3618em; left:5.9057em;"><span class="stl_61 stl_52 stl_10">Cookie &nbsp;</span></div>
					<div class="stl_01" style="top:9.5011em; left:5.9057em;"><span class="stl_61 stl_52 stl_73">Status &nbsp;</span></div>
					<div class="stl_01" style="top:7.3284em; left:10.293em;"><span class="stl_60 stl_49 stl_352" style="word-spacing:-0.0746em;">变量，被网络应用用来存储会话 “</span><span class="stl_61 stl_52 stl_352" style="word-spacing:-0.0746em;">_utma:20549163.147923691.1398729710.1398729710.13 &nbsp;</span></div>
					<div class="stl_01" style="top:8.3939em; left:10.293em;"><span class="stl_60 stl_49 stl_10">数据和其他信息 &nbsp;</span></div>
					<div class="stl_01" style="top:8.3284em; left:20.6103em;"><span class="stl_61 stl_52 stl_10">98858679.2</span><span class="stl_60 stl_49 stl_10">” &nbsp;</span></div>
					<div class="stl_01" style="top:9.5332em; left:10.293em;"><span class="stl_60 stl_49 stl_10">代码，表示网页请求成功与否 &nbsp;</span></div>
					<div class="stl_01" style="top:9.4675em; left:20.277em;"><span class="stl_60 stl_49 stl_885">“</span><span class="stl_61 stl_52 stl_885">200</span><span class="stl_60 stl_49 stl_885">”（成功），“</span><span class="stl_61 stl_52 stl_885">404</span><span class="stl_60 stl_49 stl_885">”（文件未找到） &nbsp;</span></div>
					<div class="stl_01" style="top:11.3435em; left:5.6693em;"><span class="stl_129 stl_49 stl_644" style="word-spacing:-0.0649em;">当 </span><span class="stl_132 stl_52 stl_644" style="word-spacing:-0.0649em;">HTTP </span><span class="stl_129 stl_49 stl_644" style="word-spacing:-0.0649em;">从浏览器收到一个数据包，数据包的内容一定被看成一个网站。网站的结构由 &nbsp;</span></div>
					<div class="stl_01" style="top:12.5935em; left:5.6693em;"><span class="stl_132 stl_52 stl_398" style="word-spacing:0.082em;">HTML</span><span class="stl_129 stl_49 stl_398" style="word-spacing:0.082em;">（</span><span class="stl_132 stl_52 stl_398" style="word-spacing:0.082em;">HyperText Markup Language</span><span class="stl_129 stl_49 stl_398" style="word-spacing:0.082em;">，超文本标记语言）构成。虽然</span><span class="stl_132 stl_52 stl_398" style="word-spacing:-0.0271em;"> HTML</span><span class="stl_129 stl_49 stl_398" style="word-spacing:-0.027em;"> 通常被看成 &nbsp;</span></div>
					<div class="stl_01" style="top:13.9212em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">编程语言，但它其实是一个标记语言。它通过标签定义文档结构以确定各个元素，像标题 &nbsp;</span></div>
					<div class="stl_01" style="top:15.1712em; left:5.2735em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:15.0935em; left:6.0651em;"><span class="stl_132 stl_52 stl_886">title</span><span class="stl_129 stl_49 stl_886">）、正文（</span><span class="stl_132 stl_52 stl_886">content</span><span class="stl_129 stl_49 stl_886">）、侧边栏（</span><span class="stl_132 stl_52 stl_886">sidebar</span><span class="stl_129 stl_49 stl_886">）、页脚（</span><span class="stl_132 stl_52 stl_886">footer</span><span class="stl_129 stl_49 stl_886">）等。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.9928em; left:5.6693em;"><span class="stl_129 stl_49 stl_887" style="word-spacing:-0.0355em;">所有的 </span><span class="stl_132 stl_52 stl_887" style="word-spacing:-0.0355em;">HTML </span><span class="stl_129 stl_49 stl_887" style="word-spacing:-0.0355em;">网页（至少是格式正常的页面）都是用 </span><span class="stl_188 stl_44 stl_648" style="word-spacing:-0.0375em;">&lt;html&gt;&lt;/html&gt;</span><span class="stl_129 stl_49 stl_887" style="word-spacing:-0.0355em;">标签开始结束，里面 &nbsp;</span></div>
					<div class="stl_01" style="top:18.3205em; left:5.6691em;"><span class="stl_129 stl_49 stl_401" style="word-spacing:-0.034em;">还会有 </span><span class="stl_188 stl_44 stl_347" style="word-spacing:-0.0359em;">&lt;head&gt;</span><span class="stl_129 stl_49 stl_401" style="word-spacing:-0.034em;">和 </span><span class="stl_188 stl_44 stl_347" style="word-spacing:-0.0359em;">&lt;body&gt;</span><span class="stl_129 stl_49 stl_401" style="word-spacing:-0.034em;">标签。其他标签都被放在 </span><span class="stl_188 stl_44 stl_347" style="word-spacing:-0.0359em;">&lt;head&gt;</span><span class="stl_129 stl_49 stl_401" style="word-spacing:-0.034em;">和 </span><span class="stl_188 stl_44 stl_347" style="word-spacing:-0.0359em;">&lt;body&gt;</span><span class="stl_129 stl_49 stl_401" style="word-spacing:-0.034em;">标签里构成页面的内容： &nbsp;</span></div>
					<div class="stl_01" style="top:20.2637em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:21.0967em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:21.9297em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:22.7627em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:23.5957em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:24.4287em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:25.2617em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:20.2637em; left:7.7479em;"><span class="stl_232 stl_44 stl_10">html&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:21.0967em; left:7.7479em;"><span class="stl_232 stl_44 stl_10">head&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:21.8893em; left:7.7479em;"><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">title&gt;</span><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">An Example Page</span><span class="stl_232 stl_44 stl_10" style="word-spacing:0em;">&lt;/title&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:22.7627em; left:7.7479em;"><span class="stl_232 stl_44 stl_10">/head&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:23.5957em; left:7.7479em;"><span class="stl_232 stl_44 stl_10">body&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:24.3883em; left:7.7479em;"><span class="stl_232 stl_44 stl_10">h1&gt;</span><span class="stl_116 stl_44 stl_10">An Example Page</span><span class="stl_232 stl_44 stl_10">&lt;/h1&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:25.2213em; left:7.7479em;"><span class="stl_232 stl_44 stl_10">div </span><span class="stl_116 stl_44 stl_10">class="body"</span><span class="stl_232 stl_44 stl_10">&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:26.0543em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">Some example content is here &nbsp;</span></div>
					<div class="stl_01" style="top:26.9277em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:27.7607em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:28.5937em; left:7.3937em;"><span class="stl_232 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:26.9277em; left:7.7479em;"><span class="stl_232 stl_44 stl_10">/div&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:27.7607em; left:7.7479em;"><span class="stl_232 stl_44 stl_10">/body&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:28.5937em; left:7.7479em;"><span class="stl_232 stl_44 stl_10">/html&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:30.2778em; left:5.6693em;"><span class="stl_129 stl_49 stl_888" style="word-spacing:0.1285em;">在这个例子中，页面标题（会显示在浏览器的标签页）是“</span><span class="stl_132 stl_52 stl_888" style="word-spacing:0.1285em;">An Example Page</span><span class="stl_129 stl_49 stl_888" style="word-spacing:0.1285em;">”，同样的标 &nbsp;</span></div>
					<div class="stl_01" style="top:31.5935em; left:5.6693em;"><span class="stl_129 stl_49 stl_889" style="word-spacing:-0.0817em;">题也放在 </span><span class="stl_188 stl_44 stl_890" style="word-spacing:-0.0862em;">&lt;h1&gt;</span><span class="stl_129 stl_49 stl_889" style="word-spacing:-0.0817em;">标签里。之后是一个 </span><span class="stl_188 stl_44 stl_890" style="word-spacing:-0.0862em;">class</span><span class="stl_129 stl_49 stl_889" style="word-spacing:-0.0817em;">属性为 </span><span class="stl_188 stl_44 stl_890" style="word-spacing:-0.0862em;">body</span><span class="stl_129 stl_49 stl_889" style="word-spacing:-0.0817em;">的 </span><span class="stl_188 stl_44 stl_890" style="word-spacing:-0.0862em;">div</span><span class="stl_129 stl_49 stl_889" style="word-spacing:-0.0817em;">标签，里面会包括文章或大 &nbsp;</span></div>
					<div class="stl_01" style="top:32.8556em; left:5.6694em;"><span class="stl_129 stl_49 stl_10">段的文字。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.5043em; left:16.6765em;"><span class="stl_891 stl_20 stl_10">分析网站以便轻松采集 &nbsp;</span></div>
					<div class="stl_01" style="top:37.1107em; left:6.403em;"><span class="stl_269 stl_49 stl_208">在网页的不同区域中准确地复制页面内容，对网络数据采集是很有用的——页面上的 &nbsp;</span></div>
					<div class="stl_01" style="top:38.2356em; left:6.4117em;"><span class="stl_269 stl_49 stl_10">一部分内容可能比其他部分更容易采集。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.7555em; left:6.4117em;"><span class="stl_269 stl_49 stl_327" style="word-spacing:0.0958em;">在上面的示例页面“</span><span class="stl_132 stl_52 stl_327" style="word-spacing:0.0958em;">An Example Page</span><span class="stl_269 stl_49 stl_327" style="word-spacing:0.0958em;">”中，标签可以通过两个明显的分隔区域获取， &nbsp;</span></div>
					<div class="stl_01" style="top:40.9582em; left:6.4212em;"><span class="stl_269 stl_49 stl_121">但是网络中还会出现更复杂的情况。例如，你可能需要在一个公司网站采集员工信息， &nbsp;</span></div>
					<div class="stl_01" style="top:42.0831em; left:6.422em;"><span class="stl_269 stl_49 stl_10">而员工名称的格式并不统一，如下所示： &nbsp;</span></div>
					<div class="stl_01" style="top:43.6473em; left:8.1274em;"><span class="stl_116 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:44.4803em; left:8.1274em;"><span class="stl_116 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:45.3133em; left:8.1274em;"><span class="stl_116 stl_44 stl_10">&lt;</span></div>
					<div class="stl_01" style="top:43.6473em; left:8.4815em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">span id="mary_smith"&gt;Dr. Mary Smith, CEO&lt;/span&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:44.4803em; left:8.4815em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">span id="john_jones"&gt;President of Finance Mr. John E. Jones&lt;/span&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:45.3133em; left:8.4815em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">span id="stacy_roberts"&gt;Stacy Roberts III, Marketing&lt;/span&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:47.0477em; left:6.403em;"><span class="stl_269 stl_49 stl_308" style="word-spacing:0.0737em;">要把这些员工信息抽取成“</span><span class="stl_148 stl_52 stl_308" style="word-spacing:0.0737em;">ﬁ</span><span class="stl_132 stl_52 stl_308" style="word-spacing:0.0737em;">rstname, lastname</span><span class="stl_269 stl_49 stl_308" style="word-spacing:0.0737em;">”的形式很难。怎么处理带有中间名、 &nbsp;</span></div>
					<div class="stl_01" style="top:48.2135em; left:6.3998em;"><span class="stl_269 stl_49 stl_773" style="word-spacing:-0.0185em;">职称和其他附加数据的员工信息呢？这里的 </span><span class="stl_116 stl_44 stl_401" style="word-spacing:-0.0207em;">id</span><span class="stl_269 stl_49 stl_773" style="word-spacing:-0.0185em;">属性的内容格式看着很合适，可以直接 &nbsp;</span></div>
					<div class="stl_01" style="top:49.2608em; left:6.4em;"><span class="stl_269 stl_49 stl_367" style="word-spacing:-0.0166em;">用 </span><span class="stl_132 stl_52 stl_367" style="word-spacing:-0.0166em;">Python </span><span class="stl_269 stl_49 stl_367" style="word-spacing:-0.0166em;">的字符串分割函数 </span><span class="stl_116 stl_44 stl_68" style="word-spacing:-0.0186em;">split</span><span class="stl_269 stl_49 stl_367" style="word-spacing:-0.0166em;">对下划线分割来获得结果。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_875 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_875 stl_22 stl_10" style="word-spacing:0.405em;">86 </span><span class="stl_884 stl_20 stl_10" style="word-spacing:0.405em;">｜ 附录</span><span class="stl_875 stl_22 stl_10" style="word-spacing:0.405em;"> B &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_247.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_247.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:6.6142em;"><span class="stl_132 stl_52 stl_310" style="word-spacing:0.0746em;">CSS</span><span class="stl_129 stl_49 stl_310" style="word-spacing:0.0746em;">（</span><span class="stl_132 stl_52 stl_310" style="word-spacing:0.0746em;">Cascading Style Sheets</span><span class="stl_129 stl_49 stl_310" style="word-spacing:0.0746em;">，层叠样式表）是配合</span><span class="stl_132 stl_52 stl_310" style="word-spacing:-0.0354em;"> HTML</span><span class="stl_129 stl_49 stl_310" style="word-spacing:-0.0353em;"> 对网站样式进行定义的语言。 &nbsp;</span></div>
					<div class="stl_01" style="top:6.085em; left:6.6142em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">CSS </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">可以为网站对象定义颜色、位置、尺寸和背景色等属性。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.9961em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">在上面的示例页面中增加 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">CSS</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">，如下所示： &nbsp;</span></div>
					<div class="stl_01" style="top:9.9649em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">h1{ &nbsp;</span></div>
					<div class="stl_01" style="top:10.7979em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">color:'red'; &nbsp;</span></div>
					<div class="stl_01" style="top:11.6309em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">font-size:1.5em; &nbsp;</span></div>
					<div class="stl_01" style="top:12.4639em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">}</span></div>
					<div class="stl_01" style="top:12.4639em; left:8.6928em;"><span class="stl_116 stl_44 stl_10">,</span></div>
					<div class="stl_01" style="top:13.2969em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">div.body{ &nbsp;</span></div>
					<div class="stl_01" style="top:14.1299em; left:9.7553em;"><span class="stl_116 stl_44 stl_10">border:2px solid; &nbsp;</span></div>
					<div class="stl_01" style="top:14.9629em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">}</span></div>
					<div class="stl_01" style="top:16.7637em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">这段代码会在网站中实现一个适当尺寸的红色标题，并在正文内容外增加一个边框。 &nbsp;</span></div>
					<div class="stl_01" style="top:18.5971em; left:6.6142em;"><span class="stl_129 stl_49 stl_108" style="word-spacing:-0.0004em;">不过，</span><span class="stl_132 stl_52 stl_108" style="word-spacing:-0.0004em;">HTTP</span><span class="stl_129 stl_49 stl_108" style="word-spacing:-0.0004em;">、</span><span class="stl_132 stl_52 stl_108" style="word-spacing:-0.0004em;">HTML</span><span class="stl_129 stl_49 stl_108" style="word-spacing:-0.0004em;">、</span><span class="stl_132 stl_52 stl_108" style="word-spacing:-0.0004em;">CSS </span><span class="stl_129 stl_49 stl_108" style="word-spacing:-0.0004em;">的内容非常丰富，本书不做更多介绍。如果你对这些内容很陌 &nbsp;</span></div>
					<div class="stl_01" style="top:19.8474em; left:6.6142em;"><span class="stl_129 stl_49 stl_123" style="word-spacing:-0.0014em;">生，我推荐你到 </span><span class="stl_132 stl_52 stl_123" style="word-spacing:-0.0014em;">W3Schools</span><span class="stl_129 stl_49 stl_123" style="word-spacing:-0.0014em;">（</span><span class="stl_132 stl_52 stl_123" style="word-spacing:-0.0014em;">http://www.w3schools.com/</span><span class="stl_129 stl_49 stl_123" style="word-spacing:-0.0014em;">）去查询本书中出现的 </span><span class="stl_132 stl_52 stl_123" style="word-spacing:-0.0014em;">HTML/CSS &nbsp;</span></div>
					<div class="stl_01" style="top:21.1751em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">术语和代码。利用浏览器的“查看源代码”功能，也可以很快地熟悉这些内容。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:30.82em;"><span class="stl_884 stl_20 stl_10" style="word-spacing:0.386em;">互联网简介 ｜ </span><span class="stl_875 stl_22 stl_10" style="word-spacing:0.386em;">187 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_248.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_248.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:9.4423em; left:31.907em;"><span class="stl_212 stl_20 stl_10" style="word-spacing:-0.05em;">附 录 </span><span class="stl_892 stl_18 stl_10" style="word-spacing:-0.05em;">C &nbsp;</span></div>
					<div class="stl_01 stl_69" style="top:12.7975em; left:8.2004em;"><span class="stl_70 stl_20 stl_71">网络数据采集的法律与道德约束 &nbsp;</span></div>
					<div class="stl_01" style="top:24.4625em; left:5.6693em;"><span class="stl_132 stl_52 stl_10">2</span></div>
					<div class="stl_01" style="top:24.4229em; left:6.0651em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">010 </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">年，软件工程师</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;"> Pete</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.1121em;"> Warden</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;"> 做了一个网络爬虫，从</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;"> Facebook</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;"> 上收集数据。他一共收 &nbsp;</span></div>
					<div class="stl_01" style="top:25.6729em; left:5.6693em;"><span class="stl_129 stl_49 stl_395" style="word-spacing:-0.0393em;">集了大约两亿个 </span><span class="stl_132 stl_52 stl_395" style="word-spacing:-0.0393em;">Facebook </span><span class="stl_129 stl_49 stl_395" style="word-spacing:-0.0393em;">用户的用户名、位置、好友和兴趣爱好信息。当然，</span><span class="stl_132 stl_52 stl_395" style="word-spacing:-0.0393em;">Facebook &nbsp;</span></div>
					<div class="stl_01" style="top:27.0006em; left:5.6693em;"><span class="stl_129 stl_49 stl_139">发现了这个行为，并给他发了一个要求“停止并终止”的邮件，他遵守了。有人问他为什 &nbsp;</span></div>
					<div class="stl_01" style="top:28.1729em; left:5.6693em;"><span class="stl_129 stl_49 stl_438" style="word-spacing:0.0555em;">么要遵守 </span><span class="stl_132 stl_52 stl_438" style="word-spacing:0.0555em;">Facebook </span><span class="stl_129 stl_49 stl_438" style="word-spacing:0.0555em;">的要求，他说：“大数据虽然很便宜，但律师费可不便宜。” &nbsp;</span></div>
					<div class="stl_01" style="top:30.1617em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">在这一章里，我们将介绍美国及其他国家现存的一些与网络数据采集相关的法律，并学习 &nbsp;</span></div>
					<div class="stl_01" style="top:31.412em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">如何分析网络数据采集行为的法律和道德约束。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.3231em; left:5.6693em;"><span class="stl_129 stl_49 stl_139">在阅读下面的内容之前，希望你能理解：我是软件工程师，不是律师。不要把在本章或本 &nbsp;</span></div>
					<div class="stl_01" style="top:34.5734em; left:5.6693em;"><span class="stl_129 stl_49 stl_153">书其他章节学到的相关法律知识看成专业的法律意见或规范。虽然我相信自己有足够的能 &nbsp;</span></div>
					<div class="stl_01" style="top:35.8234em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">力，可以介绍网络数据采集行为的法律和道德约束，但是在做那些可能要承担法律责任的 &nbsp;</span></div>
					<div class="stl_01" style="top:37.0734em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">网络数据采集项目之前，你还是应该咨询一下律师，而不是软件工程师。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.3909em; left:5.6693em;"><span class="stl_893 stl_18 stl_71" style="word-spacing:0.4321em;">C.1</span><span class="stl_894 stl_20 stl_71" style="word-spacing:0.4321em;">ꢀ 商标</span><span class="stl_791 stl_44 stl_71" style="word-spacing:0.4321em;">、</span><span class="stl_894 stl_20 stl_71" style="word-spacing:0.4321em;">版权</span><span class="stl_791 stl_44 stl_71" style="word-spacing:0.4321em;">、</span><span class="stl_894 stl_20 stl_71" style="word-spacing:0.4321em;">专利 &nbsp;</span></div>
					<div class="stl_01" style="top:41.8241em; left:5.6693em;"><span class="stl_129 stl_49 stl_127" style="word-spacing:0.121em;">现在，我们开始知识产权（</span><span class="stl_132 stl_52 stl_127" style="word-spacing:0.121em;">Intellectual Property</span><span class="stl_129 stl_49 stl_127" style="word-spacing:0.121em;">）第一课！知识产权有三种基本类型：商标 &nbsp;</span></div>
					<div class="stl_01" style="top:43.0344em; left:7.0651em;"><span class="stl_181 stl_52 stl_386">TM &nbsp;</span></div>
					<div class="stl_01" style="top:43.0344em; left:8.9491em;"><span class="stl_181 stl_52 stl_10">®</span></div>
					<div class="stl_01" style="top:43.1519em; left:5.2735em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:43.1519em; left:6.073em;"><span class="stl_129 stl_49 stl_10">用</span></div>
					<div class="stl_01" style="top:43.1518em; left:7.9574em;"><span class="stl_129 stl_49 stl_10">或</span></div>
					<div class="stl_01" style="top:43.0741em; left:9.4997em;"><span class="stl_129 stl_49 stl_895" style="word-spacing:0.0482em;">表示），版权（用 </span><span class="stl_132 stl_52 stl_895" style="word-spacing:0.0482em;">© </span><span class="stl_129 stl_49 stl_895" style="word-spacing:0.0482em;">表示），专利（有时会在文字里出现专利保护相关说明，但 &nbsp;</span></div>
					<div class="stl_01" style="top:44.4019em; left:5.6696em;"><span class="stl_129 stl_49 stl_291">通常没有任何说明）。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.313em; left:5.6696em;"><span class="stl_129 stl_49 stl_231">专利用来声明内容所有权仅属于发明者。你不能为任何图片、文字和信息本身取得专利。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.5632em; left:5.6693em;"><span class="stl_129 stl_49 stl_139">虽然有些专利，比如软件专利，并不像我们通常理解的“发明创造”那样是有形的，但是 &nbsp;</span></div>
					<div class="stl_01" style="top:48.8132em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">要注意这些无形的东西（技术）是有专利权的——并不是专利报告中的内容。除非你用采 &nbsp;</span></div>
					<div class="stl_01" style="top:50.0632em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">集来的设计图来盖楼，或者使用了一种具有专利权的网络数据采集方法，否则你不太可能 &nbsp;</span></div>
					<div class="stl_01" style="top:52.3099em; left:5.6693em;"><span class="stl_875 stl_22 stl_10">188 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_249.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_249.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9126em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">在网络数据采集时侵犯他人的专利。 &nbsp;</span></div>
					<div class="stl_01" style="top:6.824em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">虽然商标也不太可能出现问题，但是有些事情还是需要注意的。美国专利商标局对商标的 &nbsp;</span></div>
					<div class="stl_01" style="top:8.0741em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">介绍如下： &nbsp;</span></div>
					<div class="stl_01" style="top:9.9122em; left:8.2205em;"><span class="stl_896 stl_20 stl_510" style="word-spacing:-0.021em;">商标</span><span class="stl_897 stl_44 stl_510" style="word-spacing:-0.021em;">（</span><span class="stl_132 stl_52 stl_510" style="word-spacing:-0.021em;">trademark</span><span class="stl_897 stl_44 stl_510" style="word-spacing:-0.021em;">）</span><span class="stl_269 stl_49 stl_510" style="word-spacing:-0.021em;">是一个单词、词组、符号和 </span><span class="stl_132 stl_52 stl_510" style="word-spacing:-0.021em;">/ </span><span class="stl_269 stl_49 stl_510" style="word-spacing:-0.021em;">或设计，用来识别和区分一种商 &nbsp;</span></div>
					<div class="stl_01" style="top:11.0785em; left:8.2201em;"><span class="stl_269 stl_49 stl_207" style="word-spacing:0.1102em;">品的来源。</span><span class="stl_896 stl_20 stl_207" style="word-spacing:0.1102em;">服务标识</span><span class="stl_269 stl_49 stl_207" style="word-spacing:0.1102em;">（</span><span class="stl_132 stl_52 stl_207" style="word-spacing:0.1102em;">service mark</span><span class="stl_269 stl_49 stl_207" style="word-spacing:0.1102em;">）是一个单词、词组、符号和</span><span class="stl_132 stl_52 stl_207" style="word-spacing:-0.012em;"> /</span><span class="stl_269 stl_49 stl_207" style="word-spacing:-0.0118em;"> 或设计，用来 &nbsp;</span></div>
					<div class="stl_01" style="top:12.3315em; left:8.2201em;"><span class="stl_269 stl_49 stl_68">识别和区分一种服务而非商品的来源。术语“商标”通常既可表示商标，也可表 &nbsp;</span></div>
					<div class="stl_01" style="top:13.4984em; left:8.2205em;"><span class="stl_269 stl_49 stl_10">示服务标识。 &nbsp;</span></div>
					<div class="stl_01" style="top:15.2358em; left:6.6142em;"><span class="stl_129 stl_49 stl_340" style="word-spacing:-0.029em;">除了当我们提到商标时通常会想到的传统的单词 </span><span class="stl_132 stl_52 stl_340" style="word-spacing:-0.029em;">/ </span><span class="stl_129 stl_49 stl_340" style="word-spacing:-0.029em;">词组商标，其他的描述性特征也可以作 &nbsp;</span></div>
					<div class="stl_01" style="top:16.4859em; left:6.6142em;"><span class="stl_129 stl_49 stl_152" style="word-spacing:-0.0097em;">为商标。比如，容器的外形（可口可乐的瓶子），或者一种颜色（美国欧文斯科宁的 </span><span class="stl_132 stl_52 stl_152" style="word-spacing:-0.0097em;">Pink &nbsp;</span></div>
					<div class="stl_01" style="top:17.7359em; left:6.6142em;"><span class="stl_132 stl_52 stl_55" style="word-spacing:0.0588em;">Panther </span><span class="stl_129 stl_49 stl_55" style="word-spacing:0.0588em;">玻璃纤维隔热层的粉色）。 &nbsp;</span></div>
					<div class="stl_01" style="top:19.7246em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">和专利不同，商标的所有权很大程度上由使用场景决定。比如，如果我想在博客里发一篇 &nbsp;</span></div>
					<div class="stl_01" style="top:20.975em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">带可口可乐图标的文章，那么做是没问题的（只要我没有暗示我的博文是可口可乐赞助或 &nbsp;</span></div>
					<div class="stl_01" style="top:22.225em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">发布的就行）。但是，如果我想做一种新的碳酸饮料，在外包装也用可口可乐图标，那明 &nbsp;</span></div>
					<div class="stl_01" style="top:23.3973em; left:6.6142em;"><span class="stl_129 stl_49 stl_325" style="word-spacing:-0.0258em;">显就侵权了。同样道理，虽然我可以把饮料外包装涂成 </span><span class="stl_132 stl_52 stl_325" style="word-spacing:-0.0258em;">Pink</span><span class="stl_132 stl_52 stl_325" style="word-spacing:0.0942em;"> Panther</span><span class="stl_129 stl_49 stl_325" style="word-spacing:-0.0258em;"> 的粉色，但是我不能 &nbsp;</span></div>
					<div class="stl_01" style="top:24.725em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">用同样的颜色发行一种新的家用隔热层产品。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.2297em; left:6.6142em;"><span class="stl_898 stl_20 stl_71">版权法 &nbsp;</span></div>
					<div class="stl_01" style="top:29.095em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">商标和专利通常都要正式地登记，以便人们知晓。与一般认识不同的是，具有版权的物品 &nbsp;</span></div>
					<div class="stl_01" style="top:30.345em; left:6.6142em;"><span class="stl_129 stl_49 stl_320">并不都很容易识别。究竟带什么因素的图像、文字、音乐有版权呢？并不是说在网页下 &nbsp;</span></div>
					<div class="stl_01" style="top:31.5173em; left:6.6142em;"><span class="stl_129 stl_49 stl_558" style="word-spacing:0.1016em;">面加上“保留所有权利”（</span><span class="stl_132 stl_52 stl_558" style="word-spacing:0.1016em;">All Rights Reserved</span><span class="stl_129 stl_49 stl_558" style="word-spacing:0.1016em;">）就具有版权，也不是“公开出版发行的” &nbsp;</span></div>
					<div class="stl_01" style="top:32.8451em; left:6.2183em;"><span class="stl_129 stl_49 stl_10">（</span></div>
					<div class="stl_01" style="top:32.7673em; left:7.01em;"><span class="stl_132 stl_52 stl_815">published</span><span class="stl_129 stl_49 stl_815">）与“未公开出版发行的”（</span><span class="stl_132 stl_52 stl_815">unpublished</span><span class="stl_129 stl_49 stl_815">）的物品版权就不一样。只要你把一件 &nbsp;</span></div>
					<div class="stl_01" style="top:34.0951em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">东西带到世间，它就会自动受到版权法的保护。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.0062em; left:6.2183em;"><span class="stl_129 stl_49 stl_10">《</span></div>
					<div class="stl_01" style="top:35.9285em; left:7.0187em;"><span class="stl_129 stl_49 stl_130" style="word-spacing:-0.0172em;">保护文学和艺术作品伯尔尼公约》是 </span><span class="stl_132 stl_52 stl_130" style="word-spacing:-0.0172em;">1886 </span><span class="stl_129 stl_49 stl_130" style="word-spacing:-0.0172em;">年由瑞士政府在伯尔尼首次公布的版权国际标 &nbsp;</span></div>
					<div class="stl_01" style="top:37.2565em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">准。这个公约的基本含义是所有成员国都必须像对待自己国家的公民的作品一样，对其他 &nbsp;</span></div>
					<div class="stl_01" style="top:38.5065em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">国家公民的作品进行版权保护。其实，就是说作为一个美国公民，如果你涉嫌抄袭一个法 &nbsp;</span></div>
					<div class="stl_01" style="top:39.7565em; left:6.6142em;"><span class="stl_129 stl_49 stl_634">国公民的作品，也要承担法律责任（反之亦然）。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.6676em; left:6.6142em;"><span class="stl_129 stl_49 stl_231">显然，版权是网络爬虫需要关注的内容。如果我采集别人的博客然后放到我自己博客上， &nbsp;</span></div>
					<div class="stl_01" style="top:42.9176em; left:6.6142em;"><span class="stl_129 stl_49 stl_139">我就可能会惹上官司。不过，我有几层保护，可以根据博客采集项目的实际影响，帮我进 &nbsp;</span></div>
					<div class="stl_01" style="top:44.1679em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">行辩护。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.079em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">首先，版权保护只涉及创造性的作品。它不会涉及统计数据或事实。好在许多网络爬虫采 &nbsp;</span></div>
					<div class="stl_01" style="top:47.329em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">集的都是事实和统计数据。虽然一个网络爬虫从网络上收集诗歌，然后显示在自己的网站 &nbsp;</span></div>
					<div class="stl_01" style="top:48.5793em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">上有可能是违反版权法的，但是如果它收集不同时间段诗歌发表的数量就不违法了。诗歌 &nbsp;</span></div>
					<div class="stl_01" style="top:49.8293em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">是一种创造性作品，但是按月对网站上的诗歌进行字数统计，就没什么创造性了。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:23.695em;"><span class="stl_884 stl_20 stl_10" style="word-spacing:0.386em;">网络数据采集的法律与道德约束 ｜ </span><span class="stl_875 stl_22 stl_10" style="word-spacing:0.386em;">189 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_250.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_250.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9126em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">如果数据是公司发布的价格、高管的姓名或者其他事实性的信息，那么即使完全照搬（不 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1627em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">是根据采集的原始数据进行整合或计算）也不会违反版权法。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.996em; left:5.6693em;"><span class="stl_129 stl_49 stl_278" style="word-spacing:0.1531em;">按照《数字千年版权法》（</span><span class="stl_132 stl_52 stl_278" style="word-spacing:0.1531em;">Digital Millennium Copyright Act</span><span class="stl_129 stl_49 stl_278" style="word-spacing:0.1531em;">，</span><span class="stl_132 stl_52 stl_278" style="word-spacing:0.1531em;">DMCA</span><span class="stl_129 stl_49 stl_278" style="word-spacing:0.1531em;">），即使是有版权的内 &nbsp;</span></div>
					<div class="stl_01" style="top:9.2463em; left:5.6693em;"><span class="stl_129 stl_49 stl_491" style="word-spacing:-0.0288em;">容也可以以合理理由直接使用。</span><span class="stl_132 stl_52 stl_491" style="word-spacing:-0.0288em;">DMCA </span><span class="stl_129 stl_49 stl_491" style="word-spacing:-0.0288em;">列举了一些对有版权的内容进行自动收集的规则。 &nbsp;</span></div>
					<div class="stl_01" style="top:10.4964em; left:5.6693em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">DMCA </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">非常长，包含了从电子书到电话的许多细则。但是，有三点需要格外注意。 &nbsp;</span></div>
					<div class="stl_01" style="top:12.4471em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:12.4074em; left:6.7325em;"><span class="stl_129 stl_49 stl_553" style="word-spacing:0.098em;">根据“安全遮蔽”（</span><span class="stl_132 stl_52 stl_553" style="word-spacing:0.098em;">safe harbor</span><span class="stl_129 stl_49 stl_553" style="word-spacing:0.098em;">）保护原则，如果你从一个你认为是无版权的数据源中采 &nbsp;</span></div>
					<div class="stl_01" style="top:13.7352em; left:6.7325em;"><span class="stl_129 stl_49 stl_121">集数据，但是有人曾向那个数据源申请过版权，那么只要你在得到提醒后把有版权的材 &nbsp;</span></div>
					<div class="stl_01" style="top:14.9855em; left:6.7323em;"><span class="stl_129 stl_49 stl_10">料删除，就可以免责。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.1975em; left:5.6691em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:17.4475em; left:5.6691em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:16.2355em; left:6.7323em;"><span class="stl_129 stl_49 stl_219">为了收集信息，你不能用手段故意绕开安全措施（比如密码保护）。 &nbsp;</span></div>
					<div class="stl_01" style="top:17.4078em; left:6.7323em;"><span class="stl_129 stl_49 stl_350" style="word-spacing:0.083em;">你可以根据“公平使用”（</span><span class="stl_132 stl_52 stl_350" style="word-spacing:0.083em;">fair use</span><span class="stl_129 stl_49 stl_350" style="word-spacing:0.083em;">）原则使用信息，但需要考虑有版权作品占总信息的 &nbsp;</span></div>
					<div class="stl_01" style="top:18.7355em; left:6.7323em;"><span class="stl_129 stl_49 stl_10">百分比，以及使用这类有版权作品的目的。 &nbsp;</span></div>
					<div class="stl_01" style="top:20.6466em; left:5.6691em;"><span class="stl_129 stl_49 stl_130">总之，未经作者或版权所有者的授权，你不可以直接发布有版权的信息。如果你以数据分 &nbsp;</span></div>
					<div class="stl_01" style="top:21.8966em; left:5.6691em;"><span class="stl_129 stl_49 stl_231">析为目的，把允许自由使用的有版权的信息保存在自己的不公开数据库里，是合法行为。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.1469em; left:5.6693em;"><span class="stl_129 stl_49 stl_157">如果你把数据展示到网站上供人们浏览或下载，就不算合法了。如果你分析数据库里的 &nbsp;</span></div>
					<div class="stl_01" style="top:24.3969em; left:5.6693em;"><span class="stl_129 stl_49 stl_139">数据，发布作品的字数统计，按作品数量排列的作者，或其他的数据分析结果，是合法行 &nbsp;</span></div>
					<div class="stl_01" style="top:25.6469em; left:5.6693em;"><span class="stl_129 stl_49 stl_139">为。如果你还引用了一些原文，或简单的样本数据来阐述自己的观点，也是可以的，但是 &nbsp;</span></div>
					<div class="stl_01" style="top:26.8192em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">使用之前最好看看 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">DMCA </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">里“公平使用”原则的条例。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.2144em; left:5.6693em;"><span class="stl_893 stl_18 stl_71" style="word-spacing:0.4321em;">C.2</span><span class="stl_894 stl_20 stl_71" style="word-spacing:0.4321em;">ꢀ 侵犯动产 &nbsp;</span></div>
					<div class="stl_01" style="top:31.7253em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">侵犯动产与我们常识中的“违法”有着本质的区别，动产的范围不包括不动产和土地，是 &nbsp;</span></div>
					<div class="stl_01" style="top:32.9753em; left:5.6693em;"><span class="stl_129 stl_49 stl_140">指那些可移动的财产（比如服务器）。如果接入那些不允许你接入或使用的财产，就会侵 &nbsp;</span></div>
					<div class="stl_01" style="top:34.2253em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">犯动产。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.1364em; left:5.6693em;"><span class="stl_129 stl_49 stl_138">在目前的云计算时代，人们可能不把网络服务器看作一种真实有形的资源。但其实服务器 &nbsp;</span></div>
					<div class="stl_01" style="top:37.3867em; left:5.6693em;"><span class="stl_129 stl_49 stl_139">不仅由许多昂贵的组件构成，而且它们还需要空间存放、监控、制冷，以及大量的电力供 &nbsp;</span></div>
					<div class="stl_01" style="top:38.559em; left:5.6693em;"><span class="stl_129 stl_49 stl_123" style="word-spacing:-0.0034em;">应。据估计，全球 </span><span class="stl_132 stl_52 stl_123" style="word-spacing:-0.0034em;">10% </span><span class="stl_129 stl_49 stl_123" style="word-spacing:-0.0034em;">的电力都是由计算机消耗的（如果你自己的电费构成并非如此，可 &nbsp;</span></div>
					<div class="stl_01" style="top:39.809em; left:5.6693em;"><span class="stl_129 stl_49 stl_331" style="word-spacing:0.0313em;">以考虑一下 </span><span class="stl_132 stl_52 stl_331" style="word-spacing:0.0313em;">Google </span><span class="stl_129 stl_49 stl_331" style="word-spacing:0.0313em;">庞大的服务器农场，每一座都需要与大型电站连接）。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.7978em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">虽然服务器是很昂贵的资源，但是从法律角度看，一种非常有趣的现象是，网站运营者非 &nbsp;</span></div>
					<div class="stl_01" style="top:43.0481em; left:5.6693em;"><span class="stl_129 stl_49 stl_135">常希望人们消费他们的资源（接入他们的网站），但同时他们又不希望资源被过快得消耗 &nbsp;</span></div>
					<div class="stl_01" style="top:44.2205em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0005em;">掉。通过浏览器看一下网站可以，但是用大规模的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0005em;">DDOS </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0005em;">攻击就不允许了。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.2092em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">如果满足下列三个条件，网络爬虫就属于侵犯动产。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.0822em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:48.133em; left:6.7325em;"><span class="stl_269 stl_49 stl_10">缺少许可 &nbsp;</span></div>
					<div class="stl_01" style="top:49.3703em; left:6.7325em;"><span class="stl_129 stl_49 stl_122">由于网络服务器对每个人都是开放的，所以它们一般也会向网络爬虫“提供许可”。但 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_875 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_875 stl_22 stl_10" style="word-spacing:0.405em;">90 </span><span class="stl_884 stl_20 stl_10" style="word-spacing:0.405em;">｜ 附录</span><span class="stl_875 stl_22 stl_10" style="word-spacing:0.405em;"> C &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_251.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_251.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9126em; left:7.6772em;"><span class="stl_129 stl_49 stl_121">是，很多网站的服务协议条款都明确地禁止使用爬虫。另外，任何要求终止邮件中也会 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1627em; left:7.6772em;"><span class="stl_129 stl_49 stl_10">明确地废除这类许可。 &nbsp;</span></div>
					<div class="stl_01" style="top:8.0356em; left:6.614em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:12.4471em; left:6.614em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:8.0864em; left:7.6772em;"><span class="stl_269 stl_49 stl_10">造成实际的伤害 &nbsp;</span></div>
					<div class="stl_01" style="top:9.3238em; left:7.6772em;"><span class="stl_129 stl_49 stl_121">服务器是很昂贵的。除了服务器成本，如果你的爬虫把网站拖垮了，或者限制了网站为 &nbsp;</span></div>
					<div class="stl_01" style="top:10.5741em; left:7.6772em;"><span class="stl_129 stl_49 stl_720">其他用户提供服务的能力，这些都算是你对网站造成的“伤害”。 &nbsp;</span></div>
					<div class="stl_01" style="top:12.4978em; left:7.6772em;"><span class="stl_269 stl_49 stl_10">故意而为 &nbsp;</span></div>
					<div class="stl_01" style="top:13.7352em; left:7.6772em;"><span class="stl_129 stl_49 stl_10">这个，你懂的！ &nbsp;</span></div>
					<div class="stl_01" style="top:15.6463em; left:6.614em;"><span class="stl_129 stl_49 stl_130">只有三个条件都满足才算是侵犯动产。然而，如果你违反了服务协议，并没有造成实际伤 &nbsp;</span></div>
					<div class="stl_01" style="top:16.8192em; left:6.6142em;"><span class="stl_129 stl_49 stl_213">害，不要认为你就不算违法。可能你的行为也已经违法了版权法、</span><span class="stl_132 stl_52 stl_213">DMCA</span><span class="stl_129 stl_49 stl_213">、《计算机欺诈 &nbsp;</span></div>
					<div class="stl_01" style="top:18.0692em; left:6.6142em;"><span class="stl_129 stl_49 stl_137" style="word-spacing:0.0695em;">与滥用法》（</span><span class="stl_132 stl_52 stl_137" style="word-spacing:0.0695em;">The Computer Fraud and Abuse Act</span><span class="stl_129 stl_49 stl_137" style="word-spacing:0.0695em;">，</span><span class="stl_132 stl_52 stl_137" style="word-spacing:0.0695em;">CFAA</span><span class="stl_129 stl_49 stl_137" style="word-spacing:0.0695em;">，后面会详细介绍），或者其他可以 &nbsp;</span></div>
					<div class="stl_01" style="top:19.3969em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">处理网络爬虫犯罪行为的法律。 &nbsp;</span></div>
					<div class="stl_01" style="top:22.046em; left:18.9964em;"><span class="stl_891 stl_20 stl_10">请限制你的爬虫 &nbsp;</span></div>
					<div class="stl_01" style="top:23.6523em; left:7.3478em;"><span class="stl_269 stl_49 stl_899">过去，网络服务器比个人电脑要强大得多。其实，“服务器”的部分定义就是指“大型 &nbsp;</span></div>
					<div class="stl_01" style="top:24.6996em; left:7.347em;"><span class="stl_269 stl_49 stl_285" style="word-spacing:0.1112em;">计算机”。而现在情况似乎已经倒过来了。比如，我自己的笔记本，</span><span class="stl_132 stl_52 stl_285" style="word-spacing:0.1112em;">3.5 GHz</span><span class="stl_269 stl_49 stl_285" style="word-spacing:-0.0067em;"> 处理器， &nbsp;</span></div>
					<div class="stl_01" style="top:25.8641em; left:7.3415em;"><span class="stl_132 stl_52 stl_10">8</span></div>
					<div class="stl_01" style="top:25.8246em; left:7.7373em;"><span class="stl_132 stl_52 stl_167" style="word-spacing:-0.0421em;">G </span><span class="stl_269 stl_49 stl_167" style="word-spacing:-0.0421em;">内存。一个亚马逊的中等云计算实例（写到这里的时候）却只有</span><span class="stl_132 stl_52 stl_167" style="word-spacing:-0.042em;"> 3</span><span class="stl_132 stl_52 stl_167" style="word-spacing:0.076em;"> GHz</span><span class="stl_269 stl_49 stl_167" style="word-spacing:-0.0418em;"> 处理器和 &nbsp;</span></div>
					<div class="stl_01" style="top:26.9495em; left:7.7429em;"><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0002em;">G </span><span class="stl_269 stl_49 stl_10" style="word-spacing:-0.0002em;">内存。 &nbsp;</span></div>
					<div class="stl_01" style="top:26.9891em; left:7.347em;"><span class="stl_132 stl_52 stl_10">4</span></div>
					<div class="stl_01" style="top:28.6248em; left:7.347em;"><span class="stl_269 stl_49 stl_208">如果网速正常，还有一台可以持续采集的专用设备，即使一台个人电脑也可以给许多 &nbsp;</span></div>
					<div class="stl_01" style="top:29.7497em; left:7.3557em;"><span class="stl_269 stl_49 stl_208">网站造成沉重负担，甚至可以对网站造成严重伤害或直接把网站拖垮。除非出现了紧 &nbsp;</span></div>
					<div class="stl_01" style="top:30.797em; left:7.3645em;"><span class="stl_269 stl_49 stl_75" style="word-spacing:0.1221em;">急医疗事故，而唯一的援救方法是在两秒内收集《阿周真人秀》（</span><span class="stl_132 stl_52 stl_75" style="word-spacing:0.1221em;">Joe Schmo</span><span class="stl_269 stl_49 stl_75" style="word-spacing:0.1221em;">）网站上 &nbsp;</span></div>
					<div class="stl_01" style="top:31.9997em; left:7.3747em;"><span class="stl_269 stl_49 stl_10">所有的搞笑视频，否则真的没有理由去伤害别人的网站。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.5972em; left:7.3747em;"><span class="stl_269 stl_49 stl_899">一直被盯着看的机器人是永远不会完成的（采集总是需要很长时间）。有时候最好还是 &nbsp;</span></div>
					<div class="stl_01" style="top:34.7222em; left:7.3763em;"><span class="stl_269 stl_49 stl_10">让爬虫在午夜运行，而不是在下午或者傍晚运行，原因如下。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.2817em; left:7.3763em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:38.7818em; left:7.3478em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:41.2817em; left:7.35em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:36.2421em; left:8.4395em;"><span class="stl_269 stl_49 stl_300" style="word-spacing:-0.0093em;">如果你有大约八个小时的时间，即使采集一页需要的时间是 </span><span class="stl_132 stl_52 stl_300" style="word-spacing:-0.0093em;">2 </span><span class="stl_269 stl_49 stl_300" style="word-spacing:-0.0093em;">秒，那么你也可以抓 &nbsp;</span></div>
					<div class="stl_01" style="top:37.4921em; left:8.8354em;"><span class="stl_132 stl_52 stl_900" style="word-spacing:0.0025em;">4 000 </span><span class="stl_269 stl_49 stl_900" style="word-spacing:0.0025em;">多页。当时间不怎么紧张的时候，没必要加快爬虫的采集速度。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.5317em; left:8.4395em;"><span class="stl_132 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:38.8197em; left:8.411em;"><span class="stl_269 stl_49 stl_736">假如网站的目标访客和你在同一时区（如果不在同一时区可以自动调整时间），那 &nbsp;</span></div>
					<div class="stl_01" style="top:40.0697em; left:8.4132em;"><span class="stl_269 stl_49 stl_676">么晚上网站流量可能会少很多，这样你的采集行为就不会影响网站高峰期的运行了。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.3198em; left:8.4132em;"><span class="stl_269 stl_49 stl_736">你可以用爬虫采集的时间睡觉，不用为了看到新信息而不断地翻日志。想想看，第 &nbsp;</span></div>
					<div class="stl_01" style="top:42.5698em; left:8.4148em;"><span class="stl_269 stl_49 stl_10">二天早上睡醒的时候崭新的数据就摆在面前，得有多么惬意啊！ &nbsp;</span></div>
					<div class="stl_01" style="top:44.4809em; left:7.3516em;"><span class="stl_269 stl_49 stl_10">再想象一下下面三种场景。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.0404em; left:7.3516em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:47.2904em; left:7.3516em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:48.5405em; left:7.3516em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:46.0785em; left:8.4148em;"><span class="stl_269 stl_49 stl_10">你有一个网络爬虫遍历了《阿周真人秀》网站，收集了一些或全部的数据。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.3285em; left:8.4148em;"><span class="stl_269 stl_49 stl_10">你有一个网络爬虫遍历了几百个小网站，收集了一些或全部的数据。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.5786em; left:8.4148em;"><span class="stl_269 stl_49 stl_10">你有一个网络爬虫遍历了一个超大型网站，比如维基百科。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:23.695em;"><span class="stl_884 stl_20 stl_10" style="word-spacing:0.386em;">网络数据采集的法律与道德约束 ｜ </span><span class="stl_875 stl_22 stl_10" style="word-spacing:0.386em;">191 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_252.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_252.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:5.6591em; left:6.403em;"><span class="stl_269 stl_49 stl_10">在第一个场景中，最好让爬虫在深夜慢慢地运行。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.2566em; left:6.403em;"><span class="stl_269 stl_49 stl_479">在第二个场景中，最好用循环制快速地采集每个网站，而不是一次一个慢慢地采集。 &nbsp;</span></div>
					<div class="stl_01" style="top:8.3816em; left:6.395em;"><span class="stl_269 stl_49 stl_473">根据你要采集的网站数量进行合理安排，这样做可以让你尽可能以最快的网络连接和 &nbsp;</span></div>
					<div class="stl_01" style="top:9.5066em; left:6.3887em;"><span class="stl_269 stl_49 stl_208">最多的机器收集数据，而且对每个网站服务器的负载也比较合理。你可以用很多程序 &nbsp;</span></div>
					<div class="stl_01" style="top:10.6315em; left:6.3974em;"><span class="stl_269 stl_49 stl_899">实现这种循环采集方式，可以用多线程（每个线程单独采集一个网站，可以暂停），也 &nbsp;</span></div>
					<div class="stl_01" style="top:11.6788em; left:6.3974em;"><span class="stl_269 stl_49 stl_10" style="word-spacing:0em;">可以用 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">Python </span><span class="stl_269 stl_49 stl_10" style="word-spacing:0em;">队列来跟踪网站。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.3541em; left:6.3974em;"><span class="stl_269 stl_49 stl_473">在第三个场景中，可能你的网络连接和个人电脑对维基百科这样的超大型网站造成的 &nbsp;</span></div>
					<div class="stl_01" style="top:14.479em; left:6.3911em;"><span class="stl_269 stl_49 stl_359">负载不会引起对方的注意。但是，如果你用分布式网络设备采集，显然就不是一回事 &nbsp;</span></div>
					<div class="stl_01" style="top:15.604em; left:6.3871em;"><span class="stl_269 stl_49 stl_10">儿了。请谨慎使用，最好问问对方允不允许这么做。 &nbsp;</span></div>
					<div class="stl_01" style="top:18.1617em; left:5.6693em;"><span class="stl_893 stl_18 stl_71" style="word-spacing:0.4321em;">C.3</span><span class="stl_894 stl_20 stl_71" style="word-spacing:0.4321em;">ꢀ 计算机欺诈与滥用法 &nbsp;</span></div>
					<div class="stl_01" style="top:20.5949em; left:5.6693em;"><span class="stl_129 stl_49 stl_692" style="word-spacing:-0.0183em;">在 </span><span class="stl_132 stl_52 stl_692" style="word-spacing:-0.0183em;">20 </span><span class="stl_129 stl_49 stl_692" style="word-spacing:-0.0183em;">世纪 </span><span class="stl_132 stl_52 stl_692" style="word-spacing:-0.0183em;">80 </span><span class="stl_129 stl_49 stl_692" style="word-spacing:-0.0183em;">年代早期，计算机从学术领域走向商业世界。病毒和蠕虫不再仅仅被认为是 &nbsp;</span></div>
					<div class="stl_01" style="top:21.9226em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">麻烦事（或者一种业余爱好），而是可能导致实际财务损失的严重犯罪事件。为此，美国 &nbsp;</span></div>
					<div class="stl_01" style="top:23.095em; left:5.6693em;"><span class="stl_129 stl_49 stl_360" style="word-spacing:0.0455em;">联邦政府在 </span><span class="stl_132 stl_52 stl_360" style="word-spacing:0.0455em;">1986 </span><span class="stl_129 stl_49 stl_360" style="word-spacing:0.0455em;">年出台了《计算机欺诈与滥用法》。 &nbsp;</span></div>
					<div class="stl_01" style="top:25.0837em; left:5.6693em;"><span class="stl_129 stl_49 stl_153">尽管你可能会认为这个法律只是针对那些发布病毒的恶意黑客，但其实它对网络爬虫也有 &nbsp;</span></div>
					<div class="stl_01" style="top:26.334em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">很大的影响。假如一个爬虫用简单易猜的密码提交登录表单，对网站进行暴力破解，或者 &nbsp;</span></div>
					<div class="stl_01" style="top:27.5064em; left:5.6693em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">收集偶然置于隐蔽但公开位置的政府机密。这些行为在 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:-0.0001em;">CFAA </span><span class="stl_129 stl_49 stl_10" style="word-spacing:-0.0001em;">中都是非法的。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.4951em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">这个法律定义了七种主要犯罪行为，总结如下。 &nbsp;</span></div>
					<div class="stl_01" style="top:31.3681em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:32.6181em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:33.8681em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:35.1182em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:36.3682em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:37.6183em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:31.4062em; left:6.7325em;"><span class="stl_129 stl_49 stl_10">明知没有授权，却进入美国政府的计算机，并获取信息。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.6562em; left:6.7325em;"><span class="stl_129 stl_49 stl_10">明知没有授权，却进入计算机，并获取财务信息。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.9063em; left:6.7325em;"><span class="stl_129 stl_49 stl_10">明知没有授权，却进入美国政府的计算机，影响政府计算机的使用。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.1563em; left:6.7325em;"><span class="stl_129 stl_49 stl_10">为了诈骗的目的故意地进入任何受保护的计算机。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.4063em; left:6.7325em;"><span class="stl_129 stl_49 stl_10">没有授权的情况下故意地进入一台计算机并导致计算机损坏。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.6564em; left:6.7325em;"><span class="stl_129 stl_49 stl_111">分享或销售美国政府使用的计算机，或者影响洲际或国际商务往来的计算机的密码或授 &nbsp;</span></div>
					<div class="stl_01" style="top:38.9069em; left:6.7323em;"><span class="stl_129 stl_49 stl_10">权信息。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.1188em; left:5.6691em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:40.1569em; left:6.7323em;"><span class="stl_129 stl_49 stl_331">试图通过破坏或威胁破坏任何受保护的计算机，诈骗钱财或“其他利益”。 &nbsp;</span></div>
					<div class="stl_01" style="top:42.068em; left:5.6691em;"><span class="stl_129 stl_49 stl_130">总之，远离那些受保护的计算机，不要接入没有授权的计算机（或网站服务器），尤其是 &nbsp;</span></div>
					<div class="stl_01" style="top:43.3181em; left:5.6691em;"><span class="stl_129 stl_49 stl_10">避开政府或财务计算机。 &nbsp;</span></div>
					<div class="stl_01" style="top:45.6358em; left:5.6693em;"><span class="stl_893 stl_18 stl_71" style="word-spacing:0.432em;">C.4</span><span class="stl_894 stl_20 stl_71" style="word-spacing:0.432em;">ꢀ </span><span class="stl_893 stl_18 stl_71" style="word-spacing:0.432em;">robots.txt</span><span class="stl_894 stl_20 stl_71" style="word-spacing:0.432em;">和服务协议 &nbsp;</span></div>
					<div class="stl_01" style="top:48.069em; left:5.6693em;"><span class="stl_129 stl_49 stl_815" style="word-spacing:-0.0037em;">从法理上说，网站的服务协议和 </span><span class="stl_132 stl_52 stl_815" style="word-spacing:-0.0037em;">robots.txt </span><span class="stl_129 stl_49 stl_815" style="word-spacing:-0.0037em;">是很有趣的。如果一个网站允许公众接入，那么 &nbsp;</span></div>
					<div class="stl_01" style="top:49.3967em; left:5.6693em;"><span class="stl_129 stl_49 stl_153">网站管理员对软件可以接入什么和不可以接入什么的限制是不合理的。如果网站管理员对 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_875 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_875 stl_22 stl_10" style="word-spacing:0.405em;">92 </span><span class="stl_884 stl_20 stl_10" style="word-spacing:0.405em;">｜ 附录</span><span class="stl_875 stl_22 stl_10" style="word-spacing:0.405em;"> C &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_253.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_253.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9126em; left:6.6142em;"><span class="stl_129 stl_49 stl_459">你说，“你用浏览器访问网站没问题，但是你用自己写的程序访问它就不行”，这就不太靠 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1627em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">谱了。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.996em; left:6.6142em;"><span class="stl_129 stl_49 stl_901" style="word-spacing:-0.0324em;">大多数网站在每页页脚都有自己的服务协议。</span><span class="stl_132 stl_52 stl_901" style="word-spacing:-0.0324em;">TOS </span><span class="stl_129 stl_49 stl_901" style="word-spacing:-0.0324em;">不仅包含网络爬虫和自动接入的规则， &nbsp;</span></div>
					<div class="stl_01" style="top:9.324em; left:6.6142em;"><span class="stl_129 stl_49 stl_138">而且还包括网站收集的信息类型和信息用途，通常还有一条不承担责任的法律声明，提示 &nbsp;</span></div>
					<div class="stl_01" style="top:10.5741em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">用户网站提供的服务没有任何费用也不做任何保证。 &nbsp;</span></div>
					<div class="stl_01" style="top:12.4075em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0831em;">如果你了解搜索引擎优化（</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0831em;">Search Engine Optimization</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0831em;">，</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0831em;">SEO</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0831em;">）或搜索引擎技术，那么你可 &nbsp;</span></div>
					<div class="stl_01" style="top:13.6578em; left:6.6142em;"><span class="stl_129 stl_49 stl_90" style="word-spacing:-0.0263em;">能听说过 </span><span class="stl_132 stl_52 stl_90" style="word-spacing:-0.0263em;">robots.txt </span><span class="stl_129 stl_49 stl_90" style="word-spacing:-0.0263em;">文件。如果你想在任何大型网站上查找 </span><span class="stl_132 stl_52 stl_90" style="word-spacing:-0.0263em;">robots.txt </span><span class="stl_129 stl_49 stl_90" style="word-spacing:-0.0263em;">文件，可以在网站根 &nbsp;</span></div>
					<div class="stl_01" style="top:14.9078em; left:6.6142em;"><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.001em;">目录 </span><span class="stl_132 stl_52 stl_73" style="word-spacing:-0.001em;">http://website.com/robots.txt </span><span class="stl_129 stl_49 stl_73" style="word-spacing:-0.001em;">找到。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.8188em; left:6.6142em;"><span class="stl_132 stl_52 stl_204" style="word-spacing:-0.0336em;">rebots.txt </span><span class="stl_129 stl_49 stl_204" style="word-spacing:-0.0336em;">文件是在 </span><span class="stl_132 stl_52 stl_204" style="word-spacing:-0.0336em;">1994 </span><span class="stl_129 stl_49 stl_204" style="word-spacing:-0.0336em;">年出现的，那时搜索引擎技术刚刚兴起。从整个互联网寻找资源 &nbsp;</span></div>
					<div class="stl_01" style="top:18.0692em; left:6.6142em;"><span class="stl_129 stl_49 stl_85" style="word-spacing:-0.0192em;">的搜索引擎，像 </span><span class="stl_132 stl_52 stl_85" style="word-spacing:-0.0192em;">AltaVista </span><span class="stl_129 stl_49 stl_85" style="word-spacing:-0.0192em;">和 </span><span class="stl_132 stl_52 stl_85" style="word-spacing:-0.0192em;">DogPile</span><span class="stl_129 stl_49 stl_85" style="word-spacing:-0.0192em;">，开始和那些把网站按照主题进行分类的门户网站公 &nbsp;</span></div>
					<div class="stl_01" style="top:19.3192em; left:6.6142em;"><span class="stl_129 stl_49 stl_332" style="word-spacing:-0.0387em;">司激烈竞争，比如像 </span><span class="stl_132 stl_52 stl_332" style="word-spacing:-0.0387em;">Yahoo! </span><span class="stl_129 stl_49 stl_332" style="word-spacing:-0.0387em;">这样的门户网站。互联网搜索规模的增长不仅说明网络爬虫 &nbsp;</span></div>
					<div class="stl_01" style="top:20.6469em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">数量的增长，而且也体现了网络爬虫收集信息的能力在不断进化。 &nbsp;</span></div>
					<div class="stl_01" style="top:22.558em; left:6.6142em;"><span class="stl_129 stl_49 stl_153">虽然我们今天认为这种能力是十分平常的，但是当自己网站文件结构深处隐藏的信息变成 &nbsp;</span></div>
					<div class="stl_01" style="top:23.7306em; left:6.6142em;"><span class="stl_129 stl_49 stl_902">了搜索引擎首页上可以检索的内容时，有些网站管理员还是会感到震惊。于是，</span><span class="stl_132 stl_52 stl_902">rebots.txt &nbsp;</span></div>
					<div class="stl_01" style="top:24.9806em; left:6.6142em;"><span class="stl_129 stl_49 stl_903" style="word-spacing:0.0243em;">文件，也称为机器人排除标准（</span><span class="stl_132 stl_52 stl_903" style="word-spacing:0.0243em;">Robots Exclusion Standard</span><span class="stl_129 stl_49 stl_903" style="word-spacing:0.0243em;">），应运而生。 &nbsp;</span></div>
					<div class="stl_01" style="top:26.8917em; left:6.6142em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">与通常用人类语言宽泛地讨论网络爬虫的 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">TOS </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">不同，</span><span class="stl_132 stl_52 stl_10" style="word-spacing:0.0001em;">rebots.txt </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0.0001em;">文件可以被程序轻易地解析 &nbsp;</span></div>
					<div class="stl_01" style="top:28.2195em; left:6.6142em;"><span class="stl_129 stl_49 stl_130">和使用。虽然它看着好像可以完美地解决所有爬虫的问题，毕其功于一役，但是请注意下 &nbsp;</span></div>
					<div class="stl_01" style="top:29.4698em; left:6.6142em;"><span class="stl_129 stl_49 stl_10">面两种情况。 &nbsp;</span></div>
					<div class="stl_01" style="top:31.3428em; left:6.6142em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:31.3031em; left:7.6774em;"><span class="stl_132 stl_52 stl_118" style="word-spacing:-0.0013em;">rebots.txt </span><span class="stl_129 stl_49 stl_118" style="word-spacing:-0.0013em;">文件的语法没有标准格式。它是一种业内惯用的做法，但是没有人可以阻止别 &nbsp;</span></div>
					<div class="stl_01" style="top:32.5534em; left:7.6772em;"><span class="stl_129 stl_49 stl_778" style="word-spacing:-0.0326em;">人创建自己版本的 </span><span class="stl_132 stl_52 stl_778" style="word-spacing:-0.0326em;">rebots.txt </span><span class="stl_129 stl_49 stl_778" style="word-spacing:-0.0326em;">文件（并不是说如果它不符合主流标准，机器人就可以不 &nbsp;</span></div>
					<div class="stl_01" style="top:33.8811em; left:7.6772em;"><span class="stl_129 stl_49 stl_122">遵守）。它是一种被企业广泛认可的习惯，主要是因为这么做很直接，而且企业也没有 &nbsp;</span></div>
					<div class="stl_01" style="top:35.1312em; left:7.6772em;"><span class="stl_129 stl_49 stl_10">动力去发展自己的版本，或者尝试去改进它。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.3431em; left:6.614em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:36.3034em; left:7.6772em;"><span class="stl_132 stl_52 stl_111" style="word-spacing:0.0022em;">rebots.txt </span><span class="stl_129 stl_49 stl_111" style="word-spacing:0.0022em;">文件并不是一个强制性约束。它只是说“请不要抓网站的这些内容”。有很多 &nbsp;</span></div>
					<div class="stl_01" style="top:37.5534em; left:7.6772em;"><span class="stl_129 stl_49 stl_904" style="word-spacing:0.0104em;">网络爬虫库都支持 </span><span class="stl_132 stl_52 stl_904" style="word-spacing:0.0104em;">rebots.txt </span><span class="stl_129 stl_49 stl_904" style="word-spacing:0.0104em;">文件（虽然这些默认设置很容易修改）。另外，按照 </span><span class="stl_132 stl_52 stl_904" style="word-spacing:0.0104em;">rebots. &nbsp;</span></div>
					<div class="stl_01" style="top:38.8034em; left:7.6772em;"><span class="stl_132 stl_52 stl_845" style="word-spacing:-0.0341em;">txt </span><span class="stl_129 stl_49 stl_845" style="word-spacing:-0.0341em;">文件采集信息比直接采集要麻烦得多（毕竟，你需要采集、分析，并在代码逻辑中 &nbsp;</span></div>
					<div class="stl_01" style="top:40.1312em; left:7.6772em;"><span class="stl_129 stl_49 stl_637">处理页面内容）。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.9528em; left:6.614em;"><span class="stl_129 stl_49 stl_687" style="word-spacing:-0.019em;">机器人排除标准的语法很直接。和 </span><span class="stl_132 stl_52 stl_687" style="word-spacing:-0.019em;">Python </span><span class="stl_129 stl_49 stl_687" style="word-spacing:-0.019em;">等语言一样，注释都是用 </span><span class="stl_188 stl_44 stl_265" style="word-spacing:-0.02em;">#</span><span class="stl_129 stl_49 stl_687" style="word-spacing:-0.019em;">号，用换行结尾，可 &nbsp;</span></div>
					<div class="stl_01" style="top:43.2926em; left:6.6144em;"><span class="stl_129 stl_49 stl_10">以用在文件的任意位置。 &nbsp;</span></div>
					<div class="stl_01" style="top:45.1919em; left:6.6144em;"><span class="stl_129 stl_49 stl_580" style="word-spacing:-0.0412em;">文件的第一行非注释内容是 </span><span class="stl_188 stl_44 stl_163" style="word-spacing:-0.0435em;">User-agent:</span><span class="stl_129 stl_49 stl_580" style="word-spacing:-0.0412em;">，注明具体哪些机器人需要遵守规则。后面是一 &nbsp;</span></div>
					<div class="stl_01" style="top:46.4419em; left:6.6141em;"><span class="stl_129 stl_49 stl_285" style="word-spacing:-0.0131em;">组规则 </span><span class="stl_188 stl_44 stl_286" style="word-spacing:-0.0138em;">Allow:</span><span class="stl_129 stl_49 stl_285" style="word-spacing:-0.0131em;">或 </span><span class="stl_188 stl_44 stl_286" style="word-spacing:-0.0138em;">Disallow:</span><span class="stl_129 stl_49 stl_285" style="word-spacing:-0.0131em;">，决定是否允许机器人访问网站的该部分内容。星号（</span><span class="stl_188 stl_44 stl_286" style="word-spacing:-0.0138em;">*</span><span class="stl_129 stl_49 stl_285" style="word-spacing:-0.0131em;">）是通 &nbsp;</span></div>
					<div class="stl_01" style="top:47.6142em; left:6.6143em;"><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">配符，可以用于 </span><span class="stl_188 stl_44 stl_10" style="word-spacing:0em;">User-agent:</span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">，也可以用于 </span><span class="stl_132 stl_52 stl_10" style="word-spacing:0em;">URL </span><span class="stl_129 stl_49 stl_10" style="word-spacing:0em;">链接中。 &nbsp;</span></div>
					<div class="stl_01" style="top:49.615em; left:6.6138em;"><span class="stl_129 stl_49 stl_10">如果一条规则后面跟着一个与之矛盾的规则，则按后一条规则执行。例如： &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:23.695em;"><span class="stl_884 stl_20 stl_10" style="word-spacing:0.386em;">网络数据采集的法律与道德约束 ｜ </span><span class="stl_875 stl_22 stl_10" style="word-spacing:0.386em;">193 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_254.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_254.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9323em; left:7.3937em;"><span class="stl_584 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:4.9323em; left:7.7479em;"><span class="stl_584 stl_44 stl_10" style="word-spacing:0em;">Welcome to my robots.txt file! &nbsp;</span></div>
					<div class="stl_01" style="top:5.7249em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">User-agent: * &nbsp;</span></div>
					<div class="stl_01" style="top:6.5579em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">Disallow: * &nbsp;</span></div>
					<div class="stl_01" style="top:8.2239em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">User-agent: Googlebot &nbsp;</span></div>
					<div class="stl_01" style="top:9.0569em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">Allow: * &nbsp;</span></div>
					<div class="stl_01" style="top:9.8899em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">Disallow: /private &nbsp;</span></div>
					<div class="stl_01" style="top:11.6131em; left:5.6693em;"><span class="stl_129 stl_49 stl_659" style="word-spacing:-0.0187em;">在这个例子中，所有的机器人都被禁止访问网站的任意内容，除了 </span><span class="stl_132 stl_52 stl_659" style="word-spacing:-0.0187em;">Google </span><span class="stl_129 stl_49 stl_659" style="word-spacing:-0.0187em;">的网络机器人， &nbsp;</span></div>
					<div class="stl_01" style="top:12.9288em; left:5.6693em;"><span class="stl_129 stl_49 stl_68" style="word-spacing:-0.02em;">它被允许访问网站上除了 </span><span class="stl_188 stl_44 stl_692" style="word-spacing:-0.0211em;">/private</span><span class="stl_129 stl_49 stl_68" style="word-spacing:-0.02em;">位置的所有内容。 &nbsp;</span></div>
					<div class="stl_01" style="top:14.7273em; left:5.6697em;"><span class="stl_132 stl_52 stl_25" style="word-spacing:0.0169em;">Twitter </span><span class="stl_129 stl_49 stl_25" style="word-spacing:0.0169em;">的 </span><span class="stl_132 stl_52 stl_25" style="word-spacing:0.0169em;">robots.txt </span><span class="stl_129 stl_49 stl_25" style="word-spacing:0.0169em;">文件对 </span><span class="stl_132 stl_52 stl_25" style="word-spacing:0.0169em;">Google</span><span class="stl_129 stl_49 stl_25" style="word-spacing:0.0169em;">、</span><span class="stl_132 stl_52 stl_25" style="word-spacing:0.0169em;">Yahoo!</span><span class="stl_129 stl_49 stl_25" style="word-spacing:0.0169em;">、</span><span class="stl_132 stl_52 stl_25" style="word-spacing:0.0169em;">Yandex</span><span class="stl_129 stl_49 stl_25" style="word-spacing:0.0169em;">（俄罗斯著名搜索引擎）、微软，以及 &nbsp;</span></div>
					<div class="stl_01" style="top:15.9773em; left:5.6693em;"><span class="stl_129 stl_49 stl_483" style="word-spacing:-0.0084em;">其他机器人或搜索引擎访问范围都有明确的要求。</span><span class="stl_132 stl_52 stl_483" style="word-spacing:-0.0084em;">Google </span><span class="stl_129 stl_49 stl_483" style="word-spacing:-0.0084em;">搜索（和其他机器人的访问范围 &nbsp;</span></div>
					<div class="stl_01" style="top:17.3051em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">一样）的内容如下所示： &nbsp;</span></div>
					<div class="stl_01" style="top:19.1486em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">#Google Search Engine Robot &nbsp;</span></div>
					<div class="stl_01" style="top:19.9816em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">User-agent: Googlebot &nbsp;</span></div>
					<div class="stl_01" style="top:20.8146em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Allow: /?_escaped_fragment_ &nbsp;</span></div>
					<div class="stl_01" style="top:22.4806em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Allow: /?lang= &nbsp;</span></div>
					<div class="stl_01" style="top:23.3136em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Allow: /hashtag/*?src= &nbsp;</span></div>
					<div class="stl_01" style="top:24.1466em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Allow: /search?q=%23 &nbsp;</span></div>
					<div class="stl_01" style="top:24.9796em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Disallow: /search/realtime &nbsp;</span></div>
					<div class="stl_01" style="top:25.8126em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Disallow: /search/users &nbsp;</span></div>
					<div class="stl_01" style="top:26.6456em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Disallow: /search/*/grid &nbsp;</span></div>
					<div class="stl_01" style="top:28.3116em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Disallow: /*? &nbsp;</span></div>
					<div class="stl_01" style="top:29.1446em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Disallow: /*/followers &nbsp;</span></div>
					<div class="stl_01" style="top:29.9776em; left:7.3937em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Disallow: /*/following &nbsp;</span></div>
					<div class="stl_01" style="top:31.4668em; left:5.6693em;"><span class="stl_132 stl_52 stl_657" style="word-spacing:-0.0275em;">Twitter </span><span class="stl_129 stl_49 stl_657" style="word-spacing:-0.0275em;">之所以采取如此严格的访问限制是因为它提供了 </span><span class="stl_132 stl_52 stl_657" style="word-spacing:-0.0275em;">API</span><span class="stl_129 stl_49 stl_657" style="word-spacing:-0.0275em;">。因为 </span><span class="stl_132 stl_52 stl_657" style="word-spacing:-0.0275em;">Twitter </span><span class="stl_129 stl_49 stl_657" style="word-spacing:-0.0275em;">的 </span><span class="stl_132 stl_52 stl_657" style="word-spacing:-0.0275em;">API </span><span class="stl_129 stl_49 stl_657" style="word-spacing:-0.0275em;">更容易 &nbsp;</span></div>
					<div class="stl_01" style="top:32.7168em; left:5.6693em;"><span class="stl_129 stl_49 stl_905" style="word-spacing:0.0056em;">控制（可以通过授权赚到钱），所以 </span><span class="stl_132 stl_52 stl_905" style="word-spacing:0.0056em;">Twitter </span><span class="stl_129 stl_49 stl_905" style="word-spacing:0.0056em;">会禁止任何使用爬虫采集网页来收集网站信息 &nbsp;</span></div>
					<div class="stl_01" style="top:34.0445em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">的机器人。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.9087em; left:5.6693em;"><span class="stl_129 stl_49 stl_153">虽然看到一个指明爬虫采集限制范围的文件让人感觉很憋屈，但是它其实可以成为网络爬 &nbsp;</span></div>
					<div class="stl_01" style="top:37.081em; left:5.6693em;"><span class="stl_129 stl_49 stl_481" style="word-spacing:-0.0039em;">虫开发的指示灯。如果你发现一个 </span><span class="stl_132 stl_52 stl_481" style="word-spacing:-0.0039em;">robots.txt </span><span class="stl_129 stl_49 stl_481" style="word-spacing:-0.0039em;">文件禁止采集网站上某个部分的内容，那么基 &nbsp;</span></div>
					<div class="stl_01" style="top:38.331em; left:5.6693em;"><span class="stl_129 stl_49 stl_512" style="word-spacing:-0.0119em;">本可以确定网管同意你采集其他部分的所有内容（如果他们不愿意让你采集，在 </span><span class="stl_132 stl_52 stl_512" style="word-spacing:-0.0119em;">robots.txt &nbsp;</span></div>
					<div class="stl_01" style="top:39.6587em; left:5.6693em;"><span class="stl_129 stl_49 stl_258">文件中应该已经明确禁止了）。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.4452em; left:5.6693em;"><span class="stl_129 stl_49 stl_815" style="word-spacing:-0.0037em;">例如，维基百科的 </span><span class="stl_132 stl_52 stl_815" style="word-spacing:-0.0037em;">robots.txt </span><span class="stl_129 stl_49 stl_815" style="word-spacing:-0.0037em;">文件规定了网络爬虫（并非搜索引擎）非常好的权限。甚至只 &nbsp;</span></div>
					<div class="stl_01" style="top:42.7729em; left:5.6693em;"><span class="stl_129 stl_49 stl_130">要是人类可以阅读的文字都运行机器人采集（适合我们的爬虫！），只会禁止一小部分页 &nbsp;</span></div>
					<div class="stl_01" style="top:44.0229em; left:5.6693em;"><span class="stl_129 stl_49 stl_10">面，比如登录页面、搜索页面和“随机词条”页面： &nbsp;</span></div>
					<div class="stl_01" style="top:45.8665em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:46.6995em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:47.5325em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:48.3655em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:49.1985em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:50.0315em; left:7.3937em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:46.6995em; left:8.102em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Friendly, low-speed bots are welcome viewing article pages, but not &nbsp;</span></div>
					<div class="stl_01" style="top:47.5325em; left:8.102em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">dynamically generated pages please. &nbsp;</span></div>
					<div class="stl_01" style="top:49.1985em; left:8.102em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">Inktomi's "Slurp" can read a minimum delay between hits; if your bot supports &nbsp;</span></div>
					<div class="stl_01" style="top:50.0315em; left:8.102em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">such a thing using the 'Crawl-delay' or another instruction, please let us &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_875 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_875 stl_22 stl_10" style="word-spacing:0.405em;">94 </span><span class="stl_884 stl_20 stl_10" style="word-spacing:0.405em;">｜ 附录</span><span class="stl_875 stl_22 stl_10" style="word-spacing:0.405em;"> C &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_255.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_255.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8921em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:5.7251em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:6.5581em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:7.3911em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:8.2241em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:9.0571em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:9.8901em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">#</span></div>
					<div class="stl_01" style="top:4.8921em; left:9.0469em;"><span class="stl_116 stl_44 stl_10">know. &nbsp;</span></div>
					<div class="stl_01" style="top:6.5581em; left:9.0469em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">There is a special exception for API mobileview to allow dynamic mobile web &amp; &nbsp;</span></div>
					<div class="stl_01" style="top:7.3911em; left:9.0469em;"><span class="stl_116 stl_44 stl_10">app views to load section content. &nbsp;</span></div>
					<div class="stl_01" style="top:8.2241em; left:9.0469em;"><span class="stl_116 stl_44 stl_10" style="word-spacing:0em;">These views aren't HTTP-cached but use parser cache aggressively and don't &nbsp;</span></div>
					<div class="stl_01" style="top:9.0571em; left:9.0469em;"><span class="stl_116 stl_44 stl_10">expose special: pages etc. &nbsp;</span></div>
					<div class="stl_01" style="top:10.7231em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">User-agent: * &nbsp;</span></div>
					<div class="stl_01" style="top:11.5561em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Allow: /w/api.php?action=mobileview&amp; &nbsp;</span></div>
					<div class="stl_01" style="top:12.3891em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Disallow: /w/ &nbsp;</span></div>
					<div class="stl_01" style="top:13.2221em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Disallow: /trap/ &nbsp;</span></div>
					<div class="stl_01" style="top:14.0551em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Disallow: /wiki/Especial:Search &nbsp;</span></div>
					<div class="stl_01" style="top:14.8881em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Disallow: /wiki/Especial%3ASearch &nbsp;</span></div>
					<div class="stl_01" style="top:15.7211em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Disallow: /wiki/Special:Collection &nbsp;</span></div>
					<div class="stl_01" style="top:16.5541em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Disallow: /wiki/Spezial:Sammlung &nbsp;</span></div>
					<div class="stl_01" style="top:17.3871em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Disallow: /wiki/Special:Random &nbsp;</span></div>
					<div class="stl_01" style="top:18.2201em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Disallow: /wiki/Special%3ARandom &nbsp;</span></div>
					<div class="stl_01" style="top:19.0531em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Disallow: /wiki/Special:Search &nbsp;</span></div>
					<div class="stl_01" style="top:19.8861em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Disallow: /wiki/Special%3ASearch &nbsp;</span></div>
					<div class="stl_01" style="top:20.7191em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Disallow: /wiki/Spesial:Search &nbsp;</span></div>
					<div class="stl_01" style="top:21.5521em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Disallow: /wiki/Spesial%3ASearch &nbsp;</span></div>
					<div class="stl_01" style="top:22.3851em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Disallow: /wiki/Spezial:Search &nbsp;</span></div>
					<div class="stl_01" style="top:23.2181em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Disallow: /wiki/Spezial%3ASearch &nbsp;</span></div>
					<div class="stl_01" style="top:24.0511em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Disallow: /wiki/Specjalna:Search &nbsp;</span></div>
					<div class="stl_01" style="top:24.8841em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Disallow: /wiki/Specjalna%3ASearch &nbsp;</span></div>
					<div class="stl_01" style="top:25.7171em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Disallow: /wiki/Speciaal:Search &nbsp;</span></div>
					<div class="stl_01" style="top:26.5501em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Disallow: /wiki/Speciaal%3ASearch &nbsp;</span></div>
					<div class="stl_01" style="top:27.3831em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Disallow: /wiki/Speciaal:Random &nbsp;</span></div>
					<div class="stl_01" style="top:28.2161em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Disallow: /wiki/Speciaal%3ARandom &nbsp;</span></div>
					<div class="stl_01" style="top:29.0491em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Disallow: /wiki/Speciel:Search &nbsp;</span></div>
					<div class="stl_01" style="top:29.8821em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Disallow: /wiki/Speciel%3ASearch &nbsp;</span></div>
					<div class="stl_01" style="top:30.7151em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Disallow: /wiki/Speciale:Search &nbsp;</span></div>
					<div class="stl_01" style="top:31.5481em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Disallow: /wiki/Speciale%3ASearch &nbsp;</span></div>
					<div class="stl_01" style="top:32.3811em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Disallow: /wiki/Istimewa:Search &nbsp;</span></div>
					<div class="stl_01" style="top:33.2141em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Disallow: /wiki/Istimewa%3ASearch &nbsp;</span></div>
					<div class="stl_01" style="top:34.0471em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Disallow: /wiki/Toiminnot:Search &nbsp;</span></div>
					<div class="stl_01" style="top:34.8801em; left:8.3386em;"><span class="stl_116 stl_44 stl_10">Disallow: /wiki/Toiminnot%3ASearc &nbsp;</span></div>
					<div class="stl_01" style="top:36.6131em; left:6.6142em;"><span class="stl_906 stl_49 stl_75" style="word-spacing:0.1631em;">是否 按照</span><span class="stl_907 stl_52 stl_75" style="word-spacing:-0.002em;"> robots.txt</span><span class="stl_906 stl_49 stl_75" style="word-spacing:-0.0028em;"> 文件的要求写网络爬虫是由你自己决定的，当爬虫毫</span><span class="stl_906 stl_49 stl_75" style="word-spacing:0.1631em;"> 无节</span><span class="stl_906 stl_49 stl_75" style="word-spacing:0.1631em;"> 制地采集网站 &nbsp;</span></div>
					<div class="stl_01" style="top:37.9409em; left:6.6142em;"><span class="stl_906 stl_49 stl_10" style="word-spacing:0.1641em;">的时候，强烈 建议 你遵 守 。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.2583em; left:6.6142em;"><span class="stl_893 stl_18 stl_71" style="word-spacing:0.4321em;">C.5</span><span class="stl_894 stl_20 stl_71" style="word-spacing:0.4321em;">ꢀ 三个网络爬虫 &nbsp;</span></div>
					<div class="stl_01" style="top:42.7693em; left:6.6142em;"><span class="stl_906 stl_49 stl_153" style="word-spacing:0.1546em;">因为网络数据采集是一个没有限 制的领域，所以有很多意想不到的情况会让你置 身于恢 恢 &nbsp;</span></div>
					<div class="stl_01" style="top:44.0193em; left:6.6142em;"><span class="stl_906 stl_49 stl_68" style="word-spacing:0.155em;">法网之中。在这一节 里，我们将 介 绍 三个网络爬虫相关的法律案件，看看案件里网络爬虫 &nbsp;</span></div>
					<div class="stl_01" style="top:45.2693em; left:6.6142em;"><span class="stl_906 stl_49 stl_10">是如何被使用的。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.6207em; left:6.6142em;"><span class="stl_908 stl_18 stl_71" style="word-spacing:0.4321em;">C.5.1</span><span class="stl_898 stl_20 stl_71" style="word-spacing:0.4321em;">ꢀ </span><span class="stl_908 stl_18 stl_71" style="word-spacing:0.4321em;">eBay</span><span class="stl_898 stl_20 stl_71" style="word-spacing:0.4321em;">起诉</span><span class="stl_908 stl_18 stl_71" style="word-spacing:0.4321em;">Bidder</span><span class="stl_909 stl_36 stl_71" style="word-spacing:0.4321em;">’</span><span class="stl_908 stl_18 stl_71" style="word-spacing:0.4321em;">s</span><span class="stl_908 stl_18 stl_71" style="word-spacing:0.0002em;"> Edge</span><span class="stl_898 stl_20 stl_71" style="word-spacing:0.0002em;">与侵犯动产 &nbsp;</span></div>
					<div class="stl_01" style="top:49.6012em; left:6.6142em;"><span class="stl_907 stl_52 stl_10">1</span></div>
					<div class="stl_01" style="top:49.5616em; left:7.01em;"><span class="stl_907 stl_52 stl_10" style="word-spacing:0.0001em;">997 </span><span class="stl_906 stl_49 stl_10" style="word-spacing:0.0001em;">年，豆宝宝（</span><span class="stl_907 stl_52 stl_10" style="word-spacing:0.0001em;">Beanie Baby</span><span class="stl_906 stl_49 stl_10" style="word-spacing:0.0001em;">）市场依旧如火如荼，科技领域的泡沫不断膨胀，在线房屋 &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:23.695em;"><span class="stl_884 stl_20 stl_10" style="word-spacing:0.386em;">网络数据采集的法律与道德约束 ｜ </span><span class="stl_875 stl_22 stl_10" style="word-spacing:0.386em;">195 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_256.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_256.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8349em; left:5.6693em;"><span class="stl_906 stl_49 stl_10" style="word-spacing:0.007em;">拍卖也已经成为互联网的新热点。有一家叫 </span><span class="stl_907 stl_52 stl_10" style="word-spacing:0.007em;">Bidder</span><span class="stl_910 stl_36 stl_10" style="word-spacing:0.007em;">’</span><span class="stl_907 stl_52 stl_10" style="word-spacing:0.007em;">s</span><span class="stl_907 stl_52 stl_10" style="word-spacing:0.1248em;"> Edge</span><span class="stl_906 stl_49 stl_10" style="word-spacing:0.0001em;"> 的公司创造了一种新的线上拍卖 &nbsp;</span></div>
					<div class="stl_01" style="top:6.1627em; left:5.6693em;"><span class="stl_906 stl_49 stl_138">模式。客户不需要从一个拍卖网站到另一个拍卖网站查看商品价格，这个公司可以把所有 &nbsp;</span></div>
					<div class="stl_01" style="top:7.3349em; left:5.6694em;"><span class="stl_906 stl_49 stl_10" style="word-spacing:0em;">网站同一商品（比如一个流行的 </span><span class="stl_907 stl_52 stl_10" style="word-spacing:0em;">Furby</span><span class="stl_907 stl_52 stl_10" style="word-spacing:0.083em;"> doll</span><span class="stl_906 stl_49 stl_10" style="word-spacing:0.0001em;"> 玩具或</span><span class="stl_907 stl_52 stl_10" style="word-spacing:0em;"> Spice</span><span class="stl_907 stl_52 stl_10" style="word-spacing:0.082em;"> World</span><span class="stl_906 stl_49 stl_10" style="word-spacing:0em;"> 电影）的信息放到一起进行 &nbsp;</span></div>
					<div class="stl_01" style="top:8.6627em; left:5.6693em;"><span class="stl_906 stl_49 stl_10">比价，然后你就可以很方便地点击最低价的网站去购买了。 &nbsp;</span></div>
					<div class="stl_01" style="top:10.4961em; left:5.6693em;"><span class="stl_907 stl_52 stl_490" style="word-spacing:0.112em;">Bidder</span><span class="stl_910 stl_36 stl_490" style="word-spacing:0.112em;">’</span><span class="stl_907 stl_52 stl_490" style="word-spacing:0.112em;">s Edge</span><span class="stl_906 stl_49 stl_490" style="word-spacing:-0.0107em;"> 通过很多网络爬虫实现了这个网站，为了得到商品价格和信息，不断地向各 &nbsp;</span></div>
					<div class="stl_01" style="top:11.7463em; left:5.669em;"><span class="stl_906 stl_49 stl_565" style="word-spacing:-0.0074em;">大拍卖网站的网络服务器发起请求。在当时的拍卖网站中，最大的是 </span><span class="stl_907 stl_52 stl_565" style="word-spacing:-0.0074em;">eBay</span><span class="stl_906 stl_49 stl_565" style="word-spacing:-0.0074em;">，</span><span class="stl_907 stl_52 stl_565" style="word-spacing:-0.0074em;">Bidder</span><span class="stl_910 stl_36 stl_565" style="word-spacing:-0.0074em;">’</span><span class="stl_907 stl_52 stl_565" style="word-spacing:-0.0074em;">s</span><span class="stl_907 stl_52 stl_565" style="word-spacing:0.1154em;"> Edge &nbsp;</span></div>
					<div class="stl_01" style="top:12.9963em; left:5.6693em;"><span class="stl_906 stl_49 stl_404" style="word-spacing:-0.0416em;">每天要向 </span><span class="stl_907 stl_52 stl_404" style="word-spacing:-0.0416em;">eBay</span><span class="stl_906 stl_49 stl_404" style="word-spacing:-0.0416em;"> 服务器请求</span><span class="stl_907 stl_52 stl_404" style="word-spacing:-0.0416em;"> 100</span><span class="stl_907 stl_52 stl_404" style="word-spacing:0.0744em;"> 000</span><span class="stl_906 stl_49 stl_404" style="word-spacing:-0.0416em;"> 次。就算按照今天的观点看，这也是很大的流量。据 &nbsp;</span></div>
					<div class="stl_01" style="top:14.2464em; left:5.6693em;"><span class="stl_907 stl_52 stl_10" style="word-spacing:0em;">eBay </span><span class="stl_906 stl_49 stl_10" style="word-spacing:0em;">公布的数据显示，这相当于网站一天总流量的 </span><span class="stl_907 stl_52 stl_10" style="word-spacing:0em;">1.53%</span><span class="stl_906 stl_49 stl_10" style="word-spacing:0em;">，老板肯定不会开心了。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.1575em; left:5.6693em;"><span class="stl_907 stl_52 stl_465" style="word-spacing:-0.0058em;">eBay </span><span class="stl_906 stl_49 stl_465" style="word-spacing:-0.0058em;">给</span><span class="stl_907 stl_52 stl_465" style="word-spacing:-0.0048em;"> Bidder</span><span class="stl_910 stl_36 stl_465" style="word-spacing:-0.0048em;">’</span><span class="stl_907 stl_52 stl_465" style="word-spacing:-0.0048em;">s</span><span class="stl_907 stl_52 stl_465" style="word-spacing:0.1181em;"> Edge</span><span class="stl_906 stl_49 stl_465" style="word-spacing:-0.0056em;"> 发了一封要求终止的警告邮件，以及一个</span><span class="stl_907 stl_52 stl_465" style="word-spacing:-0.0048em;"> eBay</span><span class="stl_906 stl_49 stl_465" style="word-spacing:-0.0058em;"> 数据授权申请表。但 &nbsp;</span></div>
					<div class="stl_01" style="top:17.4078em; left:5.6689em;"><span class="stl_906 stl_49 stl_10" style="word-spacing:0em;">是，授权谈判没成功，</span><span class="stl_907 stl_52 stl_10" style="word-spacing:0em;">Bidder</span><span class="stl_910 stl_36 stl_10" style="word-spacing:0em;">’</span><span class="stl_907 stl_52 stl_10" style="word-spacing:0em;">s Edge </span><span class="stl_906 stl_49 stl_10" style="word-spacing:0em;">仍然一意孤行，继续爬取 </span><span class="stl_907 stl_52 stl_10" style="word-spacing:0em;">eBay </span><span class="stl_906 stl_49 stl_10" style="word-spacing:0em;">的数据。 &nbsp;</span></div>
					<div class="stl_01" style="top:19.3189em; left:5.6689em;"><span class="stl_906 stl_49 stl_359" style="word-spacing:-0.0184em;">虽然 </span><span class="stl_907 stl_52 stl_359" style="word-spacing:-0.0184em;">eBay</span><span class="stl_906 stl_49 stl_359" style="word-spacing:-0.0184em;"> 封杀了</span><span class="stl_907 stl_52 stl_359" style="word-spacing:-0.0184em;"> Bidder</span><span class="stl_910 stl_36 stl_359" style="word-spacing:-0.0184em;">’</span><span class="stl_907 stl_52 stl_359" style="word-spacing:-0.0184em;">s</span><span class="stl_907 stl_52 stl_359" style="word-spacing:0.0955em;"> Edge</span><span class="stl_906 stl_49 stl_359" style="word-spacing:-0.0182em;"> 的</span><span class="stl_907 stl_52 stl_359" style="word-spacing:-0.0184em;"> 169</span><span class="stl_906 stl_49 stl_359" style="word-spacing:-0.0184em;"> 个</span><span class="stl_907 stl_52 stl_359" style="word-spacing:-0.0184em;"> IP</span><span class="stl_906 stl_49 stl_359" style="word-spacing:-0.0185em;"> 地址，但是</span><span class="stl_907 stl_52 stl_359" style="word-spacing:-0.0184em;"> Bidder</span><span class="stl_910 stl_36 stl_359" style="word-spacing:-0.0184em;">’</span><span class="stl_907 stl_52 stl_359" style="word-spacing:-0.0184em;">s</span><span class="stl_907 stl_52 stl_359" style="word-spacing:0.0955em;"> Edge</span><span class="stl_906 stl_49 stl_359" style="word-spacing:-0.0182em;"> 还是通过代理服务 &nbsp;</span></div>
					<div class="stl_01" style="top:20.5692em; left:5.6696em;"><span class="stl_906 stl_49 stl_505" style="word-spacing:0.0415em;">器继续采集（发送请求的时候显示代理服务器的 </span><span class="stl_907 stl_52 stl_505" style="word-spacing:0.0415em;">IP</span><span class="stl_906 stl_49 stl_505" style="word-spacing:0.0415em;">）。“军备竞赛”就这样开始了，双方僵 &nbsp;</span></div>
					<div class="stl_01" style="top:21.8192em; left:5.6693em;"><span class="stl_906 stl_49 stl_476" style="word-spacing:0.0979em;">持不下——</span><span class="stl_907 stl_52 stl_476" style="word-spacing:0.0979em;">Bidder</span><span class="stl_910 stl_36 stl_476" style="word-spacing:0.0979em;">’</span><span class="stl_907 stl_52 stl_476" style="word-spacing:0.0979em;">s Edge</span><span class="stl_906 stl_49 stl_476" style="word-spacing:-0.0208em;"> 在被封杀之后不断启用新代理服务器和新</span><span class="stl_907 stl_52 stl_476" style="word-spacing:-0.0209em;"> IP</span><span class="stl_906 stl_49 stl_476" style="word-spacing:-0.0211em;"> 地址，</span><span class="stl_907 stl_52 stl_476" style="word-spacing:-0.0211em;">eBay</span><span class="stl_906 stl_49 stl_476" style="word-spacing:-0.0209em;"> 则不断 &nbsp;</span></div>
					<div class="stl_01" style="top:23.0692em; left:5.6692em;"><span class="stl_906 stl_49 stl_720" style="word-spacing:0.0356em;">更新防火墙列表（增加对每个可疑 </span><span class="stl_907 stl_52 stl_720" style="word-spacing:0.0356em;">IP </span><span class="stl_906 stl_49 stl_720" style="word-spacing:0.0356em;">地址发送的数据包进行检查）。 &nbsp;</span></div>
					<div class="stl_01" style="top:24.9803em; left:5.6692em;"><span class="stl_906 stl_49 stl_646" style="word-spacing:0.019em;">最终，在 </span><span class="stl_907 stl_52 stl_646" style="word-spacing:0.019em;">1999 </span><span class="stl_906 stl_49 stl_646" style="word-spacing:0.019em;">年 </span><span class="stl_907 stl_52 stl_646" style="word-spacing:0.019em;">12 </span><span class="stl_906 stl_49 stl_646" style="word-spacing:0.019em;">月，</span><span class="stl_907 stl_52 stl_646" style="word-spacing:0.019em;">eBay </span><span class="stl_906 stl_49 stl_646" style="word-spacing:0.019em;">起诉 </span><span class="stl_907 stl_52 stl_646" style="word-spacing:0.019em;">Bidder</span><span class="stl_910 stl_36 stl_646" style="word-spacing:0.019em;">’</span><span class="stl_907 stl_52 stl_646" style="word-spacing:0.019em;">s</span><span class="stl_907 stl_52 stl_646" style="word-spacing:0.1319em;"> Edge</span><span class="stl_906 stl_49 stl_646" style="word-spacing:0.0192em;"> 侵犯动产。（</span><span class="stl_907 stl_52 stl_646" style="word-spacing:0.0192em;">https://en.wikipedia.org/wiki/ &nbsp;</span></div>
					<div class="stl_01" style="top:26.2306em; left:5.6692em;"><span class="stl_907 stl_52 stl_10">EBay_v._Bidder%27s_Edge</span><span class="stl_906 stl_49 stl_10">） &nbsp;</span></div>
					<div class="stl_01" style="top:28.1417em; left:5.6692em;"><span class="stl_906 stl_49 stl_10" style="word-spacing:0em;">因为 </span><span class="stl_907 stl_52 stl_10" style="word-spacing:0em;">eBay</span><span class="stl_906 stl_49 stl_10" style="word-spacing:0em;"> 的服务器是</span><span class="stl_907 stl_52 stl_10" style="word-spacing:0em;"> eBay</span><span class="stl_906 stl_49 stl_10" style="word-spacing:0em;"> 拥有的真实有形的资源，它不想让</span><span class="stl_907 stl_52 stl_10" style="word-spacing:0em;"> Bidder</span><span class="stl_910 stl_36 stl_10" style="word-spacing:0em;">’</span><span class="stl_907 stl_52 stl_10" style="word-spacing:0em;">s</span><span class="stl_907 stl_52 stl_10" style="word-spacing:0.0288em;"> Edge</span><span class="stl_906 stl_49 stl_10" style="word-spacing:0.0001em;"> 滥用自己的资 &nbsp;</span></div>
					<div class="stl_01" style="top:29.4695em; left:5.6692em;"><span class="stl_906 stl_49 stl_130">源，使用侵犯动产起诉好像非常合理。实际上，目前侵犯动产在网络爬虫法律案件中十分 &nbsp;</span></div>
					<div class="stl_01" style="top:30.6421em; left:5.6693em;"><span class="stl_906 stl_49 stl_10" style="word-spacing:0.0001em;">普遍，也经常被 </span><span class="stl_907 stl_52 stl_10" style="word-spacing:0.0001em;">IT </span><span class="stl_906 stl_49 stl_10" style="word-spacing:0.0001em;">法律案件使用。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.5531em; left:5.6693em;"><span class="stl_906 stl_49 stl_10" style="word-spacing:0em;">法院当时规定 </span><span class="stl_907 stl_52 stl_10" style="word-spacing:0em;">eBay </span><span class="stl_906 stl_49 stl_10" style="word-spacing:0em;">出示两方面证据才可以证明自己被侵犯动产： &nbsp;</span></div>
					<div class="stl_01" style="top:34.5038em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:35.7538em; left:5.6693em;"><span class="stl_148 stl_52 stl_10">•</span></div>
					<div class="stl_01" style="top:34.4642em; left:6.7325em;"><span class="stl_907 stl_52 stl_10" style="word-spacing:0em;">Bidder</span><span class="stl_910 stl_36 stl_10" style="word-spacing:0em;">’</span><span class="stl_907 stl_52 stl_10" style="word-spacing:0em;">s Edge </span><span class="stl_906 stl_49 stl_10" style="word-spacing:0em;">未经允许使用 </span><span class="stl_907 stl_52 stl_10" style="word-spacing:0em;">eBay </span><span class="stl_906 stl_49 stl_10" style="word-spacing:0em;">资源 &nbsp;</span></div>
					<div class="stl_01" style="top:35.7143em; left:6.7325em;"><span class="stl_907 stl_52 stl_10" style="word-spacing:0.0001em;">eBay </span><span class="stl_906 stl_49 stl_10" style="word-spacing:0.0001em;">确实因为 </span><span class="stl_907 stl_52 stl_10" style="word-spacing:0.0001em;">Bidder</span><span class="stl_910 stl_36 stl_10" style="word-spacing:0.0001em;">’</span><span class="stl_907 stl_52 stl_10" style="word-spacing:0.0001em;">s Edge </span><span class="stl_906 stl_49 stl_10" style="word-spacing:0.0001em;">的行为遭受了经济损失 &nbsp;</span></div>
					<div class="stl_01" style="top:37.6253em; left:5.6685em;"><span class="stl_906 stl_49 stl_138" style="word-spacing:-0.0177em;">由于之前 </span><span class="stl_907 stl_52 stl_138" style="word-spacing:-0.0177em;">eBay </span><span class="stl_906 stl_49 stl_138" style="word-spacing:-0.0177em;">发过要求终止警告信，而且 </span><span class="stl_907 stl_52 stl_138" style="word-spacing:-0.0177em;">IT </span><span class="stl_906 stl_49 stl_138" style="word-spacing:-0.0177em;">日志可以显示服务器使用情况以及服务器相 &nbsp;</span></div>
					<div class="stl_01" style="top:38.8763em; left:5.6693em;"><span class="stl_906 stl_49 stl_475" style="word-spacing:-0.0604em;">关的财务成本，所以 </span><span class="stl_907 stl_52 stl_475" style="word-spacing:-0.0604em;">eBay </span><span class="stl_906 stl_49 stl_475" style="word-spacing:-0.0604em;">很容易就提供了证据。当然，大型法律案件都不会轻松结束： &nbsp;</span></div>
					<div class="stl_01" style="top:40.1263em; left:5.6693em;"><span class="stl_906 stl_49 stl_10">双方来回扯皮，支付了大量律师费，最终在 </span><span class="stl_907 stl_52 stl_10">2001 </span><span class="stl_906 stl_49 stl_10">年 </span><span class="stl_907 stl_52 stl_10">3 </span><span class="stl_906 stl_49 stl_10">月法院才最终判决。 &nbsp;</span></div>
					<div class="stl_01" style="top:42.115em; left:5.6693em;"><span class="stl_906 stl_49 stl_130">那么，这个案例是不是说，以后只要任何人未经授权使用别人的服务器，就是侵犯动产了 &nbsp;</span></div>
					<div class="stl_01" style="top:43.2874em; left:5.6693em;"><span class="stl_906 stl_49 stl_154" style="word-spacing:0.1179em;">呢？也不一定。</span><span class="stl_907 stl_52 stl_154" style="word-spacing:0.1179em;">Bidder</span><span class="stl_910 stl_36 stl_154" style="word-spacing:0.1179em;">’</span><span class="stl_907 stl_52 stl_154" style="word-spacing:0.1179em;">s Edge</span><span class="stl_906 stl_49 stl_154" style="word-spacing:-0.0048em;"> 是一个极端案例：它用了</span><span class="stl_907 stl_52 stl_154" style="word-spacing:-0.0049em;"> eBay</span><span class="stl_906 stl_49 stl_154" style="word-spacing:-0.0049em;"> 太多的资源，导致</span><span class="stl_907 stl_52 stl_154" style="word-spacing:-0.0049em;"> eBay</span><span class="stl_906 stl_49 stl_154" style="word-spacing:-0.0059em;"> 不得 &nbsp;</span></div>
					<div class="stl_01" style="top:44.5377em; left:5.669em;"><span class="stl_906 stl_49 stl_171" style="word-spacing:-0.0138em;">不购买更多的服务器，花更多电费，可能还要多雇人维护（虽然 </span><span class="stl_907 stl_52 stl_171" style="word-spacing:-0.0138em;">1.53% </span><span class="stl_906 stl_49 stl_171" style="word-spacing:-0.0138em;">看着并不多，但对 &nbsp;</span></div>
					<div class="stl_01" style="top:45.8654em; left:5.6693em;"><span class="stl_906 stl_49 stl_634">这样的大公司来说所有加总肯定是一笔大数目）。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.7384em; left:5.6693em;"><span class="stl_907 stl_52 stl_10">2</span></div>
					<div class="stl_01" style="top:47.6988em; left:6.0651em;"><span class="stl_907 stl_52 stl_483" style="word-spacing:-0.007em;">003 </span><span class="stl_906 stl_49 stl_483" style="word-spacing:-0.007em;">年，加州高级法院判了另一个案子，</span><span class="stl_907 stl_52 stl_483" style="word-spacing:-0.007em;">Intel </span><span class="stl_906 stl_49 stl_483" style="word-spacing:-0.007em;">公司起诉 </span><span class="stl_907 stl_52 stl_483" style="word-spacing:-0.007em;">Hamidi </span><span class="stl_906 stl_49 stl_483" style="word-spacing:-0.007em;">失败。</span><span class="stl_907 stl_52 stl_483" style="word-spacing:-0.007em;">Intel </span><span class="stl_906 stl_49 stl_483" style="word-spacing:-0.007em;">前雇员 </span><span class="stl_907 stl_52 stl_483" style="word-spacing:-0.007em;">Hamidi &nbsp;</span></div>
					<div class="stl_01" style="top:48.9491em; left:5.6693em;"><span class="stl_906 stl_49 stl_10" style="word-spacing:0em;">通过 </span><span class="stl_907 stl_52 stl_10" style="word-spacing:0em;">Intel </span><span class="stl_906 stl_49 stl_10" style="word-spacing:0em;">服务器向 </span><span class="stl_907 stl_52 stl_10" style="word-spacing:0em;">Intel </span><span class="stl_906 stl_49 stl_10" style="word-spacing:0em;">的员工发送让 </span><span class="stl_907 stl_52 stl_10" style="word-spacing:0em;">Intel </span><span class="stl_906 stl_49 stl_10" style="word-spacing:0em;">不爽的邮件。法院结案时说： &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_875 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_875 stl_22 stl_10" style="word-spacing:0.405em;">96 </span><span class="stl_884 stl_20 stl_10" style="word-spacing:0.405em;">｜ 附录</span><span class="stl_875 stl_22 stl_10" style="word-spacing:0.405em;"> C &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_257.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_257.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8476em; left:8.2205em;"><span class="stl_907 stl_52 stl_285" style="word-spacing:-0.0127em;">Intel </span><span class="stl_269 stl_49 stl_285" style="word-spacing:-0.0127em;">败诉并不是因为通过网络发送邮件可以不承担任何法律责任，而且因为侵犯 &nbsp;</span></div>
					<div class="stl_01" style="top:6.0084em; left:8.2209em;"><span class="stl_269 stl_49 stl_209">动产的民事侵权行为不成立——并不像这个案例中描述的——如果原告没有证据 &nbsp;</span></div>
					<div class="stl_01" style="top:7.0917em; left:8.2205em;"><span class="stl_269 stl_49 stl_10">证明自己财产或法律权益受到损失，在加州就不能胜诉。 &nbsp;</span></div>
					<div class="stl_01" style="top:8.8293em; left:6.6142em;"><span class="stl_906 stl_49 stl_778" style="word-spacing:-0.0327em;">最后，</span><span class="stl_907 stl_52 stl_778" style="word-spacing:-0.0327em;">Intel </span><span class="stl_906 stl_49 stl_778" style="word-spacing:-0.0327em;">无法向法院证明 </span><span class="stl_907 stl_52 stl_778" style="word-spacing:-0.0327em;">Hamidi </span><span class="stl_906 stl_49 stl_778" style="word-spacing:-0.0327em;">向公司其他员工发送的六封邮件给公司造成了经济损 &nbsp;</span></div>
					<div class="stl_01" style="top:10.0797em; left:6.6142em;"><span class="stl_906 stl_49 stl_166" style="word-spacing:-0.0387em;">失（有趣的是，每封邮件都带有已经从 </span><span class="stl_907 stl_52 stl_166" style="word-spacing:-0.0387em;">Hamidi </span><span class="stl_906 stl_49 stl_166" style="word-spacing:-0.0387em;">邮箱删除的选项——说明他还是挺懂规矩 &nbsp;</span></div>
					<div class="stl_01" style="top:11.3297em; left:6.6142em;"><span class="stl_906 stl_49 stl_634" style="word-spacing:0.0477em;">的）。这件事并没有给 </span><span class="stl_907 stl_52 stl_634" style="word-spacing:0.0477em;">Intel </span><span class="stl_906 stl_49 stl_634" style="word-spacing:0.0477em;">造成任何财产损失。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.7588em; left:6.6142em;"><span class="stl_908 stl_18 stl_786" style="word-spacing:0.517em;">C.5.2</span><span class="stl_898 stl_20 stl_786" style="word-spacing:0.517em;">ꢀ 美国政府起诉</span><span class="stl_908 stl_18 stl_786" style="word-spacing:0.517em;">Auernheimer</span><span class="stl_898 stl_20 stl_786" style="word-spacing:0.517em;">与</span><span class="stl_772 stl_44 stl_786" style="word-spacing:0.517em;">《</span><span class="stl_898 stl_20 stl_786" style="word-spacing:0.517em;">计算机欺诈与滥用法</span><span class="stl_772 stl_44 stl_786" style="word-spacing:0.517em;">》 &nbsp;</span></div>
					<div class="stl_01" style="top:15.7775em; left:6.6142em;"><span class="stl_906 stl_49 stl_153">如果网上的信息可以让人用浏览器轻而易举地获得，那么你用自动化手段获取同样的信息 &nbsp;</span></div>
					<div class="stl_01" style="top:17.0274em; left:6.6142em;"><span class="stl_906 stl_49 stl_138">不太可能会引起联邦调查局调查你。但是，如果一个非常细心的人在网站上发现了一个极 &nbsp;</span></div>
					<div class="stl_01" style="top:18.2774em; left:6.6142em;"><span class="stl_906 stl_49 stl_138">小的安全漏洞，再使用网络爬虫自动化采集网站，那么这个极小的安全漏洞就会变得越来 &nbsp;</span></div>
					<div class="stl_01" style="top:19.5275em; left:6.6142em;"><span class="stl_906 stl_49 stl_10">越大并且非常危险，被联邦调查局调查就很正常了。 &nbsp;</span></div>
					<div class="stl_01" style="top:21.4005em; left:6.6142em;"><span class="stl_907 stl_52 stl_10">2</span></div>
					<div class="stl_01" style="top:21.3609em; left:7.01em;"><span class="stl_907 stl_52 stl_262" style="word-spacing:-0.004em;">010 </span><span class="stl_906 stl_49 stl_262" style="word-spacing:-0.004em;">年，</span><span class="stl_907 stl_52 stl_262" style="word-spacing:-0.004em;">Andrew</span><span class="stl_907 stl_52 stl_262" style="word-spacing:0.1158em;"> Auernheimer</span><span class="stl_906 stl_49 stl_262" style="word-spacing:-0.004em;"> 和</span><span class="stl_907 stl_52 stl_262" style="word-spacing:-0.004em;"> Daniel</span><span class="stl_907 stl_52 stl_262" style="word-spacing:0.1162em;"> Spitler</span><span class="stl_906 stl_49 stl_262" style="word-spacing:-0.004em;"> 在</span><span class="stl_907 stl_52 stl_262" style="word-spacing:-0.004em;"> iPad</span><span class="stl_906 stl_49 stl_262" style="word-spacing:-0.004em;"> 上发现了一个新功能，当用</span><span class="stl_907 stl_52 stl_262" style="word-spacing:-0.004em;"> iPad</span><span class="stl_906 stl_49 stl_262" style="word-spacing:-0.004em;"> 访 &nbsp;</span></div>
					<div class="stl_01" style="top:22.6112em; left:6.6142em;"><span class="stl_906 stl_49 stl_10" style="word-spacing:0em;">问 </span><span class="stl_907 stl_52 stl_10" style="word-spacing:0em;">AT&amp;T </span><span class="stl_906 stl_49 stl_10" style="word-spacing:0em;">网站的时候，</span><span class="stl_907 stl_52 stl_10" style="word-spacing:0em;">AT&amp;T </span><span class="stl_906 stl_49 stl_10" style="word-spacing:0em;">跳转到一个带有 </span><span class="stl_907 stl_52 stl_10" style="word-spacing:0em;">iPad </span><span class="stl_906 stl_49 stl_10" style="word-spacing:0em;">的唯一 </span><span class="stl_907 stl_52 stl_10" style="word-spacing:0em;">ID </span><span class="stl_906 stl_49 stl_10" style="word-spacing:0em;">号的链接： &nbsp;</span></div>
					<div class="stl_01" style="top:24.5753em; left:8.2205em;"><span class="stl_907 stl_52 stl_73">https://dcp2.att.com/OEPClient/openPage?ICCID=&lt;idNumber&gt;&amp;IMEI= &nbsp;</span></div>
					<div class="stl_01" style="top:26.3507em; left:6.6142em;"><span class="stl_906 stl_49 stl_166" style="word-spacing:-0.0399em;">这个页面包括一个登录表单，上面显示对应 </span><span class="stl_907 stl_52 stl_166" style="word-spacing:-0.0399em;">ID </span><span class="stl_906 stl_49 stl_166" style="word-spacing:-0.0399em;">号的用户的邮箱地址，用户只要输入密码 &nbsp;</span></div>
					<div class="stl_01" style="top:27.6784em; left:6.6142em;"><span class="stl_906 stl_49 stl_10">就可以访问他们的账号了。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.5118em; left:6.6142em;"><span class="stl_906 stl_49 stl_417" style="word-spacing:-0.0398em;">虽然有大量可能的 </span><span class="stl_907 stl_52 stl_417" style="word-spacing:-0.0398em;">ID </span><span class="stl_906 stl_49 stl_417" style="word-spacing:-0.0398em;">号，但只要有足够的爬虫，用一串随机数迭代，就可以收集邮箱地 &nbsp;</span></div>
					<div class="stl_01" style="top:30.7621em; left:6.6142em;"><span class="stl_906 stl_49 stl_10" style="word-spacing:0.0001em;">址。通过 </span><span class="stl_907 stl_52 stl_10" style="word-spacing:0.0001em;">AT&amp;T </span><span class="stl_906 stl_49 stl_10" style="word-spacing:0.0001em;">网站的这个登录功能基本上就把用户的邮箱地址公布到网络上了。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.6732em; left:6.6142em;"><span class="stl_907 stl_52 stl_722" style="word-spacing:-0.0272em;">Auernheimer </span><span class="stl_906 stl_49 stl_722" style="word-spacing:-0.0272em;">和</span><span class="stl_907 stl_52 stl_722" style="word-spacing:-0.0272em;"> Spitler</span><span class="stl_906 stl_49 stl_722" style="word-spacing:-0.0272em;"> 做了一个爬虫，一共收集了</span><span class="stl_907 stl_52 stl_722" style="word-spacing:-0.0272em;"> 114</span><span class="stl_907 stl_52 stl_722" style="word-spacing:0.0888em;"> 000</span><span class="stl_906 stl_49 stl_722" style="word-spacing:-0.0272em;"> 个邮箱地址，里面包含知名人 &nbsp;</span></div>
					<div class="stl_01" style="top:33.9235em; left:6.6142em;"><span class="stl_906 stl_49 stl_300" style="word-spacing:-0.0072em;">士、企业 </span><span class="stl_907 stl_52 stl_300" style="word-spacing:-0.0072em;">CEO</span><span class="stl_906 stl_49 stl_300" style="word-spacing:-0.0074em;"> 和政府官员的邮箱地址。</span><span class="stl_907 stl_52 stl_300" style="word-spacing:-0.0074em;">Auernheimer</span><span class="stl_906 stl_49 stl_300" style="word-spacing:-0.0083em;"> 向高客传媒（</span><span class="stl_907 stl_52 stl_300" style="word-spacing:-0.0083em;">Gawker</span><span class="stl_907 stl_52 stl_300" style="word-spacing:0.1137em;"> Media</span><span class="stl_906 stl_49 stl_300" style="word-spacing:0.1137em;">）发布了 &nbsp;</span></div>
					<div class="stl_01" style="top:35.2512em; left:6.6142em;"><span class="stl_906 stl_49 stl_130">地址列表以及如何获取的方法，高客传媒也很给力，在自己网站发布了头条消息“苹果最 &nbsp;</span></div>
					<div class="stl_01" style="top:36.4235em; left:6.6142em;"><span class="stl_906 stl_49 stl_161" style="word-spacing:0.0667em;">烂安全事故：</span><span class="stl_907 stl_52 stl_161" style="word-spacing:0.0667em;">114 000 </span><span class="stl_906 stl_49 stl_161" style="word-spacing:0.0667em;">个用户信息被曝”（不过没有公布邮箱列表）。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.3742em; left:6.6142em;"><span class="stl_907 stl_52 stl_10">2</span></div>
					<div class="stl_01" style="top:38.3346em; left:7.01em;"><span class="stl_907 stl_52 stl_652" style="word-spacing:-0.0258em;">011 </span><span class="stl_906 stl_49 stl_652" style="word-spacing:-0.0258em;">年 </span><span class="stl_907 stl_52 stl_652" style="word-spacing:-0.0258em;">6 </span><span class="stl_906 stl_49 stl_652" style="word-spacing:-0.0258em;">月，</span><span class="stl_907 stl_52 stl_652" style="word-spacing:-0.0258em;">Auernheimer </span><span class="stl_906 stl_49 stl_652" style="word-spacing:-0.0258em;">的家突然遭到 </span><span class="stl_907 stl_52 stl_652" style="word-spacing:-0.0258em;">FBI </span><span class="stl_906 stl_49 stl_652" style="word-spacing:-0.0258em;">搜查，</span><span class="stl_907 stl_52 stl_652" style="word-spacing:-0.0258em;">FBI </span><span class="stl_906 stl_49 stl_652" style="word-spacing:-0.0258em;">索要邮箱地址，不过最终以贩毒 &nbsp;</span></div>
					<div class="stl_01" style="top:39.5849em; left:6.6142em;"><span class="stl_906 stl_49 stl_340" style="word-spacing:-0.0279em;">罪逮捕了他。</span><span class="stl_907 stl_52 stl_340" style="word-spacing:-0.0279em;">2012 </span><span class="stl_906 stl_49 stl_340" style="word-spacing:-0.0279em;">年 </span><span class="stl_907 stl_52 stl_340" style="word-spacing:-0.0279em;">11 </span><span class="stl_906 stl_49 stl_340" style="word-spacing:-0.0279em;">月，他因未经授权接入计算机被判欺诈与共谋罪，之后在联邦监 &nbsp;</span></div>
					<div class="stl_01" style="top:40.835em; left:6.6142em;"><span class="stl_906 stl_49 stl_474" style="word-spacing:0.0196em;">狱关押 </span><span class="stl_907 stl_52 stl_474" style="word-spacing:0.0196em;">41 </span><span class="stl_906 stl_49 stl_474" style="word-spacing:0.0196em;">个月，并要求赔偿 </span><span class="stl_907 stl_52 stl_474" style="word-spacing:0.0196em;">73 000 </span><span class="stl_906 stl_49 stl_474" style="word-spacing:0.0196em;">美元。（</span><span class="stl_907 stl_52 stl_474" style="word-spacing:0.0196em;">https://en.wikipedia.org/wiki/Weev</span><span class="stl_906 stl_49 stl_474" style="word-spacing:0.0196em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:42.746em; left:6.6142em;"><span class="stl_906 stl_49 stl_580" style="word-spacing:-0.0372em;">他的案子引起了民权律师 </span><span class="stl_907 stl_52 stl_580" style="word-spacing:-0.0372em;">Orin</span><span class="stl_907 stl_52 stl_580" style="word-spacing:0.0808em;"> Kerr</span><span class="stl_906 stl_49 stl_580" style="word-spacing:-0.0372em;"> 的关注，他组建律师团队，把案子上诉到了美国联邦 &nbsp;</span></div>
					<div class="stl_01" style="top:43.9963em; left:6.6142em;"><span class="stl_906 stl_49 stl_290" style="word-spacing:0.021em;">第三巡回上诉法院。</span><span class="stl_907 stl_52 stl_290" style="word-spacing:0.021em;">2014 </span><span class="stl_906 stl_49 stl_290" style="word-spacing:0.021em;">年 </span><span class="stl_907 stl_52 stl_290" style="word-spacing:0.021em;">4 </span><span class="stl_906 stl_49 stl_290" style="word-spacing:0.021em;">月 </span><span class="stl_907 stl_52 stl_290" style="word-spacing:0.021em;">11 </span><span class="stl_906 stl_49 stl_290" style="word-spacing:0.021em;">日（这类法律程序时间都比较长），第三巡回上诉法院 &nbsp;</span></div>
					<div class="stl_01" style="top:45.3241em; left:6.6142em;"><span class="stl_906 stl_49 stl_10">接受上诉，法院的意见是： &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:23.695em;"><span class="stl_884 stl_20 stl_10" style="word-spacing:0.386em;">网络数据采集的法律与道德约束 ｜ </span><span class="stl_875 stl_22 stl_10" style="word-spacing:0.386em;">197 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_258.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_258.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8476em; left:7.2756em;"><span class="stl_907 stl_52 stl_214" style="word-spacing:0.0119em;">Auernheimer </span><span class="stl_269 stl_49 stl_214" style="word-spacing:0.0119em;">在第一法院的罪名必须撤销，因为根据《计算机欺诈与滥用法》，</span><span class="stl_907 stl_52 stl_214" style="word-spacing:0.0119em;">18 &nbsp;</span></div>
					<div class="stl_01" style="top:6.0019em; left:7.2759em;"><span class="stl_907 stl_52 stl_114" style="word-spacing:-0.0025em;">U.S.C.</span><span class="stl_269 stl_49 stl_114" style="word-spacing:-0.0025em;">§</span><span class="stl_907 stl_52 stl_114" style="word-spacing:-0.0025em;">1030(a)(2)(C)</span><span class="stl_906 stl_49 stl_114" style="word-spacing:-0.0025em;">，</span><span class="stl_269 stl_49 stl_114" style="word-spacing:-0.0025em;">访问公共网站并不需要经过许可。</span><span class="stl_907 stl_52 stl_114" style="word-spacing:-0.0025em;">AT&amp;T </span><span class="stl_269 stl_49 stl_114" style="word-spacing:-0.0025em;">并没有使用密码 &nbsp;</span></div>
					<div class="stl_01" style="top:7.181em; left:7.2754em;"><span class="stl_269 stl_49 stl_213" style="word-spacing:-0.0173em;">或任何其他保护措施控制其他人获取用户的邮箱地址。</span><span class="stl_907 stl_52 stl_213" style="word-spacing:-0.0173em;">AT&amp;T </span><span class="stl_269 stl_49 stl_213" style="word-spacing:-0.0173em;">主观地希望外人不 &nbsp;</span></div>
					<div class="stl_01" style="top:8.3477em; left:7.2756em;"><span class="stl_269 stl_49 stl_114" style="word-spacing:-0.0022em;">会偶然看到敏感数据，以及 </span><span class="stl_907 stl_52 stl_114" style="word-spacing:-0.0022em;">Auernheimer </span><span class="stl_269 stl_49 stl_114" style="word-spacing:-0.0022em;">的行为被假设成“小偷”都是不恰当的。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.592em; left:7.2756em;"><span class="stl_269 stl_49 stl_209">公司配置服务器使得信息向每个人公开，就是授权一般公众可以查看信息。通过 &nbsp;</span></div>
					<div class="stl_01" style="top:10.6813em; left:7.2756em;"><span class="stl_907 stl_52 stl_10" style="word-spacing:-0.0002em;">AT&amp;T </span><span class="stl_269 stl_49 stl_10" style="word-spacing:-0.0002em;">的公共网站获取邮箱地址是 </span><span class="stl_907 stl_52 stl_10" style="word-spacing:-0.0002em;">CFAA </span><span class="stl_269 stl_49 stl_10" style="word-spacing:-0.0002em;">允许的行为，因此 </span><span class="stl_907 stl_52 stl_10" style="word-spacing:-0.0002em;">Auernheimer </span><span class="stl_269 stl_49 stl_10" style="word-spacing:-0.0002em;">无罪。 &nbsp;</span></div>
					<div class="stl_01" style="top:12.4963em; left:5.6693em;"><span class="stl_906 stl_49 stl_220" style="word-spacing:-0.0342em;">于是，理性在法律体系中又一次获得了最终胜利。同一天，</span><span class="stl_907 stl_52 stl_220" style="word-spacing:-0.0342em;">Auernheimer </span><span class="stl_906 stl_49 stl_220" style="word-spacing:-0.0342em;">从监狱释放，从 &nbsp;</span></div>
					<div class="stl_01" style="top:13.8241em; left:5.6693em;"><span class="stl_906 stl_49 stl_10">此每个人都可以快乐地生活了。 &nbsp;</span></div>
					<div class="stl_01" style="top:15.6575em; left:5.6693em;"><span class="stl_906 stl_49 stl_738" style="word-spacing:0.022em;">虽然 </span><span class="stl_907 stl_52 stl_738" style="word-spacing:0.022em;">Auernheimer </span><span class="stl_906 stl_49 stl_738" style="word-spacing:0.022em;">被认定没有违反《计算机欺诈与滥用法》，但是他曾经在家中被 </span><span class="stl_907 stl_52 stl_738" style="word-spacing:0.022em;">FBI </span><span class="stl_906 stl_49 stl_738" style="word-spacing:0.022em;">强行 &nbsp;</span></div>
					<div class="stl_01" style="top:16.9855em; left:5.6693em;"><span class="stl_906 stl_49 stl_139">搜查，花费了数千美元的律师费，也花了三年时间诉讼和坐牢。作为网络爬虫从业者，我 &nbsp;</span></div>
					<div class="stl_01" style="top:18.2355em; left:5.6693em;"><span class="stl_906 stl_49 stl_10">们能从中汲取什么教训，让我们远离这类情况，避免类似情况发生在自己身上呢？ &nbsp;</span></div>
					<div class="stl_01" style="top:20.1466em; left:5.6693em;"><span class="stl_906 stl_49 stl_420">首先，采集任何敏感信息的时候，无论是个人隐私（本案例中是邮箱地址）、交易机密或是 &nbsp;</span></div>
					<div class="stl_01" style="top:21.3966em; left:5.6693em;"><span class="stl_906 stl_49 stl_98">政府机密，在向律师咨询之前，都不应该行动。即使信息是公开的，你也要想想：“如果普 &nbsp;</span></div>
					<div class="stl_01" style="top:22.6467em; left:5.6693em;"><span class="stl_906 stl_49 stl_911">通用户想看这些信息，可以这么容易地得到吗？”“这些信息是公司想让用户看的吗？” &nbsp;</span></div>
					<div class="stl_01" style="top:24.5578em; left:5.6693em;"><span class="stl_906 stl_49 stl_130">其次，我曾经多次给一些公司打电话，告诉他们网站和网络应用的安全隐患。这么说最合 &nbsp;</span></div>
					<div class="stl_01" style="top:25.8083em; left:5.6693em;"><span class="stl_906 stl_49 stl_303">适：“你好，我是做网络安全的，在你的网站上发现了一个潜在的安全隐患，可以把电话 &nbsp;</span></div>
					<div class="stl_01" style="top:27.0583em; left:5.6693em;"><span class="stl_906 stl_49 stl_139">转接到可以处理问题的人那里吗？”对方除了对你的（白帽）黑客天才感激万分，还可能 &nbsp;</span></div>
					<div class="stl_01" style="top:28.3083em; left:5.6693em;"><span class="stl_906 stl_49 stl_10">会让你免费订阅网站内容，甚至还会有现金奖励或其他好处！ &nbsp;</span></div>
					<div class="stl_01" style="top:30.1417em; left:5.6693em;"><span class="stl_906 stl_49 stl_23" style="word-spacing:0.0189em;">另外，</span><span class="stl_907 stl_52 stl_23" style="word-spacing:0.0189em;">Auernheimer </span><span class="stl_906 stl_49 stl_23" style="word-spacing:0.0189em;">向高客传媒发布信息（在通知 </span><span class="stl_907 stl_52 stl_23" style="word-spacing:0.0189em;">AT&amp;T </span><span class="stl_906 stl_49 stl_23" style="word-spacing:0.0189em;">之前），以及秀自己发现安全隐患 &nbsp;</span></div>
					<div class="stl_01" style="top:31.3921em; left:5.6693em;"><span class="stl_906 stl_49 stl_10" style="word-spacing:0.0001em;">的过程，无疑成为了 </span><span class="stl_907 stl_52 stl_10" style="word-spacing:0.0001em;">AT&amp;T </span><span class="stl_906 stl_49 stl_10" style="word-spacing:0.0001em;">律师的攻击点。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.3808em; left:5.6693em;"><span class="stl_906 stl_49 stl_130">如果你发现了网站的安全隐患，最好的做法就是告诉网管，而不是媒体。尤其是当网站补 &nbsp;</span></div>
					<div class="stl_01" style="top:34.6311em; left:5.6693em;"><span class="stl_906 stl_49 stl_139">丁没有及时放出的时候，你可能想写一篇博文然后向世界宣布。但是，你应该记住，那是 &nbsp;</span></div>
					<div class="stl_01" style="top:35.8811em; left:5.6693em;"><span class="stl_906 stl_49 stl_130">网站自己的公司该做的事情，与你无关。你最该做的事情就是让你的网络爬虫（也可能是 &nbsp;</span></div>
					<div class="stl_01" style="top:37.1312em; left:5.6693em;"><span class="stl_906 stl_49 stl_10">你的生意）远离这些网站！ &nbsp;</span></div>
					<div class="stl_01" style="top:39.4826em; left:5.6693em;"><span class="stl_908 stl_18 stl_71" style="word-spacing:0.4321em;">C.5.3</span><span class="stl_898 stl_20 stl_71" style="word-spacing:0.4321em;">ꢀ </span><span class="stl_908 stl_18 stl_71" style="word-spacing:0.4321em;">Field</span><span class="stl_898 stl_20 stl_71" style="word-spacing:0.4321em;">起诉</span><span class="stl_908 stl_18 stl_71" style="word-spacing:0.4321em;">Google</span><span class="stl_772 stl_44 stl_71" style="word-spacing:0.4321em;">：</span><span class="stl_898 stl_20 stl_71" style="word-spacing:0.4321em;">版权和</span><span class="stl_908 stl_18 stl_71" style="word-spacing:0.4321em;">robots.txt &nbsp;</span></div>
					<div class="stl_01" style="top:41.4235em; left:5.6693em;"><span class="stl_907 stl_52 stl_10" style="word-spacing:0.0541em;">Blake Field</span><span class="stl_906 stl_49 stl_10" style="word-spacing:0em;"> 是一名律师，他起诉</span><span class="stl_907 stl_52 stl_10" style="word-spacing:0em;"> Google</span><span class="stl_906 stl_49 stl_10" style="word-spacing:0.0001em;"> 违反了版权法，因为当他把自己的书从他的网站上 &nbsp;</span></div>
					<div class="stl_01" style="top:42.6735em; left:5.6693em;"><span class="stl_906 stl_49 stl_483" style="word-spacing:-0.0084em;">删除之后，</span><span class="stl_907 stl_52 stl_483" style="word-spacing:-0.0084em;">Google </span><span class="stl_906 stl_49 stl_483" style="word-spacing:-0.0084em;">还是在搜索引擎里显示了书的副本。版权法允许具有原创性作品的作者 &nbsp;</span></div>
					<div class="stl_01" style="top:43.9235em; left:5.6693em;"><span class="stl_906 stl_49 stl_154" style="word-spacing:-0.006em;">控制作品的发布渠道。</span><span class="stl_907 stl_52 stl_154" style="word-spacing:-0.006em;">Field </span><span class="stl_906 stl_49 stl_154" style="word-spacing:-0.006em;">认为 </span><span class="stl_907 stl_52 stl_154" style="word-spacing:-0.006em;">Google </span><span class="stl_906 stl_49 stl_154" style="word-spacing:-0.006em;">的缓存（当他把自己的书从他的网站上删除之后） &nbsp;</span></div>
					<div class="stl_01" style="top:45.2512em; left:5.6693em;"><span class="stl_906 stl_49 stl_10">侵犯了他控制作品发布渠道的权利。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.351em; left:5.6457em;"><span class="stl_875 stl_22 stl_10">1</span></div>
					<div class="stl_01" style="top:52.2718em; left:6.0518em;"><span class="stl_875 stl_22 stl_10" style="word-spacing:0.405em;">98 </span><span class="stl_884 stl_20 stl_10" style="word-spacing:0.405em;">｜ 附录</span><span class="stl_875 stl_22 stl_10" style="word-spacing:0.405em;"> C &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_260.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_260.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.8187em; left:11.3386em;"><span class="stl_912 stl_18 stl_244" style="word-spacing:-0.0269em;">Google </span><span class="stl_913 stl_20 stl_244" style="word-spacing:-0.0269em;">网络缓存 &nbsp;</span></div>
					<div class="stl_01" style="top:6.7148em; left:11.3386em;"><span class="stl_914 stl_52 stl_484" style="word-spacing:-0.0031em;">Google </span><span class="stl_915 stl_49 stl_484" style="word-spacing:-0.0031em;">网络爬虫（也叫“谷歌机器人”）采集网站的时候，它们会为网站留 &nbsp;</span></div>
					<div class="stl_01" style="top:7.8818em; left:11.3858em;"><span class="stl_915 stl_49 stl_189" style="word-spacing:-0.0452em;">一个副本，然后放在互联网上。任何人都可以接入这些缓存，用 </span><span class="stl_914 stl_52 stl_189" style="word-spacing:-0.0452em;">URL </span><span class="stl_915 stl_49 stl_189" style="word-spacing:-0.0452em;">链接 &nbsp;</span></div>
					<div class="stl_01" style="top:9.1224em; left:11.3858em;"><span class="stl_915 stl_49 stl_10">就可以： &nbsp;</span></div>
					<div class="stl_01" style="top:11.4334em; left:11.3386em;"><span class="stl_914 stl_52 stl_333">http://webcache.googleusercontent.com/search?q=cache:http://pythonscraping. &nbsp;</span></div>
					<div class="stl_01" style="top:12.6004em; left:11.3858em;"><span class="stl_914 stl_52 stl_73">com/ &nbsp;</span></div>
					<div class="stl_01" style="top:14.5115em; left:11.3386em;"><span class="stl_915 stl_49 stl_10">如果你搜索或采集的网站没有了，你可以用这个方法看看副本还在不在。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.7811em; left:6.6142em;"><span class="stl_906 stl_49 stl_153" style="word-spacing:-0.0164em;">知道 </span><span class="stl_907 stl_52 stl_153" style="word-spacing:-0.0164em;">Google </span><span class="stl_906 stl_49 stl_153" style="word-spacing:-0.0164em;">的缓存功能却没有采取安全措施，并不能帮助 </span><span class="stl_907 stl_52 stl_153" style="word-spacing:-0.0164em;">Field </span><span class="stl_906 stl_49 stl_153" style="word-spacing:-0.0164em;">胜诉。其实，他可以在网 &nbsp;</span></div>
					<div class="stl_01" style="top:18.0311em; left:6.6142em;"><span class="stl_906 stl_49 stl_902" style="word-spacing:-0.0237em;">站直接增加 </span><span class="stl_907 stl_52 stl_902" style="word-spacing:-0.0237em;">robots.txt </span><span class="stl_906 stl_49 stl_902" style="word-spacing:-0.0237em;">文件来禁止 </span><span class="stl_907 stl_52 stl_902" style="word-spacing:-0.0237em;">Google </span><span class="stl_906 stl_49 stl_902" style="word-spacing:-0.0237em;">机器人缓存他的网站，里面注明哪些页面可以采 &nbsp;</span></div>
					<div class="stl_01" style="top:19.3589em; left:6.6142em;"><span class="stl_906 stl_49 stl_10">集，哪些页面不能采集就行。 &nbsp;</span></div>
					<div class="stl_01" style="top:21.1922em; left:6.6142em;"><span class="stl_906 stl_49 stl_339" style="word-spacing:-0.0234em;">更重要的是，法院认为根据 </span><span class="stl_907 stl_52 stl_339" style="word-spacing:-0.0234em;">DMCA</span><span class="stl_906 stl_49 stl_339" style="word-spacing:-0.0235em;"> 的安全港（</span><span class="stl_907 stl_52 stl_339" style="word-spacing:-0.0235em;">Safe</span><span class="stl_907 stl_52 stl_339" style="word-spacing:0.0928em;"> Harbor</span><span class="stl_906 stl_49 stl_339" style="word-spacing:0.0928em;">）条例，</span><span class="stl_907 stl_52 stl_339" style="word-spacing:0.0928em;">Google</span><span class="stl_906 stl_49 stl_339" style="word-spacing:-0.0242em;"> 可以合法地缓 &nbsp;</span></div>
					<div class="stl_01" style="top:22.4425em; left:6.6142em;"><span class="stl_906 stl_49 stl_169" style="word-spacing:0.0107em;">存和显示 </span><span class="stl_907 stl_52 stl_169" style="word-spacing:0.0107em;">Field </span><span class="stl_906 stl_49 stl_169" style="word-spacing:0.0107em;">的网站：“服务提供商间接或临时把材料存储在由其控制或操作的系统或网 &nbsp;</span></div>
					<div class="stl_01" style="top:23.7703em; left:6.6142em;"><span class="stl_906 stl_49 stl_515">络上，不应当作出经济赔偿……不应当承受侵犯版权的责任。” &nbsp;</span></div>
					<div class="stl_01" style="top:52.2718em; left:23.695em;"><span class="stl_884 stl_20 stl_10" style="word-spacing:0.386em;">网络数据采集的法律与道德约束 ｜ </span><span class="stl_875 stl_22 stl_10" style="word-spacing:0.386em;">199 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_261.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_261.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:4.9154em; left:5.6693em;"><span class="stl_898 stl_20 stl_71">作者简介 &nbsp;</span></div>
					<div class="stl_01" style="top:6.9261em; left:5.6693em;"><span class="stl_916 stl_18 stl_10" style="word-spacing:-0.0007em;">Ryan Mitchell </span><span class="stl_269 stl_49 stl_10" style="word-spacing:-0.0007em;">是一名软件工程师，目前在美国波士顿的 </span><span class="stl_907 stl_52 stl_10" style="word-spacing:-0.0007em;">LinkeDrive </span><span class="stl_269 stl_49 stl_10" style="word-spacing:-0.0007em;">公司工作，主要负责开 &nbsp;</span></div>
					<div class="stl_01" style="top:8.202em; left:5.6693em;"><span class="stl_269 stl_49 stl_309" style="word-spacing:-0.0406em;">发公司 </span><span class="stl_907 stl_52 stl_309" style="word-spacing:-0.0406em;">API </span><span class="stl_269 stl_49 stl_309" style="word-spacing:-0.0406em;">和数据分析工具。</span><span class="stl_907 stl_52 stl_309" style="word-spacing:-0.0406em;">Ryan </span><span class="stl_269 stl_49 stl_309" style="word-spacing:-0.0406em;">本科毕业于美国欧林工程学院，目前在哈佛大学继续 &nbsp;</span></div>
					<div class="stl_01" style="top:9.452em; left:5.6693em;"><span class="stl_269 stl_49 stl_283" style="word-spacing:-0.0124em;">教育学院攻读硕士学位。在加入 </span><span class="stl_907 stl_52 stl_283" style="word-spacing:-0.0124em;">LinkeDrive </span><span class="stl_269 stl_49 stl_283" style="word-spacing:-0.0124em;">公司之前，她在 </span><span class="stl_907 stl_52 stl_283" style="word-spacing:-0.0124em;">Abine </span><span class="stl_269 stl_49 stl_283" style="word-spacing:-0.0124em;">公司构建网络爬虫和网 &nbsp;</span></div>
					<div class="stl_01" style="top:10.7797em; left:5.6693em;"><span class="stl_269 stl_49 stl_10">络机器人。她经常从事网络数据采集项目的咨询工作，主要面向金融和零售领域。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.2717em; left:5.6693em;"><span class="stl_898 stl_20 stl_71">封面介绍 &nbsp;</span></div>
					<div class="stl_01" style="top:15.386em; left:5.6693em;"><span class="stl_269 stl_49 stl_130">本书封面上的动物是一只南非穿山甲。穿山甲是一种独居、喜欢夜间活动的哺乳动物，与 &nbsp;</span></div>
					<div class="stl_01" style="top:16.636em; left:5.6693em;"><span class="stl_269 stl_49 stl_163">犰狳、树懒、食蚁兽是近亲。它们主要分布于非洲的东部和南部。非洲还有三种穿山甲， &nbsp;</span></div>
					<div class="stl_01" style="top:17.8861em; left:5.6693em;"><span class="stl_269 stl_49 stl_10">均属濒临灭绝物种。 &nbsp;</span></div>
					<div class="stl_01" style="top:19.7194em; left:5.6693em;"><span class="stl_269 stl_49 stl_114" style="word-spacing:-0.0019em;">成年的穿山甲体长 </span><span class="stl_907 stl_52 stl_114" style="word-spacing:-0.0019em;">12~39 </span><span class="stl_269 stl_49 stl_114" style="word-spacing:-0.0019em;">英寸，体重可达 </span><span class="stl_907 stl_52 stl_114" style="word-spacing:-0.0019em;">3.5~73 </span><span class="stl_269 stl_49 stl_114" style="word-spacing:-0.0019em;">磅。它们和犰狳类似，身上有深色、浅棕 &nbsp;</span></div>
					<div class="stl_01" style="top:21.0474em; left:5.6693em;"><span class="stl_269 stl_49 stl_130">色或橄榄色的鳞甲。幼年穿山甲的身上主要是粉红色的鳞甲。受到威胁时，尾部的鳞甲更 &nbsp;</span></div>
					<div class="stl_01" style="top:22.2974em; left:5.6693em;"><span class="stl_269 stl_49 stl_130">像攻击性武器，可以砍伤攻击者。穿山甲还有一种与臭鼬类似的防御策略，可以从肛门附 &nbsp;</span></div>
					<div class="stl_01" style="top:23.5474em; left:5.6693em;"><span class="stl_269 stl_49 stl_138">近的腺体中释放出一种酸性恶臭气体。这么做不仅是向攻击者发出警告，还可以标记自己 &nbsp;</span></div>
					<div class="stl_01" style="top:24.7975em; left:5.6693em;"><span class="stl_269 stl_49 stl_10">的势力范围。穿山甲的肚子上并没有鳞甲，不过有一点儿毛。 &nbsp;</span></div>
					<div class="stl_01" style="top:26.7085em; left:5.6693em;"><span class="stl_269 stl_49 stl_138">和它们的近亲食蚁兽一样，穿山甲主要以蚂蚁和白蚁为食。它们异乎寻常的长舌头可以在 &nbsp;</span></div>
					<div class="stl_01" style="top:27.9589em; left:5.6693em;"><span class="stl_269 stl_49 stl_10">树洞和蚂蚁窝中寻觅食物。它们的舌头比身体还长，可以在不用的时候缩回胸腔里。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.87em; left:5.6693em;"><span class="stl_269 stl_49 stl_130">虽然穿山甲是独居动物，但是长大以后会居住在很深的地洞里。但是它们经常“霸占”土 &nbsp;</span></div>
					<div class="stl_01" style="top:31.1203em; left:5.6693em;"><span class="stl_269 stl_49 stl_138">豚和疣猪弃用的巢穴。不过通过前肢上三个又长又弯的爪子，穿山甲在需要的时候为自己 &nbsp;</span></div>
					<div class="stl_01" style="top:32.3703em; left:5.6693em;"><span class="stl_269 stl_49 stl_10">挖一个地洞也不成问题。 &nbsp;</span></div>
					<div class="stl_01" style="top:34.2037em; left:5.6693em;"><span class="stl_907 stl_52 stl_200" style="word-spacing:-0.0273em;">O</span><span class="stl_910 stl_36 stl_200" style="word-spacing:-0.0273em;">’</span><span class="stl_907 stl_52 stl_200" style="word-spacing:-0.0273em;">Reilly </span><span class="stl_269 stl_49 stl_200" style="word-spacing:-0.0273em;">书籍封面上的许多动物都快要绝种了，它们对这个世界都非常重要。如果你想了 &nbsp;</span></div>
					<div class="stl_01" style="top:35.454em; left:5.6694em;"><span class="stl_269 stl_49 stl_10" style="word-spacing:0em;">解帮助它们的相关信息，请参考 </span><span class="stl_907 stl_52 stl_10" style="word-spacing:0em;">animals.oreilly.com</span><span class="stl_269 stl_49 stl_10" style="word-spacing:0em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.3651em; left:5.6694em;"><span class="stl_269 stl_49 stl_10" style="word-spacing:0.0001em;">封面图片取自 </span><span class="stl_907 stl_52 stl_10" style="word-spacing:0.0001em;">Lydekker </span><span class="stl_269 stl_49 stl_10" style="word-spacing:0.0001em;">的 </span><span class="stl_917 stl_36 stl_10" style="word-spacing:0.0001em;">The Royal Natural History</span><span class="stl_269 stl_49 stl_10" style="word-spacing:0.0001em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.3099em; left:5.6693em;"><span class="stl_875 stl_22 stl_10">200 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_263.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_263.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
		</div>
		<div class="stl_918">
			<div class="stl_03">
				<object data="060615404149_files/img_265.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:57.4167em;">
					<embed src="060615404149_files/img_265.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
		</div>
		<div class="stl_05">
			<div class="stl_03">
				<object data="060615404149_files/img_267.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:43.4167em; height:56.4167em;">
					<embed src="060615404149_files/img_267.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_06 stl_07">
					<div class="stl_01" style="top:20.028em; left:34.445em;"><span class="stl_919 stl_09 stl_10">ꢁ</span></div>
					<div class="stl_01" style="top:21.6907em; left:4.75em;"><span class="stl_920 stl_09 stl_10">፡</span></div>
					<div class="stl_01" style="top:21.6907em; left:8.5833em;"><span class="stl_920 stl_09 stl_10">ਠԧ</span><span class="stl_921 stl_09 stl_10">ꢁꢁ &nbsp;</span></div>
					<div class="stl_01" style="top:29.9447em; left:4.75em;"><span class="stl_919 stl_09 stl_10">ইຎ఍੒๜ԡ</span><div dir="ltr" class="stl_919 stl_09 stl_10" style="display:inline;">ٖ</div><span class="stl_919 stl_09 stl_10">਻ํወᳯ҅</span><div dir="ltr" class="stl_919 stl_09 stl_10" style="display:inline;">ݢ</div><span class="stl_919 stl_09 stl_10">ݎᮒկᛗꢁFRQWDFW#WXULQJERRNꢂFRP҅տํᖫᬋ &nbsp;</span></div>
					<div class="stl_01" style="top:31.7777em; left:4.75em;"><span class="stl_919 stl_09 stl_10">౲</span></div>
					<div class="stl_01" style="top:31.7777em; left:5.75em;"><div dir="ltr" class="stl_919 stl_09 stl_10" style="display:inline;">֢</div><span class="stl_919 stl_09 stl_10">ᦲᘏܐ</span><div dir="ltr" class="stl_919 stl_09 stl_10" style="display:inline;">ۗ</div><span class="stl_919 stl_09 stl_10">ᒼወ̶Ԟ</span><div dir="ltr" class="stl_919 stl_09 stl_10" style="display:inline;">ݢ</div><span class="stl_919 stl_09 stl_10">ᦢᳯࢶᅎᐒ܄҅݇Ө๜ԡᦎᦞ̶ꢁꢁ &nbsp;</span></div>
					<div class="stl_01" style="top:34.6107em; left:4.75em;"><span class="stl_919 stl_09 stl_10">ইຎฎํ</span><div dir="ltr" class="stl_919 stl_09 stl_10" style="display:inline;">ى</div><span class="stl_919 stl_09 stl_10">ኪৼԡጱୌᦓ౲ᳯ᷌҅᧗ᘶᔮӫአਮ๐ᮒᓟꢃꢁ &nbsp;</span></div>
					<div class="stl_01" style="top:36.4437em; left:4.75em;"><span class="stl_919 stl_09 stl_10">HERRN#WXULQJERRNꢂFRP̶ꢁꢁ &nbsp;</span></div>
					<div class="stl_01" style="top:39.2767em; left:4.75em;"><span class="stl_919 stl_09 stl_10">ࣁ</span></div>
					<div class="stl_01" style="top:39.2767em; left:5.75em;"><span class="stl_919 stl_09 stl_10">ᬯ</span><div dir="ltr" class="stl_919 stl_09 stl_10" style="display:inline;">ݢ</div><span class="stl_919 stl_09 stl_10">զತ</span><div dir="ltr" class="stl_919 stl_09 stl_10" style="display:inline;">ک</div><span class="stl_919 stl_09 stl_10">౯ժꢃꢁꢁ &nbsp;</span></div>
					<div class="stl_01" style="top:42.1097em; left:4.75em;"><span class="stl_919 stl_09 stl_10">ஙܗꢁ#ࢶᅎරᙙꢁꢃꢁঅԡ̵ၚ</span><div dir="ltr" class="stl_919 stl_09 stl_10" style="display:inline;">ۖ</div><span class="stl_919 stl_09 stl_10">ྯ෭ඎಸ &nbsp;</span></div>
					<div class="stl_01" style="top:43.9427em; left:4.75em;"><span class="stl_919 stl_09 stl_10">ஙܗꢁ#ࢶᅎᐒ܄ꢁꢃꢁኪৼԡ޾অ෈ᒍጱၾ௳ &nbsp;</span></div>
					<div class="stl_01" style="top:45.8597em; left:4.75em;"><span class="stl_919 stl_09 stl_10">ஙܗꢁ#ࢶᅎෛᎣꢁꢃꢁࢶᅎරᙙጱᑀฦੜᕟ &nbsp;</span></div>
					<div class="stl_01" style="top:47.6927em; left:4.75em;"><span class="stl_919 stl_09 stl_10">ங</span><div dir="ltr" class="stl_919 stl_09 stl_10" style="display:inline;">מ</div><span class="stl_919 stl_09 stl_10">ꢁࢶᅎᦢ᧨ꢁꢃꢁLWXULQJBLQWHUYLHZ҅ᦖᬿᎱ</span><div dir="ltr" class="stl_919 stl_09 stl_10" style="display:inline;">١</div><span class="stl_919 stl_09 stl_10">ᔜ୸Ոኞ &nbsp;</span></div>
					<div class="stl_01" style="top:49.5257em; left:4.75em;"><span class="stl_919 stl_09 stl_10">ங</span><div dir="ltr" class="stl_919 stl_09 stl_10" style="display:inline;">מ</div><span class="stl_919 stl_09 stl_10">ꢁࢶᅎරᙙꢁꢃꢁWXULQJERRNVꢁ &nbsp;</span></div>
				</div>
			</div>
		</div>
	</body>
</html>